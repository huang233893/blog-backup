---
title: 静态路由+思科系统操作
summary: >-
  酥米小机器人来啦，这篇文章介绍了静态路由的基本概念，它是网络管理员手动配置的路由方法，路径固定不变且依赖手动更新，适用于拓扑简单的中小型网络环境，主要特点是永久存在于路由表中、默认不可通告给其他路由器、可能因单向性需配置回程路由，以及递归性可能导致下一跳计算问题；此外描述了静态路由的配置命令如ip
  route，故障排查工具如ping和show ip
  route；内容还包括思科系统组件，如CPU执行指令、RAM存储临时数据、ROM保存bootstr软件、FLASH存储Cisco
  IOS；路由器启动过程包括Power-On self
  Test、加载IOS和配置文件；以及通过控制台或Telnet访问CLI的操作，涉及用户模式、特权模式、全局配置模式和线路模式等基本命令示例。
categories:
  - 思科
tags:
  - 网络
  - CCNA
cover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png
date: 2024-10-17 15:01:46
---

# 静态路由部分
## 简介
路由是指从源主机到目的主机的转发过程

## 路由器的工作内容
+ 路由器知道目标地址
+ 发现到达目标地址的可能的路由
+ 选择最佳路径（路由表）
+ 维护路由信息

## 主要特点
静态路由需要管理员根据实际需要一条条自己手动配置，路由器不会自动生成所需的静态路由的。静态路由中包括目标节点或目标网络的IP地址，还可以包括下一跳IP地址（通常是下一个路由器与本地路由器连接的接口IP地址），以及在本路由器上使用该静态路由时的数据包出接口等。

### 路由路径相对固定
因为静态路由是手动配置的，静态的，所以每个配置的静态路由在本地路由器上的路径基本上是不变的，除非由管理员自己修改。另外，当网络的拓扑结构或链路的状态发生变化时，这些静态路由也不能自动修改，需要网络管理员需要手工去修改路由表中相关的静态路由信息。

### 永久存在
也因为静态路由是由管理员手工创建的，所以一旦创建完成，它会永久在路由表中存在的，除非管理员自己删除了它，或者静态路由中指定的出接口关闭，或者下一跳IP地址不可达。

### 不可通告性
静态路由信息在默认情况下是私有的，不会通告给其它路由器，也就是当在一个路由器上配置了某条静态路由时，它不会被通告到网络中相连的其它路由器上。但网络管理员还是可以通过重发布静态路由为其它动态路由，使得网络中其它路由器也可获此静态路由。

### 单向性
静态路由是具有单向性的，也就是它仅为数据提供沿着下一跳的方向进行路由，不提供反向路由。所以如果你想要使源节点与目标节点或网络进行双向通信，就必须同时配置回程静态路由。

### 递归性
静态路由没有建立邻接关系的Hello包，静态路由也不会被通告邻居路由器，所以它的下一跳是路径中其它路由器中的任一一个接口，只是能保证到达下一跳就行了。这就是静态路由的“递归性”。

### 适用于小型网络
静态路由一般适用于比较简单的小型网络环境，因为在这样的环境中，网络管理员易于清楚地了解网络的拓扑结构，便于设置正确的路由信息。同时小型网络所需配置的静态路由条目不会太多。如果网络规模较大，拓扑结构比较复杂，则不宜采用静态路由，因为这样的配置工作量实在太大。

### 协议
+ 被动路由协议（Routed protocols）：用来在路由器之间传递用户的信息
+ 主动路由协议（Routing protocols）：用于维护路由器的路由表

### 路由的来源
+ 直连路由-直接连接到路由器上的网络
+ 静态路由-管理员手工构建路由器表
+ 动态路由-路由器之间动态学习到的路由表

### 静态路由的配置
```plain
R1(config)# ip route network-address subnet-mask {ip-add|exit-interface}
```
### 故障排查
+ Ping-测试连通性
+ Traceroute-追踪两段中的每一跳
+ Show IP route-用于显示路由表
+ Show IP interface brief-接口信息摘要
+ show cdp neighbors detail-用于收集毗邻信息

# 思科系统操作
## 路由器组件
![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png)

### 路由器的组成及功能
+ CPU-执行操作系统的指令
+ 随机访问存储器（RAM）-RAM中的内容断电丢失
    - 运行操作系统
    - 运行配置文件
    - IP路由表
    - ARP 缓存
    - 数据包缓冲区
+ 制度存储器（ROM）
    - bootstrap指令
    - 基本的自检软件
    - 迷你版IOS
+ 非易失RAM（NVRAM）
    - 存储启动配置
+ 运存（FLASH）
    - 运行操作系统（Cisco IOS）
+ Interfaces
    - 拥有多种物理接口用于连接网络接口类型举例

### 路由器启动多个主要步骤
+ 检测路由器硬件
    - Power-On self Test（POST）
    - 执行bootstrap
+ 定位加载Cisco IOS软件
    - 定位IOS
    - 加载IOS
+ 定位加载启动配置文件或进入配置模式
    - 启动程序搜寻配置文件

### 访问CLI的方法
![](https://img.picgo.net/2024/11/19/imageeff692d72ed7c5bb.md.png)

+ 控制台
+ Telnet或者SSH
+ 辅助端口

### 使用CLI的帮助
+ 命令提示及补全
+ 命令语法检查
+ 热键和快捷方式

## Cisco IOS主要模式
![](https://img.picgo.net/2024/11/19/image3e21dadccda03905.md.png)

+ 用户执行模式 ">"
+ 特权执行模式 "#"
+ 全局配置模式
+ 其他特定配置模式

### 全局配置模式
+ 从全局配置模式可进入多种不同的配置模式。其中每种模式可以用于配置IOS设备的特定部分或特定功能。下表列出了这些模式中的一小部分

### 接口模式
+ 用于配置一个网络接口（Fa0/0、s0/0/0等）

### 线路模式
+ 用于配置一条线路（实际线路或者虚拟线路）（例如控制台、aux或vty等等）

### 路由配置模式
+ 用于配置一个路由选择协议进程的相关参数

## 模式的切换
![](https://img.picgo.net/2024/11/19/image72ccdef2cf22f781.md.png)

### 基础指令
```plain
Router(config)# hostname device-name #配置设备名称
```

```plain
Router(config)# line console 0
Router(config-line)# password password 
Router(config)# login
```

```plain
Router(config)# enable password password
Router(config)# enable secret password
```

```plain
Router(config)# line vty 0 4
Router(config-line)# password password 
Router(config)# login
```

```plain
R1# write
R1# copy running-config startup-config
```

```plain
R1# erase startup-config
R1# delete flash:config.text
```