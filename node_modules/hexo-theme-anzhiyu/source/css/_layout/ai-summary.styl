// ===================
// ğŸŒ— ä¸»é¢˜å˜é‡å®šä¹‰ï¼ˆè¡¥å……MacOSçª—å£å˜é‡ï¼‰
// ===================

:root
  // ai_summary
  --liushen-title-font-color: #000000ff
  --liushen-maskbg: rgba(255, 255, 255, 0.85)
  --liushen-ai-bg: conic-gradient(from 1.5708rad at 50% 50%, #d6b300 0%, #42A2FF 54%, #d6b300 100%)

  // card èƒŒæ™¯
  --liushen-card-secondbg: #f1f3f8

  // text
  --liushen-text: #3b3636ff
  --liushen-secondtext: #3b3636ff

  // MacOSçª—å£å˜é‡
  --mac-red: #ff5f58;
  --mac-yellow: #ffbd2e;
  --mac-green: #14c143;
  --mac-titlebar-height: 32px;
  --mac-control-size: 14px;

[data-theme='dark']
  // ai_summary
  --liushen-title-font-color: #ffffffff
  --liushen-maskbg: rgba(41, 37, 37, 0.85)
  --liushen-ai-bg: conic-gradient(from 1.5708rad at 50% 50%, rgba(214, 178, 0, 0.46) 0%, rgba(66, 161, 255, 0.53) 54%, rgba(214, 178, 0, 0.49) 100%)

  // card èƒŒæ™¯
  --liushen-card-secondbg: #3e3f41

  // text
  --liushen-text: #ffffffb3
  --liushen-secondtext: #ffffffff


// ===================
// ğŸ“˜ AI æ‘˜è¦æ¨¡å—æ ·å¼ï¼ˆMacOSé£æ ¼ï¼‰
// ===================

if hexo-config('ai_summary.enable')
  .ai-summary
    background-color var(--liushen-maskbg)
    background var(--liushen-card-secondbg)
    border-radius 12px 12px 8px 8px  // è°ƒæ•´åœ†è§’ä¸ºMacé£æ ¼ï¼ˆä¸Šå®½ä¸‹çª„ï¼‰
    padding 0  // ç§»é™¤é»˜è®¤å†…è¾¹è·ï¼Œç”±å­å…ƒç´ æ§åˆ¶
    line-height 1.3
    flex-direction column
    margin-bottom 16px
    display flex
    gap 0  // å–æ¶ˆé—´éš™ï¼Œé¿å…æ ‡é¢˜æ ä¸å†…å®¹åˆ†ç¦»
    position relative
    box-shadow 0 4px 15px rgba(0, 0, 0, 0.1)  // æ·»åŠ Macé£æ ¼é˜´å½±

    &::before
      content ''
      position absolute
      top 0
      left 0
      width 100%
      height 100%
      z-index 1
      filter blur(8px)
      opacity .4
      background-image var(--liushen-ai-bg)
      transform scaleX(1) scaleY(.95) translateY(2px)
    
    &::after
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      border-radius: 12px 12px 8px 8px;  // åŒæ­¥è°ƒæ•´ä¼ªå…ƒç´ åœ†è§’
      background: var(--liushen-maskbg);

    // Macçª—å£æ ‡é¢˜æ æ ·å¼
    .mac-titlebar
      height: var(--mac-titlebar-height)
      width: 100%
      background: rgba(255, 255, 255, 0.05)  // æ ‡é¢˜æ èƒŒæ™¯
      padding: 0 16px
      display: flex
      align-items: center
      gap: 12px
      cursor: default
      z-index: 10
      border-bottom: 1px solid rgba(0, 0, 0, 0.05)  // åˆ†éš”çº¿

      // çº¢ç»¿ç¯æ§åˆ¶æŒ‰é’®
      .window-controls
        display: flex
        gap: 8px
        margin-right: 8px  // ä¸æ ‡é¢˜ä¿æŒè·ç¦»

        .control-btn
          width: var(--mac-control-size)
          height: var(--mac-control-size)
          border-radius: 50%
          transition: transform 0.15s ease

          &:hover
            transform: scale(1.1)

          &.close
            background: var(--mac-red)

          &.minimize
            background: var(--mac-yellow)

          &.maximize
            background: var(--mac-green)

      // è°ƒæ•´æ ‡é¢˜æ ·å¼ï¼ˆç§»å…¥æ ‡é¢˜æ åï¼‰
      .ai-title
        padding: 0
        flex: 1  // å æ»¡å‰©ä½™ç©ºé—´
        height: 100%  // ä¸æ ‡é¢˜æ åŒé«˜
        border-radius: 0  // å–æ¶ˆåŸæœ‰åœ†è§’

    .ai-explanation
      z-index 10
      padding: 12px 16px 16px 16px  // è°ƒæ•´å†…è¾¹è·ï¼Œä¸æ ‡é¢˜æ å¯¹é½
      font-size 15px
      line-height 1.4
      color var(--liushen-text)
      text-align justify

      &::after
        content ''
        display inline-block
        width 8px
        height 2px
        margin-left 2px
        background var(--liushen-text)
        vertical-align bottom
        animation blink-underline 1s ease-in-out infinite
        transition all .3s
        position relative
        bottom 3px

    .ai-title-left
      display flex
      align-items center
      color var(--liushen-title-font-color)

      i
        margin-right 6px  // å¢åŠ å›¾æ ‡ä¸æ–‡å­—é—´è·
        display flex
        color var(--liushen-title-font-color)
        border-radius 20px
        justify-content center
        align-items center

      .ai-title-text
        font-weight 500
        font-size: 14px  // è°ƒæ•´ä¸ºMacæ ‡é¢˜å­—ä½“å¤§å°

    .ai-tag
      color var(--liushen-secondtext)
      font-weight 300
      margin-left auto
      display flex
      align-items center
      justify-content center
      transition .3s
      font-size: 12px  // ç¼©å°æ ‡ç­¾å­—ä½“
      padding: 2px 8px
      border-radius: 4px
      background: rgba(0, 0, 0, 0.05)  // å¢åŠ æ ‡ç­¾èƒŒæ™¯

  @keyframes blink-underline
    0%, 100%
      opacity 1
    50%
      opacity 0