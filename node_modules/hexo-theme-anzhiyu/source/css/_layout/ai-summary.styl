// ===================
// ğŸŒ— ä¸»é¢˜å˜é‡å®šä¹‰ï¼ˆé»˜è®¤é»‘è‰² + å…¼å®¹äº®è‰²ï¼‰
// ===================

:root {
  /* é»˜è®¤é»‘è‰²æ¨¡å¼å˜é‡ */
  --titlebar-bg: #1a1a1a; /* æ ‡é¢˜æ èƒŒæ™¯ï¼ˆæ·±é»‘ï¼‰ */
  --titlebar-border: rgba(255, 255, 255, 0.08); /* æ ‡é¢˜æ è¾¹æ¡†ï¼ˆæµ…ç°é€æ˜ï¼‰ */
  --content-bg: #222222; /* å†…å®¹åŒºèƒŒæ™¯ï¼ˆæ·±ç°ï¼‰ */
  --title-text: #ffffff; /* æ ‡é¢˜æ–‡å­—ï¼ˆçº¯ç™½ï¼‰ */
  --content-text: #e0e0e0cc; /* å†…å®¹æ–‡å­—ï¼ˆæµ…ç°åŠé€ï¼‰ */
  --tag-bg: #ffcc002a; /* æ ‡ç­¾èƒŒæ™¯ï¼ˆæµ…é»„é€æ˜ï¼‰ */
  --tag-text: #ff7f00; /* æ ‡ç­¾æ–‡å­—ï¼ˆæš–é»„ï¼‰ */
  --window-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); /* çª—å£é˜´å½±ï¼ˆæ·±è‰²ï¼‰ */
}

/* äº®è‰²æ¨¡å¼å˜é‡ï¼ˆè¡¥å……å®šä¹‰ï¼Œè§£å†³æ˜¾ç¤ºé—®é¢˜ï¼‰ */
[data-theme='light'] {
  --titlebar-bg: #f5f5f7; /* æ ‡é¢˜æ èƒŒæ™¯ï¼ˆæµ…ç°ï¼ŒåŒ¹é…Macäº®è‰²ï¼‰ */
  --titlebar-border: rgba(0, 0, 0, 0.08); /* æ ‡é¢˜æ è¾¹æ¡†ï¼ˆæ·±ç°é€æ˜ï¼‰ */
  --content-bg: #ffffff; /* å†…å®¹åŒºèƒŒæ™¯ï¼ˆçº¯ç™½ï¼‰ */
  --title-text: #1d1d1f; /* æ ‡é¢˜æ–‡å­—ï¼ˆæ·±ç°ï¼‰ */
  --content-text: #3a3a3c; /* å†…å®¹æ–‡å­—ï¼ˆä¸­ç°ï¼‰ */
  --tag-bg: #4285f41a; /* æ ‡ç­¾èƒŒæ™¯ï¼ˆæµ…è“é€æ˜ï¼‰ */
  --tag-text: #ff7f00; 
  --window-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); /* çª—å£é˜´å½±ï¼ˆæµ…è‰²ï¼‰ */
}

/* é€šç”¨å˜é‡ï¼ˆä¸¤ç§æ¨¡å¼å…±ç”¨ï¼‰ */
:root, [data-theme='light'] {
  --mac-red: #ff5f58;
  --mac-yellow: #ff7f00;
  --mac-green: #14c143;
  --mac-title-font: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, sans-serif;
  --mac-title-height: 34px;
  --mac-control-size: 14px;
  --border-radius: 12px 12px 8px 8px; /* ç»Ÿä¸€çª—å£åœ†è§’ */
}


// ===================
// ğŸ“˜ AI æ‘˜è¦æ¨¡å—æ ·å¼ï¼ˆå…¼å®¹äº®è‰²æ¨¡å¼ï¼‰
// ===================

if hexo-config('ai_summary.enable') {
  .ai-summary {
    background: var(--content-bg); /* å†…å®¹åŒºèƒŒæ™¯ï¼ˆå…³è”ä¸»é¢˜å˜é‡ï¼‰ */
    border-radius: var(--border-radius);
    padding: 0;
    margin-bottom: 24px;
    display: flex;
    flex-direction: column;
    position: relative;
    box-shadow: var(--window-shadow); /* é˜´å½±éšä¸»é¢˜å˜åŒ– */
    overflow: hidden;

    // æ ‡é¢˜æ æ ·å¼ï¼ˆæ ¸å¿ƒä¿®å¤ï¼šå…³è”ä¸»é¢˜å˜é‡ï¼‰
    .mac-titlebar {
      height: var(--mac-title-height);
      width: 100%;
      background: var(--titlebar-bg); /* æ ‡é¢˜æ èƒŒæ™¯éšä¸»é¢˜å˜åŒ– */
      padding: 0 18px;
      display: flex;
      align-items: center;
      gap: 14px;
      cursor: default;
      z-index: 10;
      border-bottom: 1px solid var(--titlebar-border); /* è¾¹æ¡†éšä¸»é¢˜å˜åŒ– */
      backdrop-filter: blur(4px);
    }

    // çº¢ç»¿ç¯æŒ‰é’®ï¼ˆä¸¤ç§æ¨¡å¼ä¸‹éƒ½æ¸…æ™°ï¼‰
    .window-controls {
      display: flex;
      gap: 8px;
      margin-right: 4px;

      .control-btn {
        width: var(--mac-control-size);
        height: var(--mac-control-size);
        border-radius: 50%;
        transition: all 0.15s ease;
        position: relative;

        &::after {
          content: '';
          position: absolute;
          top: 1px;
          left: 1px;
          width: 4px;
          height: 4px;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.2);
        }

        &:hover {
          transform: scale(1.05);
          box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);
        }

        &.close { background: var(--mac-red); }
        &.minimize { background: var(--mac-yellow); }
        &.maximize { background: var(--mac-green); }
      }
    }

    // æ ‡é¢˜æ–‡æœ¬ï¼ˆéšä¸»é¢˜å˜è‰²ï¼‰
    .ai-title {
      padding: 0;
      flex: 1;
      height: 100%;
      display: flex;
      align-items: center;
      font-family: var(--mac-title-font);

      .ai-title-left {
        display: flex;
        align-items: center;
        color: var(--title-text); /* æ ‡é¢˜æ–‡å­—è‰²éšä¸»é¢˜å˜åŒ– */

        i.fa-brands.fa-slack {
          margin-right: 8px;
          font-size: 16px;
          color: var(--title-text); /* å›¾æ ‡é¢œè‰²éšä¸»é¢˜å˜åŒ– */
          opacity: 0.85;
        }

        .ai-title-text {
          font-size: 15px;
          font-weight: 500;
          letter-spacing: 0.2px;
        }
      }

      // æ ‡ç­¾æ ·å¼ï¼ˆéšä¸»é¢˜å˜è‰²ï¼‰
      .ai-tag#ai-tag {
        color: var(--tag-text); /* æ ‡ç­¾æ–‡å­—è‰²éšä¸»é¢˜å˜åŒ– */
        font-family: var(--mac-title-font);
        font-size: 12px;
        font-weight: 400;
        padding: 3px 10px;
        border-radius: 12px;
        background: var(--tag-bg); /* æ ‡ç­¾èƒŒæ™¯éšä¸»é¢˜å˜åŒ– */
        margin-left: auto;
        transition: all 0.2s ease;

        &:hover {
          transform: translateY(-1px);
          opacity: 0.9;
        }
      }
    }

    // å†…å®¹åŒºæ ·å¼ï¼ˆéšä¸»é¢˜å˜è‰²ï¼‰
    .ai-explanation {
      z-index: 10;
      padding: 16px 18px;
      font-size: 15px;
      line-height: 1.6;
      color: var(--content-text); /* å†…å®¹æ–‡å­—è‰²éšä¸»é¢˜å˜åŒ– */
      text-align: justify;
      font-family: var(--mac-title-font);
    }
  }

  // æ‰“å­—æœºå…‰æ ‡åŠ¨ç”»ï¼ˆéšå†…å®¹æ–‡å­—è‰²å˜åŒ–ï¼‰
  @keyframes blink-underline {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
  .ai-explanation::after {
    content: '';
    display: inline-block;
    width: 8px;
    height: 2px;
    margin-left: 2px;
    background: var(--content-text); /* å…‰æ ‡é¢œè‰²éšå†…å®¹æ–‡å­—å˜åŒ– */
    vertical-align: bottom;
    animation: blink-underline 1s ease-in-out infinite;
    position: relative;
    bottom: 3px;
  }
}