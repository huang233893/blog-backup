// ===================
// ğŸŒ— ä¸»é¢˜å˜é‡å®šä¹‰ï¼ˆä»…ä½¿ç”¨é¡¹ï¼‰
// ===================

:root
  // ai_summary
  --liushen-title-font-color: #000000ff
  --liushen-maskbg: rgba(255, 255, 255, 0.85)
  --liushen-ai-bg: conic-gradient(from 1.5708rad at 50% 50%, #d6b300 0%, #42A2FF 54%, #d6b300 100%)
  --liushen-shadow: 0 8px 24px rgba(0, 0, 0, 0.12)  // æ–°å¢çª—å£é˜´å½±å˜é‡

  // card èƒŒæ™¯
  --liushen-card-secondbg: #f1f3f8

  // text
  --liushen-text: #3b3636ff
  --liushen-secondtext: #3b3636ff

[data-theme='dark']
  // ai_summary
  --liushen-title-font-color: #ffffffff
  --liushen-maskbg: rgba(41, 37, 37, 0.85)
  --liushen-ai-bg: conic-gradient(from 1.5708rad at 50% 50%, rgba(214, 178, 0, 0.46) 0%, rgba(66, 161, 255, 0.53) 54%, rgba(214, 178, 0, 0.49) 100%)
  --liushen-shadow: 0 8px 24px rgba(0, 0, 0, 0.3)  // æ·±è‰²æ¨¡å¼é˜´å½±å˜é‡

  // card èƒŒæ™¯
  --liushen-card-secondbg: #3e3f41

  // text
  --liushen-text: #ffffffb3
  --liushen-secondtext: #ffffffff

// ===================
// ğŸ“˜ AI æ‘˜è¦æ¨¡å—æ ·å¼
// ===================

if hexo-config('ai_summary.enable')
  .ai-summary
    // ä¿®å¤èƒŒæ™¯å†²çªï¼Œä¿ç•™ä¸»è¦èƒŒæ™¯è®¾ç½®
    background: var(--liushen-card-secondbg)
    border-radius: 16px 16px 12px 12px  // ä¼˜åŒ–åœ†è§’æ¯”ä¾‹
    padding: 12px 8px 12px 8px
    line-height: 1.3
    flex-direction: column
    margin-bottom: 20px
    display: flex
    gap: 5px
    position: relative
    // æ–°å¢çª—å£é˜´å½±
    box-shadow: var(--liushen-shadow)
    // è§£å†³æ¨¡ç³Šæº¢å‡ºé—®é¢˜
    overflow: hidden

    &::before
      content: ''
      position: absolute
      top: -20px
      left: -20px
      width: calc(100% + 40px)  // æ‰©å¤§æ¨¡ç³ŠèŒƒå›´é¿å…è¾¹ç¼˜ç”Ÿç¡¬
      height: calc(100% + 40px)
      z-index: 1
      filter: blur(12px)  // ä¼˜åŒ–æ¨¡ç³Šç¨‹åº¦
      opacity: .35
      background-image: var(--liushen-ai-bg)
      transform: scaleX(1.05) scaleY(1.05)  // è°ƒæ•´ç¼©æ”¾æ¯”ä¾‹

    &::after
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      border-radius: 16px 16px 12px 12px;  // ä¸å®¹å™¨åœ†è§’ä¸€è‡´
      background: var(--liushen-maskbg);

    .ai-explanation
      z-index: 10
      padding: 8px 16px 12px 16px  // ä¼˜åŒ–å†…è¾¹è·
      font-size: 15px
      line-height: 1.4
      color: var(--liushen-text)
      text-align: justify

      &::after
        content: ''
        display: inline-block
        width: 8px
        height: 2px
        margin-left: 2px
        background: var(--liushen-text)
        vertical-align: bottom
        animation: blink-underline 1s ease-in-out infinite
        transition: all .3s
        position: relative
        bottom: 3px

    .ai-title
      z-index: 10
      font-size: 15px
      display: flex
      border-radius: 10px 10px 0 0  // æ ‡é¢˜åŒºåŸŸåœ†è§’ä¼˜åŒ–
      align-items: center
      position: relative
      padding: 6px 16px 8px 16px  // æ ‡é¢˜å†…è¾¹è·è°ƒæ•´
      cursor: default
      user-select: none
      // æ ‡é¢˜åŒºåŸŸè½»å¾®é«˜äº®
      background: rgba(255,255,255,0.1)

      .ai-title-left
        display: flex
        align-items: center
        color: var(--liushen-title-font-color)

        i
          margin-right: 3px
          display: flex
          color: var(--liushen-title-font-color)
          border-radius: 20px
          justify-content: center
          align-items: center

        .ai-title-text
          font-weight: 500

      .ai-tag
        color: var(--liushen-secondtext)
        font-weight: 300
        margin-left: auto
        display: flex
        align-items: center
        justify-content: center
        transition: .3s

  @keyframes blink-underline
    0%, 100%
      opacity: 1
    50%
      opacity: 0