{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"source/BingSiteAuth.xml","path":"BingSiteAuth.xml","modified":1,"renderable":0},{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/README.MD","path":"README.MD","modified":1,"renderable":0},{"_id":"source/custom/css/atom.xsl","path":"custom/css/atom.xsl","modified":1,"renderable":0},{"_id":"source/custom/css/rss2.xsl","path":"custom/css/rss2.xsl","modified":1,"renderable":0},{"_id":"source/custom/fonts/MiSans-Normal.woff2","path":"custom/fonts/MiSans-Normal.woff2","modified":1,"renderable":0},{"_id":"node_modules/hexo-theme-anzhiyu/source/Thumbs.db","path":"Thumbs.db","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/favicon.ico","path":"favicon.ico","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/index.styl","path":"css/index.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/var.styl","path":"css/var.styl","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/404.jpg","path":"img/404.jpg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/512.png","path":"img/512.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/Thumbs.db","path":"img/Thumbs.db","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/comment_bg.png","path":"img/comment_bg.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/default_cover.jpg","path":"img/default_cover.jpg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/favicon.ico","path":"img/favicon.ico","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/police_beian.png","path":"img/police_beian.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/user.jpg","path":"img/user.jpg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/qc.jpg","path":"img/qc.jpg","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/echarts.min.js","path":"js/echarts.min.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/tw_cn.js","path":"js/tw_cn.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/LICENSE","path":"live2d-widget-master/LICENSE","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/README.en.md","path":"live2d-widget-master/README.en.md","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/README.md","path":"live2d-widget-master/README.md","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/autoload.js","path":"live2d-widget-master/autoload.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/live2d.min.js","path":"live2d-widget-master/live2d.min.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/package.json","path":"live2d-widget-master/package.json","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/rollup.config.js","path":"live2d-widget-master/rollup.config.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/waifu-tips.js","path":"live2d-widget-master/waifu-tips.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/waifu-tips.json","path":"live2d-widget-master/waifu-tips.json","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/waifu.css","path":"live2d-widget-master/waifu.css","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/16.png","path":"img/siteicon/16.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/32.png","path":"img/siteicon/32.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/Thumbs.db","path":"img/siteicon/Thumbs.db","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/apple-icon-180.png","path":"img/siteicon/apple-icon-180.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/manifest-icon-192.maskable.png","path":"img/siteicon/manifest-icon-192.maskable.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/manifest-icon-512.maskable.png","path":"img/siteicon/manifest-icon-512.maskable.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/ai_abstract.js","path":"js/anzhiyu/ai_abstract.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/comment_barrage.js","path":"js/anzhiyu/comment_barrage.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/people.js","path":"js/anzhiyu/people.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/random_friends_post.js","path":"js/anzhiyu/random_friends_post.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/right_click_menu.js","path":"js/anzhiyu/right_click_menu.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/search/algolia.js","path":"js/search/algolia.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/assets/screenshot-1.png","path":"live2d-widget-master/assets/screenshot-1.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/assets/screenshot-2.png","path":"live2d-widget-master/assets/screenshot-2.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/assets/screenshot-3.png","path":"live2d-widget-master/assets/screenshot-3.png","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/demo/demo.html","path":"live2d-widget-master/demo/demo.html","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/demo/login.html","path":"live2d-widget-master/demo/login.html","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/index.js","path":"live2d-widget-master/src/index.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/message.js","path":"live2d-widget-master/src/message.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/model.js","path":"live2d-widget-master/src/model.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/tools.js","path":"live2d-widget-master/src/tools.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/utils.js","path":"live2d-widget-master/src/utils.js","modified":1,"renderable":1},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/waifu-tips.js","path":"live2d-widget-master/src/waifu-tips.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/README.MD","hash":"515f11a49cca39abaccf852c7aba4a357f4a1f65","modified":1760092342260},{"_id":"source/BingSiteAuth.xml","hash":"829b330d831480cd7738bff66a2f05c4282b5479","modified":1756442346276},{"_id":"source/CNAME","hash":"89538f35c60156e321019b536d78b89d33e9649f","modified":1754034857513},{"_id":"source/baidu_verify_codeva-601VbOsahz.html","hash":"e76add1698f4d509fd73df343e5aab9c044ed8a1","modified":1756441008494},{"_id":"source/flink_count.json","hash":"f1f1a42f53a163f88776997c4496f09a156e2621","modified":1760669469874},{"_id":"source/manifest.json","hash":"b087d2414e4177fd7512e35322192b9dd2399006","modified":1760270089927},{"_id":"source/sw-rules.js","hash":"33a498b612b0f811d9bde847c981869286c8e0ca","modified":1756346107325},{"_id":"source/Fun/index.md","hash":"4489f93b96eee10a8d0f0a41043db6fbe4a3a46d","modified":1759766691607},{"_id":"source/_data/about.yml","hash":"afd689e38e4d1e369df21d764866d6c5033b6799","modified":1760590289414},{"_id":"source/_data/album.yml","hash":"387c0fd2b73c3aa2ad8a275db9c2ba0746b0bef5","modified":1760017224834},{"_id":"source/_data/bangumis.json","hash":"f2344c81b2d0e2fb3d06e4c73a8536e5d567d3e6","modified":1756441125193},{"_id":"source/_data/collect.yml","hash":"5cc58b229102b40ecc68f57d75aed52f0baa71ef","modified":1759922798675},{"_id":"source/_data/creativity.yml","hash":"49ae386c029656e2111292a70cdd73a7fc4e2d9e","modified":1754129773005},{"_id":"source/_data/equipment.yml","hash":"cae19920e10aa8c6731e08450c06a5807ee37fee","modified":1755676487377},{"_id":"source/_data/essay.yml","hash":"af36ff646f807cdee4148708d4b382fdd5149099","modified":1760372088752},{"_id":"source/_data/link.yml","hash":"d4fc2bc5fad31063063b64365ee8379e9892f0eb","modified":1760620664620},{"_id":"source/_data/widget.yml","hash":"764178f755c6dec3f398ef3f3b23cbadd01b6b6a","modified":1759075997982},{"_id":"source/about/index.md","hash":"bf08ecd01cadbc0953fe16dea66d7654ef89f1e9","modified":1760583435313},{"_id":"source/air-conditioner/index.md","hash":"f86807d33473d24c2a595cd18ac6c141083b999d","modified":1732104867090},{"_id":"source/aessecret/index.md","hash":"1fec051bb66015725afc618311c41e2032e71063","modified":1758882841265},{"_id":"source/album/index.md","hash":"209b7c8932337bc34584806932485fb1bd9b8a52","modified":1755794232334},{"_id":"source/categories/index.md","hash":"5b25237b830bd07829568ae3b23bf89f181502c7","modified":1732178405021},{"_id":"source/charts/index.md","hash":"9f1e6a37b606a4582c491408d77aa2579c6c43bc","modified":1760109375554},{"_id":"source/collect/index.md","hash":"d7e6782bd9e39f1c49cf576771420fa492f0efee","modified":1755678434638},{"_id":"source/cookies/index.md","hash":"2293c21024dd7d389613f8cb7d2eaccbfda3e6d1","modified":1755712000964},{"_id":"source/copyright/index.md","hash":"58cb624946bee05839f21d27d541e21e956cf83b","modified":1755711122755},{"_id":"source/dailyPhoto/index.md","hash":"17aeec4e4ee90cfc7ea177ab1bb7d78accdbd053","modified":1732069727162},{"_id":"source/equipment/index.md","hash":"b317ac1e1bd2c12624f78b63fe36c6c3b3aab77b","modified":1755794245968},{"_id":"source/essay/index.md","hash":"e77b12c2b15bb0637e96d42db1f989a2aa746968","modified":1755794257207},{"_id":"source/fcircle/index.md","hash":"3f9229b20ee00bdd3fa11e50bfcc54c1313fe025","modified":1758475091504},{"_id":"source/fish/index.md","hash":"c5be1ea211b7299d159eb239ca56ff09db6b5133","modified":1758881893921},{"_id":"source/game/index.md","hash":"626207b35aae294976ff78c5bb2af3cf4b02ee54","modified":1754210976110},{"_id":"source/json/music.json","hash":"33b44c171eab4db3670449adff8240a63d79aa68","modified":1732068684637},{"_id":"source/link/index.md","hash":"19fe6806d5a2e80bdb3294c99e4241037b417c1c","modified":1760590175567},{"_id":"source/lunar/index.md","hash":"4dc81ea2f36b61e7416bce258f8670fc79fc389b","modified":1758883268900},{"_id":"source/music/index.md","hash":"01c1c2b6d03bd7a61e72d203756f66d442874afe","modified":1732068651856},{"_id":"source/playlist/index.md","hash":"184b08c6f2751dba60741d8bde986a1163fc6083","modified":1732005584678},{"_id":"source/privacy/index.md","hash":"d810a3400a724f58a4776650efbdf3f62e8874ab","modified":1755713311418},{"_id":"source/tags/index.md","hash":"a1ef942ea2f16982ea4cbda51c9064bfb17aee8a","modified":1708082091000},{"_id":"source/update/index.md","hash":"9b84dae2260549f8081f482cf51036fc5705086a","modified":1760668423759},{"_id":"source/wallpaper/index.md","hash":"31d58d7c6fb7aa3a86fe244dd8a4f3be45e9e23b","modified":1732069755025},{"_id":"source/_posts/CCNA/DOD（TCP_IP）.md","hash":"67dbf7a4d9e4b166c589815d333568df4d1c6e31","modified":1754129772994},{"_id":"source/_posts/CCNA/ACL基础.md","hash":"427fe4826ca76ce8b434955f8036009869b9efe5","modified":1754129772996},{"_id":"source/_posts/CCNA/EIGRP基础.md","hash":"d2b79f2a4bca40e86d73a0da30ca18d109cfbf30","modified":1754129772992},{"_id":"source/_posts/CCNA/NAT基础.md","hash":"2bb7416f40886ec0a5ca23672e4cc77f617427ad","modified":1754129772990},{"_id":"source/_posts/CCNA/OSI基础.md","hash":"f340f07ad627d42cab3d12202c38c4dff84696af","modified":1754129772989},{"_id":"source/_posts/CCNA/OSPF基础.md","hash":"ed14ab3cf0123813bd1e981d2964ee36deb59bf2","modified":1754129772989},{"_id":"source/_posts/CCNA/RIP基础.md","hash":"ea84b6af8ec64bb42ab3a4b4baf10dcbb8d9be16","modified":1754129772986},{"_id":"source/_posts/CCNA/STP基础.md","hash":"9f06c667122bbdecdedbec4fc9dc3eeb315edeb2","modified":1754061033074},{"_id":"source/_posts/CCNA/Spanning Tree And More.md","hash":"279492a2cfeaf59545b1e88e89acf8414047e4b8","modified":1754061173845},{"_id":"source/_posts/CCNA/VLAN基础.md","hash":"5a2593090109bc7e12dee08f72e8743a8a5a6347","modified":1754061064477},{"_id":"source/_posts/CCNA/VLSM和子网划分基础.md","hash":"6d741aad0306c01ac2f3a818c0bebbeb6b4e9479","modified":1754196931418},{"_id":"source/_posts/CCNA/WAN广域网和PPP.md","hash":"894f1c2f78a3cac03140b1ca210a8ca707578d40","modified":1754196937048},{"_id":"source/_posts/CCNA/帧中继FrameDelay.md","hash":"3d3d1bf980c78dc92aec7d4cbfd3403a277c100a","modified":1754129772984},{"_id":"source/_posts/CCNA/静态路由+思科系统操作.md","hash":"52f68e2f6882c8724d08b5b7f70d28cc0e66dcc9","modified":1754129772984},{"_id":"source/_posts/CCNP/CCNP交换 DHCP协议详解及配置.md","hash":"4dbdf7c6ec3f6d5f848d997aafea0c2ea453c396","modified":1758450924786},{"_id":"source/_posts/CCNP/CCNP交换 EtherChannel.md","hash":"50a0c6ec260675a841cd4c05805bdc7ee21a362e","modified":1754128420249},{"_id":"source/_posts/CCNP/CCNP交换 HSRP VRRP GLBP.md","hash":"6cdd6441beb7ebfc42adc120f6c023adc3170428","modified":1754128425241},{"_id":"source/_posts/CCNP/CCNP交换 Lay2 Switching and VLAN.md","hash":"c1e7fe181de80f23dc60313a3271cc36916666d6","modified":1754129873224},{"_id":"source/_posts/CCNP/CCNP交换 Trunk VTP and pVLAN.md","hash":"f80ac691b93059e85199e9d10bfec7bd0ccba0bf","modified":1754129873082},{"_id":"source/_posts/CCNP/CCNP交换 VLAN间的路由及三层交换机的部署.md","hash":"9845bda41e5c6ba2bea55aad5ba255bdf74384fa","modified":1754147366545},{"_id":"source/_posts/CCNP/CCNP路由 EIGRP部分.md","hash":"c36f06b6037053ce3376217750274805e041c207","modified":1754061325291},{"_id":"source/_posts/CCNP/CCNP路由 BGP.md","hash":"7319ccd54a57035238d2246caf693e183cfc80c8","modified":1754061309947},{"_id":"source/_posts/CCNP/CCNP路由 OSPF和LSA部分.md","hash":"924b8b392fae482375f117eafc590627857edd8a","modified":1754122362929},{"_id":"source/_posts/CCNP/CCNP路由 路由和路径.md","hash":"2f9a7244a3ebc6342476477f40e168c11291ff73","modified":1754196947388},{"_id":"source/_posts/CCNP/CCNP路由 路由选择原理.md","hash":"8080d19656acd67c4910982191b0bc4edeb4e999","modified":1754128476598},{"_id":"source/_posts/Linux/Linux Bash Shell 脚本编写.md","hash":"43cbd6e921b6b97fd7c5011db25d325f84201815","modified":1758450879837},{"_id":"source/_posts/Linux/Linux RAID磁盘阵列.md","hash":"8a197216e1d61c5750d24cfee41a9b6ec9af13db","modified":1758450871838},{"_id":"source/_posts/Linux/Linux服务器基础.md","hash":"5a0820d8a76c008dd4bf121b8d7aa9a8a0e612b3","modified":1758450863857},{"_id":"source/_posts/Linux/Linux简介.md","hash":"8e2e5d7b788a0b81116b9bfc624c092ff90728f1","modified":1758450854395},{"_id":"source/_posts/Windows/win11dev.md","hash":"bd8d7e617cb154510a332ebef957909eb2cdaa98","modified":1758450890756},{"_id":"source/_posts/Windows/win11dev1.md","hash":"80b0895969afb6f61bc6c24db3e306d6dc2e2646","modified":1758450894498},{"_id":"source/_posts/Windows/win11dev2.md","hash":"5288693fbd1b7ef7b77c58e9ad19e8a18985df6b","modified":1758450897843},{"_id":"source/_posts/Windows/win11dev4.md","hash":"7b2977763a9ba227cdb78bda6e5acf9eccf9b3dd","modified":1760191339391},{"_id":"source/_posts/Windows/win11dev3.md","hash":"2cb5beac26a82a8dbdb92aad682caff5782d92ad","modified":1759255783286},{"_id":"source/_posts/eNSP/eNSP指令及基础.md","hash":"d1239a34bf79c23617615e2b53ff2ea70f640673","modified":1758450906522},{"_id":"source/_posts/其他/sumiblogappsup.md","hash":"6c2283e098053b4d79ea314ec8139a147a1297e5","modified":1760371994305},{"_id":"source/_posts/刷机/Agassi2-W09BHN.md","hash":"68cd04297f5b75e695b730a322631b08ab0560fe","modified":1758554561023},{"_id":"source/_posts/刷机/kiwi-downdate.md","hash":"493978a6eaee0447a784717f9947604fd85ab09f","modified":1758451006333},{"_id":"source/_posts/刷机/projecttreble.md","hash":"0d4bbb6ba506e81aaaf55e2687521fac2e76348c","modified":1758450994532},{"_id":"source/_posts/教程/MacOSXDP3install.md","hash":"9a341ca2458cbacd33373993823c14ad64b71394","modified":1758554412209},{"_id":"source/_posts/教程/blog2048plus.md","hash":"ad0a19eb46738c9ac8c9287e4b7269d655ca98f5","modified":1759767526309},{"_id":"source/_posts/教程/blogbackup.md","hash":"14acb25cc9fee3c942dd01b36ead1e77a1698757","modified":1760092152386},{"_id":"source/_posts/教程/blogelectronfish.md","hash":"b8551726f2ec0c9da576529b1bb140ee8649e033","modified":1758964577399},{"_id":"source/_posts/教程/blogflinkcountfix.md","hash":"ba5e6d4780f07cfff02121372de6c8977de7136b","modified":1758769286723},{"_id":"source/_posts/教程/dnscloudflare.md","hash":"580df304849257677d55f2ef8f67c720a92c0592","modified":1758554343085},{"_id":"source/_posts/教程/redmi2linux.md","hash":"064bdafaa69eb5b8f648298b1097e3f2f25e065f","modified":1758554512472},{"_id":"source/_posts/测试/hello-world.md","hash":"5fd161bbef30ebd9f6775900ee17f05954f0a924","modified":1760033084720},{"_id":"source/_posts/酥米的碎碎念/南沙游记.md","hash":"7208424aa0c0fdf6c8ed06ee2d7271f4baf2163a","modified":1759486847347},{"_id":"source/_posts/酥米的碎碎念/番禺市桥游记.md","hash":"04c0d37d39e15fad80707bcd2b8e9abfa883c8c7","modified":1759904418038},{"_id":"source/_posts/酥米的碎碎念/酥米的碎碎念1.md","hash":"c59e8c046771667e25a434ebde0b8aea53ced1a2","modified":1758450964720},{"_id":"source/_posts/酥米的碎碎念/酥米的碎碎念2.md","hash":"36baf9b632cc32e133ff930f29d3a4f8339338eb","modified":1758656909478},{"_id":"source/_posts/酥米的碎碎念/顺德容桂游记.md","hash":"f5bb4f64a00bacf165c95445d0391144051f5926","modified":1759684155611},{"_id":"source/custom/css/atom.xsl","hash":"529a4c142c391fcc4800fcbfe4df89532602c9a1","modified":1758623884764},{"_id":"source/custom/css/bilibili.css","hash":"1ef4ef0bedb56797c7cf21344648369943b81db5","modified":1755600594803},{"_id":"source/custom/css/flash.css","hash":"7bc623f22ea9a3bd3e863e413d80e7b8c9bb3857","modified":1758603834560},{"_id":"source/custom/css/flink.css","hash":"def161054c9a8ac24fbbb361f40704696fa1872c","modified":1758655393476},{"_id":"source/custom/css/font.css","hash":"3dcfa055222bfc72c51bccb82aea5ac6028277de","modified":1758454854820},{"_id":"source/custom/css/home.css","hash":"79db6eaa6e341a70a4313ef1d07af1b43190be37","modified":1758544601798},{"_id":"source/custom/css/loadbigimg.css","hash":"9f69634c8b20823e9cbee5997e1ac59f1b2caf9c","modified":1754202288978},{"_id":"source/custom/css/rss2.xsl","hash":"278ff4ff1189b966ecdadc092b6f30f71f72fab4","modified":1758623087409},{"_id":"source/custom/css/schedule.css","hash":"35afb35d902d77d5ea24605881a213569a7cec4a","modified":1754042105690},{"_id":"source/custom/css/userbanner.css","hash":"bdaf489138ffb84084691d12bfbba44c1ed0776b","modified":1758544605022},{"_id":"source/custom/css/welcome.css","hash":"e54d20b803c4dbaa74b14ddf271e5b981b7efe2a","modified":1754047680631},{"_id":"source/custom/js/chineselunar.js","hash":"08421caf0874ec43026dacef0b15922931f08c8c","modified":1754042165203},{"_id":"source/custom/js/ai.js","hash":"a51c9a1254ddc761ccb1df4c37350e57a184dce3","modified":1754055344697},{"_id":"source/custom/js/flink.js","hash":"96b3c8c007aad66d13ced48a1f651dad4c78510c","modified":1758655368371},{"_id":"source/custom/js/loadbigimg.js","hash":"84c8d79740d11ceb48a97dc27695a62a89c461ef","modified":1758263929630},{"_id":"source/custom/js/newpl.js","hash":"b1e494dbe7a83ae1659c3fc272afcf65443654ec","modified":1758264089761},{"_id":"source/custom/js/schedule.js","hash":"d13ffa9541d5c49e2e08683d31104874bb86e452","modified":1754198368722},{"_id":"source/custom/js/twikoo.json","hash":"c1bec9953808687d107798be303d488176989cd6","modified":1758850245497},{"_id":"source/custom/js/welcome.js","hash":"cf64b4c02a200e344178aac5b8cfb50cd51928d2","modified":1754047637838},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/home_top/random-banner.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1732061166757},{"_id":"node_modules/hexo-theme-anzhiyu/LICENSE","hash":"31a3d460bb3c7d98845187c716a30db81c44b615","modified":1732061166151},{"_id":"node_modules/hexo-theme-anzhiyu/README.md","hash":"46c4c8c308bd18c813da6b37356c7953f0d2e4af","modified":1732061166981},{"_id":"node_modules/hexo-theme-anzhiyu/README_EN.md","hash":"3b27231432adf2bd180857fc6d3de646dfd444bf","modified":1732061166977},{"_id":"node_modules/hexo-theme-anzhiyu/_config.yml","hash":"f644a0ec9c3d68e6a30bd4d1ef701a9c16f06ff0","modified":1760669445327},{"_id":"node_modules/hexo-theme-anzhiyu/package.json","hash":"b1bd6fd513cd4d1a98a904b37c6cd28296af7ee7","modified":1732061166969},{"_id":"node_modules/hexo-theme-anzhiyu/plugins.yml","hash":"23296290f36523e41926e22888f3d87b236dfbf0","modified":1732061167483},{"_id":"node_modules/hexo-theme-anzhiyu/sw-rules.js","hash":"0dc0fbe4d5e9acad4fffe69355830dcd41f89da6","modified":1732061166911},{"_id":"node_modules/hexo-theme-anzhiyu/languages/default.yml","hash":"be22c8d1730408a2ac3ec9a57406e297fc1f7ce6","modified":1732061167394},{"_id":"node_modules/hexo-theme-anzhiyu/languages/en.yml","hash":"4c46ef35360b8322269417bcae68e609ca8f85be","modified":1732061167396},{"_id":"node_modules/hexo-theme-anzhiyu/languages/zh-CN.yml","hash":"dbd5b387322693ed53df84eab709bf04ffeb8b81","modified":1732061167563},{"_id":"node_modules/hexo-theme-anzhiyu/languages/zh-TW.yml","hash":"0e0b432912390e3de9d99bc54add99e4d265d3d1","modified":1732061167565},{"_id":"node_modules/hexo-theme-anzhiyu/layout/archive.pug","hash":"b8778e55f1aab2431daa4a64cba991ef40e33224","modified":1732061167032},{"_id":"node_modules/hexo-theme-anzhiyu/layout/category.pug","hash":"1d55b22a50675d1ecfb95d031ea011245c7c6511","modified":1732061167065},{"_id":"node_modules/hexo-theme-anzhiyu/layout/index.pug","hash":"cf1b756e06864a47352bb9890519eafcf5d0340d","modified":1732061167103},{"_id":"node_modules/hexo-theme-anzhiyu/layout/page.pug","hash":"37cd5dc4a137c4b13025c9ca5328f7d725a8c9f0","modified":1755680038700},{"_id":"node_modules/hexo-theme-anzhiyu/layout/post.pug","hash":"9f3dbee21788892f99df419ca37d148395fe3b0b","modified":1754057078774},{"_id":"node_modules/hexo-theme-anzhiyu/layout/tag.pug","hash":"354b85519feab71c0233eb240655d0e0ec67021c","modified":1732061167146},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/injector.js","hash":"321f53de61f0d5fdc5dbeda6c4c9b42aa6ee07fd","modified":1731999875355},{"_id":"node_modules/hexo-theme-anzhiyu/source/Thumbs.db","hash":"e0df98a72e2e76e798f42a96c549107f2ad6eb18","modified":1758209120441},{"_id":"node_modules/hexo-theme-anzhiyu/source/favicon.ico","hash":"480621dddb48600e130806e4d48c50e25e474ff2","modified":1755774189451},{"_id":"node_modules/hexo-theme-anzhiyu/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"3978be1ecdd21be564aa590b17eda6f03cd77e19","modified":1732061167390},{"_id":"node_modules/hexo-theme-anzhiyu/.github/ISSUE_TEMPLATE/config.yml","hash":"a23b745378bc745b15f2dfefcc6a203d5d1d5fcd","modified":1732061167392},{"_id":"node_modules/hexo-theme-anzhiyu/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"53260c55a97ed93e6a1f9acc23b9d21193cae6ef","modified":1732061167398},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/issue_close_question.yml","hash":"a7f1bf4578faa6092898a9a44bfd467cbb1788dd","modified":1732061167399},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/issue_close_stale.yml","hash":"6151bdec23ded908adf01ba5ecdf3c0da573449d","modified":1732061167401},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/issue_duplicate.yml","hash":"42a8e022434604081fe443d416bd443efd887015","modified":1732061167403},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/issue_invalid.yml","hash":"8cdde230c8f9330cc7cd5c149ea5fc258ffb0b8b","modified":1732061167404},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/issue_question.yml","hash":"72ce6e36847f20952d8f8742e4fd1969cd086320","modified":1732061167405},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/issue_wontfix.yml","hash":"3b498c22281bb454f8ee1135a4becee0adc5b9ae","modified":1732061167407},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1732061167484},{"_id":"node_modules/hexo-theme-anzhiyu/.github/workflows/stale.yml","hash":"ac62b989b5550c756e1986fcc68f243170705383","modified":1732061167516},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/additional-js.pug","hash":"d7e42261a79651ce13ff2213947ecb3e4c41ee81","modified":1732061167013},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/404.pug","hash":"aa158d5a661aa2fab4737b9460ce34f6784fdee5","modified":1732061167007},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/bbTimeList.pug","hash":"0a0c4cdf69314c3a9ecb078f4213c76129a9ac06","modified":1732061167040},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/categoryGroup.pug","hash":"243f63820db5f3241e682ae8f3baffd6501df3de","modified":1732061167065},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/footer.pug","hash":"719e24259e1df8cfe37889bd196ac819ea5acbd8","modified":1759060686293},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head.pug","hash":"c7468ad9adad2cc40f7a93c659a47a9e582a60f3","modified":1754155765604},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/layout.pug","hash":"7768c0d1e320ece777c4b729266f499cef8a8bc3","modified":1758542413475},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/mourn.pug","hash":"d114b9493fbe6551b0c4ad1c1d8886b7f98a0d60","modified":1732061167112},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/music.pug","hash":"163f5bbeadbe481a809652e6ce453022db26694a","modified":1732061167113},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/pagination.pug","hash":"1e0be343f9bdc6cefc5ff0dd3c2936ed91d5be86","modified":1732061167118},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/rightside.pug","hash":"bad1c11f5cc86eb6e3d83d970e0fc53a000c8d5b","modified":1754042441220},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/shortcutKey.pug","hash":"dcf8fb7bbddd4a64626f4fcf2523ace2dfce879f","modified":1732061167141},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/sidebar.pug","hash":"fd6d7873df74994ed6a36bd07a438c427db97e18","modified":1732061167142},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/events/404.js","hash":"170e72e851257365468024557c767360c3deafbf","modified":1732061166805},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/events/cdn.js","hash":"39aaf1d4fed1382c85776581225747285b7b388c","modified":1732061166822},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/events/comment.js","hash":"a3d1f417965ca20253c36f9e93429f3df6268856","modified":1732061166825},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/events/init.js","hash":"006401bd6f4bb3fc8756e752d6ab93bf770bb77f","modified":1732061166837},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/events/merge_config.js","hash":"4bc10659ac9b483032a13bd3d7bce9094fd7c58b","modified":1732061166852},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/events/stylus.js","hash":"675eee74f9efcbc846b89eb9ba41f130a95310ee","modified":1732061166910},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/events/welcome.js","hash":"3177e070519a10fff904595e152a329115d22c61","modified":1732061166966},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/filters/post_lazyload.js","hash":"61f06b25c09434340e81c8c3dbbd1a0d58406652","modified":1732061166864},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/filters/random_cover.js","hash":"98275d777b3c388345de3ee8caf5d16900388925","modified":1732061166872},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/aside_archives.js","hash":"ca03ba2a0a7f2132ac5d3f66cb1bbd9e078aed3f","modified":1732061166813},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/aside_categories.js","hash":"19244d6a9e42c34b9df2250be2467c352fa5fd41","modified":1732061166815},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/catalog_list.js","hash":"aa38fd791d58df3fd518adf144578f160073d06e","modified":1732061166820},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/charts.js","hash":"1eddd3e7aff0626141b479cfac239f52a587a429","modified":1754145939700},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/findArchiveLength.js","hash":"d8aa1a4824ba6b0df911af563ae5fb361257a88a","modified":1732061166828},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/get_version.js","hash":"f2b7364706fc4d039da4a486e133baf7accf6836","modified":1732061166832},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/inject_head_js.js","hash":"847bc24452bc23dfc860b219588cfb2bff84cfbf","modified":1732061166838},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/random.js","hash":"d659d1d05c919d1abba2dc55439749e6e5b6e707","modified":1732061166890},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/related_post.js","hash":"c5f70efdbfd733f4dfec0ca8fe4aded0eec394cf","modified":1732061166898},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/sort_attr_post.js","hash":"6b6e9fb0d0dc38e8d7136dc7720c70f0c29619ab","modified":1732061166907},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/tags_page_list.js","hash":"35d71c025a3289be188371cc56320c563213c4af","modified":1732061166929},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/year.js","hash":"94f15ddba7d29cdcc4dd52ed6c35c9c29cc19d37","modified":1732061166967},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/Introduction-card.js","hash":"61a55f9b1f5f576e6900d2900cb42754575a4cb7","modified":1732061166840},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/bilibili.js","hash":"085e033cb359e8f109968748cedbd0079515e7c6","modified":1732061166818},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/btns.js","hash":"200e1ce72f335caa71dc8423f5c5e2aba1195b61","modified":1732061166819},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/helpers/page.js","hash":"c0c9c78efe2093893d26359d3444327918bc78a5","modified":1755682574423},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/button.js","hash":"430c31584930bc5407811c3dbc01be92473cfcbf","modified":1732061166820},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/dogeplayer.js","hash":"e9b0d88e38d3caf88b66ea39ca704d45c643ba51","modified":1732061166826},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/checkbox.js","hash":"fa93b169fe74bced502b0d16fe3d6bd17434b8f3","modified":1732061166823},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/flink.js","hash":"5b0086d1b726d1068b3d8ee0563ae31485896c4b","modified":1732061166830},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/folding.js","hash":"dc4e409eabebf5769b50c12c9e8c66b749d0ae85","modified":1732061166831},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/gallery.js","hash":"0364b021f2519a937464e585a7e2cbdde57ca412","modified":1732061166832},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/hide.js","hash":"37b81ff46d104554b9a5934bfd434dbfd6a84958","modified":1732061166834},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/iconfont.js","hash":"ea983f7c8dd060ed411044df1c10aa6b72dec34f","modified":1732061166834},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/image.js","hash":"0b7051574af6cf28c378db65f6c6dab722a8e118","modified":1732061166835},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/inlineImg.js","hash":"a43ee2c7871bdd93cb6beb804429e404570f7929","modified":1732061166839},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/inline-labels.js","hash":"08fbdc0ea622270e1236a28778f875c8ad2e5516","modified":1732061166838},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/label.js","hash":"87acd7d5615dd8034c51ba28d4964992d2ffed37","modified":1732061166841},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/link.js","hash":"a5d49f1d0e4602b0fce158efd0b1ec02c0bfd3e3","modified":1732061166843},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/media.js","hash":"76efb072e0716e55deedb044fed1ad585871335b","modified":1732061166850},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/mermaid.js","hash":"d3d6c8a23ddfecac35f7022eecd4ffc6171a37fa","modified":1732061166853},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/note.js","hash":"d51812b43924f1bbf413c67499510dd125022005","modified":1732061166854},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/site.js","hash":"bc34bfab53f520bec33d273ee599de5905ca19a9","modified":1732061166905},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/span.js","hash":"0a2188be1e3ee6ed183c0f16d24795ef31116e10","modified":1732061166908},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/tabs.js","hash":"dea5cd52bb9fd658bc03074b2388d91ea528fc2b","modified":1732061166918},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/timeline.js","hash":"300eb779588bf35a1b687d9f829d866074b707e3","modified":1732061166930},{"_id":"node_modules/hexo-theme-anzhiyu/scripts/tag/tip.js","hash":"e45a0955439dfbe6c0b4d27f8403896a0fb1d33b","modified":1732061166930},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/index.styl","hash":"ddded5cd1da248fdc30556a33877579ff8379a48","modified":1732061167331},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/var.styl","hash":"7bdedada1176e55d5fb72e3cc9f46e01d03b704a","modified":1732061167384},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/512.png","hash":"6988b23a31304d9de45b95a1e7c05dd42024e560","modified":1732061166988},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/Thumbs.db","hash":"0aa4135fdb08fa15e262337dfab629796144d0d6","modified":1760352300228},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/comment_bg.png","hash":"91612a887446fb436e9151981e2289f2a426a3e5","modified":1732061166994},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/favicon.ico","hash":"480621dddb48600e130806e4d48c50e25e474ff2","modified":1755774189451},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/default_cover.jpg","hash":"455fa65e2736f61ac36360dd4f76fc1ab6a1cdd5","modified":1732061166804},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/police_beian.png","hash":"90efded6baa2dde599a9d6b1387973e8e64923ea","modified":1708089804000},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/user.jpg","hash":"476a947c6c357a7ac3d721e3d12486fc19fbdcd3","modified":1708080980000},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/main.js","hash":"0ec70bf57bb3c34c9705da047e961f6e929e3ad0","modified":1754049191333},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/tw_cn.js","hash":"6cbec565e98cbd49aa75e6161d8fa996ae3be91a","modified":1732061166947},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/utils.js","hash":"b6c0f602d9dd62f407cdd0addc419087bb672a5b","modified":1754051960021},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/.gitignore","hash":"c1ab1464f9ac7ebdb1902860b987a68ba0765c65","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/LICENSE","hash":"31a3d460bb3c7d98845187c716a30db81c44b615","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/README.en.md","hash":"7eba7f3f2bd2eb63c45272500172dfeb8c614f72","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/README.md","hash":"ca3e014a5ab975ea1283f264b22142a24a6cf603","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/autoload.js","hash":"9fe0dec65d26286fb80320d3e599078866aa0e7d","modified":1732172183712},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/package.json","hash":"02c2acc648ec88aa81c9262a33847aba50e87d6b","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/rollup.config.js","hash":"3489dc2bf3ce120c86c1551fdd674a3a8c2881a6","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/waifu-tips.js","hash":"9c9f24114e4e2e27bf0658ba01f5702d158dc658","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/waifu-tips.json","hash":"ac969016a67c962336aabba5641681bb350f5785","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/waifu.css","hash":"20500dafb16ecb0c18e760aaadac07b023baa15a","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/anzhiyu/ai-info.pug","hash":"0c2e9e58069880c0617208840cf2f0712339ddf0","modified":1732061167023},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/anzhiyu/clock.pug","hash":"6be3b39855c692d464f65d2ca71bfe9a5d57fcb1","modified":1760667618944},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/anzhiyu/console.pug","hash":"d46c93a7a22129795cc856045967b0e07c5e53c2","modified":1732061167072},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/anzhiyu/log-js.pug","hash":"3aa00320a9aad615f1b1dfffc65fecd12c7d5e9b","modified":1760666927275},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/anzhiyu/rightmenu.pug","hash":"2747252c6337d8fb7ba773cdb466611607f9a23b","modified":1732061167135},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/anzhiyu/tags-group-all.pug","hash":"bc16fa91883895544273161cc8672bfe5c010e5e","modified":1732061167148},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/bili-banner/index.pug","hash":"8cb1c404adc6fe188bdceca3c09d3f215048e9bd","modified":1732061167091},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/Open_Graph.pug","hash":"dff5b967a641f385c4661fe66ad62d53cabf857a","modified":1732061167116},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/analytics.pug","hash":"15530d9ac59c576d79af75dd687efe71e8d261b0","modified":1732061167030},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/config.pug","hash":"068b2fe70e7f26cdd1f0ee6c75d79266ceed89dd","modified":1732061167072},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/config_site.pug","hash":"3038adec24b17f019bdd7d6aa15ebe091b11397d","modified":1732061167071},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1732061167089},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/noscript.pug","hash":"d16ad2ee0ff5751fd7f8a5ce1b83935518674977","modified":1732061167115},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/preconnect.pug","hash":"56ef61e74598cf60551d363a15fc53842b8dc41b","modified":1732061167130},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/pwa.pug","hash":"a4cc65381275e09f3f54f6e958d359c89c7b2c4e","modified":1732061167133},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1732061167143},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/header/index.pug","hash":"c865d51436cfd5413df6c691a7ab1f0eb600e79c","modified":1732061167092},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/header/menu_item.pug","hash":"4537154b8830310ce5dff3c9cfd558f0ec1311a5","modified":1732061167111},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/header/nav.pug","hash":"e567624b78d723346193a9b0d28032031997b865","modified":1732061167115},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/header/post-info.pug","hash":"0f1503c88d05ada69919e0bdbbf7b2ea1603d20b","modified":1732061167125},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/header/social.pug","hash":"2185b69eb54656ed9e401bc47ca3cd9905b022f3","modified":1732061167144},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/loading/fullpage-loading.pug","hash":"39977280dd32f1435a97f285a75f2a02902472d6","modified":1732061167087},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/loading/index.pug","hash":"f86b0c45874ae1335ab575c29d4f9c8ea09ab92a","modified":1732061167093},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/loading/pace.pug","hash":"7f04cabd68f75d7f953503283316e1594bbec45f","modified":1732061167117},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/mixins/article-sort.pug","hash":"7a06f5f24f8e32b3025cf43474db9519d48517e5","modified":1732061167039},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/mixins/post-ui.pug","hash":"80858e19caf57c275cb7d6acf3bfff7d0c90c774","modified":1732061167127},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/about.pug","hash":"6bb3f7407fa7de433813b70544d3effe2b15227e","modified":1758557763751},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/album.pug","hash":"d028de3c27684c1a1145b2e25cf86705a5654f84","modified":1758604188175},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/album_detail.pug","hash":"3a0443837f4e7035e1f704a08dfae141782b39d2","modified":1758604209943},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/categories.pug","hash":"f23d074ef6875311e74169da7592ecf667539775","modified":1732061167064},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/collect.pug","hash":"4564a68dc0041dcac552775f0b231127f2b02c21","modified":1755679990394},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1732061167075},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/equipment.pug","hash":"87ca40c49ddfe9c266cd96b4eb3594d7c64c1d55","modified":1732061167078},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/essay.pug","hash":"b0a25ded52c72c84bd29593bd7a57046c4b36195","modified":1732061167080},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/fcircle.pug","hash":"a1a7908ed18430b08f4a840ec7dee63ed36ffeb4","modified":1758475451240},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/flink.pug","hash":"57f9141d0e0a7bf85459857eaee2e06c22662768","modified":1758476789410},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/music.pug","hash":"3cbec3b3dc0f0e812f29c222ebb2d2a3d8c2719f","modified":1732061167113},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/room.pug","hash":"c35a2fb076e0196ba28389b5309dde33a2add576","modified":1732061167137},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/tags.pug","hash":"62882d8a699254486add2f7b0f089521732e4869","modified":1732061167149},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/page/update.pug","hash":"b807aea105b2709d76e68090606eb8fb8ec83dc0","modified":1755679908879},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/popup/index.pug","hash":"3ac8714556f94a614100aeddeb7f7e0cdff2fb9c","modified":1732061167095},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/post/post-copyright.pug","hash":"10638ede3b9ea1ef4e336f5c4d690239ef353843","modified":1732061167122},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/post/post-summary.pug","hash":"994f7bb96ac2578be473c7f1326c3cb83b202494","modified":1754057119229},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/post/ptool.pug","hash":"173d1a63099109bd909de919281db9f2b2a023f0","modified":1732061167132},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/post/reward.pug","hash":"cdf5ff34ba8efe526cfe77ddf3277d997d172d41","modified":1732061167134},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1732061167031},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/effect.pug","hash":"6528e86656906117a1af6b90e0349c2c4651d5e1","modified":1732061167078},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/footerBarSubtitle.pug","hash":"bb2df2fbbdc9fe0f4b9d66928247faa49f70e2e5","modified":1732061167085},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1732061167119},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/pjax.pug","hash":"4ee026b34e6ecc2c03cf04933973b496472309c2","modified":1732061167120},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1732061167131},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/subtitle.pug","hash":"142621f70bedcb5033ee99a988f7bb6c5eea3493","modified":1732061167145},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/top/top.pug","hash":"9f849b05e220efa72d56f524a27ab2877e27e9e3","modified":1732061167151},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1732061167042},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_announcement.pug","hash":"ed8796dd3c5710d745fdcc0021b02a3cda07fd1b","modified":1732061167043},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_archives.pug","hash":"9ca97d85cc7b214e1107d0b4feac4d8ad2fd0ac8","modified":1732061167044},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_author.pug","hash":"b7e11bcd199f343a844315e5d16735205dded9d2","modified":1732061167048},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1732061167049},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1732061167050},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_console_archives.pug","hash":"8c095ae91183d6a2aeed64f378e60baaa29d4065","modified":1732061167050},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_console_tags.pug","hash":"d723516d48cd94a68819df5c61087c9e7339e2af","modified":1732061167052},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_newest_comment.pug","hash":"419eed9a771299c9ffb85fdf38073bbd5bd7775c","modified":1732061167055},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_post_toc.pug","hash":"638417324111b66c834314b96cbf02e959be58f4","modified":1732061167056},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_recent_post.pug","hash":"544272cb0977b8a941de22f1f58f76d370b2cbbd","modified":1732061167058},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_tags.pug","hash":"3475134643b70cbf0e806806bd2e0d2a7371f8a5","modified":1732061167059},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1732061167060},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_webinfo.pug","hash":"5ddf285ca0ecbb57cbbbc36a4e9eaaca40406257","modified":1732061167062},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/card_weixin.pug","hash":"28f11437bcba4df1e53fc1e32df213392b9ca4b6","modified":1732061167063},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/index.pug","hash":"e33c360217b11a7980e780a5bc20e9d31f5dacf5","modified":1732061167103},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/widget/tenyear.pug","hash":"32e7da4f3af8b8e0ea4eba7969ed75ba306d8608","modified":1758555683523},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_highlight/highlight.styl","hash":"4a1f547d921d1b44f1221e60a42666a63a19e5a1","modified":1732061167319},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_highlight/theme.styl","hash":"c074efc93f4f118c3fc3b3d3c9f9abc42e4858b4","modified":1732061167375},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_global/function.styl","hash":"e91b257ce982b670eb911c7120f379960083c959","modified":1732061167308},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_global/icon.styl","hash":"da488461e8c5e504961c0a8f44b1e3605f72f956","modified":1732061167323},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_global/index.styl","hash":"22c6062fe51d92c9fecaab6bb48c68d3c71b8715","modified":1754141103645},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_global/loading.styl","hash":"734c69c16135543267794e12b43e776d501fb6ca","modified":1732061167339},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/404.styl","hash":"02a8df2e9734848cc4670a4b9f6e9a776e995644","modified":1732061167164},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/ai-summary.styl","hash":"0850193a1c343cd2a4929cd246e73076366317a4","modified":1754059982651},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/aside.styl","hash":"b62fbde63342f779b4dd27492e6da878c25f7dfb","modified":1732061167173},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/banner.styl","hash":"62f4202467cc9f313361911ed2a2005e66b3b2ca","modified":1732061167180},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/chat.styl","hash":"29f48f9370f245e6e575b5836bccf47eb5688d8b","modified":1732061167289},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/comments.styl","hash":"3dbb4c0e1ef79eab1f327d303c3aed61ddc3f58c","modified":1732061167291},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/footer.styl","hash":"ce21052dd27e752c3734083ec1401b96c542bfda","modified":1732061167305},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/head.styl","hash":"960ca89ac2456f165e0b71214ef0b1519e1690ad","modified":1732061167312},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/home_top.styl","hash":"c975f539ae6bed3b24c9dc3914b412f179ee2543","modified":1732061167320},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/nav.styl","hash":"200ddfe40c4a820af25fcfa71aa450b22741f6df","modified":1732061167345},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/oneGraphFlow.styl","hash":"1e5843caf8674429a5782712879c4a532074514d","modified":1732061167348},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/pagination.styl","hash":"88f2fbb0ccb061410b07e1ed6303583230e96d4e","modified":1732061167352},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/post.styl","hash":"2a4a8af05bc24edbd14c4160b17489242164727f","modified":1732061167354},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/ptool.styl","hash":"2ffeca0499c6ad1c4ea2ef783d7493b713b24569","modified":1732061167355},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/relatedposts.styl","hash":"c67558ba609b59375f8ee6ad479fcb16ddda9cb6","modified":1732061167357},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/reward.styl","hash":"152b802a38f029dece2b8f8812404cec25975212","modified":1732061167358},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/rightmenu.styl","hash":"cc622c70ff61ef70dfa6445b5b4b09eb92cf9994","modified":1732061167361},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/rightside.styl","hash":"bebc753a414d3fb807b5bf8dfeb87fe602e92e73","modified":1732061167363},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/shortcutKey.styl","hash":"ca7674768558396a8e2f9eaa452575bff099e4e8","modified":1732061167364},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/sidebar.styl","hash":"57d6857a1209dacb6f3fd0eb3c3f539fef3a2daf","modified":1732061167367},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_layout/third-party.styl","hash":"a6b708dfeda4ad837bbfc76bd74810805ca521a0","modified":1732061167376},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_mode/darkmode.styl","hash":"43391bb6a4d1908c87515851c41b8d97b847b49b","modified":1732061167294},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_mode/readmode.styl","hash":"a5a27dea73ed993ce81ca691eff9eb71c2b311a7","modified":1732061167356},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1732061167165},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/about.styl","hash":"832b09c77d02f60aa4e3d469a3156a11e9f9370b","modified":1754141150418},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/archives.styl","hash":"8652be12d88083f71a1efb88a2482a0aeda2c65f","modified":1732061167171},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1732061167288},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/collect.styl","hash":"4e8bcd6a67df26bb7302c07b3fc29aa3cbb57a02","modified":1755677502751},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/common.styl","hash":"99ca9cb011349c045ed779bd5db9763c2073bbfe","modified":1732061167292},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/equipment.styl","hash":"8ed450c37e8b5b5d6ce04245b54fc0877b0ad0d9","modified":1732061167298},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/flink.styl","hash":"990a1b5d937980ec1f6f764f4b5ce371279cc451","modified":1732061167301},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/homepage.styl","hash":"7b2b2b4a7f3139f7db2d535b2ed7167db8bfd0ed","modified":1732061167323},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/music.styl","hash":"290dd82c05bc21a0f22a7b666f2af233e9e8bbb2","modified":1732061167343},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/reward.styl","hash":"3a6e95f58b1692c6ee67a669fc965d9dea026186","modified":1732061167359},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/tag_page.styl","hash":"704a74185d0e872ca3358567a2ecede5c2d35910","modified":1732061167372},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1732061167374},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_page/tenyear.styl","hash":"b5e4e743085df01f0616ceb048c6fc89b26fbdab","modified":1760081136470},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_search/algolia.styl","hash":"f7cb2effef6b4e587fad385d7c11b4b23c110589","modified":1732061167170},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_search/index.styl","hash":"fd2833ec664a9de9a7b3dd1cade7d65e3ad80ddd","modified":1732061167330},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_search/local-search.styl","hash":"25e58a7a8bda4b73d0a0e551643ca01b09ccd7e5","modified":1732061167340},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/Introduction-card.styl","hash":"ec70e67c2a8bc1a0ebe536091d97bc326faf9973","modified":1732061167335},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/bilbili.styl","hash":"081833e071be562201c56ec4db000b7ac144a39a","modified":1732061167285},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/btns.styl","hash":"903b571a6e352e5014e35e9a675b7d2d6e5b82bd","modified":1732061167287},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/button.styl","hash":"af1840996356aeae6ffbee49ab86aa7834ab18a0","modified":1732061167287},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/checkbox.styl","hash":"2a31f4c0cd31f67342564ef22254eb317d82f331","modified":1732061167290},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/folding.styl","hash":"537320d4762bef842beabfbde9b27f0e2ece2ba6","modified":1732061167304},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/gallery.styl","hash":"697408d915056ae6e6814e0f24ca013f68227f74","modified":1732061167310},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1732061167313},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/hide.styl","hash":"810c54530d3799fe492d9c3d4842ab5ca4243092","modified":1732061167315},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/image.styl","hash":"4cf305b1d57d0c9bfe948f916fe9b124ee62fc0a","modified":1732061167324},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/inline-labels.styl","hash":"d9bdac4ca48b19cc028efc1a084ebf99c38bb8ec","modified":1732061167333},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1732061167334},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1732061167336},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/media.styl","hash":"05a249c807cd7760492a9ef5914b3e363d7d1028","modified":1732061167341},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/note.styl","hash":"3b357c94cb8e80039cc1689161637d5b9690ff18","modified":1732061167346},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/site-card.styl","hash":"5ff77bfa663aca406e3a0bd822da0d6e3c3c2c8b","modified":1732061167368},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/span.styl","hash":"f75112e431fcbef352a7ee7f0aa85e8b2f0b4a26","modified":1732061167370},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/tabs.styl","hash":"b0dc66d3daafe8c3a022f7235de3d8224cb56ec9","modified":1732061167371},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/tip.styl","hash":"0f712be285681bac71e96c48d0836b8fea52bf6f","modified":1732061167381},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_tags/timeline.styl","hash":"3076b68fece8ef394cbd44570037e5e479fdd277","modified":1732061167379},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_third-party/snackbar.styl","hash":"47a90d6a87744c6e4ced18b95220debef8f278d0","modified":1732061167369},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_third-party/normalize.min.css","hash":"007ada04a97d0fcaf55ee840a03f2f10b9abcbff","modified":1732061166755},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_third-party/twikoo.styl","hash":"51475a99ec3281fb98ca8707e28064f91dd9c68a","modified":1732061167383},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/16.png","hash":"81b919d07069d0b3d2ca29fc4d136f7e128bb851","modified":1732101604684},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/32.png","hash":"81b919d07069d0b3d2ca29fc4d136f7e128bb851","modified":1732101604684},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/Thumbs.db","hash":"2ef6a31fb8d4b5ca6e20ce49e33ea3c280cfd0c0","modified":1760251319316},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/apple-icon-180.png","hash":"6360411a91356eed9c516eb53ef6ae8e6bd3f8b7","modified":1732101929615},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/manifest-icon-192.maskable.png","hash":"2a0473c749c7e7f53ea851c4b2763f60a607ebab","modified":1732102031935},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/ai_abstract.js","hash":"be52eb13a416b18337d3b1142277920072e698c3","modified":1732061166807},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/comment_barrage.js","hash":"1b30f922238f626c6a90ce2705789ba2362a2a9e","modified":1732061166824},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/people.js","hash":"f3d2a3d0c730124d9f64dbf59486145c05a42ac6","modified":1732061166858},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/random_friends_post.js","hash":"1548fdc0a8cb4291bc8793dc8d321c59c097c08e","modified":1732061166886},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/anzhiyu/right_click_menu.js","hash":"d605ee0cab24604f97ccef5747bfacaa108645ba","modified":1732061166899},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/search/algolia.js","hash":"5c2a0d0489c51c6d9e54f5a3b0c6e66a5f649450","modified":1732061166810},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/search/local-search.js","hash":"3ad66c75b4a0fc28a14a5478ee8a19fde72f837f","modified":1732061166844},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/assets/screenshot-1.png","hash":"4bd4d97a1fcaa5deb3cea1c0a102a895a15af32f","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/demo/demo.html","hash":"128c05b681c9579b84d91a1d15d925904ef92814","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/demo/login.html","hash":"8dc655b672cfa104db95687168b6268602f2c243","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/index.js","hash":"a2670fe54cba051e0ad47048603c7630e5b613b4","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/message.js","hash":"595e2090df09ef1e50916b6d4b12a8fe30377b27","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/model.js","hash":"a7742f3940bd157582c968f85feba299a1d3a783","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/tools.js","hash":"d3fd7073b6352c9be4227a386ca84d910f83d4e9","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/utils.js","hash":"cf0bf51117a9044dc26373854caa8b622f043d78","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/src/waifu-tips.js","hash":"7887603444c52f54875541a111b9a6632bac970a","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/card-post-count/index.pug","hash":"a20dd36c318c7a37870fbc9dcecbc03f94ade817","modified":1732061167095},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/card-post-count/artalk.pug","hash":"6b8e29a8ad921ae50f8c43b8b7459ddc152b05ed","modified":1732061167032},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/card-post-count/twikoo.pug","hash":"56c028ba0ea8fac19f0125114d765dfc56ce2b48","modified":1732061167153},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/card-post-count/valine.pug","hash":"39427e107230a10790972349c9dd4c4f31d55eb7","modified":1732061167155},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/chat/chatra.pug","hash":"ddce8352b371a1fb426bdb6c33f587eb37a69647","modified":1732061167067},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/card-post-count/waline.pug","hash":"b40b0cbd0389f03fed5ddf624fa598613135046a","modified":1732061167158},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/chat/daovoice.pug","hash":"9b57a8e13de8fc51a5f550854e47164fd8ac1be8","modified":1732061167074},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/chat/crisp.pug","hash":"2fb098a7aa45010a8cd212dc0bd5308c6e7c63e3","modified":1732061167073},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/chat/tidio.pug","hash":"76b08a6da3eed8f90304fa6546783e5c04a792fb","modified":1732061167149},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/chat/index.pug","hash":"9eff7757c825d776edde1c1dd09623a91d891e6b","modified":1732061167096},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/comments/artalk.pug","hash":"a486578b5b9cd130dbe22e7b4ad5cbe724dc4678","modified":1732061167037},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/comments/giscus.pug","hash":"1359563b73f3ce1629be49dc7780b4670f370995","modified":1732061167087},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/comments/js.pug","hash":"29539a0f6c5622efba25805c8ff3252a70e1a2b7","modified":1732061167104},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/comments/index.pug","hash":"d5bb2cd8d96523a6693fa1bfa68c307f6c63f325","modified":1732061167099},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/comments/twikoo.pug","hash":"1582986ede8a9c727004d1dc114bd7ee92880641","modified":1732061167155},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/comments/valine.pug","hash":"e54a60b1795721153faaa887b46a68b68bcd3abc","modified":1732061167157},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1732061167099},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/comments/waline.pug","hash":"612ab49a4a2e676c7c1110b5f618726b2dc7ddf7","modified":1732061167160},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/math/mathjax.pug","hash":"fc072ac839401174b5d3cf9acd3b694246c23a55","modified":1732061167108},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/math/katex.pug","hash":"235fb3c8b4da8ec6b010d4d30d3594d3dbfd0bbe","modified":1732061167104},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/newest-comments/artalk.pug","hash":"bbaaa94d99c345f7412803a98bf3d83722743dfb","modified":1732061167038},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/math/mermaid.pug","hash":"10f3949da0889c1ec3e3617da290927d834d1f6d","modified":1732061167111},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/newest-comments/index.pug","hash":"6dafa98f6082e909c00396a4793ed3e7c866f824","modified":1732061167100},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"3b20540a0e687cb05fd71a716e78f16a175a7d58","modified":1732061167152},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/newest-comments/waline.pug","hash":"3fbf5700aedaa63ea09e8f68c063961db785fa44","modified":1732061167162},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/newest-comments/valine.pug","hash":"3de61f1b229f2928ae120ecfa6166862c1735d18","modified":1732061167158},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/runtime/runtime-js.pug","hash":"63391ff01fd55d8c48b3a9e46d83d4af75908ffb","modified":1732061167140},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/search/algolia.pug","hash":"fbdeb32013088e8f7f4c8a6a1f20622e58dc09c2","modified":1732061167029},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/search/docsearch.pug","hash":"cb42537ea530d6679a46a1db092da0e91756b2c3","modified":1732061167076},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/search/index.pug","hash":"a99a41334387ee9a46c6f8e8212331a29a10d159","modified":1732061167100},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1732061167015},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/search/local-search.pug","hash":"d3f133564dda5e2c51661a914ae5aab8fb9dbaf6","modified":1732061167106},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/share/index.pug","hash":"b0e932171cbdfeb8a98bc1e8b78172f672f5fdfd","modified":1732061167101},{"_id":"node_modules/hexo-theme-anzhiyu/layout/includes/third-party/share/share-js.pug","hash":"f61d63724ea5c5f352568b3a16bde023affefbe5","modified":1732061167140},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/album/album.css","hash":"d3938a8e6edcf2be0dff02728f605406feba800d","modified":1732061166158},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/album/album_detail.css","hash":"b75189ece986fa6b645751791a72d2783fbae05f","modified":1732061166157},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/aside_weixin/aside_weixin.css","hash":"17015ed4c296ea890e807716c6abe0a11ddcb906","modified":1732061166163},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/anzhiyu/custom.css","hash":"262291db00a343991c5472131804a4fd00deed4f","modified":1732061166729},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/categoryBar/categoryBar.css","hash":"b9ab5612f4d24092388defcb8db7399445a10710","modified":1732061166715},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/catalog_list/catalog_list.css","hash":"77526a3317c058a965ca44e446412f1d74b97c96","modified":1732061166711},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/clock/clock.css","hash":"b91f3216c6e859f89d9348bd9517c764e607402d","modified":1732061166718},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/code/code.css","hash":"976b68722d6698d7687f362532d7a0e6b6050d3e","modified":1732061166721},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/code/details_summary.css","hash":"30b01d74157aaccea84c4c0d7e0ebb65f5a7f9c9","modified":1732061166731},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/commentBarrage/commentBarrage.css","hash":"a1355fe5e03c5e5dbd17761cc7a80fa9758c5891","modified":1732061166723},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/console/console.css","hash":"f61b9504a5f7b33d7508c9c5201c0c21ae9f8d53","modified":1732061166727},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/essay_page/essay_page.css","hash":"0d62e0d6b6f57fce49d347c8ce969071933dcd45","modified":1732061166735},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/aplayer.css","hash":"00aee0451ccb5b2f402ecb7f358acf78c53cee60","modified":1732061166161},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/essay_page/home_essay_bar.css","hash":"bfb259092223dcdfcb1a652330dc8ea1236fe76c","modified":1732061166745},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/bilibili-ratio.css","hash":"ad6edf2b75dd717e9dff9fe4ca4db79c1599a6f9","modified":1732061166166},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/bilibili-bangumi.css","hash":"81567514e32d5c2cc647aff121f405c7a7b50897","modified":1732061166165},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/categories.css","hash":"563bd4583007329c6e34c28883ee26a39af6c8f3","modified":1732061166713},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/clock.css","hash":"90e0bce1341d9e01aa0efaf9c70256ef5fe6139b","modified":1732061166719},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/dark.css","hash":"febe18af9e0cc45c6a35f0e0ef085c182985afa6","modified":1732061166731},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/comments.css","hash":"667a4182d046cb6bf0561bdb7fe8c788ae79438f","modified":1732061166723},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/fcircle_page.css","hash":"02ce333e7f9ed6b9756a6706475192e2fd3fbd4b","modified":1732061166736},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/gitcalendar.css","hash":"f99c63423cbedb8f12ccea673d8e79e10a4cfb6c","modified":1732061166742},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/hexo-tag-dplayer.css","hash":"90e6ba180e0b9267aa0bf27eb9f0a1d2e9cb3ecc","modified":1732061166744},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/hide-block.css","hash":"15e0c13f8451bfe36fa5e464b86767bd98cab70b","modified":1732061166744},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/link_page.css","hash":"69e5ed458c0dc10d93ebb7e4943196be1167ed5a","modified":1732061166750},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/overflow.css","hash":"71e3bd9905684e6e2ba6e18282e982d96dc4d61d","modified":1732061166756},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/radius.css","hash":"6ef242f7a79427da9651a26c8a07e4e56ac56a42","modified":1732061166756},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/fix/site-card.css","hash":"0a662f62c69d36ac583528c02346d848aa1d026a","modified":1732061166768},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/footer/footer.css","hash":"d94ed305398eb831b9e7160ce54510b0d25fcf67","modified":1732061166737},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/friends/friends.css","hash":"a2e50f529aa1fd60732d9a892166bb1d3ae725d7","modified":1732061166740},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/greeting_box/greeting_box.css","hash":"208ba729979dffdaa2f82639027a09b8c64fc5c2","modified":1732061166743},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/home_top/categorygroup.css","hash":"bc5b8a6cddca8c36a96ea5ecd1e56a5860bbb09a","modified":1732061166717},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/home_top/home_top.css","hash":"4bf724bd2f1a0447532456c60701e79b906c8dd0","modified":1732061166747},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/home_top/home_top_post_group.css","hash":"04d9a3bd9cb247f4c391af0cd7cb47206974ceaf","modified":1732061166746},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/home_top/swiperstyle.css","hash":"ea249de8cebc68cda7e62705df2acd7c78d13f37","modified":1732061166779},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/home_top/top_group_banner.css","hash":"909b63f4b66c1c324ea302e93b3cb7c038306d0b","modified":1732061166781},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/local_search/local_search.css","hash":"d3bc30e147897fb3026284d4244c4cf195d4588a","modified":1732061166754},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/reward/about-reward.css","hash":"f95871737b0e883ab70b30948b2cd4339bf36756","modified":1732061166154},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/room/room.css","hash":"82eb83dc296c045b0388cd9417ff1bc822e46f41","modified":1732061166764},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/runtime/runtime.css","hash":"7fd033212b0dcdb06ca7f7a83343ea1b6044d59c","modified":1732061166765},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/reset/reset.css","hash":"0617cd338ebe4be2820d03d88376b30e0f378c1c","modified":1732061166759},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/single_card/single_card.css","hash":"1559219f059389933e435dd081af5e6e17ef4b75","modified":1732061166768},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/skills/skills.css","hash":"6dcf742c38dcdf988e3d6f545fbfa0227d3155ea","modified":1732061166775},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/tag/link.css","hash":"dbc87df28d7dfa366ab3c91ac61967ac48d7877c","modified":1732061166752},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_extra/tag/site.css","hash":"631a068d827a84a46fa03282b4ca38936c4bc4f3","modified":1732061166773},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1732061167296},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_highlight/highlight/index.styl","hash":"75b01603cacde3b58cc2719dce1f72458ecf3842","modified":1732061167329},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1732061167297},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_highlight/prismjs/index.styl","hash":"7751de787861a9b45cf3879fb18601abc8935bde","modified":1732061167329},{"_id":"node_modules/hexo-theme-anzhiyu/source/css/_highlight/prismjs/line-number.styl","hash":"8970cc1916c982b64a1478792b2822d1d31e276d","modified":1732061167337},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/siteicon/manifest-icon-512.maskable.png","hash":"30dffcff23f18bc617630b6ee0ae50cfe367a9ab","modified":1732102127989},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/404.jpg","hash":"c270ee857e5fc8cbc16902b1510e44dcf9f06763","modified":1755615196050},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/live2d.min.js","hash":"94383fb61de815c3f806ae3f11026bbcfe384082","modified":1708939733000},{"_id":"source/custom/fonts/MiSans-Normal.woff2","hash":"b585090603425795e683b7f8b3525230874ae625","modified":1758452834769},{"_id":"node_modules/hexo-theme-anzhiyu/source/img/qc.jpg","hash":"8a663eaa9d1d5a62f3c8442e55e26ab54e5de955","modified":1708091053000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/assets/screenshot-3.png","hash":"f89c6fdf44008e7d3c7a1aafe65dc39b212edb6c","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/live2d-widget-master/assets/screenshot-2.png","hash":"76b844653136184c573b3632e12296e008a7ff5c","modified":1708939733000},{"_id":"node_modules/hexo-theme-anzhiyu/source/js/echarts.min.js","hash":"49edd78f26111011a8033a3d84dd19ed71343d54","modified":1755787441701},{"_id":"public/img/404.jpg","hash":"171a22c0c185a52cdefc139c00f4463316e31e11","modified":1760669462930},{"_id":"public/img/512.png","hash":"f8437222ba34e4e5011bdc1f3f3166ac810a0839","modified":1760669462930},{"_id":"public/img/default_cover.jpg","hash":"1ba7ba66b8b8a11bb9fa444a625830d878f4494f","modified":1760669462930},{"_id":"public/img/comment_bg.png","hash":"b494d77afdd4becaa02f8a2202071260de69becd","modified":1760669462930},{"_id":"public/img/user.jpg","hash":"601dcdb288619116c136dfe916410717dbbb8ce2","modified":1760669462930},{"_id":"public/img/qc.jpg","hash":"3cdeaf7211bf147b4e7e52834ffc22534b1165d2","modified":1760669462930},{"_id":"public/img/siteicon/32.png","hash":"e459c28eaaf2da3860392eec4207cb39a0b67ef6","modified":1760669462930},{"_id":"public/img/siteicon/16.png","hash":"e459c28eaaf2da3860392eec4207cb39a0b67ef6","modified":1760669462930},{"_id":"public/img/siteicon/manifest-icon-192.maskable.png","hash":"d74b4324beaa0dceec7befa683cc15d01e8f1ca6","modified":1760669462930},{"_id":"public/img/siteicon/apple-icon-180.png","hash":"b864c624392a7f33d514a40742b58ffcc1ae6611","modified":1760669462930},{"_id":"public/img/siteicon/manifest-icon-512.maskable.png","hash":"2cfba49525f42c55c8039f61d1b4eff3be15ee4b","modified":1760669462930},{"_id":"public/live2d-widget-master/assets/screenshot-1.png","hash":"ab13009a221165c1572b45f99eb6daa148d5a363","modified":1760669462930},{"_id":"public/live2d-widget-master/assets/screenshot-3.png","hash":"84be1b43791f6cf05251d4b4dfaeae942d57f909","modified":1760669462930},{"_id":"public/live2d-widget-master/assets/screenshot-2.png","hash":"67a481ea3bcb1be0179b5092dcdc4e797a6de444","modified":1760669462930},{"_id":"public/baidu_verify_codeva-601VbOsahz.html","hash":"9ea7f3d58d8ab0682972569cef04ff7958b71a2a","modified":1760669462930},{"_id":"public/flink_count.json","hash":"63873f5aa187f899af3f4bdc5261038f6a1a8f30","modified":1760669462930},{"_id":"public/manifest.json","hash":"89fa2cc1b3dc12142e33589dc69e18f0cb1bebb6","modified":1760669462930},{"_id":"public/sw-rules.js","hash":"0df85b1e04c401bd1ee89c7078908b47ea79c00f","modified":1760669462930},{"_id":"public/json/music.json","hash":"305c37be063d582110889b657bebcb66c0122252","modified":1760669462930},{"_id":"public/custom/css/flink.css","hash":"fe0e9dab291f560e520a88552ec34f9840e54290","modified":1760669462930},{"_id":"public/custom/css/flash.css","hash":"7a8b522def5e72d10acf60a98677d6cdbb92353a","modified":1760669462930},{"_id":"public/custom/css/bilibili.css","hash":"16c17894b1b5b75c505f270616c71ce6e4f10424","modified":1760669462930},{"_id":"public/custom/css/loadbigimg.css","hash":"4a40c839a3c9a06d16059ed7f4f14b2af3cb66da","modified":1760669462930},{"_id":"public/custom/css/font.css","hash":"f1d0b7eff469c90c31116764eff7dbc57a2f73c3","modified":1760669462930},{"_id":"public/custom/css/home.css","hash":"fa9451e28733747e6897dff7a1655edeff4b652e","modified":1760669462930},{"_id":"public/custom/css/schedule.css","hash":"ab59cfdeca129a80ed0858ed55accac806bbe73e","modified":1760669462930},{"_id":"public/custom/js/chineselunar.js","hash":"14be552102d1f502dfa1f9d9f1bdc7ba7096d8fb","modified":1760669462930},{"_id":"public/custom/js/ai.js","hash":"7db178c058339e8962b72a0393543216557d9c8d","modified":1760669462930},{"_id":"public/custom/js/flink.js","hash":"d22c305c6fc5b64564eb45db5d090989fcadcf42","modified":1760669462930},{"_id":"public/custom/js/newpl.js","hash":"38948fb5781cb0784b64f5b281b3642035d73386","modified":1760669462930},{"_id":"public/custom/js/schedule.js","hash":"ec2aa2d1304e3b4470348953f1c098f128aebe90","modified":1760669462930},{"_id":"public/custom/js/twikoo.json","hash":"da87ff86e02244d088a09134d1f6db16e9aa2804","modified":1760669462930},{"_id":"public/custom/js/welcome.js","hash":"20612f03a72a5554cdf44221f1435bea8fd0a9b5","modified":1760669462930},{"_id":"public/baidu_urls.txt","hash":"cc89acf444e475dd843244c2fe6bd9c082135735","modified":1760669462930},{"_id":"public/baidusitemap.xml","hash":"9cf6989e33a79f9065a0e4b35167a48048b58c6c","modified":1760669462930},{"_id":"public/search.xml","hash":"c793f4d02280677da8b09a2c3060aa8293724ea6","modified":1760669462930},{"_id":"public/content.json","hash":"c5424afaa8fadb3900d8ab1a98c705d58bada25b","modified":1760669462930},{"_id":"public/sitemap.xml","hash":"e6229a003707a74f2ae14730cd9da772b4a7d696","modified":1760669462930},{"_id":"public/api/site.json","hash":"3bbbeadbef43184e92b5426b0af8d097b9aa3d42","modified":1760669462930},{"_id":"public/api/categories.json","hash":"86aa6d0a0627c2b7c14ddf71058899cd651127a0","modified":1760669462930},{"_id":"public/api/categories/思科.json","hash":"831cecff787da150dad6e21682b200dc448ac9e3","modified":1760669462930},{"_id":"public/api/categories/系统类.json","hash":"599153792f71d0d8719bec143673785afbf41bb8","modified":1760669462930},{"_id":"public/api/categories/其他.json","hash":"6b358a4dccf77aac8826baf7e9d38beaf5f98102","modified":1760669462930},{"_id":"public/api/categories/搞机类.json","hash":"4b8caf41b20e67bbd8234a87d54596f7e9c00167","modified":1760669462930},{"_id":"public/api/categories/教程类.json","hash":"dcf02d7c58aa09bce3b949064518b6d1aa9578d7","modified":1760669462930},{"_id":"public/api/categories/杂项类.json","hash":"2d7df6c6f23b8988c6fd596f256fe4d1c36ff0f0","modified":1760669462930},{"_id":"public/api/categories/个人记录类.json","hash":"0c1f13683ba85f6d2eea053ac4a9c58fea7fe89b","modified":1760669462930},{"_id":"public/custom/css/userbanner.css","hash":"57b3d1cdff1997cbfc4957c00c05a5a70220242b","modified":1760669462930},{"_id":"public/api/tags.json","hash":"b709c9fd30db75f8a0bcee97e1a1ccb9059013a7","modified":1760669462930},{"_id":"public/custom/js/loadbigimg.js","hash":"302753d1b76b03311f4ac71f0774b963d1bd84a3","modified":1760669462930},{"_id":"public/api/tags/网络.json","hash":"2d5190d38735e0ac96fda2c983595dbdcd5fabe8","modified":1760669462930},{"_id":"public/custom/css/welcome.css","hash":"87c7c5a63a8364ab599f51757a31f615b1126bd4","modified":1760669462930},{"_id":"public/api/tags/CCNA.json","hash":"4bc1d587c4a9e90675f1782e4226d4292e4010ec","modified":1760669462930},{"_id":"public/api/tags/CCNP.json","hash":"100efe38faeec28b4027937f76a02aa1be83b3bc","modified":1760669462930},{"_id":"public/api/tags/Linux.json","hash":"bcc7154a36c56c05011ed6dcc3e06e50ab10212a","modified":1760669462930},{"_id":"public/api/tags/指令.json","hash":"2f080be9d13e25c0ffd6bbc6f4425f4f0ac84d73","modified":1760669462930},{"_id":"public/api/tags/系统.json","hash":"aca2464e1c66edb0ce155884e39b8ecd2ced097b","modified":1760669462930},{"_id":"public/api/tags/Windows.json","hash":"08a1f65063bb4f8c03eab94fcf57e7743e50317d","modified":1760669462930},{"_id":"public/api/tags/ensp.json","hash":"feabd9ff96647df5329634b99e66f8a04eff825c","modified":1760669462930},{"_id":"public/api/tags/博客.json","hash":"a02fd68851f6706ec78b08db1c17a07abd13ca72","modified":1760669462930},{"_id":"public/api/tags/刷机.json","hash":"a8883af0d1feb27fbafcca536f5ecd0164a16b3d","modified":1760669462930},{"_id":"public/api/tags/玩机.json","hash":"afea43a3e2a4131d874d9607ea1f9366cef8d0f4","modified":1760669462930},{"_id":"public/api/tags/教程.json","hash":"4a087c1044ccf43492ff165d50f3f03672334ed5","modified":1760669462930},{"_id":"public/api/tags/苹果.json","hash":"3cc8d974737eb579a5a733fc7bc799f4c26a4ab7","modified":1760669462930},{"_id":"public/api/tags/测试.json","hash":"51bbb028376e2c6362c3d849307afd95292038df","modified":1760669462930},{"_id":"public/api/tags/长篇碎碎念.json","hash":"5b62f910fd310844f303e6527dc6899b487c73e2","modified":1760669462930},{"_id":"public/api/posts.json","hash":"8fddbdc31b34789d653274abbbb72ed0fbb7be96","modified":1760669462930},{"_id":"public/api/posts/1.json","hash":"8fddbdc31b34789d653274abbbb72ed0fbb7be96","modified":1760669462930},{"_id":"public/api/posts/2.json","hash":"46ea66b338f46184a8b4a5d2b468eeda1532767b","modified":1760669462930},{"_id":"public/api/posts/3.json","hash":"a811e246facc9827637337b6f1c46b8f500a5d39","modified":1760669462930},{"_id":"public/api/posts/4.json","hash":"fc7a8a1c633a5e8795ef873b89ecd17a026d0710","modified":1760669462930},{"_id":"public/api/posts/5.json","hash":"af990bef3d9be241af9e99340f87425fe6178aff","modified":1760669462930},{"_id":"public/api/posts/6.json","hash":"4fef09ca923e51c47fad7f4b80c5a0fb4893b02e","modified":1760669462930},{"_id":"public/api/articles/其他/sumiblogappsup.json","hash":"626f7487aabaf02ce6c6f69cf9d151dabc12f5b7","modified":1760669462930},{"_id":"public/api/articles/Windows/win11dev4.json","hash":"a391707a65381f263579526c6507685a99b4c781","modified":1760669462930},{"_id":"public/api/articles/教程/blogbackup.json","hash":"b49970b755139c2680d24a7f377850f70005ad9f","modified":1760669462930},{"_id":"public/api/articles/酥米的碎碎念/番禺市桥游记.json","hash":"0dee449490d2553d36cdcbdb89efefb965ee92df","modified":1760669462930},{"_id":"public/api/articles/教程/blog2048plus.json","hash":"7a09640a56cfa24e99b396325556d273f4426c9a","modified":1760669462930},{"_id":"public/api/articles/酥米的碎碎念/顺德容桂游记.json","hash":"7cfb90ca851ed61edbeaffc6737a38426425500f","modified":1760669462930},{"_id":"public/api/articles/酥米的碎碎念/南沙游记.json","hash":"b8da621f26e976fb3e25afcd17ccacbc510127ad","modified":1760669462930},{"_id":"public/api/articles/Windows/win11dev3.json","hash":"e19559da3dc5335e69d28f0206c46b7c6104dbdf","modified":1760669462930},{"_id":"public/api/articles/教程/blogelectronfish.json","hash":"58d3f2e8b15d19d604a3982cbec3110aca8ff1de","modified":1760669462930},{"_id":"public/api/articles/教程/blogflinkcountfix.json","hash":"62dd1fcb90082297f030aead90becb640a06c71f","modified":1760669462930},{"_id":"public/api/articles/酥米的碎碎念/酥米的碎碎念2.json","hash":"5e0c30ca1db0c3bde3e0c591b6c48395f04b3c56","modified":1760669462930},{"_id":"public/api/articles/Windows/win11dev2.json","hash":"4823a59bed8b3808348c3811820fc79d616535a4","modified":1760669462930},{"_id":"public/api/articles/Windows/win11dev.json","hash":"b5c7176eb60e497d3e8249d7b3b5db96503620b1","modified":1760669462930},{"_id":"public/api/articles/Windows/win11dev1.json","hash":"52447ffbeb9ee4391abc22bf9e2533c175d45fb9","modified":1760669462930},{"_id":"public/api/articles/教程/redmi2linux.json","hash":"88afefe7a83b7b69d78efa3ba9508063a25711a8","modified":1760669462930},{"_id":"public/api/articles/教程/dnscloudflare.json","hash":"1064bddfe9560ff6d65f28ac2805fda97652b70f","modified":1760669462930},{"_id":"public/api/articles/刷机/Agassi2-W09BHN.json","hash":"9303a925963e02fd525f923d5797c3bad76fe0e8","modified":1760669462930},{"_id":"public/api/articles/教程/MacOSXDP3install.json","hash":"dae542753ea902a6b4245b979165c3fc97c2ec05","modified":1760669462930},{"_id":"public/api/articles/酥米的碎碎念/酥米的碎碎念1.json","hash":"de8aa17941b71423140ef3387af74ac3ff91e74f","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP交换 DHCP协议详解及配置.json","hash":"a26b65952d6ec8c91b292f59199be3157fe1c8ce","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP交换 EtherChannel.json","hash":"29c1571c47f8b6e8e9dfe89ed89f42db28403b4f","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP交换 HSRP VRRP GLBP.json","hash":"3a9b230374d2ec877e57854d43ed35e4240f8cd3","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP交换 VLAN间的路由及三层交换机的部署.json","hash":"28c7aeca557748d45fca14073c797544025867f5","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP路由 BGP.json","hash":"abe9057fe509a94609aa7a073752fb02eeca5f2d","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP路由 EIGRP部分.json","hash":"7016b65391996b426e737b70b3ce6a7563442a48","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP路由 OSPF和LSA部分.json","hash":"1f436de308f8ea4fef3bc60fe29f85b898759aa8","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP路由 路由和路径.json","hash":"9bfeb2e2ec86748eb8528f336ffa47e3a925817b","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP路由 路由选择原理.json","hash":"46d066ab5d0ecf02c8376189f2219a902432bf18","modified":1760669462930},{"_id":"public/api/articles/CCNA/DOD（TCP_IP）.json","hash":"be4dceba206f186df6c8e0385b5c387ea76bd31e","modified":1760669462930},{"_id":"public/api/articles/CCNA/ACL基础.json","hash":"2f02231b5b6b8319b3942fb0f71a82e759da34fb","modified":1760669462930},{"_id":"public/api/articles/CCNA/EIGRP基础.json","hash":"1eebb3e378b96d387604e00a3b1dbd414e743ad3","modified":1760669462930},{"_id":"public/api/articles/CCNA/NAT基础.json","hash":"5e8c18c8d2a45e8f757813a5fdc59a1bfafd4cfc","modified":1760669462930},{"_id":"public/api/articles/CCNA/OSI基础.json","hash":"7f7e0c3b2ef01de6cf6b64fcd9baac1d4088df61","modified":1760669462930},{"_id":"public/api/articles/CCNA/OSPF基础.json","hash":"c47dab017dd57412c458c89232c976e48557197d","modified":1760669462930},{"_id":"public/api/articles/CCNA/RIP基础.json","hash":"69dcc6172404b49bb74a899132b45b3ea0ffd950","modified":1760669462930},{"_id":"public/api/articles/CCNA/STP基础.json","hash":"3f705cdfdad82905f736766dc63d079624c83ad0","modified":1760669462930},{"_id":"public/api/articles/CCNA/VLAN基础.json","hash":"b05da89c1abaff47ce5d40718d2ff22539fae1db","modified":1760669462930},{"_id":"public/api/articles/CCNA/Spanning Tree And More.json","hash":"ac35462dfad7e85e59935ac1aa94fa2568acc8c2","modified":1760669462930},{"_id":"public/api/articles/CCNA/VLSM和子网划分基础.json","hash":"f49d4c8a2e5eeed6cb082f6c5469d0b8fe3f133b","modified":1760669462930},{"_id":"public/api/articles/CCNA/WAN广域网和PPP.json","hash":"c27341307bb677cf754bdf561dcc79c4bc47e36e","modified":1760669462930},{"_id":"public/api/articles/CCNA/帧中继FrameDelay.json","hash":"2d66860c4ebc4ed9985e518fb71f1cb0afd79427","modified":1760669462930},{"_id":"public/api/articles/CCNA/静态路由+思科系统操作.json","hash":"517d824917d0a16c6abfb20162d9ed0d6321cb18","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP交换 Lay2 Switching and VLAN.json","hash":"90fbd0ef68c5222e9fc30644ebf90f187b75e67b","modified":1760669462930},{"_id":"public/api/articles/CCNP/CCNP交换 Trunk VTP and pVLAN.json","hash":"52f694e92a83c2335f29058a441a39df656b1702","modified":1760669462930},{"_id":"public/api/articles/Linux/Linux Bash Shell 脚本编写.json","hash":"7d1a5d1cff2b29facaff261ae078eb6def131776","modified":1760669462930},{"_id":"public/api/articles/Linux/Linux RAID磁盘阵列.json","hash":"f8008fee6a545b3ae97e6ba49c40e01634abf924","modified":1760669462930},{"_id":"public/api/articles/Linux/Linux服务器基础.json","hash":"8fadea5d5a33032a2162afbd67a253dac0546f13","modified":1760669462930},{"_id":"public/api/articles/eNSP/eNSP指令及基础.json","hash":"ed2ef8a38a49eb3e147c7c1a055a22b30366a8cd","modified":1760669462930},{"_id":"public/api/articles/刷机/projecttreble.json","hash":"b3e342ff3ac404c25a81e3a79804cfd068f47ec9","modified":1760669462930},{"_id":"public/api/articles/Linux/Linux简介.json","hash":"3ecafd35ebd10965c15be7c3bab53495e24938b6","modified":1760669462930},{"_id":"public/api/articles/刷机/kiwi-downdate.json","hash":"68ac145391cad5585677295082cc12155d9fd036","modified":1760669462930},{"_id":"public/api/articles/测试/hello-world.json","hash":"dba68f88747282df965e07b0f373ca884246e63b","modified":1760669462930},{"_id":"public/api/search.json","hash":"5db958cd19a6056dace3b5298d93d7e331093041","modified":1760669462930},{"_id":"public/indexnow.txt","hash":"1053722c0c1e0fa79e7eed584a77c7266ac39139","modified":1760669462930},{"_id":"public/ec83c0ed1a60408e91bd9bd49e0abec3","hash":"96325b61b1e2fc000e2ec6a10f5aa1602203beae","modified":1760669462930},{"_id":"public/atom.xml","hash":"77ab1e98b6542fc2538366731db9a36eda4c5f26","modified":1760669462930},{"_id":"public/rss.xml","hash":"e690649f93c8ee4d8689426af06795ced81b509a","modified":1760669462930},{"_id":"public/robots.txt","hash":"0d38b1d5decb9e5ec93c3a1afa64dbd5dbf7bb93","modified":1760669462930},{"_id":"public/go.html","hash":"d2648516682a4d05364bd4e9bf483115be77629a","modified":1760669462930},{"_id":"public/anzhiyu/random.js","hash":"0e013fe01bdc7d07b610f05d7c672749bd78f907","modified":1760669462930},{"_id":"public/404.html","hash":"dbd7100af30787b794c6f1a9a98115fb474d52b6","modified":1760669462930},{"_id":"public/Fun/index.html","hash":"26ddcd46075d7dc27c6c8fb4e8e93414e2ad830e","modified":1760669462930},{"_id":"public/about/index.html","hash":"b6cd7b8b47024d99576d88cdfe9f75cec5c62fea","modified":1760669462930},{"_id":"public/air-conditioner/index.html","hash":"1de987a39fcd7fd5877770543fa5dafa82dffa67","modified":1760669462930},{"_id":"public/aessecret/index.html","hash":"e89f9aa4ad87a019c81ce69a4a905d84d26b62f1","modified":1760669462930},{"_id":"public/categories/index.html","hash":"36b79cd3de2280d7335b17fb634614e3f461f3df","modified":1760669462930},{"_id":"public/album/index.html","hash":"d0f6ca0c7ea206da06bbe2077b3a5a6cc84d5498","modified":1760669462930},{"_id":"public/charts/index.html","hash":"5ccd51d3489128eede2f04b9bf83461d7c364996","modified":1760669462930},{"_id":"public/collect/index.html","hash":"27c4f475293ea631c2243ef6ef2daed07643c47d","modified":1760669462930},{"_id":"public/cookies/index.html","hash":"55cc9fd6698ecb5eb2599f0d5018f54aa164904a","modified":1760669462930},{"_id":"public/copyright/index.html","hash":"c5cfd6c005df2a4e0ee739d409f88998ff3aa2bc","modified":1760669462930},{"_id":"public/dailyPhoto/index.html","hash":"b8973873a3798e1b57f9dd1964a93828175c693c","modified":1760669462930},{"_id":"public/equipment/index.html","hash":"a593fb8f6fcab27b723fa8db4318026c1c70b495","modified":1760669462930},{"_id":"public/essay/index.html","hash":"123bd966be846de16ca89eb2bda1af4186dd8c65","modified":1760669462930},{"_id":"public/fcircle/index.html","hash":"6e227f9ddf586fb15d18271c3958fce7a983bac0","modified":1760669462930},{"_id":"public/fish/index.html","hash":"1aab53892c5d9aaacbdf315ec80566ae8c210f13","modified":1760669462930},{"_id":"public/game/index.html","hash":"44b10af678afbb8d7fbf84d1a8532394a3359310","modified":1760669462930},{"_id":"public/link/index.html","hash":"391632bfe5c7986ffa71cedc8e0b75635bd22a7c","modified":1760669462930},{"_id":"public/lunar/index.html","hash":"f7c7d3ae1716d550bc766008b8b7cd3577047268","modified":1760669462930},{"_id":"public/music/index.html","hash":"cf3537747b4a956c23526ee7c9b0161fd3c4e776","modified":1760669462930},{"_id":"public/playlist/index.html","hash":"ceeba23eefb8376d2549204c20d0eaecb859c219","modified":1760669462930},{"_id":"public/privacy/index.html","hash":"8cda0ed9a57bddbee3ffcc347968bdaf404a8bc9","modified":1760669462930},{"_id":"public/tags/index.html","hash":"756315114dab78236fe25fab1d162f55f9ab0d68","modified":1760669462930},{"_id":"public/update/index.html","hash":"b4737d3948501b436d287e3487e6e8b864b88675","modified":1760669462930},{"_id":"public/wallpaper/index.html","hash":"32ae30d81d30c3f8544f36e338484926b6fd4ee7","modified":1760669462930},{"_id":"public/其他/sumiblogappsup/index.html","hash":"5482389b7c7e3cfb3bc043e35edc53bdb57fa7b9","modified":1760669462930},{"_id":"public/Windows/win11dev4/index.html","hash":"2aeefa6acf0f5be6dce6020757cafc88e7d389c4","modified":1760669462930},{"_id":"public/教程/blogbackup/index.html","hash":"151aa12ba88c0c27d0ab115308135636c07539f0","modified":1760669462930},{"_id":"public/教程/blog2048plus/index.html","hash":"145bb57c90d1d9cb21cdfc32174330c006f71585","modified":1760669462930},{"_id":"public/酥米的碎碎念/番禺市桥游记/index.html","hash":"1fc489eba0cd4977ec0190e75537dc0754a3c92e","modified":1760669462930},{"_id":"public/酥米的碎碎念/顺德容桂游记/index.html","hash":"c7e4a79ba07d5981f582f5f91a252bd257148c28","modified":1760669462930},{"_id":"public/酥米的碎碎念/南沙游记/index.html","hash":"09ad1151e337d1966fc7591675ec758391199085","modified":1760669462930},{"_id":"public/Windows/win11dev3/index.html","hash":"92f19eaf07445e5de851e009aaa34122b51b79a5","modified":1760669462930},{"_id":"public/教程/blogelectronfish/index.html","hash":"bf2dd53ccc8244ee18bb83687b7860ed661693af","modified":1760669462930},{"_id":"public/教程/blogflinkcountfix/index.html","hash":"b21e39ec5a7b65bca1aa779e48d52c3fb7cb03cb","modified":1760669462930},{"_id":"public/酥米的碎碎念/酥米的碎碎念2/index.html","hash":"a808b725b4b5b5e6adcba24725609c973e63b96e","modified":1760669462930},{"_id":"public/Windows/win11dev2/index.html","hash":"561a109e65ddfc26057fdad3914a317aa547fc56","modified":1760669462930},{"_id":"public/Windows/win11dev1/index.html","hash":"5b3dd87db894d6049993de2209d673908b448752","modified":1760669462930},{"_id":"public/Windows/win11dev/index.html","hash":"150e95ab0e8685a52ccb572a56cacbec2dce1e31","modified":1760669462930},{"_id":"public/教程/redmi2linux/index.html","hash":"13cdf354b4c3fc5d11137f5525be467c63edb1b6","modified":1760669462930},{"_id":"public/教程/dnscloudflare/index.html","hash":"4cbc592c0877ee68fb89fea3a4ea85a26a9bf56c","modified":1760669462930},{"_id":"public/刷机/Agassi2-W09BHN/index.html","hash":"1aa18e022ef8f682c728a0aaf90ceb2bef85e914","modified":1760669462930},{"_id":"public/教程/MacOSXDP3install/index.html","hash":"5487f253f31ead679b5607fd841de3cc3074a878","modified":1760669462930},{"_id":"public/酥米的碎碎念/酥米的碎碎念1/index.html","hash":"608e27fb5f515aa66a9a7b85e2312f114570dec8","modified":1760669462930},{"_id":"public/CCNP/CCNP交换 DHCP协议详解及配置/index.html","hash":"9b5292a6f89e14e8fa9aca3a352041c966195fcf","modified":1760669462930},{"_id":"public/CCNP/CCNP交换 EtherChannel/index.html","hash":"be46f1e958d5ea86fc18a8b560d4deb54d1b13a0","modified":1760669462930},{"_id":"public/CCNP/CCNP交换 HSRP VRRP GLBP/index.html","hash":"05b2c089e37b4a1c46b79413554067fceab3ae51","modified":1760669462930},{"_id":"public/CCNP/CCNP交换 VLAN间的路由及三层交换机的部署/index.html","hash":"015549e461c126cf4a8c3989d6796839fe1fa1e9","modified":1760669462930},{"_id":"public/CCNP/CCNP路由 BGP/index.html","hash":"221d87fc459e74f00f768bbe09bdf1061950484f","modified":1760669462930},{"_id":"public/CCNP/CCNP路由 EIGRP部分/index.html","hash":"cda293c14b0036acc7841ecaaea5582d22f0241c","modified":1760669462930},{"_id":"public/CCNP/CCNP路由 OSPF和LSA部分/index.html","hash":"107378bf08ab618664ff64585359aba58315e4e7","modified":1760669462930},{"_id":"public/CCNP/CCNP路由 路由和路径/index.html","hash":"d7cdeb7c2fc26463f339c62f18087d5bcb54d4d9","modified":1760669462930},{"_id":"public/CCNP/CCNP路由 路由选择原理/index.html","hash":"1ba349ee00de4c48fc7ad29d6fc555322b96a0d6","modified":1760669462930},{"_id":"public/CCNA/DOD（TCP_IP）/index.html","hash":"6404d6b46b40640d2d91007ec9b816caab6335dc","modified":1760669462930},{"_id":"public/CCNA/ACL基础/index.html","hash":"28db372f3d0aa5723720a2aac03baaa1d1734321","modified":1760669462930},{"_id":"public/CCNA/EIGRP基础/index.html","hash":"f5eb9ab2004bcfcfa906becc001f033c4b1b050d","modified":1760669462930},{"_id":"public/CCNA/NAT基础/index.html","hash":"279154d5336ecf5567ad41562e6f950932a3800b","modified":1760669462930},{"_id":"public/CCNA/OSI基础/index.html","hash":"f540ce93ed2e65ab47418f55f0759b5d309ff941","modified":1760669462930},{"_id":"public/CCNA/OSPF基础/index.html","hash":"8251876fde2fde311bdb030efc0c8fcb0dcd3b1c","modified":1760669462930},{"_id":"public/CCNA/RIP基础/index.html","hash":"98b00910fe6beb6cf07c63f30c0044a15cff1f0e","modified":1760669462930},{"_id":"public/CCNA/STP基础/index.html","hash":"37097d9b8db0400d4654a042c994d1657557fd01","modified":1760669462930},{"_id":"public/CCNA/VLAN基础/index.html","hash":"90a786c2d9d2e9d09c9ba022e122794428cf9ab8","modified":1760669462930},{"_id":"public/CCNA/Spanning Tree And More/index.html","hash":"3abea9d3cc2fa3a48259669c25bd84cb79ce7087","modified":1760669462930},{"_id":"public/CCNA/VLSM和子网划分基础/index.html","hash":"50c2d0348368815d60c54d0f00c86bbf360738ee","modified":1760669462930},{"_id":"public/CCNA/WAN广域网和PPP/index.html","hash":"e95ea2da6452b13b6fae473d27961bf7a5d4a959","modified":1760669462930},{"_id":"public/CCNA/帧中继FrameDelay/index.html","hash":"1dd6a6a06f95da8e20f84d7dcceea998b78be0e0","modified":1760669462930},{"_id":"public/CCNA/静态路由+思科系统操作/index.html","hash":"5ed9ef07eabd712eb0475f4bb0698705c43a178d","modified":1760669462930},{"_id":"public/CCNP/CCNP交换 Lay2 Switching and VLAN/index.html","hash":"e775db638db9bc050c86b5c6b68df69681035134","modified":1760669462930},{"_id":"public/CCNP/CCNP交换 Trunk VTP and pVLAN/index.html","hash":"5d82acc95601575c9bde8070d1dcc9049a151a3b","modified":1760669462930},{"_id":"public/Linux/Linux Bash Shell 脚本编写/index.html","hash":"1fc46d7fe0ef85bd657f6b400abd5fcd7b6f4021","modified":1760669462930},{"_id":"public/Linux/Linux RAID磁盘阵列/index.html","hash":"f1b867d990123d22d9f11b8460baa481dc1b3d06","modified":1760669462930},{"_id":"public/Linux/Linux服务器基础/index.html","hash":"07e7743009ea944a28c23a888a6f04084310cfc6","modified":1760669462930},{"_id":"public/eNSP/eNSP指令及基础/index.html","hash":"47ed41bcab90452fec4df757a5de782a18e31040","modified":1760669462930},{"_id":"public/刷机/projecttreble/index.html","hash":"71c4c21a36fb6c485af4b80d181ba4b8905bedee","modified":1760669462930},{"_id":"public/Linux/Linux简介/index.html","hash":"740080ea41e1050ebcebe60db7536afbe959d33d","modified":1760669462930},{"_id":"public/刷机/kiwi-downdate/index.html","hash":"0eb55d3045a89a3dc4e94b7cc69ece81519312ac","modified":1760669462930},{"_id":"public/测试/hello-world/index.html","hash":"d1c73c2e9817b488d0156639807b1d5095d62d3e","modified":1760669462930},{"_id":"public/bangumis/index.html","hash":"4022749696fc34a3652808f9bf8c1c2ed0a08988","modified":1760669462930},{"_id":"public/archives/index.html","hash":"bf09711109aebe4da0ed93c7543e0477f17095fd","modified":1760669462930},{"_id":"public/comments/index.html","hash":"f54d82f88ec4a2f3e8dd50ecfe45eb75fe980ac1","modified":1760669462930},{"_id":"public/archives/page/2/index.html","hash":"0e76d309d76b4d00b6168cb133edf5ab57aeb2a7","modified":1760669462930},{"_id":"public/archives/page/4/index.html","hash":"8433eee45095de82eb0ba5bba86e767c5cb65570","modified":1760669462930},{"_id":"public/archives/page/3/index.html","hash":"694b817cfdc02906928209c35fe8769f642f714b","modified":1760669462930},{"_id":"public/archives/page/6/index.html","hash":"e5aa6c560e17350f35973331133e1c8a944c2e1a","modified":1760669462930},{"_id":"public/archives/page/5/index.html","hash":"6b6baae502c60d145c6db1e93dc75245f559bd15","modified":1760669462930},{"_id":"public/archives/2020/index.html","hash":"90bf99bc0c4df2658c8056128095279280adf11e","modified":1760669462930},{"_id":"public/archives/2020/06/index.html","hash":"0ffa3bf9c8659ffeae1100dcc2de3c8aaa94de07","modified":1760669462930},{"_id":"public/archives/2021/02/index.html","hash":"7fc33a950aeb39503f390b0f8fdbc995fcf35d19","modified":1760669462930},{"_id":"public/archives/2021/index.html","hash":"9ef7ea2e1d88f155b36506faa248785322be16d7","modified":1760669462930},{"_id":"public/archives/2022/index.html","hash":"723582698167aceef84afe2f3e684e1d49b59554","modified":1760669462930},{"_id":"public/archives/2024/index.html","hash":"7e00bb5f6dd86b1a84a252f0e61020cf3eb04a5a","modified":1760669462930},{"_id":"public/archives/2022/04/index.html","hash":"06856d672424816196d1e96a9f8d5cb7df37e02d","modified":1760669462930},{"_id":"public/archives/2024/page/3/index.html","hash":"3011ab67bc25fafffd9db83feb6bed4516275280","modified":1760669462930},{"_id":"public/archives/2024/page/2/index.html","hash":"f6e0a56d9fccc2d0ed4ba0c4f1f8d6c14145041b","modified":1760669462930},{"_id":"public/archives/2024/page/4/index.html","hash":"82cb99fde2f2a87f3eba33dd66553e5e0ba7108a","modified":1760669462930},{"_id":"public/archives/2024/05/index.html","hash":"914a16ddae3ef9c3d51fe52e889e51cddfbfd127","modified":1760669462930},{"_id":"public/archives/2024/10/page/2/index.html","hash":"228ea38ad8c632abbbd43ff9c60b48913c285de6","modified":1760669462930},{"_id":"public/archives/2024/10/index.html","hash":"bb71546879668e69b16ff2c0d961f300ab968c62","modified":1760669462930},{"_id":"public/archives/2024/12/index.html","hash":"8a98fd11b5cd4178093fc6248af845868e3a1bbd","modified":1760669462930},{"_id":"public/archives/2024/11/page/2/index.html","hash":"6d4df96d573005e5c03b84d85894049be684d3f4","modified":1760669462930},{"_id":"public/archives/2024/11/index.html","hash":"7a0fc78bd4b13a26eb256909b6aaddf6fc03e728","modified":1760669462930},{"_id":"public/archives/2025/08/index.html","hash":"ac9bbb40cfd256398e9cbc090b05538e3b909d16","modified":1760669462930},{"_id":"public/archives/2025/page/2/index.html","hash":"57eaadfe784276fd3d0e1c24603b522380f5097f","modified":1760669462930},{"_id":"public/archives/2025/index.html","hash":"9bb21115070ad664972ee0444d836c5a34ed476b","modified":1760669462930},{"_id":"public/archives/2025/09/index.html","hash":"952390fcfd23d1c816ef5a45284d005a90bf44d9","modified":1760669462930},{"_id":"public/categories/思科/page/2/index.html","hash":"4d94b5b74b42df919294a7a458e68d4b8b556428","modified":1760669462930},{"_id":"public/categories/思科/index.html","hash":"15be4554fc8b76602ed5be53ac5013d511359597","modified":1760669462930},{"_id":"public/archives/2025/10/index.html","hash":"66141468bb2792174e35469f5427f98fc9ba9c4d","modified":1760669462930},{"_id":"public/categories/其他/index.html","hash":"b0c30678fbc63f9f4ecf60f9d83b0c03ecce2906","modified":1760669462930},{"_id":"public/categories/系统类/index.html","hash":"7c5f62a6627b34019f4e1bfb45c892208f027455","modified":1760669462930},{"_id":"public/categories/思科/page/3/index.html","hash":"53ca42d79af9b9496fca2c3344bfa10577a171b4","modified":1760669462930},{"_id":"public/categories/搞机类/index.html","hash":"85ea663ab9b871c9f5073583b824fbd55c88400c","modified":1760669462930},{"_id":"public/categories/杂项类/index.html","hash":"5966165ca14475e151d81f5b07c926c03bd9200d","modified":1760669462930},{"_id":"public/categories/搞机类/教程类/index.html","hash":"a0398af37882d4d0503e33e8d96e888aa0eb13d7","modified":1760669462930},{"_id":"public/categories/教程类/index.html","hash":"2c7ecc0ea14094908160c6e163a7ca4ac0bc30c6","modified":1760669462930},{"_id":"public/categories/个人记录类/index.html","hash":"ac3cb9bae3fb1d23c6fcead29b60821e4c719667","modified":1760669462930},{"_id":"public/index.html","hash":"36efd612c685e751e51594d270cc2a473b1f8eaf","modified":1760669462930},{"_id":"public/page/3/index.html","hash":"e0ef3a0f965937deecbf9d90c5f7a7c60749c2f2","modified":1760669462930},{"_id":"public/page/2/index.html","hash":"b1a4494dbe1142a784eea3cdd17aab7972007102","modified":1760669462930},{"_id":"public/page/4/index.html","hash":"71dcd5a6831cbe43b09c01f4c00840566601133f","modified":1760669462930},{"_id":"public/page/5/index.html","hash":"b4a234bcedad74066af401ff672a1b2f244d9eb2","modified":1760669462930},{"_id":"public/tags/网络/index.html","hash":"9ce6bfb30c4dc227887fbab08f99dfb1a0291155","modified":1760669462930},{"_id":"public/tags/网络/page/3/index.html","hash":"630a11665be04f9bb0746b068cf67c57d8ad17d1","modified":1760669462930},{"_id":"public/page/6/index.html","hash":"2c14b5eae08f2ec42ae6e19de2eb9b13467edc43","modified":1760669462930},{"_id":"public/tags/网络/page/2/index.html","hash":"3292b4bc779ad4f5aa2e4048358f1d72d441eaa8","modified":1760669462930},{"_id":"public/tags/CCNA/index.html","hash":"0926ff00523f5328d74e8f65fc1a91a9455b7d5f","modified":1760669462930},{"_id":"public/tags/CCNP/page/2/index.html","hash":"5df54ff475cbbaa63e6f52211eaa9dd5cb41467e","modified":1760669462930},{"_id":"public/tags/CCNP/index.html","hash":"b8ceaf55e2fecb681f518baacf5a96499af77d4c","modified":1760669462930},{"_id":"public/tags/CCNA/page/2/index.html","hash":"43eca84ea1bf74b19d4eb997ec67b945ed3e9092","modified":1760669462930},{"_id":"public/tags/Linux/index.html","hash":"a43207ae29f938eae1f9d586af40fad6386ea8e5","modified":1760669462930},{"_id":"public/tags/指令/index.html","hash":"2a57b52a22104f758f70d356162ba53df48824cf","modified":1760669462930},{"_id":"public/tags/系统/index.html","hash":"fb6c05f77900df93248f2c59026a5dbc16a84b3a","modified":1760669462930},{"_id":"public/tags/Windows/index.html","hash":"95c41e1a868b2be84f01e7920996cab0fa41f588","modified":1760669462930},{"_id":"public/tags/ensp/index.html","hash":"f23b11e1e30c58262637c689980aeb1194c71fbc","modified":1760669462930},{"_id":"public/tags/博客/index.html","hash":"163746b3a18731fb969acdd91dd37f1e5d3eecd0","modified":1760669462930},{"_id":"public/tags/刷机/index.html","hash":"508b7d79533e0e475f04ebf18203a30369e619df","modified":1760669462930},{"_id":"public/tags/玩机/index.html","hash":"8af401c4cedc3ab7413486e71bd5ff50177074fa","modified":1760669462930},{"_id":"public/tags/教程/index.html","hash":"37d913fad5209822274da82c57aef72839069755","modified":1760669462930},{"_id":"public/tags/苹果/index.html","hash":"287bec325faf0fd2ccfbfdde18902e5a33a3263d","modified":1760669462930},{"_id":"public/tags/测试/index.html","hash":"e92f36e2f37c5fca436794d71c54be2253048c75","modified":1760669462930},{"_id":"public/tags/长篇碎碎念/index.html","hash":"2ca519ab46e34dc765bd58e6c3ec951b857b7c1d","modified":1760669462930},{"_id":"public/BingSiteAuth.xml","hash":"829b330d831480cd7738bff66a2f05c4282b5479","modified":1760669462930},{"_id":"public/CNAME","hash":"89538f35c60156e321019b536d78b89d33e9649f","modified":1760669462930},{"_id":"public/README.MD","hash":"515f11a49cca39abaccf852c7aba4a357f4a1f65","modified":1760669462930},{"_id":"public/custom/css/atom.xsl","hash":"529a4c142c391fcc4800fcbfe4df89532602c9a1","modified":1760669462930},{"_id":"public/custom/css/rss2.xsl","hash":"278ff4ff1189b966ecdadc092b6f30f71f72fab4","modified":1760669462930},{"_id":"public/Thumbs.db","hash":"e0df98a72e2e76e798f42a96c549107f2ad6eb18","modified":1760669462930},{"_id":"public/favicon.ico","hash":"480621dddb48600e130806e4d48c50e25e474ff2","modified":1760669462930},{"_id":"public/img/Thumbs.db","hash":"0aa4135fdb08fa15e262337dfab629796144d0d6","modified":1760669462930},{"_id":"public/img/favicon.ico","hash":"480621dddb48600e130806e4d48c50e25e474ff2","modified":1760669462930},{"_id":"public/img/police_beian.png","hash":"90efded6baa2dde599a9d6b1387973e8e64923ea","modified":1760669462930},{"_id":"public/live2d-widget-master/LICENSE","hash":"31a3d460bb3c7d98845187c716a30db81c44b615","modified":1760669462930},{"_id":"public/img/siteicon/Thumbs.db","hash":"2ef6a31fb8d4b5ca6e20ce49e33ea3c280cfd0c0","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/idle_01.mtn","hash":"908abce18f6cf7fd4bc1486f048c25a517f4a34a","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/idle_02.mtn","hash":"865874c50848fbc9a55011391531e2ec171c9b91","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/idle_03.mtn","hash":"84684914ebf5dc5b2df160338bb97dcc0a978476","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/idle_04.mtn","hash":"78e22091792abb0600f724a5dfd60371257954e8","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/shake_01.mtn","hash":"dffc54733127832f8f5e91aced55a83da58fa215","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/touch_02.mtn","hash":"4d1f099fbd18d15c598a644227ed5bf942a2ba71","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/touch_03.mtn","hash":"9c394975083915f0f3786caff1762381348b041e","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/touch_01.mtn","hash":"99270ea8fe1f8f5d88eadb94f36bd0810009d1e6","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/touch_04.mtn","hash":"8d2302cfdaec698e575048797ff4f30ae4d202de","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/touch_05.mtn","hash":"9610bb8a937ba9b11445a3894d8cc0733a2b67e5","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/shake_02.mtn","hash":"7b6c914f6c33450eda2e53d9b638fd7045c0f683","modified":1760669462930},{"_id":"public/live2dw/assets/wanko.model.json","hash":"b98a8ce54fbcf1606a489f1bc5f26b1a18c82d79","modified":1760669462930},{"_id":"public/live2dw/assets/mtn/touch_06.mtn","hash":"feb9237c73f2045ed1704c01b5362c9a54ee5a18","modified":1760669462930},{"_id":"public/live2dw/lib/L2Dwidget.min.js","hash":"5f1a807437cc723bcadc3791d37add5ceed566a2","modified":1760669462930},{"_id":"public/live2dw/assets/moc/wanko.moc","hash":"7b188cd4dcddfe5bdba8ec51a65cb1c21cd2e57a","modified":1760669462930},{"_id":"public/live2dw/assets/moc/wanko.1024/texture_00.png","hash":"c405c1eeb82bcced7aa7a20f04a76168f60ad561","modified":1760669462930},{"_id":"public/live2dw/lib/L2Dwidget.min.js.map","hash":"3290fe2df45f065b51a1cd7b24ec325cbf9bb5ce","modified":1760669462930},{"_id":"public/live2d-widget-master/README.html","hash":"68640560cbc4be2d9f941198547ca18c024c6a66","modified":1760669462930},{"_id":"public/live2d-widget-master/README.en.html","hash":"c5df3623949d6a4fe831302f2dc7e6da17103bb1","modified":1760669462930},{"_id":"public/live2d-widget-master/package.json","hash":"80d2120042316b755e164d674cc036ed4a59491e","modified":1760669462930},{"_id":"public/live2d-widget-master/waifu-tips.json","hash":"ea3ef8dc2f8be9b5734a9b03a4242dca9c81fce8","modified":1760669462930},{"_id":"public/live2d-widget-master/demo/demo.html","hash":"128c05b681c9579b84d91a1d15d925904ef92814","modified":1760669462930},{"_id":"public/live2d-widget-master/demo/login.html","hash":"8dc655b672cfa104db95687168b6268602f2c243","modified":1760669462930},{"_id":"public/js/tw_cn.js","hash":"a529e2ee5da620326e9e7e6af355bba16ac0b25e","modified":1760669462930},{"_id":"public/js/main.js","hash":"5256b25eab922af709d2d25f3d82f056e4dc3462","modified":1760669462930},{"_id":"public/live2d-widget-master/autoload.js","hash":"111ab460df74223364672185658791b164f33919","modified":1760669462930},{"_id":"public/live2d-widget-master/live2d.min.js","hash":"94383fb61de815c3f806ae3f11026bbcfe384082","modified":1760669462930},{"_id":"public/live2d-widget-master/waifu-tips.js","hash":"ea43b7797599c4a9cb77c82f3a873ca7104bc073","modified":1760669462930},{"_id":"public/live2d-widget-master/rollup.config.js","hash":"a1690b5d1e9d0104d68abb68669f35e7cdd3ab2c","modified":1760669462930},{"_id":"public/js/anzhiyu/people.js","hash":"7c851e2c95f6f7d7f159ff909c342b939b71932b","modified":1760669462930},{"_id":"public/js/anzhiyu/comment_barrage.js","hash":"6cc725a7293e8c30dee1cde5d7e308b26ad1d6a2","modified":1760669462930},{"_id":"public/js/anzhiyu/ai_abstract.js","hash":"935911a343b8453e64b188f8f44ea63fff5d75ff","modified":1760669462930},{"_id":"public/js/anzhiyu/random_friends_post.js","hash":"4ca3e96e700a9ebcd444cdd7d8217fecd661321b","modified":1760669462930},{"_id":"public/js/search/local-search.js","hash":"97a02d4f6dfbedb3b12f6c8c64c87ef1df61d3ea","modified":1760669462930},{"_id":"public/js/search/algolia.js","hash":"7f8c4adbf7d4fec0e18a6bcb67ca457b12c0325a","modified":1760669462930},{"_id":"public/js/anzhiyu/right_click_menu.js","hash":"c8a063ec3512ce478e4c43478fc7571193a884f0","modified":1760669462930},{"_id":"public/live2d-widget-master/src/model.js","hash":"300343c82bc084a620dcfc1f49cc27892d104e21","modified":1760669462930},{"_id":"public/live2d-widget-master/src/message.js","hash":"6012ef4a6ecfaf252e069b541a3be7fb24197a2c","modified":1760669462930},{"_id":"public/live2d-widget-master/src/index.js","hash":"beccae0bf84ad89b430d3960722391ad66fc8814","modified":1760669462930},{"_id":"public/live2d-widget-master/src/tools.js","hash":"e0eb6bbe6da5e9b80e43c727df642810b4196db7","modified":1760669462930},{"_id":"public/js/utils.js","hash":"91e12ed09e4f7279312b0ca015d7df4487819c78","modified":1760669462930},{"_id":"public/live2d-widget-master/src/waifu-tips.js","hash":"c9b23e63fc087985f8b5efe4da6736e61d922f08","modified":1760669462930},{"_id":"public/live2d-widget-master/src/utils.js","hash":"0af0f5759bf8de96de081d236837bbe90dc4bddf","modified":1760669462930},{"_id":"public/live2dw/lib/L2Dwidget.0.min.js","hash":"35bb5b588b6de25c9be2dd51d3fd331feafac02d","modified":1760669462930},{"_id":"public/css/var.css","hash":"8f322cd6fdb8b80ab8631ad74768054ee1ec1a73","modified":1760669462930},{"_id":"public/css/index.css","hash":"eb356b7d5e194ae08d95c7cf15334cb02b53b075","modified":1760669462930},{"_id":"public/live2d-widget-master/waifu.css","hash":"2a65da4c422edbea7bcbd0c8256e9dc1ab0e729f","modified":1760669462930},{"_id":"public/js/echarts.min.js","hash":"49edd78f26111011a8033a3d84dd19ed71343d54","modified":1760669462930},{"_id":"public/custom/fonts/MiSans-Normal.woff2","hash":"b585090603425795e683b7f8b3525230874ae625","modified":1760669462930},{"_id":"public/live2dw/lib/L2Dwidget.0.min.js.map","hash":"35e71cc2a130199efb167b9a06939576602f0d75","modified":1760669462930}],"Category":[{"name":"思科","_id":"cmgu955yt0004g0fy76g1fb8h"},{"name":"系统类","_id":"cmgu9560k0033g0fy8zp31jyq"},{"name":"其他","_id":"cmgu9561e004eg0fy8ybk8xun"},{"name":"搞机类","_id":"cmgu9561l004rg0fyd93s407n"},{"name":"教程类","_id":"cmgu95623005jg0fy8ub3bo6k"},{"name":"教程类","parent":"cmgu9561l004rg0fyd93s407n","_id":"cmgu9562a005wg0fygu7zfmdg"},{"name":"杂项类","_id":"cmgu9562q006sg0fy7hku5aay"},{"name":"个人记录类","_id":"cmgu9562r006zg0fy7urubpdv"}],"Data":[{"_id":"about","data":[{"class_name":"关于酥米","subtitle":"有朝一日，寻见梦中人✨","avatarImg":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png","avatarSkills":{"left":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 在家躺平小咸鱼"],"right":["专修计算机网络 🤝","脚踏实地行动派 🏃","下课摸鱼第一名 🧱"]},"name":"酥米","description":"是一名 学生、博主","aboutsiteTips":{"tips":"终有一日","title1":"中","title2":"将会寻见","word":["梦想","梦中人","对的事","心中的歌"]},"helloAbout":"是酥米吖!","skillsTips":{"tips":"技能","title":"开启想象力、展现创造力、没有执行力（doge）"},"careers":{"tips":"生涯","title":"努力进步","list":[{"desc":"初中,初一","color":"#ffa500"},{"desc":"初中,初二","color":"#ffa500"},{"desc":"初中,初三","color":"#ffa500"},{"desc":"中职,计算机网络技术","color":"#ffa500"},{"desc":"中职,计算机网络技术","color":"#ffa500"},{"desc":"中职,计算机网络技术","color":"#ffa500"}],"img":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/TimeLine.png"},"statistic":{"link":"/archives","text":"文章隧道","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/busuanzi.jpg"},"map":{"title":"我现在住在","StrengthenTitle":"中国，佛山市","background":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241120093324e83c6abd415ae3f8.jpg","backgroundDark":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241120093324e83c6abd415ae3f8.jpg"},"selfInfo":{"selfInfoTips1":"生于","selfInfoContentYear":2007,"selfInfoTips2":"华材职校","selfInfoContent2":"计算机网络技术","selfInfoTips3":"现在职业","selfInfoContent3":"高三学生👨‍🎓"},"personalities":{"author_name":"探险家","personality_type":"ISPF-A","photo_url":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/About_background2.jpg","personality_img":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/txj2a9d5bd7484bff3d.png","name_url":"https://www.16personalities.com/ch/isfp-%E4%BA%BA%E6%A0%BC"},"maxim":{"maxim_tips":"座右铭","maxim_top":"不负青春，","maxim_bottom":"不负自己！"},"buff":{"buff_tips":"特长","buff_top":"睡懒觉的 麻辣鱼","buff_bottom":"躺平指数 MAX"},"game":{"game_tips":"爱好游戏","game_title":"Minecraft","game_uid":"游戏名称： Supermini233","game_bg":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/apps.60323.14294656681058683.4d17bdd8-7026-429a-846f-cf7836bc9e5699c0353db0411d5f.jpg"},"comic":{"comic_tips":"爱好番剧","comic_title":"追番","comic_list":[{"name":"总之就是非常可爱","href":"https://www.bilibili.com/bangumi/media/md28229676","cover":"https://i0.hdslb.com/bfs/bangumi/image/3b97bfc609e08417eb391ef975a8648c28c55e04.png@338w_450h.webp"},{"name":"总之就是非常可爱 第二季","href":"https://www.bilibili.com/bangumi/media/md20266559","cover":"https://i0.hdslb.com/bfs/bangumi/image/2f57b2255f0b8608fabdca55612d40b4249d4dcb.png@338w_450h.webp"}]},"like":{"like_tips":"关注偏好","like_title":"数码科技","like_bg":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E6%95%B0%E7%A0%81.png","like_bottom":"手机、电脑软硬件"},"music":{"music_tips":"音乐偏好","music_title":"R&B、Hip Pop、J-Pop、C-Pop","music_bg":"https://p1.music.126.net/UStPyjKyWaKI4_PPdWyjXQ==/109951167674557545.jpg","music_link":"/music"},"tenyear":{"enable":true,"tips":"十年之约","title":"十年之期，是否能寻见梦中人呢？","start":"2020/06/04","end":"2030/06/04"}}]},{"_id":"album","data":[{"class_name":"酥米珍藏壁纸","path_name":"/wallpaper","type":2,"description":"没戳，就是酥米常用的壁纸🌇。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/wallpaper%20(1).jpeg","top_background":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/wallpaper%20(2).jpeg","rowHeight":220,"limit":10,"lazyload":true,"btnLazyload":false,"url":false,"top_link":"/album","top_btn_text":"返回","album_list":[{"date":"2024/10/26 01:00:00","content":"酥米的桌面壁纸。","address":"广东佛山","from":"Supermini233","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/wallpaper%20(2).jpeg"]},{"date":"2024-10-25T00:00:00.000Z","content":"其他壁纸","address":"广东佛山","from":"Supermini233","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/wallpaper%20(1).jpeg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/wallpaper%20(2).jpg"]}]},{"class_name":"我的日常","path_name":"/dailyPhoto","type":1,"description":"这里存放的是有关我自己的一些沙雕生活与有趣的事情。","top_link":"/album","top_btn_text":"返回","top_background":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241120103707ddf405d980f6bf07.jpg","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241120103707ddf405d980f6bf07.jpg","album_list":[{"date":"2021-4-4","content":"远古面基图","address":"广东佛山禅城","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/3bcdc5ac3a60cd8875c59d315f333978.jpeg"]},{"date":"2023-1-21","content":"飞机撞击广州塔","address":"广东广州海珠","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241120103659b454d86a17f2f463.jpg"]},{"date":"2024-11-03T00:00:00.000Z","content":"东莞之旅鸭~","address":"广东东莞南城","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241122090120cc74e6fad346f093.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241122090121d561a93d0dd1ddc3.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_202411220901201d9a67d20208c33b8.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_202411220901211ebf17af9013f8956.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_2024112209011870dcefabe8636c73.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_202411220901191c1e50804ed7363d2.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241122090119668039a4705b762b.jpg"]},{"date":"2024-11-10T00:00:00.000Z","content":"装机日常","address":"广东佛山","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241120103707ddf405d980f6bf07.jpg"]},{"date":"2024-11-19T00:00:00.000Z","content":"蜜雪冰城大甩卖","address":"广东佛山","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_202411201036411bce8a1e2e2f9378.md.jpg"]},{"date":"2024-11-27T00:00:00.000Z","content":"三水西南之旅","address":"广东佛山三水","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_202411271553513b9fcf941fc1f4bf.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241127155354de488554c4c7c0f2.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241127155348b522105adc3b0926.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_2024112715540035363f019efcde99.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_202411271554102755d8d6ac46fdf1.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241127155357698eda627ee4e0d4.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241127155345897f370404277cb9.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_20241127155305a15e9a4b54e67211.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_2024112715540657a83f921a681b41.jpg"]},{"date":"2025-09-13T00:00:00.000Z","content":"梦里水乡里水贤鲁岛之旅","address":"广东佛山南海","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_141207.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_134630.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_134533.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_133318.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_133851.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx_camera_1757740361925.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_133313.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_104422.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_20250913_141220.jpg"]},{"date":"2025-10-07T00:00:00.000Z","content":"番禺&南沙&顺德之旅","address":"广东佛山顺德、广州番禺、广州南沙","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-9.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-1.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-11.jpg","https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-12.jpg"]}]}]},{"_id":"bangumis","data":{"wantWatch":[],"watching":[{"title":"总之就是非常可爱","type":"番剧","area":"日本","cover":"https://i0.hdslb.com/bfs/bangumi/image/3b97bfc609e08417eb391ef975a8648c28c55e04.png@220w_280h.webp","totalCount":"全13话","id":28229676,"follow":"597.0 万","view":"2.2 亿","danmaku":"301.9 万","coin":"248.5 万","score":9.5,"des":"由崎星空对神秘美少女——司一见钟情。面对星空决死的告白，她的回答是“如果你愿意和我结婚，那我就跟你交往”？！充满了星空与司的爱，可爱&高贵的新婚生活开始了！...","progress":false,"ep_status":false,"new_ep":13},{"title":"总之就是非常可爱 第二季","type":"番剧","area":"日本","cover":"https://i0.hdslb.com/bfs/bangumi/image/2f57b2255f0b8608fabdca55612d40b4249d4dcb.png@220w_280h.webp","totalCount":"全16话","id":20266559,"follow":"570.7 万","view":"4844.6 万","danmaku":"39.0 万","coin":"25.5 万","score":9.5,"des":"“一人无法成形，因而起誓二人相爱”\n一对新婚夫妻经历了命运般的邂逅、求婚、在破公寓过新婚生活、买结婚戒指、问候父母，他们在公寓被烧毁后也不气馁，在昭和年代的房子中加深爱意……丈夫名叫由崎星空（NASA...","progress":false,"ep_status":false,"new_ep":16},{"title":"祭品公主与兽之王","type":"番剧","area":"日本","cover":"https://i0.hdslb.com/bfs/bangumi/image/10116d2b5ea1a0c6b8a332cfbc2873fbabe419c4.png@220w_280h.webp","totalCount":"全24话","id":20141149,"follow":"46.5 万","view":"1449.1 万","danmaku":"6.4 万","coin":"4.2 万","score":9.3,"des":"献给异形眷属之王的第99个活祭品·少女莎莉菲。\n她接受自己的命运，走向了活祭仪式。\n在那里，她知晓了无人敢接近、受人畏惧的国王·雷恩哈特的秘密，并被其娶为妃子。...","progress":false,"ep_status":false,"new_ep":24},{"title":"黑塔利亚 The Beautiful World 第5期","type":"番剧","area":"日本","cover":"https://i0.hdslb.com/bfs/bangumi/24dc96dad53e6ae5fb6a7eecfad5e6630da44686.jpg@220w_280h.webp","totalCount":"全20话","id":2712,"follow":"39.6 万","view":"2577.2 万","danmaku":"49.6 万","coin":"3.3 万","score":9.6,"des":"将世界上各国固有的风俗、风潮、水土等赋予角色，将国家拟人化的历史喜剧。以世界史为主轴，以主角意大利所属的轴心国为中心，史实中夹杂诙谐，描写各国之间的可爱故事。\n第五季的副标题为The Beautifu...","progress":false,"ep_status":false,"new_ep":20},{"title":"平凡职业造就世界最强","type":"番剧","area":"日本","cover":"https://i0.hdslb.com/bfs/bangumi/ce55ba2772db23fcf816ac7f82afc2f6eb2c26c9.png@220w_280h.webp","totalCount":"全14话","id":28221390,"follow":"381.5 万","view":"1.7 亿","danmaku":"181.8 万","coin":"56.5 万","score":6.1,"des":"经常被同学欺凌的南云始，与同班同学一起被召唤到了异世界。与接连着发现了自己的那作弊般的能力的同班同学们相反的是，始却得到了炼成师这个平凡职业。即使在异世界也是最弱的他，被某个同班同学陷害后掉进了迷宫的...","progress":false,"ep_status":false,"new_ep":14}],"watched":[]}},{"_id":"collect","data":[{"class_name":"📺 电影","class_desc":"酥米喜欢的电影","link_list":[{"name":"你的名字","img":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/p2910701461.webp","score":5,"icon":"fa-solid anzhiyu-icon-book","tip":"电影","url":"https://movie.douban.com/subject/26683290/"},{"name":"天气之子","img":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/p2558022335.webp","score":5,"icon":"fa-solid anzhiyu-icon-book","tip":"电影","url":"https://movie.douban.com/subject/30402296/"},{"name":"铃芽之旅","img":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/p291070146122.webp","score":5,"icon":"fa-solid anzhiyu-icon-book","tip":"电影","url":"https://movie.douban.com/subject/35371261/"}]},{"class_name":"🎮 游戏","class_desc":"酥米喜欢的游戏","link_list":[{"name":"Minecraft","img":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/apps.60323.14294656681058683.4d17bdd8-7026-429a-846f-cf7836bc9e5699c0353db0411d5f.jpg","score":5,"icon":"fa-solid anzhiyu-icon-play","tip":"沙盒游戏","url":"https://www.minecraft.net"},{"name":"Grand Theft Auto V","img":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/GTA5.jpg","score":5,"icon":"fa-solid anzhiyu-icon-play","tip":"开放世界游戏","url":"https://www.rockstargames.com/gta-v/"}]}]},{"_id":"creativity","data":[{"class_name":"不负青春，不负自己","creativity_list":[{"name":"Java","color":"#fff","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(2).jpg"},{"name":"Docker","color":"#57b6e6","icon":"https://bu.dusays.com/2023/04/09/643293b0f0abe.png"},{"name":"Photoshop","color":"#4082c3","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(4).png"},{"name":"Node","color":"#333","icon":"https://npm.elemecdn.com/anzhiyu-blog@2.1.1/img/svg/node-logo.svg"},{"name":"Python","color":"#fff","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(5).png"},{"name":"HTML","color":"#e9572b","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(3).png"},{"name":"Git","color":"#df5b40","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(1).webp"},{"name":"eNSP","color":"#e65164","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(8).png"},{"name":"Console","color":"#fff","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(3).jpg"},{"name":"Linux","color":"#fff","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(1).jpg"},{"name":"Hexo","color":"#f7cb4f","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(2).png"},{"name":"Cisco","color":"#2e3a41","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(7).png"},{"name":"Bilili","color":"#fb7299","icon":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/i%20(6).png"}]}]},{"_id":"equipment","data":[{"class_name":"好物","description":"酥米的EDC","tip":"跟 酥米 一起享受科技带来的乐趣（BUSHI）","top_background":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/581a497c_E165067_ec3c8d34fe66af967e0691b5.png","good_things":[{"title":"生产力","description":"提升自己生产效率的硬件设备","equipment_list":[{"name":"七彩虹隐星P16 23","specification":"i7 12650h + RTX4060 16G / 1TB","description":"屏幕显示效果好、4060显卡性能强劲、性价比高。","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/202305171636545756f304628721a30eb8.webp","link":"https://www.colorful.com.cn/home/product?mid=158&id=33"},{"name":"Redmi K50 Ultra","specification":"黑色 / 16G / 512G","description":"1.5K养眼屏幕，曲面边框，小米12系列祖传摄像头设计，裸机手感润滑，深得我心，唯一缺点大概就是华星屏有可能出问题。","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/7acb0a46f21fbe096b63aef2bf341b338744eaf807828f37fe41cc3b52eb.webp","link":"https://baike.baidu.com/item/Redmi%20K50%20%E8%87%B3%E5%B0%8A%E7%89%88/61854676"},{"name":"Xiaomi Pad 5","specification":"黑色 / 6G / 256G","description":"2.5KLCD屏幕，薄机身，可以刷Windows，买前生产力，买后bilibili。","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/specs_m1.png","link":"https://www.mi.com/xiaomipad5/specs"},{"name":"iPhone 6S Plus","specification":"金色 / 2G / 128G","description":"金属机身，3d touch，a9的性能吊打骁龙680，现在当mp3用。","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/111996_SP727-iphone6s-plus-gray-select-2015.png","link":"https://support.apple.com/zh-cn/111996"}]},{"title":"出行","description":"用来出行的实物及设备","equipment_list":[{"name":"Xiaomi Watch S3","specification":"黑色 / 蓝牙版","description":"也为了小米生态而买，用于防止我过早的猝死在学校（bushi），有澎湃2.0更新，维护不行，系统一堆bugs，功能半残了，难崩。","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/32195701edb4dd8950a.png","link":"https://www.mi.com/xiaomi-watch-s3"},{"name":"Redmi Buds 5 Pro","specification":"Pro","description":"是的4代升5代，更加垃圾了","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1697.png","link":"https://www.mi.com/redmibuds5pro"},{"name":"Celi Koel 单肩包","specification":"黑色","description":"最普通的单肩包，因为平时不带电脑，小小的一个包深得我心，口袋齐全，可以放进很多东西","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_202411201609333fedb1dbef2ffb57.jpg","link":"https://mobile.yangkeduo.com/goods1.html?ps=OOsQ3ACMEn"},{"name":"不知名电脑包一个","specification":"黑色","description":"最普通的电脑包，淘宝购入，质量还行，装我的游戏本绰绰有余，还有单肩挂绳","image":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/9385049438_1126074905ee54fa02b0662f41.jpg","link":"https://jd.com"}]}]}]},{"_id":"essay","data":[{"title":"即刻短文","subTitle":"酥米躺平的日常碎碎语。","tips":"随时随地，分享生活","buttonText":"关于我","buttonLink":"/about/","limit":30,"home_essay":true,"top_background":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk.jpg","essay_list":[{"content":"臭学网络的写前端真的难崩，要不是有ai不然小程序项目得寄了🤣","date":"2025/10/14"},{"content":"很坏的消息，在edgeone pages下托管的博客目前有bug，目录后缀会自己加上index.html导致评论消失，目前使用回cloudflare 进行托管，并且应该不会再改变（可能期间网站打不开，谢谢各位读者理解）","date":"2025/10/11"},{"content":"买了几个NFC标签搞小米一碰传，还挺方便的，还能给平板补全功能","video":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/NFCxiaomishare.mp4"],"date":"2025/10/10"},{"content":"吓死了今天😭，不小心误删了博客源码的依赖文件，还好俺有定期备份，给恢复过来了，目前暂时没有太大影响","date":"2025/10/10"},{"content":"Tidio私信现在重新启用啦~ 点击右下角工具栏的SMS图标即可私信","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png"],"date":"2025/10/08"},{"content":"（🌙中秋节快乐吖各位读者们）刚才敲键盘打文章间隙抬头，发现窗外月亮已经圆得像块白玉盘，赶紧来跟你们说声中秋快乐！愿各位这几天能歇口气，多些开心少些忙碌哦～","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/midautumn.jpg"],"date":"2025/10/06"},{"content":"博客本次更新内容较大，请各位小伙伴们刷新2次以上或清理网页缓存以应用最新的更改","date":"2025/09/25"},{"content":"酥米正在尝试全新系列《windows11的dev更新日志》可能会利用deepseek进行文章润色和日志收集，有错误请指出，敬请谅解！","date":"2025/09/07"},{"content":"9.3阅兵🫡🇨🇳。勿忘历史，​爱我中华！","date":"2025/09/03","image":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/640.jpg"]},{"content":"大改博客改的我好累哇~搞完喝瓶冰镇可乐先！","date":"2025/08/20"},{"content":"博客更新日志已经迁移到单独的界面啦！地址：https://www.sumi233.top/update/","date":"2025/08/20"},{"content":"博客复活啦！不过由于归档备份丢失，部分文章丢失，酥米正在补全拉！","date":"2025/07/30"},{"content":"博客更换新域名啦！地址是：www.sumi233.top","date":"2025/07/30"},{"content":"md，不想再写BGP的笔记了，写完整篇笔记都有一万字了呜呜呜！","date":"2024/12/02"},{"content":"总算把博客重新重构一遍了!","date":"2024/11/19"}]}]},{"_id":"widget","data":{"top":[{"class_name":"card-boringbay","id_name":null,"name":"无聊湾","icon":null,"html":"<a title=\"无聊湾 🥱 The Boring Bay\" href=\"https://boringbay.com\"><img height=\"60px\" src=\"https://boringbay.com/api/badge/www.sumi233.top\" loading=\"eager\" class=\"no-lazy\" referrerpolicy=\"origin\"></img></a>\n"},{"class_name":"card-blogclub","id_name":null,"name":"博阅榜","icon":null,"html":"<a href=\"https://www.blogsclub.org/rank.html\" target=\"_blank\"><img id=\"blogclub-badge\" style=\"height:60px!important;border:0;display:none;\" class=\"no-lazy\" referrerpolicy=\"unsafe-url\"><script>function loadBadge(){const img=document.getElementById(\"blogclub-badge\");if(img){img.src=\"\";img.style.display=\"none\";const load=()=>{img.src=`https://www.blogsclub.org/badge/www.sumi233.top?ref=${encodeURIComponent(window.location.origin)}&t=${Date.now()}_${Math.random()}`;img.onload=()=>{img.style.display=\"inline-block\";};img.onerror=()=>{setTimeout(load,1000);}};load();}}const observer=new MutationObserver((mutations,obs)=>{if(document.getElementById(\"blogclub-badge\")){loadBadge();obs.disconnect();}});observer.observe(document.body,{childList:true,subtree:true});window.addEventListener(\"pjax:complete\",()=>{observer.observe(document.body,{childList:true,subtree:true});});</script></a>\n  \n"},{"class_name":"calendar","id_name":"card-widget-calendar","name":null,"icon":null,"order":-1,"html":"<div id=\"calendar-area-left\">\n  <div id=\"calendar-week\"></div>\n  <div id=\"calendar-date\" style=\"font-size: 48px;\"></div>\n  <div id=\"calendar-solar\"></div>\n  <div id=\"calendar-lunar\"></div>\n</div>\n<div id=\"calendar-area-right\">\n  <div id=\"calendar-main\">\n  </div>\n</div>\n"}],"bottom":[{"class_name":"schedule","id_name":"card-widget-schedule","name":null,"icon":null,"order":-1,"html":"<div id=\"schedule-area-left\">\n  <div id=\"schedule-title\">距离除夕</div>\n  <div id=\"schedule-days\"></div>\n  <div id=\"schedule-date\">2026-2-16</div>\n</div>\n<div id=\"schedule-area-right\">\n  <div class=\"schedule-r0\">\n    <div class=\"schedule-d0\">本年</div>\n    <div class=\"schedule-d1\">\n      <span id=\"p_span_year\" class=\"aside-span1\"></span>\n      <span class=\"aside-span2\">还剩<a></a>天</span>\n      <progress max=\"365\" id=\"pBar_year\"></progress>\n    </div>\n  </div>\n  <div class=\"schedule-r1\">\n    <div class=\"schedule-d0\">本月</div>\n    <div class=\"schedule-d1\">\n      <span id=\"p_span_month\" class=\"aside-span1\"></span>\n      <span class=\"aside-span2\">还剩<a></a>天</span>\n      <progress max=\"30\" id=\"pBar_month\"></progress>\n    </div>\n  </div>\n  <div class=\"schedule-r2\">\n    <div class=\"schedule-d0\">本周</div>\n    <div class=\"schedule-d1\">\n      <span id=\"p_span_week\" class=\"aside-span1\"></span>\n      <span class=\"aside-span2\">还剩<a></a>天</span>\n      <progress max=\"7\" id=\"pBar_week\"></progress>\n    </div>\n  </div>\n</div>\n"},{"class_name":"card-latest-comments","id_name":null,"name":"最新评论","icon":"fas fa-comments","html":"<a href=\"/messages/\" class=\"headline-right\" title=\"查看更多\">\n  <i class=\"fas fa-angle-right\"></i>\n</a>\n<div class=\"aside-list\" id=\"latest-comments\"></div>\n"}]}},{"_id":"link","data":[{"class_name":"友链博客","class_desc":"如何添加友链？互加友链的方式请看评论置顶😁","flink_style":"anzhiyu","hundredSuffix":"","link_list":[{"name":"酥米","link":"https://www.sumi233.top/","avatar":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/userfb6a1018b84ce485.jpg","descr":"终有一日，寻梦中人","recommend":true},{"name":"安知鱼","link":"https://blog.anheyu.com/","avatar":"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg","descr":"生活明朗，万物可爱","recommend":true},{"name":"GcYJdRniC1","link":"https://www.ptilopsis.xyz/","avatar":"https://www.ptilopsis.xyz/wp-content/uploads/2024/12/20241212152832.webp","descr":"GcYJdRniC1's Blog!","recommend":true},{"name":"槿鸢","link":"https://ipox.cn/","avatar":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(1).png","descr":"槿鸢茶屋 —— 咕咕咕","recommend":true},{"name":"如笙","link":"https://blog.rusheng.top","avatar":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230805122421.png","descr":"人生如梦，不过三六"},{"name":"白荼","link":"https://blog.iletter.top/","avatar":"https://www.ittoolman.top/images/avatar.png","descr":"没有什么可以留住，除了死亡。"},{"name":"天影大侠的小站","link":"https://blog.skyshadow.fun","avatar":"https://weavatar.com/avatar/7388ea4765a319d5f83fea61c3236384?s=1000","descr":"天影大侠的小站"},{"name":"澄沨的漫游茶记","link":"https://champhoon.xyz/","avatar":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E6%BC%AB%E6%B8%B8%E8%8C%B6%E8%AE%B0.ico","descr":"Stay hungry, Stay foolish.","recommend":true},{"name":"天海博客","link":"https://woolyun.com/","avatar":"https://woolyun.com/wp-content/uploads/2025/05/yyl-e1746698677584.jpg","descr":"建站经验记录，实用工具推荐，免费资源分享。","recommend":true},{"name":"柒渊阁","link":"https://www.myxz.top/","avatar":"https://sourceimage.s3.bitiful.net/myxz.avif","descr":"柒上月日，无铭之阁"},{"name":"Oyiso's Blog","link":"https://oyiso.cn","avatar":"https://oyiso.cn/logo.png","descr":"The shortest answer is doing","recommend":true},{"name":"Foxhole","link":"https://blog.southfox.me/","avatar":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/58982705.png","descr":"狐狸反走矣","recommend":true},{"name":"Donghai","link":"https://mgrowup.com/","avatar":"https://img.mgrowup.com/imgs/2025/08/5f764a786563fb90.jpg","descr":"真诚记录，生活值得"},{"name":"晴雨笔记","link":"https://memo.moieo.net/","avatar":"https://cn.cravatar.com/avatar/89b071e828602b9f77003bdcc5b0e05c?s=150","descr":"素白清韵，简静安然"},{"name":"Ganzhe","link":"https://www.ganzhe.site/","avatar":"https://pic.imgdb.cn/item/64895d391ddac507cce97bc3.webp","descr":"顺其自然，持之以恒"},{"name":"UWillno's Blog","link":"https://uwillno.com","avatar":"https://uwillno.com/uwlogo.png","descr":"各类记录与Qt for WebAssembly技术测试"},{"name":"ZY知识库","link":"https://blog.pljzy.top/","avatar":"https://blog.pljzy.top/_astro/logo.BxIxyJV1_Z19cEQW.webp","descr":"一个技术探索与分享的平台"},{"name":"ATao","link":"https://blog.atao.cyou/","avatar":"https://cdn.atao.cyou/Web/Avatar.png","descr":"做自己喜欢的事"},{"name":"Refactored","link":"https://www.refact.cc/","avatar":"https://www.refact.cc/avatar.png","descr":"形体是简单而纯粹的，它不是完整的群体，每个形体都指向其复杂性，并最终被复杂性联系在一起。"},{"name":"Mo的记事簿","link":"https://blog.xiowo.net/","avatar":"https://blog.xiowo.net/img/avatar.png","descr":"万年鸽王,哈哈OvO","recommend":true},{"name":"辰渊尘の个人博客","link":"https://blog.mcxiaochen.top/","avatar":"https://blog.mcxiaochen.top/favicon.ico","descr":"05后,高中生,内容偏技术向希望能对你有用QwQ","recommend":true},{"name":"彬红茶日记","link":"https://note.redcha.cn","avatar":"https://note.redcha.cn/upload/favicon-256x256.png","descr":"记录自己天地下的美好","recommend":true},{"name":"LanKe","link":"https://blog.blueke.top","avatar":"https://blog.blueke.top/logo.png","descr":"请为一切不真实之物骄傲，因为我们高于这个世界！"},{"name":"躬行笔记","link":"https://www.fuzhoupyy.work","avatar":"https://www.fuzhoupyy.work/usr/themes/blog/images/tx.jpg","descr":"古人学问无遗力，少壮工夫老始成。 纸上得来终觉浅，绝知此事要躬行。"},{"name":"青灯暮雨","link":"https://www.blatr.cn","avatar":"https://www.blatr.cn/images/adminAvatar.jpg","descr":"再渺小的星光，也有属于它的光芒","recommend":true},{"name":"喜之梁","link":"https://blog.liang.one","avatar":"https://bu.dusays.com/2025/10/02/68de1a78e7aa4.webp","descr":"多点关心多点爱"},{"name":"春华秋实","link":"https://linqiushi.top","avatar":"https://youke1.picui.cn/s1/2025/10/07/68e52c2a55563.png","descr":"无恙桃花，依然燕子，春景多别"},{"name":"严重浪漫","link":"https://www.bat69.com/","avatar":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/yanzhonglangman.webp","descr":"严重浪漫博客","recommend":true},{"name":"定の栈","link":"https://saop.cc","avatar":"https://saop.cc/avatar.webp","descr":"LINK START!","recommend":true},{"name":"Ryan Wang","link":"https://ryanc.cc/","avatar":"https://ryanc.cc/upload/avatar-128-2024.jpg","descr":"Hi there 👋","recommend":true},{"name":"Eilo's Blog","link":"https://www.eilo.uk/","avatar":"https://www.eilo.uk/img/logo.png","descr":"等等我记一下"},{"name":"李开开博客","link":"https://blog.caonmd.com/","avatar":"https://blog.caonmd.com/upload/%E5%A4%B4%E5%83%8F-%E5%9C%86.png","descr":"李开开的技术学习与日常分享"},{"name":"bbb-lsy07","link":"https://blog.6uu.us","avatar":"https://blog.6uu.us/upload/00000.png","descr":"科技激荡人文，洞见智慧本真。"},{"name":"老罗博客","link":"https://www.luosir.cn/","avatar":"https://q2.qlogo.cn/g?b=qq&nk=10936102&s=100","descr":"记录喜欢折腾的日常"},{"name":"默小班","link":"https://www.memxb.top/","avatar":"https://wmimg.com/i/780/2025/07/68677fe53c2d1.png","descr":"一个初中生的小站点。"},{"name":"皮皮社","link":"https://www.pipishe.com/","avatar":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pipishe.webp","descr":"皮一下，很开心！"},{"name":"小林先森","link":"https://blog.1edg.cn","avatar":"https://pic1.imgdb.cn/item/68eda974c5157e1a886d6347.png","descr":"小林的视界，分享生活，留住感动"}]},{"class_name":"推荐地址","class_desc":"酥米常用的网站地址","flink_style":"flexcard","hundredSuffix":"","link_list":[{"name":"网易云直链解析","link":"https://api.toubiec.cn/wyapi.html","avatar":"https://ts3.tc.mm.bing.net/th/id/ODF.jjoQ4Vf3Wtohq3QsAi1UMA?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3","descr":"好用的直链解析网站","siteshot":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193433.jpg"},{"name":"安知鱼官方主题文档","link":"https://docs.anheyu.com/","avatar":"https://docs.anheyu.com/cover.webp","descr":"主题文档手册","siteshot":"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg"},{"name":"转换云","link":"https://www.zhuanhuanyun.cn/","avatar":"https://www.zhuanhuanyun.cn/static/project/zhy/web/static/picture/icon_1.png?v=1","descr":"网易云/qq音乐歌曲格式转换","siteshot":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193700.jpg"},{"name":"语雀","link":"https://www.yuque.com/yuqueyonghunp7010/vr4bcp","avatar":"https://ts3.tc.mm.bing.net/th/id/ODF.4txnRZL6KPK00SXkgkMLag?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3","descr":"酥米的语雀，需要登录才能访问","siteshot":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20194512.jpg"},{"name":"ThisClover","link":"https://cover.weizwz.com/","avatar":"https://cover.weizwz.com/_next/image?url=%2Flogo.png&w=64&q=75","descr":"开源的博客、视频封面生成器","siteshot":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Thiscloverpages.jpg"}]}]}],"Page":[{"layout":"false","_content":"\n38bdc7ca12cd05d9f9a70d5e317a800b","source":"baidu_verify_codeva-601VbOsahz.html","raw":"---\nlayout: false\n---\n\n38bdc7ca12cd05d9f9a70d5e317a800b","date":"2025-08-29T04:25:41.801Z","updated":"2025-08-29T04:16:48.494Z","path":"baidu_verify_codeva-601VbOsahz.html","title":"","comments":1,"_id":"cmgu955yj0000g0fydhv7ghaf","content":"\n38bdc7ca12cd05d9f9a70d5e317a800b","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"\n38bdc7ca12cd05d9f9a70d5e317a800b"},{"_content":"{\n  \"link_list\": [\n    {\n      \"name\": \"酥米\",\n      \"link\": \"https://www.sumi233.top/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/userfb6a1018b84ce485.jpg\",\n      \"descr\": \"终有一日，寻梦中人\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"安知鱼\",\n      \"link\": \"https://blog.anheyu.com/\",\n      \"avatar\": \"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg\",\n      \"descr\": \"生活明朗，万物可爱\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"GcYJdRniC1\",\n      \"link\": \"https://www.ptilopsis.xyz/\",\n      \"avatar\": \"https://www.ptilopsis.xyz/wp-content/uploads/2024/12/20241212152832.webp\",\n      \"descr\": \"GcYJdRniC1's Blog!\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"槿鸢\",\n      \"link\": \"https://ipox.cn/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(1).png\",\n      \"descr\": \"槿鸢茶屋 —— 咕咕咕\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"如笙\",\n      \"link\": \"https://blog.rusheng.top\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230805122421.png\",\n      \"descr\": \"人生如梦，不过三六\"\n    },\n    {\n      \"name\": \"白荼\",\n      \"link\": \"https://blog.iletter.top/\",\n      \"avatar\": \"https://www.ittoolman.top/images/avatar.png\",\n      \"descr\": \"没有什么可以留住，除了死亡。\"\n    },\n    {\n      \"name\": \"天影大侠的小站\",\n      \"link\": \"https://blog.skyshadow.fun\",\n      \"avatar\": \"https://weavatar.com/avatar/7388ea4765a319d5f83fea61c3236384?s=1000\",\n      \"descr\": \"天影大侠的小站\"\n    },\n    {\n      \"name\": \"澄沨的漫游茶记\",\n      \"link\": \"https://champhoon.xyz/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E6%BC%AB%E6%B8%B8%E8%8C%B6%E8%AE%B0.ico\",\n      \"descr\": \"Stay hungry, Stay foolish.\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"天海博客\",\n      \"link\": \"https://woolyun.com/\",\n      \"avatar\": \"https://woolyun.com/wp-content/uploads/2025/05/yyl-e1746698677584.jpg\",\n      \"descr\": \"建站经验记录，实用工具推荐，免费资源分享。\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"柒渊阁\",\n      \"link\": \"https://www.myxz.top/\",\n      \"avatar\": \"https://sourceimage.s3.bitiful.net/myxz.avif\",\n      \"descr\": \"柒上月日，无铭之阁\"\n    },\n    {\n      \"name\": \"Oyiso's Blog\",\n      \"link\": \"https://oyiso.cn\",\n      \"avatar\": \"https://oyiso.cn/logo.png\",\n      \"descr\": \"The shortest answer is doing\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Foxhole\",\n      \"link\": \"https://blog.southfox.me/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/58982705.png\",\n      \"descr\": \"狐狸反走矣\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Donghai\",\n      \"link\": \"https://mgrowup.com/\",\n      \"avatar\": \"https://img.mgrowup.com/imgs/2025/08/5f764a786563fb90.jpg\",\n      \"descr\": \"真诚记录，生活值得\"\n    },\n    {\n      \"name\": \"晴雨笔记\",\n      \"link\": \"https://memo.moieo.net/\",\n      \"avatar\": \"https://cn.cravatar.com/avatar/89b071e828602b9f77003bdcc5b0e05c?s=150\",\n      \"descr\": \"素白清韵，简静安然\"\n    },\n    {\n      \"name\": \"Ganzhe\",\n      \"link\": \"https://www.ganzhe.site/\",\n      \"avatar\": \"https://pic.imgdb.cn/item/64895d391ddac507cce97bc3.webp\",\n      \"descr\": \"顺其自然，持之以恒\"\n    },\n    {\n      \"name\": \"UWillno's Blog\",\n      \"link\": \"https://uwillno.com\",\n      \"avatar\": \"https://uwillno.com/uwlogo.png\",\n      \"descr\": \"各类记录与Qt for WebAssembly技术测试\"\n    },\n    {\n      \"name\": \"ZY知识库\",\n      \"link\": \"https://blog.pljzy.top/\",\n      \"avatar\": \"https://blog.pljzy.top/_astro/logo.BxIxyJV1_Z19cEQW.webp\",\n      \"descr\": \"一个技术探索与分享的平台\"\n    },\n    {\n      \"name\": \"ATao\",\n      \"link\": \"https://blog.atao.cyou/\",\n      \"avatar\": \"https://cdn.atao.cyou/Web/Avatar.png\",\n      \"descr\": \"做自己喜欢的事\"\n    },\n    {\n      \"name\": \"Refactored\",\n      \"link\": \"https://www.refact.cc/\",\n      \"avatar\": \"https://www.refact.cc/avatar.png\",\n      \"descr\": \"形体是简单而纯粹的，它不是完整的群体，每个形体都指向其复杂性，并最终被复杂性联系在一起。\"\n    },\n    {\n      \"name\": \"Mo的记事簿\",\n      \"link\": \"https://blog.xiowo.net/\",\n      \"avatar\": \"https://blog.xiowo.net/img/avatar.png\",\n      \"descr\": \"万年鸽王,哈哈OvO\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"辰渊尘の个人博客\",\n      \"link\": \"https://blog.mcxiaochen.top/\",\n      \"avatar\": \"https://blog.mcxiaochen.top/favicon.ico\",\n      \"descr\": \"05后,高中生,内容偏技术向希望能对你有用QwQ\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"彬红茶日记\",\n      \"link\": \"https://note.redcha.cn\",\n      \"avatar\": \"https://note.redcha.cn/upload/favicon-256x256.png\",\n      \"descr\": \"记录自己天地下的美好\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"LanKe\",\n      \"link\": \"https://blog.blueke.top\",\n      \"avatar\": \"https://blog.blueke.top/logo.png\",\n      \"descr\": \"请为一切不真实之物骄傲，因为我们高于这个世界！\"\n    },\n    {\n      \"name\": \"躬行笔记\",\n      \"link\": \"https://www.fuzhoupyy.work\",\n      \"avatar\": \"https://www.fuzhoupyy.work/usr/themes/blog/images/tx.jpg\",\n      \"descr\": \"古人学问无遗力，少壮工夫老始成。 纸上得来终觉浅，绝知此事要躬行。\"\n    },\n    {\n      \"name\": \"青灯暮雨\",\n      \"link\": \"https://www.blatr.cn\",\n      \"avatar\": \"https://www.blatr.cn/images/adminAvatar.jpg\",\n      \"descr\": \"再渺小的星光，也有属于它的光芒\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"喜之梁\",\n      \"link\": \"https://blog.liang.one\",\n      \"avatar\": \"https://bu.dusays.com/2025/10/02/68de1a78e7aa4.webp\",\n      \"descr\": \"多点关心多点爱\"\n    },\n    {\n      \"name\": \"春华秋实\",\n      \"link\": \"https://linqiushi.top\",\n      \"avatar\": \"https://youke1.picui.cn/s1/2025/10/07/68e52c2a55563.png\",\n      \"descr\": \"无恙桃花，依然燕子，春景多别\"\n    },\n    {\n      \"name\": \"严重浪漫\",\n      \"link\": \"https://www.bat69.com/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/yanzhonglangman.webp\",\n      \"descr\": \"严重浪漫博客\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"定の栈\",\n      \"link\": \"https://saop.cc\",\n      \"avatar\": \"https://saop.cc/avatar.webp\",\n      \"descr\": \"LINK START!\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Ryan Wang\",\n      \"link\": \"https://ryanc.cc/\",\n      \"avatar\": \"https://ryanc.cc/upload/avatar-128-2024.jpg\",\n      \"descr\": \"Hi there 👋\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Eilo's Blog\",\n      \"link\": \"https://www.eilo.uk/\",\n      \"avatar\": \"https://www.eilo.uk/img/logo.png\",\n      \"descr\": \"等等我记一下\"\n    },\n    {\n      \"name\": \"李开开博客\",\n      \"link\": \"https://blog.caonmd.com/\",\n      \"avatar\": \"https://blog.caonmd.com/upload/%E5%A4%B4%E5%83%8F-%E5%9C%86.png\",\n      \"descr\": \"李开开的技术学习与日常分享\"\n    },\n    {\n      \"name\": \"bbb-lsy07\",\n      \"link\": \"https://blog.6uu.us\",\n      \"avatar\": \"https://blog.6uu.us/upload/00000.png\",\n      \"descr\": \"科技激荡人文，洞见智慧本真。\"\n    },\n    {\n      \"name\": \"老罗博客\",\n      \"link\": \"https://www.luosir.cn/\",\n      \"avatar\": \"https://q2.qlogo.cn/g?b=qq&nk=10936102&s=100\",\n      \"descr\": \"记录喜欢折腾的日常\"\n    },\n    {\n      \"name\": \"默小班\",\n      \"link\": \"https://www.memxb.top/\",\n      \"avatar\": \"https://wmimg.com/i/780/2025/07/68677fe53c2d1.png\",\n      \"descr\": \"一个初中生的小站点。\"\n    },\n    {\n      \"name\": \"皮皮社\",\n      \"link\": \"https://www.pipishe.com/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pipishe.webp\",\n      \"descr\": \"皮一下，很开心！\"\n    },\n    {\n      \"name\": \"小林先森\",\n      \"link\": \"https://blog.1edg.cn\",\n      \"avatar\": \"https://pic1.imgdb.cn/item/68eda974c5157e1a886d6347.png\",\n      \"descr\": \"小林的视界，分享生活，留住感动\"\n    },\n    {\n      \"name\": \"网易云直链解析\",\n      \"link\": \"https://api.toubiec.cn/wyapi.html\",\n      \"avatar\": \"https://ts3.tc.mm.bing.net/th/id/ODF.jjoQ4Vf3Wtohq3QsAi1UMA?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3\",\n      \"descr\": \"好用的直链解析网站\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193433.jpg\"\n    },\n    {\n      \"name\": \"安知鱼官方主题文档\",\n      \"link\": \"https://docs.anheyu.com/\",\n      \"avatar\": \"https://docs.anheyu.com/cover.webp\",\n      \"descr\": \"主题文档手册\",\n      \"siteshot\": \"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg\"\n    },\n    {\n      \"name\": \"转换云\",\n      \"link\": \"https://www.zhuanhuanyun.cn/\",\n      \"avatar\": \"https://www.zhuanhuanyun.cn/static/project/zhy/web/static/picture/icon_1.png?v=1\",\n      \"descr\": \"网易云/qq音乐歌曲格式转换\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193700.jpg\"\n    },\n    {\n      \"name\": \"语雀\",\n      \"link\": \"https://www.yuque.com/yuqueyonghunp7010/vr4bcp\",\n      \"avatar\": \"https://ts3.tc.mm.bing.net/th/id/ODF.4txnRZL6KPK00SXkgkMLag?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3\",\n      \"descr\": \"酥米的语雀，需要登录才能访问\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20194512.jpg\"\n    },\n    {\n      \"name\": \"ThisClover\",\n      \"link\": \"https://cover.weizwz.com/\",\n      \"avatar\": \"https://cover.weizwz.com/_next/image?url=%2Flogo.png&w=64&q=75\",\n      \"descr\": \"开源的博客、视频封面生成器\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Thiscloverpages.jpg\"\n    }\n  ],\n  \"length\": 42\n}","source":"flink_count.json","raw":"{\n  \"link_list\": [\n    {\n      \"name\": \"酥米\",\n      \"link\": \"https://www.sumi233.top/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/userfb6a1018b84ce485.jpg\",\n      \"descr\": \"终有一日，寻梦中人\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"安知鱼\",\n      \"link\": \"https://blog.anheyu.com/\",\n      \"avatar\": \"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg\",\n      \"descr\": \"生活明朗，万物可爱\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"GcYJdRniC1\",\n      \"link\": \"https://www.ptilopsis.xyz/\",\n      \"avatar\": \"https://www.ptilopsis.xyz/wp-content/uploads/2024/12/20241212152832.webp\",\n      \"descr\": \"GcYJdRniC1's Blog!\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"槿鸢\",\n      \"link\": \"https://ipox.cn/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(1).png\",\n      \"descr\": \"槿鸢茶屋 —— 咕咕咕\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"如笙\",\n      \"link\": \"https://blog.rusheng.top\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230805122421.png\",\n      \"descr\": \"人生如梦，不过三六\"\n    },\n    {\n      \"name\": \"白荼\",\n      \"link\": \"https://blog.iletter.top/\",\n      \"avatar\": \"https://www.ittoolman.top/images/avatar.png\",\n      \"descr\": \"没有什么可以留住，除了死亡。\"\n    },\n    {\n      \"name\": \"天影大侠的小站\",\n      \"link\": \"https://blog.skyshadow.fun\",\n      \"avatar\": \"https://weavatar.com/avatar/7388ea4765a319d5f83fea61c3236384?s=1000\",\n      \"descr\": \"天影大侠的小站\"\n    },\n    {\n      \"name\": \"澄沨的漫游茶记\",\n      \"link\": \"https://champhoon.xyz/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E6%BC%AB%E6%B8%B8%E8%8C%B6%E8%AE%B0.ico\",\n      \"descr\": \"Stay hungry, Stay foolish.\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"天海博客\",\n      \"link\": \"https://woolyun.com/\",\n      \"avatar\": \"https://woolyun.com/wp-content/uploads/2025/05/yyl-e1746698677584.jpg\",\n      \"descr\": \"建站经验记录，实用工具推荐，免费资源分享。\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"柒渊阁\",\n      \"link\": \"https://www.myxz.top/\",\n      \"avatar\": \"https://sourceimage.s3.bitiful.net/myxz.avif\",\n      \"descr\": \"柒上月日，无铭之阁\"\n    },\n    {\n      \"name\": \"Oyiso's Blog\",\n      \"link\": \"https://oyiso.cn\",\n      \"avatar\": \"https://oyiso.cn/logo.png\",\n      \"descr\": \"The shortest answer is doing\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Foxhole\",\n      \"link\": \"https://blog.southfox.me/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/58982705.png\",\n      \"descr\": \"狐狸反走矣\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Donghai\",\n      \"link\": \"https://mgrowup.com/\",\n      \"avatar\": \"https://img.mgrowup.com/imgs/2025/08/5f764a786563fb90.jpg\",\n      \"descr\": \"真诚记录，生活值得\"\n    },\n    {\n      \"name\": \"晴雨笔记\",\n      \"link\": \"https://memo.moieo.net/\",\n      \"avatar\": \"https://cn.cravatar.com/avatar/89b071e828602b9f77003bdcc5b0e05c?s=150\",\n      \"descr\": \"素白清韵，简静安然\"\n    },\n    {\n      \"name\": \"Ganzhe\",\n      \"link\": \"https://www.ganzhe.site/\",\n      \"avatar\": \"https://pic.imgdb.cn/item/64895d391ddac507cce97bc3.webp\",\n      \"descr\": \"顺其自然，持之以恒\"\n    },\n    {\n      \"name\": \"UWillno's Blog\",\n      \"link\": \"https://uwillno.com\",\n      \"avatar\": \"https://uwillno.com/uwlogo.png\",\n      \"descr\": \"各类记录与Qt for WebAssembly技术测试\"\n    },\n    {\n      \"name\": \"ZY知识库\",\n      \"link\": \"https://blog.pljzy.top/\",\n      \"avatar\": \"https://blog.pljzy.top/_astro/logo.BxIxyJV1_Z19cEQW.webp\",\n      \"descr\": \"一个技术探索与分享的平台\"\n    },\n    {\n      \"name\": \"ATao\",\n      \"link\": \"https://blog.atao.cyou/\",\n      \"avatar\": \"https://cdn.atao.cyou/Web/Avatar.png\",\n      \"descr\": \"做自己喜欢的事\"\n    },\n    {\n      \"name\": \"Refactored\",\n      \"link\": \"https://www.refact.cc/\",\n      \"avatar\": \"https://www.refact.cc/avatar.png\",\n      \"descr\": \"形体是简单而纯粹的，它不是完整的群体，每个形体都指向其复杂性，并最终被复杂性联系在一起。\"\n    },\n    {\n      \"name\": \"Mo的记事簿\",\n      \"link\": \"https://blog.xiowo.net/\",\n      \"avatar\": \"https://blog.xiowo.net/img/avatar.png\",\n      \"descr\": \"万年鸽王,哈哈OvO\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"辰渊尘の个人博客\",\n      \"link\": \"https://blog.mcxiaochen.top/\",\n      \"avatar\": \"https://blog.mcxiaochen.top/favicon.ico\",\n      \"descr\": \"05后,高中生,内容偏技术向希望能对你有用QwQ\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"彬红茶日记\",\n      \"link\": \"https://note.redcha.cn\",\n      \"avatar\": \"https://note.redcha.cn/upload/favicon-256x256.png\",\n      \"descr\": \"记录自己天地下的美好\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"LanKe\",\n      \"link\": \"https://blog.blueke.top\",\n      \"avatar\": \"https://blog.blueke.top/logo.png\",\n      \"descr\": \"请为一切不真实之物骄傲，因为我们高于这个世界！\"\n    },\n    {\n      \"name\": \"躬行笔记\",\n      \"link\": \"https://www.fuzhoupyy.work\",\n      \"avatar\": \"https://www.fuzhoupyy.work/usr/themes/blog/images/tx.jpg\",\n      \"descr\": \"古人学问无遗力，少壮工夫老始成。 纸上得来终觉浅，绝知此事要躬行。\"\n    },\n    {\n      \"name\": \"青灯暮雨\",\n      \"link\": \"https://www.blatr.cn\",\n      \"avatar\": \"https://www.blatr.cn/images/adminAvatar.jpg\",\n      \"descr\": \"再渺小的星光，也有属于它的光芒\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"喜之梁\",\n      \"link\": \"https://blog.liang.one\",\n      \"avatar\": \"https://bu.dusays.com/2025/10/02/68de1a78e7aa4.webp\",\n      \"descr\": \"多点关心多点爱\"\n    },\n    {\n      \"name\": \"春华秋实\",\n      \"link\": \"https://linqiushi.top\",\n      \"avatar\": \"https://youke1.picui.cn/s1/2025/10/07/68e52c2a55563.png\",\n      \"descr\": \"无恙桃花，依然燕子，春景多别\"\n    },\n    {\n      \"name\": \"严重浪漫\",\n      \"link\": \"https://www.bat69.com/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/yanzhonglangman.webp\",\n      \"descr\": \"严重浪漫博客\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"定の栈\",\n      \"link\": \"https://saop.cc\",\n      \"avatar\": \"https://saop.cc/avatar.webp\",\n      \"descr\": \"LINK START!\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Ryan Wang\",\n      \"link\": \"https://ryanc.cc/\",\n      \"avatar\": \"https://ryanc.cc/upload/avatar-128-2024.jpg\",\n      \"descr\": \"Hi there 👋\",\n      \"recommend\": true\n    },\n    {\n      \"name\": \"Eilo's Blog\",\n      \"link\": \"https://www.eilo.uk/\",\n      \"avatar\": \"https://www.eilo.uk/img/logo.png\",\n      \"descr\": \"等等我记一下\"\n    },\n    {\n      \"name\": \"李开开博客\",\n      \"link\": \"https://blog.caonmd.com/\",\n      \"avatar\": \"https://blog.caonmd.com/upload/%E5%A4%B4%E5%83%8F-%E5%9C%86.png\",\n      \"descr\": \"李开开的技术学习与日常分享\"\n    },\n    {\n      \"name\": \"bbb-lsy07\",\n      \"link\": \"https://blog.6uu.us\",\n      \"avatar\": \"https://blog.6uu.us/upload/00000.png\",\n      \"descr\": \"科技激荡人文，洞见智慧本真。\"\n    },\n    {\n      \"name\": \"老罗博客\",\n      \"link\": \"https://www.luosir.cn/\",\n      \"avatar\": \"https://q2.qlogo.cn/g?b=qq&nk=10936102&s=100\",\n      \"descr\": \"记录喜欢折腾的日常\"\n    },\n    {\n      \"name\": \"默小班\",\n      \"link\": \"https://www.memxb.top/\",\n      \"avatar\": \"https://wmimg.com/i/780/2025/07/68677fe53c2d1.png\",\n      \"descr\": \"一个初中生的小站点。\"\n    },\n    {\n      \"name\": \"皮皮社\",\n      \"link\": \"https://www.pipishe.com/\",\n      \"avatar\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pipishe.webp\",\n      \"descr\": \"皮一下，很开心！\"\n    },\n    {\n      \"name\": \"小林先森\",\n      \"link\": \"https://blog.1edg.cn\",\n      \"avatar\": \"https://pic1.imgdb.cn/item/68eda974c5157e1a886d6347.png\",\n      \"descr\": \"小林的视界，分享生活，留住感动\"\n    },\n    {\n      \"name\": \"网易云直链解析\",\n      \"link\": \"https://api.toubiec.cn/wyapi.html\",\n      \"avatar\": \"https://ts3.tc.mm.bing.net/th/id/ODF.jjoQ4Vf3Wtohq3QsAi1UMA?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3\",\n      \"descr\": \"好用的直链解析网站\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193433.jpg\"\n    },\n    {\n      \"name\": \"安知鱼官方主题文档\",\n      \"link\": \"https://docs.anheyu.com/\",\n      \"avatar\": \"https://docs.anheyu.com/cover.webp\",\n      \"descr\": \"主题文档手册\",\n      \"siteshot\": \"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg\"\n    },\n    {\n      \"name\": \"转换云\",\n      \"link\": \"https://www.zhuanhuanyun.cn/\",\n      \"avatar\": \"https://www.zhuanhuanyun.cn/static/project/zhy/web/static/picture/icon_1.png?v=1\",\n      \"descr\": \"网易云/qq音乐歌曲格式转换\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193700.jpg\"\n    },\n    {\n      \"name\": \"语雀\",\n      \"link\": \"https://www.yuque.com/yuqueyonghunp7010/vr4bcp\",\n      \"avatar\": \"https://ts3.tc.mm.bing.net/th/id/ODF.4txnRZL6KPK00SXkgkMLag?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3\",\n      \"descr\": \"酥米的语雀，需要登录才能访问\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20194512.jpg\"\n    },\n    {\n      \"name\": \"ThisClover\",\n      \"link\": \"https://cover.weizwz.com/\",\n      \"avatar\": \"https://cover.weizwz.com/_next/image?url=%2Flogo.png&w=64&q=75\",\n      \"descr\": \"开源的博客、视频封面生成器\",\n      \"siteshot\": \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Thiscloverpages.jpg\"\n    }\n  ],\n  \"length\": 42\n}","date":"2025-10-17T02:51:09.874Z","updated":"2025-10-17T02:51:09.874Z","path":"flink_count.json","layout":"false","title":"","comments":1,"_id":"cmgu955yq0002g0fy7kk6hvbw","content":"{\"link_list\":[{\"name\":\"酥米\",\"link\":\"https://www.sumi233.top/\",\"avatar\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/userfb6a1018b84ce485.jpg\",\"descr\":\"终有一日，寻梦中人\",\"recommend\":true},{\"name\":\"安知鱼\",\"link\":\"https://blog.anheyu.com/\",\"avatar\":\"https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg\",\"descr\":\"生活明朗，万物可爱\",\"recommend\":true},{\"name\":\"GcYJdRniC1\",\"link\":\"https://www.ptilopsis.xyz/\",\"avatar\":\"https://www.ptilopsis.xyz/wp-content/uploads/2024/12/20241212152832.webp\",\"descr\":\"GcYJdRniC1's Blog!\",\"recommend\":true},{\"name\":\"槿鸢\",\"link\":\"https://ipox.cn/\",\"avatar\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(1).png\",\"descr\":\"槿鸢茶屋 —— 咕咕咕\",\"recommend\":true},{\"name\":\"如笙\",\"link\":\"https://blog.rusheng.top\",\"avatar\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230805122421.png\",\"descr\":\"人生如梦，不过三六\"},{\"name\":\"白荼\",\"link\":\"https://blog.iletter.top/\",\"avatar\":\"https://www.ittoolman.top/images/avatar.png\",\"descr\":\"没有什么可以留住，除了死亡。\"},{\"name\":\"天影大侠的小站\",\"link\":\"https://blog.skyshadow.fun\",\"avatar\":\"https://weavatar.com/avatar/7388ea4765a319d5f83fea61c3236384?s=1000\",\"descr\":\"天影大侠的小站\"},{\"name\":\"澄沨的漫游茶记\",\"link\":\"https://champhoon.xyz/\",\"avatar\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E6%BC%AB%E6%B8%B8%E8%8C%B6%E8%AE%B0.ico\",\"descr\":\"Stay hungry, Stay foolish.\",\"recommend\":true},{\"name\":\"天海博客\",\"link\":\"https://woolyun.com/\",\"avatar\":\"https://woolyun.com/wp-content/uploads/2025/05/yyl-e1746698677584.jpg\",\"descr\":\"建站经验记录，实用工具推荐，免费资源分享。\",\"recommend\":true},{\"name\":\"柒渊阁\",\"link\":\"https://www.myxz.top/\",\"avatar\":\"https://sourceimage.s3.bitiful.net/myxz.avif\",\"descr\":\"柒上月日，无铭之阁\"},{\"name\":\"Oyiso's Blog\",\"link\":\"https://oyiso.cn\",\"avatar\":\"https://oyiso.cn/logo.png\",\"descr\":\"The shortest answer is doing\",\"recommend\":true},{\"name\":\"Foxhole\",\"link\":\"https://blog.southfox.me/\",\"avatar\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/58982705.png\",\"descr\":\"狐狸反走矣\",\"recommend\":true},{\"name\":\"Donghai\",\"link\":\"https://mgrowup.com/\",\"avatar\":\"https://img.mgrowup.com/imgs/2025/08/5f764a786563fb90.jpg\",\"descr\":\"真诚记录，生活值得\"},{\"name\":\"晴雨笔记\",\"link\":\"https://memo.moieo.net/\",\"avatar\":\"https://cn.cravatar.com/avatar/89b071e828602b9f77003bdcc5b0e05c?s=150\",\"descr\":\"素白清韵，简静安然\"},{\"name\":\"Ganzhe\",\"link\":\"https://www.ganzhe.site/\",\"avatar\":\"https://pic.imgdb.cn/item/64895d391ddac507cce97bc3.webp\",\"descr\":\"顺其自然，持之以恒\"},{\"name\":\"UWillno's Blog\",\"link\":\"https://uwillno.com\",\"avatar\":\"https://uwillno.com/uwlogo.png\",\"descr\":\"各类记录与Qt for WebAssembly技术测试\"},{\"name\":\"ZY知识库\",\"link\":\"https://blog.pljzy.top/\",\"avatar\":\"https://blog.pljzy.top/_astro/logo.BxIxyJV1_Z19cEQW.webp\",\"descr\":\"一个技术探索与分享的平台\"},{\"name\":\"ATao\",\"link\":\"https://blog.atao.cyou/\",\"avatar\":\"https://cdn.atao.cyou/Web/Avatar.png\",\"descr\":\"做自己喜欢的事\"},{\"name\":\"Refactored\",\"link\":\"https://www.refact.cc/\",\"avatar\":\"https://www.refact.cc/avatar.png\",\"descr\":\"形体是简单而纯粹的，它不是完整的群体，每个形体都指向其复杂性，并最终被复杂性联系在一起。\"},{\"name\":\"Mo的记事簿\",\"link\":\"https://blog.xiowo.net/\",\"avatar\":\"https://blog.xiowo.net/img/avatar.png\",\"descr\":\"万年鸽王,哈哈OvO\",\"recommend\":true},{\"name\":\"辰渊尘の个人博客\",\"link\":\"https://blog.mcxiaochen.top/\",\"avatar\":\"https://blog.mcxiaochen.top/favicon.ico\",\"descr\":\"05后,高中生,内容偏技术向希望能对你有用QwQ\",\"recommend\":true},{\"name\":\"彬红茶日记\",\"link\":\"https://note.redcha.cn\",\"avatar\":\"https://note.redcha.cn/upload/favicon-256x256.png\",\"descr\":\"记录自己天地下的美好\",\"recommend\":true},{\"name\":\"LanKe\",\"link\":\"https://blog.blueke.top\",\"avatar\":\"https://blog.blueke.top/logo.png\",\"descr\":\"请为一切不真实之物骄傲，因为我们高于这个世界！\"},{\"name\":\"躬行笔记\",\"link\":\"https://www.fuzhoupyy.work\",\"avatar\":\"https://www.fuzhoupyy.work/usr/themes/blog/images/tx.jpg\",\"descr\":\"古人学问无遗力，少壮工夫老始成。 纸上得来终觉浅，绝知此事要躬行。\"},{\"name\":\"青灯暮雨\",\"link\":\"https://www.blatr.cn\",\"avatar\":\"https://www.blatr.cn/images/adminAvatar.jpg\",\"descr\":\"再渺小的星光，也有属于它的光芒\",\"recommend\":true},{\"name\":\"喜之梁\",\"link\":\"https://blog.liang.one\",\"avatar\":\"https://bu.dusays.com/2025/10/02/68de1a78e7aa4.webp\",\"descr\":\"多点关心多点爱\"},{\"name\":\"春华秋实\",\"link\":\"https://linqiushi.top\",\"avatar\":\"https://youke1.picui.cn/s1/2025/10/07/68e52c2a55563.png\",\"descr\":\"无恙桃花，依然燕子，春景多别\"},{\"name\":\"严重浪漫\",\"link\":\"https://www.bat69.com/\",\"avatar\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/yanzhonglangman.webp\",\"descr\":\"严重浪漫博客\",\"recommend\":true},{\"name\":\"定の栈\",\"link\":\"https://saop.cc\",\"avatar\":\"https://saop.cc/avatar.webp\",\"descr\":\"LINK START!\",\"recommend\":true},{\"name\":\"Ryan Wang\",\"link\":\"https://ryanc.cc/\",\"avatar\":\"https://ryanc.cc/upload/avatar-128-2024.jpg\",\"descr\":\"Hi there 👋\",\"recommend\":true},{\"name\":\"Eilo's Blog\",\"link\":\"https://www.eilo.uk/\",\"avatar\":\"https://www.eilo.uk/img/logo.png\",\"descr\":\"等等我记一下\"},{\"name\":\"李开开博客\",\"link\":\"https://blog.caonmd.com/\",\"avatar\":\"https://blog.caonmd.com/upload/%E5%A4%B4%E5%83%8F-%E5%9C%86.png\",\"descr\":\"李开开的技术学习与日常分享\"},{\"name\":\"bbb-lsy07\",\"link\":\"https://blog.6uu.us\",\"avatar\":\"https://blog.6uu.us/upload/00000.png\",\"descr\":\"科技激荡人文，洞见智慧本真。\"},{\"name\":\"老罗博客\",\"link\":\"https://www.luosir.cn/\",\"avatar\":\"https://q2.qlogo.cn/g?b=qq&nk=10936102&s=100\",\"descr\":\"记录喜欢折腾的日常\"},{\"name\":\"默小班\",\"link\":\"https://www.memxb.top/\",\"avatar\":\"https://wmimg.com/i/780/2025/07/68677fe53c2d1.png\",\"descr\":\"一个初中生的小站点。\"},{\"name\":\"皮皮社\",\"link\":\"https://www.pipishe.com/\",\"avatar\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pipishe.webp\",\"descr\":\"皮一下，很开心！\"},{\"name\":\"小林先森\",\"link\":\"https://blog.1edg.cn\",\"avatar\":\"https://pic1.imgdb.cn/item/68eda974c5157e1a886d6347.png\",\"descr\":\"小林的视界，分享生活，留住感动\"},{\"name\":\"网易云直链解析\",\"link\":\"https://api.toubiec.cn/wyapi.html\",\"avatar\":\"https://ts3.tc.mm.bing.net/th/id/ODF.jjoQ4Vf3Wtohq3QsAi1UMA?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3\",\"descr\":\"好用的直链解析网站\",\"siteshot\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193433.jpg\"},{\"name\":\"安知鱼官方主题文档\",\"link\":\"https://docs.anheyu.com/\",\"avatar\":\"https://docs.anheyu.com/cover.webp\",\"descr\":\"主题文档手册\",\"siteshot\":\"https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg\"},{\"name\":\"转换云\",\"link\":\"https://www.zhuanhuanyun.cn/\",\"avatar\":\"https://www.zhuanhuanyun.cn/static/project/zhy/web/static/picture/icon_1.png?v=1\",\"descr\":\"网易云/qq音乐歌曲格式转换\",\"siteshot\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20193700.jpg\"},{\"name\":\"语雀\",\"link\":\"https://www.yuque.com/yuqueyonghunp7010/vr4bcp\",\"avatar\":\"https://ts3.tc.mm.bing.net/th/id/ODF.4txnRZL6KPK00SXkgkMLag?w=32&h=32&qlt=70&pcl=fffffa&o=7&cb=thws4&pid=1.2&rm=3\",\"descr\":\"酥米的语雀，需要登录才能访问\",\"siteshot\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20194512.jpg\"},{\"name\":\"ThisClover\",\"link\":\"https://cover.weizwz.com/\",\"avatar\":\"https://cover.weizwz.com/_next/image?url=%2Flogo.png&w=64&q=75\",\"descr\":\"开源的博客、视频封面生成器\",\"siteshot\":\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Thiscloverpages.jpg\"}],\"length\":42}"},{"_content":"{\n    \"name\": \"酥米的小站\",\n    \"short_name\": \"酥米博客\",\n    \"theme_color\": \"#FF8C00\",\n    \"background_color\": \"#FF8C00\",\n    \"display\": \"standalone\",\n    \"scope\": \"/\",\n    \"start_url\": \"/\",\n    \"id\": \"/\",\n    \"icons\": [\n      {\n        \"src\": \"img/siteicon/manifest-icon-192.maskable.png\",\n        \"sizes\": \"192x192\",\n        \"type\": \"image/png\",\n        \"purpose\": \"any\"\n      },\n      {\n        \"src\": \"img/siteicon/manifest-icon-192.maskable.png\",\n        \"sizes\": \"192x192\",\n        \"type\": \"image/png\",\n        \"purpose\": \"maskable\"\n      },\n      {\n        \"src\": \"img/siteicon/manifest-icon-512.maskable.png\",\n        \"sizes\": \"512x512\",\n        \"type\": \"image/png\",\n        \"purpose\": \"any\"\n      },\n      {\n        \"src\": \"img/siteicon/manifest-icon-512.maskable.png\",\n        \"sizes\": \"512x512\",\n        \"type\": \"image/png\",\n        \"purpose\": \"maskable\"\n      }\n    ],\n    \"splash_pages\": null\n  }","source":"manifest.json","raw":"{\n    \"name\": \"酥米的小站\",\n    \"short_name\": \"酥米博客\",\n    \"theme_color\": \"#FF8C00\",\n    \"background_color\": \"#FF8C00\",\n    \"display\": \"standalone\",\n    \"scope\": \"/\",\n    \"start_url\": \"/\",\n    \"id\": \"/\",\n    \"icons\": [\n      {\n        \"src\": \"img/siteicon/manifest-icon-192.maskable.png\",\n        \"sizes\": \"192x192\",\n        \"type\": \"image/png\",\n        \"purpose\": \"any\"\n      },\n      {\n        \"src\": \"img/siteicon/manifest-icon-192.maskable.png\",\n        \"sizes\": \"192x192\",\n        \"type\": \"image/png\",\n        \"purpose\": \"maskable\"\n      },\n      {\n        \"src\": \"img/siteicon/manifest-icon-512.maskable.png\",\n        \"sizes\": \"512x512\",\n        \"type\": \"image/png\",\n        \"purpose\": \"any\"\n      },\n      {\n        \"src\": \"img/siteicon/manifest-icon-512.maskable.png\",\n        \"sizes\": \"512x512\",\n        \"type\": \"image/png\",\n        \"purpose\": \"maskable\"\n      }\n    ],\n    \"splash_pages\": null\n  }","date":"2025-10-12T11:54:49.927Z","updated":"2025-10-12T11:54:49.927Z","path":"manifest.json","layout":"false","title":"","comments":1,"_id":"cmgu955yv0006g0fyedrz5wzu","content":"{\"name\":\"酥米的小站\",\"short_name\":\"酥米博客\",\"theme_color\":\"#FF8C00\",\"background_color\":\"#FF8C00\",\"display\":\"standalone\",\"scope\":\"/\",\"start_url\":\"/\",\"id\":\"/\",\"icons\":[{\"src\":\"img/siteicon/manifest-icon-192.maskable.png\",\"sizes\":\"192x192\",\"type\":\"image/png\",\"purpose\":\"any\"},{\"src\":\"img/siteicon/manifest-icon-192.maskable.png\",\"sizes\":\"192x192\",\"type\":\"image/png\",\"purpose\":\"maskable\"},{\"src\":\"img/siteicon/manifest-icon-512.maskable.png\",\"sizes\":\"512x512\",\"type\":\"image/png\",\"purpose\":\"any\"},{\"src\":\"img/siteicon/manifest-icon-512.maskable.png\",\"sizes\":\"512x512\",\"type\":\"image/png\",\"purpose\":\"maskable\"}],\"splash_pages\":null}"},{"_content":"/**\n * @see https://kmar.top/posts/b70ec88f/\n */\n\nmodule.exports.config = {\n  /**\n   * 与 ServiceWorker 有关的配置项\n   * 若想禁止插件自动生成 sw，此项填 false 即可\n   * @type ?Object|boolean\n   */\n  serviceWorker: {\n    cacheName: \"AnZhiYuThemeCache\"\n  },\n  register: {\n    onerror: undefined\n  },\n  dom: {\n    onsuccess: () => {\n      caches.match('https://id.v3/').then(function(response) {\n        if (response) {\n          // 如果找到了匹配的缓存响应\n          response.json().then(function(data) {\n            anzhiyuPopupManager && anzhiyuPopupManager.enqueuePopup('通知📢', `已刷新缓存，更新为${data.global + \".\" + data.local}版本最新内容`, null, 5000);\n          });\n        } else {\n          console.info('未找到匹配的缓存响应');\n        }\n      }).catch(function(error) {\n        console.error('缓存匹配出错:', error);\n      });\n    },\n  },\n  json: {\n    merge: ['page', 'archives', 'categories', 'tags']\n  },\n  external: {\n    stable: [\n      /^https:\\/\\/npm\\.elemecdn\\.com\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,\n      /^https:\\/\\/cdn\\.cbd\\.int\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,\n      /^https:\\/\\/cdn\\.jsdelivr\\.net\\/npm\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,\n    ],\n    replacer: srcUrl => {\n      if (srcUrl.startsWith('https://npm.elemecdn.com')) {\n        const url = new URL(srcUrl)\n        return [\n            srcUrl,\n            `https://cdn.cbd.int` + url.pathname,\n            `https://cdn.jsdelivr.net/npm` + url.pathname,\n            `https://cdn1.tianli0.top/npm` + url.pathname,\n            `https://fastly.jsdelivr.net/npm` + url.pathname,\n            `https://cdn.sumi233.top/npm` + url.pathname\n        ]\n      } else {\n        return srcUrl\n      }\n    },\n  }\n};\n\n/** 跳过处理番剧封面 */\nmodule.exports.skipRequest = request => request.url.startsWith('https://i0.hdslb.com');\n\n/**\n * 缓存列表\n * @param clean 清理全站时是否删除其缓存\n * @param match {function(URL)} 匹配规则\n */\nmodule.exports.cacheRules = {\n  simple: {\n    clean: true,\n    search: false,\n    match: (url, $eject) => {\n      const allowedHost = $eject.domain;\n      const allowedPaths = [\"/404.html\", \"/css/index.css\"];\n      return url.host === allowedHost && allowedPaths.includes(url.pathname);\n    },\n  },\n  cdn: {\n    clean: true,\n    match: url =>\n      [\n        \"cdn.cbd.int\",\n        \"lf26-cdn-tos.bytecdntp.com\",\n        \"lf6-cdn-tos.bytecdntp.com\",\n        \"lf3-cdn-tos.bytecdntp.com\",\n        \"lf9-cdn-tos.bytecdntp.com\",\n        \"cdn.staticfile.org\",\n        \"npm.elemecdn.com\",\n      ].includes(url.host) && url.pathname.match(/\\.(js|css|woff2|woff|ttf|cur)$/),\n  },\n};\n\n/**\n * 获取一个 URL 对应的备用 URL 列表，访问顺序按列表顺序，所有 URL 访问时参数一致\n * @param srcUrl {string} 原始 URL\n * @return {{list: string[], timeout: number}} 返回 null 或不返回表示对该 URL 不启用该功能。timeout 为超时时间（ms），list 为 URL 列表，列表不包含原始 URL 表示去除原始访问\n */\nmodule.exports.getSpareUrls = srcUrl => {\n  if (srcUrl.startsWith(\"https://npm.elemecdn.com\")) {\n    return {\n      timeout: 3000,\n      list: [srcUrl, `https://cdn.cbd.int/${new URL(srcUrl).pathname}`],\n    };\n  }\n};\n\n/**\n * 获取要插入到 sw 中的变量或常量\n * @param hexo hexo 对象\n * @param rules 合并后的 sw-rules 对象\n * @return {Object} 要插入的键值对\n */\nmodule.exports.ejectValues = (hexo, rules) => {\n  return {\n    domain: {\n      prefix: \"const\",\n      value: new URL(hexo.config.url).host,\n    },\n  };\n};\n","source":"sw-rules.js","raw":"/**\n * @see https://kmar.top/posts/b70ec88f/\n */\n\nmodule.exports.config = {\n  /**\n   * 与 ServiceWorker 有关的配置项\n   * 若想禁止插件自动生成 sw，此项填 false 即可\n   * @type ?Object|boolean\n   */\n  serviceWorker: {\n    cacheName: \"AnZhiYuThemeCache\"\n  },\n  register: {\n    onerror: undefined\n  },\n  dom: {\n    onsuccess: () => {\n      caches.match('https://id.v3/').then(function(response) {\n        if (response) {\n          // 如果找到了匹配的缓存响应\n          response.json().then(function(data) {\n            anzhiyuPopupManager && anzhiyuPopupManager.enqueuePopup('通知📢', `已刷新缓存，更新为${data.global + \".\" + data.local}版本最新内容`, null, 5000);\n          });\n        } else {\n          console.info('未找到匹配的缓存响应');\n        }\n      }).catch(function(error) {\n        console.error('缓存匹配出错:', error);\n      });\n    },\n  },\n  json: {\n    merge: ['page', 'archives', 'categories', 'tags']\n  },\n  external: {\n    stable: [\n      /^https:\\/\\/npm\\.elemecdn\\.com\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,\n      /^https:\\/\\/cdn\\.cbd\\.int\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,\n      /^https:\\/\\/cdn\\.jsdelivr\\.net\\/npm\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,\n    ],\n    replacer: srcUrl => {\n      if (srcUrl.startsWith('https://npm.elemecdn.com')) {\n        const url = new URL(srcUrl)\n        return [\n            srcUrl,\n            `https://cdn.cbd.int` + url.pathname,\n            `https://cdn.jsdelivr.net/npm` + url.pathname,\n            `https://cdn1.tianli0.top/npm` + url.pathname,\n            `https://fastly.jsdelivr.net/npm` + url.pathname,\n            `https://cdn.sumi233.top/npm` + url.pathname\n        ]\n      } else {\n        return srcUrl\n      }\n    },\n  }\n};\n\n/** 跳过处理番剧封面 */\nmodule.exports.skipRequest = request => request.url.startsWith('https://i0.hdslb.com');\n\n/**\n * 缓存列表\n * @param clean 清理全站时是否删除其缓存\n * @param match {function(URL)} 匹配规则\n */\nmodule.exports.cacheRules = {\n  simple: {\n    clean: true,\n    search: false,\n    match: (url, $eject) => {\n      const allowedHost = $eject.domain;\n      const allowedPaths = [\"/404.html\", \"/css/index.css\"];\n      return url.host === allowedHost && allowedPaths.includes(url.pathname);\n    },\n  },\n  cdn: {\n    clean: true,\n    match: url =>\n      [\n        \"cdn.cbd.int\",\n        \"lf26-cdn-tos.bytecdntp.com\",\n        \"lf6-cdn-tos.bytecdntp.com\",\n        \"lf3-cdn-tos.bytecdntp.com\",\n        \"lf9-cdn-tos.bytecdntp.com\",\n        \"cdn.staticfile.org\",\n        \"npm.elemecdn.com\",\n      ].includes(url.host) && url.pathname.match(/\\.(js|css|woff2|woff|ttf|cur)$/),\n  },\n};\n\n/**\n * 获取一个 URL 对应的备用 URL 列表，访问顺序按列表顺序，所有 URL 访问时参数一致\n * @param srcUrl {string} 原始 URL\n * @return {{list: string[], timeout: number}} 返回 null 或不返回表示对该 URL 不启用该功能。timeout 为超时时间（ms），list 为 URL 列表，列表不包含原始 URL 表示去除原始访问\n */\nmodule.exports.getSpareUrls = srcUrl => {\n  if (srcUrl.startsWith(\"https://npm.elemecdn.com\")) {\n    return {\n      timeout: 3000,\n      list: [srcUrl, `https://cdn.cbd.int/${new URL(srcUrl).pathname}`],\n    };\n  }\n};\n\n/**\n * 获取要插入到 sw 中的变量或常量\n * @param hexo hexo 对象\n * @param rules 合并后的 sw-rules 对象\n * @return {Object} 要插入的键值对\n */\nmodule.exports.ejectValues = (hexo, rules) => {\n  return {\n    domain: {\n      prefix: \"const\",\n      value: new URL(hexo.config.url).host,\n    },\n  };\n};\n","date":"2025-08-28T01:55:07.325Z","updated":"2025-08-28T01:55:07.325Z","path":"sw-rules.js","layout":"false","title":"","comments":1,"_id":"cmgu955yy0008g0fy8aq82hiq","content":"module.exports.config={serviceWorker:{cacheName:\"AnZhiYuThemeCache\"},register:{onerror:void 0},dom:{onsuccess:()=>{caches.match(\"https://id.v3/\").then(function(t){t?t.json().then(function(t){anzhiyuPopupManager&&anzhiyuPopupManager.enqueuePopup(\"通知📢\",`已刷新缓存，更新为${t.global+\".\"+t.local}版本最新内容`,null,5e3)}):console.info(\"未找到匹配的缓存响应\")}).catch(function(t){console.error(\"缓存匹配出错:\",t)})}},json:{merge:[\"page\",\"archives\",\"categories\",\"tags\"]},external:{stable:[/^https:\\/\\/npm\\.elemecdn\\.com\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,/^https:\\/\\/cdn\\.cbd\\.int\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/,/^https:\\/\\/cdn\\.jsdelivr\\.net\\/npm\\/[^/@]+\\@[^/@]+\\/[^/]+\\/[^/]+$/],replacer:t=>{var e;return t.startsWith(\"https://npm.elemecdn.com\")?[t,\"https://cdn.cbd.int\"+(e=new URL(t)).pathname,\"https://cdn.jsdelivr.net/npm\"+e.pathname,\"https://cdn1.tianli0.top/npm\"+e.pathname,\"https://fastly.jsdelivr.net/npm\"+e.pathname,\"https://cdn.sumi233.top/npm\"+e.pathname]:t}}},module.exports.skipRequest=t=>t.url.startsWith(\"https://i0.hdslb.com\"),module.exports.cacheRules={simple:{clean:!0,search:!1,match:(t,e)=>{e=e.domain;return t.host===e&&[\"/404.html\",\"/css/index.css\"].includes(t.pathname)}},cdn:{clean:!0,match:t=>[\"cdn.cbd.int\",\"lf26-cdn-tos.bytecdntp.com\",\"lf6-cdn-tos.bytecdntp.com\",\"lf3-cdn-tos.bytecdntp.com\",\"lf9-cdn-tos.bytecdntp.com\",\"cdn.staticfile.org\",\"npm.elemecdn.com\"].includes(t.host)&&t.pathname.match(/\\.(js|css|woff2|woff|ttf|cur)$/)}},module.exports.getSpareUrls=t=>{if(t.startsWith(\"https://npm.elemecdn.com\"))return{timeout:3e3,list:[t,\"https://cdn.cbd.int/\"+new URL(t).pathname]}},module.exports.ejectValues=(t,e)=>({domain:{prefix:\"const\",value:new URL(t.config.url).host}});"},{"title":"2048 Plus","description":"酥米小站的2048小游戏","date":"2024-02-16T16:14:59.000Z","_content":"\n<div id=\"game-2048-container\" style=\"max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;\">\n  <!-- 分数与控制区 -->\n  <div style=\"display: flex; justify-content: space-between; margin-bottom: 15px; font-family: 'Segoe UI', Arial;\">\n    <div style=\"font-size: 24px; font-weight: bold; color: var(--text-color);\">2048</div>\n    <div style=\"background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;\">\n      分数: <span id=\"score-2048\">0</span>\n    </div>\n    <div style=\"display: flex; gap: 5px;\">\n      <!-- 按钮增大点击区域并添加触摸反馈 -->\n      <button id=\"undo-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;\" disabled>\n        撤回\n      </button>\n      <button id=\"reset-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;\">\n        重置\n      </button>\n    </div>\n  </div>\n  \n  <!-- 游戏棋盘 -->\n  <div id=\"game-2048-board\" style=\"display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;\"></div>\n  \n  <!-- 操作说明 -->\n  <div style=\"margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: 'Segoe UI', Arial;\">\n    <p>操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并</p>\n  </div>\n</div>\n\n<script>\nconst container = document.getElementById('game-2048-container');\nif (container) {\n  // 获取DOM元素\n  const boardEl = container.querySelector('#game-2048-board');\n  const scoreEl = container.querySelector('#score-2048');\n  const resetBtn = container.querySelector('#reset-2048');\n  const undoBtn = container.querySelector('#undo-2048');\n  \n  // 游戏配置\n  const SIZE = 4;\n  let grid = [];\n  let score = 0;\n  let isDarkMode = false;\n  let history = [];\n  let isTouching = false;\n  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘\n  \n  // 颜色映射（保持不变）\n  const getColors = (value) => {\n    const colors = {\n      2: { bg: isDarkMode ? '#3a3a3a' : '#eee4da', text: isDarkMode ? '#fff' : '#776e65' },\n      4: { bg: isDarkMode ? '#4a4a4a' : '#ede0c8', text: isDarkMode ? '#fff' : '#776e65' },\n      8: { bg: isDarkMode ? '#ff9966' : '#f2b179', text: '#f9f6f2' },\n      16: { bg: isDarkMode ? '#ff7733' : '#f59563', text: '#f9f6f2' },\n      32: { bg: isDarkMode ? '#ff5500' : '#f67c5f', text: '#f9f6f2' },\n      64: { bg: isDarkMode ? '#ff3300' : '#f65e3b', text: '#f9f6f2' },\n      128: { bg: isDarkMode ? '#ffcc66' : '#edcf72', text: '#f9f6f2' },\n      256: { bg: isDarkMode ? '#ffbb33' : '#edcc61', text: '#f9f6f2' },\n      512: { bg: isDarkMode ? '#ffaa00' : '#edc850', text: '#f9f6f2' },\n      1024: { bg: isDarkMode ? '#ff9900' : '#edc53f', text: '#f9f6f2' },\n      2048: { bg: isDarkMode ? '#ff8800' : '#edc22e', text: '#f9f6f2' }\n    };\n    if (!colors[value]) {\n      colors[value] = { bg: isDarkMode ? '#ff5555' : '#3c3a32', text: '#f9f6f2' };\n    }\n    return colors[value];\n  };\n  \n  // 初始化网格（保持不变）\n  const initGrid = () => {\n    grid = Array(SIZE).fill().map(() => Array(SIZE).fill(0));\n    score = 0;\n    history = [];\n    scoreEl.textContent = '0';\n    addRandomNumber();\n    addRandomNumber();\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 保存历史记录（保持不变）\n  const saveHistory = () => {\n    const gridCopy = JSON.parse(JSON.stringify(grid));\n    history.push({ grid: gridCopy, score: score });\n    if (history.length > 10) history.shift();\n    updateUndoBtn();\n  };\n  \n  // 撤回操作（保持不变）\n  const undoMove = () => {\n    if (history.length === 0) return;\n    const lastState = history.pop();\n    grid = lastState.grid;\n    score = lastState.score;\n    scoreEl.textContent = score;\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 更新撤回按钮状态（保持不变）\n  const updateUndoBtn = () => {\n    undoBtn.disabled = history.length === 0;\n    undoBtn.style.opacity = history.length === 0 ? '0.5' : '1';\n  };\n  \n  // 随机生成数字（保持不变）\n  const addRandomNumber = () => {\n    const emptyCells = [];\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) emptyCells.push({ i, j });\n      }\n    }\n    if (emptyCells.length === 0) return false;\n    const { i, j } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    grid[i][j] = Math.random() < 0.9 ? 2 : 4;\n    return true;\n  };\n  \n  // 渲染网格（保持不变）\n  const renderGrid = () => {\n    boardEl.innerHTML = '';\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        const cell = document.createElement('div');\n        const value = grid[i][j];\n        cell.style.width = '80px';\n        cell.style.height = '80px';\n        cell.style.borderRadius = '4px';\n        cell.style.display = 'flex';\n        cell.style.alignItems = 'center';\n        cell.style.justifyContent = 'center';\n        cell.style.fontWeight = 'bold';\n        cell.style.transition = 'all 0.2s ease';\n        cell.style.fontFamily = 'Arial, sans-serif';\n        \n        if (value === 0) {\n          cell.style.background = isDarkMode ? '#2a2a2a' : '#cdc1b4';\n          cell.style.color = 'transparent';\n        } else {\n          const { bg, text } = getColors(value);\n          cell.style.background = bg;\n          cell.style.color = text;\n          cell.style.fontSize = value < 100 ? '24px' : value < 1000 ? '20px' : '16px';\n          cell.textContent = value;\n        }\n        boardEl.appendChild(cell);\n      }\n    }\n  };\n  \n  // 移动逻辑（保持不变）\n  const moveLeft = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 1; j < SIZE; j++) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k > 0 && grid[i][k - 1] === 0) {\n            grid[i][k - 1] = grid[i][k];\n            grid[i][k] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[i][k - 1] === grid[i][k]) {\n            grid[i][k - 1] *= 2;\n            score += grid[i][k - 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveRight = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = SIZE - 2; j >= 0; j--) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k < SIZE - 1 && grid[i][k + 1] === 0) {\n            grid[i][k + 1] = grid[i][k];\n            grid[i][k] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[i][k + 1] === grid[i][k]) {\n            grid[i][k + 1] *= 2;\n            score += grid[i][k + 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveUp = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 1; i < SIZE; i++) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k > 0 && grid[k - 1][j] === 0) {\n            grid[k - 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[k - 1][j] === grid[k][j]) {\n            grid[k - 1][j] *= 2;\n            score += grid[k - 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveDown = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = SIZE - 2; i >= 0; i--) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k < SIZE - 1 && grid[k + 1][j] === 0) {\n            grid[k + 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[k + 1][j] === grid[k][j]) {\n            grid[k + 1][j] *= 2;\n            score += grid[k + 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  // 处理移动（保持不变）\n  const handleMove = (direction) => {\n    let moved;\n    switch (direction) {\n      case 'left': moved = moveLeft(); break;\n      case 'right': moved = moveRight(); break;\n      case 'up': moved = moveUp(); break;\n      case 'down': moved = moveDown(); break;\n      default: return;\n    }\n    \n    if (moved) {\n      saveHistory();\n      scoreEl.textContent = score;\n      addRandomNumber();\n      renderGrid();\n      checkGameState();\n    }\n  };\n  \n  // 检查游戏状态（保持不变）\n  const checkGameState = () => {\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 2048) {\n          setTimeout(() => alert('恭喜你赢了！'), 300);\n          return;\n        }\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) return;\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE - 1; j++) {\n        if (grid[i][j] === grid[i][j + 1]) return;\n      }\n    }\n    \n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 0; i < SIZE - 1; i++) {\n        if (grid[i][j] === grid[i + 1][j]) return;\n      }\n    }\n    \n    setTimeout(() => alert('游戏结束！得分：' + score), 300);\n  };\n  \n  // 明暗模式适配（保持不变）\n  const checkThemeMode = () => {\n    isDarkMode = document.documentElement.classList.contains('dark');\n    renderGrid();\n  };\n  \n  const themeObserver = new MutationObserver(() => checkThemeMode());\n  themeObserver.observe(document.documentElement, { attributes: true });\n  \n  // 键盘控制（保持不变）\n  const handleKeydown = (e) => {\n    switch (e.key) {\n      case 'ArrowLeft': handleMove('left'); e.preventDefault(); break;\n      case 'ArrowRight': handleMove('right'); e.preventDefault(); break;\n      case 'ArrowUp': handleMove('up'); e.preventDefault(); break;\n      case 'ArrowDown': handleMove('down'); e.preventDefault(); break;\n      default: return;\n    }\n  };\n  \n  // 触屏控制（核心修复：区分按钮和棋盘触摸）\n  let touchStartX = 0, touchStartY = 0;\n  \n  // 触摸开始：记录目标元素\n  const handleTouchStart = (e) => {\n    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）\n    // 只有触摸棋盘时才处理滑动逻辑\n    if (touchTarget === boardEl || boardEl.contains(touchTarget)) {\n      isTouching = true;\n      touchStartX = e.touches[0].clientX;\n      touchStartY = e.touches[0].clientY;\n      e.preventDefault();\n    }\n    // 触摸按钮时不阻止默认行为，确保点击有效\n  };\n  \n  // 触摸移动：只在触摸棋盘时阻止滚动\n  const handleTouchMove = (e) => {\n    if (isTouching && (touchTarget === boardEl || boardEl.contains(touchTarget))) {\n      e.preventDefault(); // 仅棋盘滑动阻止滚动\n    }\n  };\n  \n  // 触摸结束：区分处理\n  const handleTouchEnd = (e) => {\n    if (isTouching) {\n      isTouching = false;\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const diffX = touchEndX - touchStartX;\n      const diffY = touchEndY - touchStartY;\n      \n      if (Math.abs(diffX) > 30 || Math.abs(diffY) > 30) {\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n          diffX > 0 ? handleMove('right') : handleMove('left');\n        } else {\n          diffY > 0 ? handleMove('down') : handleMove('up');\n        }\n      }\n      e.preventDefault();\n    }\n    touchTarget = null; // 重置触摸目标\n  };\n  \n  // 为按钮添加专门的触摸事件（解决移动端点击无反应）\n  const handleButtonTouch = (callback) => {\n    return (e) => {\n      e.stopPropagation(); // 阻止事件冒泡到容器\n      callback();\n    };\n  };\n  \n  // 事件绑定（优化版）\n  document.addEventListener('keydown', handleKeydown);\n  container.addEventListener('touchstart', handleTouchStart, { passive: false });\n  container.addEventListener('touchmove', handleTouchMove, { passive: false });\n  container.addEventListener('touchend', handleTouchEnd, { passive: false });\n  \n  // 按钮单独绑定触摸和点击事件，确保移动端响应\n  resetBtn.addEventListener('click', initGrid);\n  resetBtn.addEventListener('touchstart', handleButtonTouch(initGrid), { passive: true });\n  undoBtn.addEventListener('click', undoMove);\n  undoBtn.addEventListener('touchstart', handleButtonTouch(undoMove), { passive: true });\n  \n  // 初始化\n  checkThemeMode();\n  initGrid();\n}\n</script>","source":"Fun/index.md","raw":"---\ntitle: 2048 Plus\ndescription: 酥米小站的2048小游戏\ndate: 2024-02-17 00:14:59\n---\n\n<div id=\"game-2048-container\" style=\"max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;\">\n  <!-- 分数与控制区 -->\n  <div style=\"display: flex; justify-content: space-between; margin-bottom: 15px; font-family: 'Segoe UI', Arial;\">\n    <div style=\"font-size: 24px; font-weight: bold; color: var(--text-color);\">2048</div>\n    <div style=\"background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;\">\n      分数: <span id=\"score-2048\">0</span>\n    </div>\n    <div style=\"display: flex; gap: 5px;\">\n      <!-- 按钮增大点击区域并添加触摸反馈 -->\n      <button id=\"undo-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;\" disabled>\n        撤回\n      </button>\n      <button id=\"reset-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;\">\n        重置\n      </button>\n    </div>\n  </div>\n  \n  <!-- 游戏棋盘 -->\n  <div id=\"game-2048-board\" style=\"display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;\"></div>\n  \n  <!-- 操作说明 -->\n  <div style=\"margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: 'Segoe UI', Arial;\">\n    <p>操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并</p>\n  </div>\n</div>\n\n<script>\nconst container = document.getElementById('game-2048-container');\nif (container) {\n  // 获取DOM元素\n  const boardEl = container.querySelector('#game-2048-board');\n  const scoreEl = container.querySelector('#score-2048');\n  const resetBtn = container.querySelector('#reset-2048');\n  const undoBtn = container.querySelector('#undo-2048');\n  \n  // 游戏配置\n  const SIZE = 4;\n  let grid = [];\n  let score = 0;\n  let isDarkMode = false;\n  let history = [];\n  let isTouching = false;\n  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘\n  \n  // 颜色映射（保持不变）\n  const getColors = (value) => {\n    const colors = {\n      2: { bg: isDarkMode ? '#3a3a3a' : '#eee4da', text: isDarkMode ? '#fff' : '#776e65' },\n      4: { bg: isDarkMode ? '#4a4a4a' : '#ede0c8', text: isDarkMode ? '#fff' : '#776e65' },\n      8: { bg: isDarkMode ? '#ff9966' : '#f2b179', text: '#f9f6f2' },\n      16: { bg: isDarkMode ? '#ff7733' : '#f59563', text: '#f9f6f2' },\n      32: { bg: isDarkMode ? '#ff5500' : '#f67c5f', text: '#f9f6f2' },\n      64: { bg: isDarkMode ? '#ff3300' : '#f65e3b', text: '#f9f6f2' },\n      128: { bg: isDarkMode ? '#ffcc66' : '#edcf72', text: '#f9f6f2' },\n      256: { bg: isDarkMode ? '#ffbb33' : '#edcc61', text: '#f9f6f2' },\n      512: { bg: isDarkMode ? '#ffaa00' : '#edc850', text: '#f9f6f2' },\n      1024: { bg: isDarkMode ? '#ff9900' : '#edc53f', text: '#f9f6f2' },\n      2048: { bg: isDarkMode ? '#ff8800' : '#edc22e', text: '#f9f6f2' }\n    };\n    if (!colors[value]) {\n      colors[value] = { bg: isDarkMode ? '#ff5555' : '#3c3a32', text: '#f9f6f2' };\n    }\n    return colors[value];\n  };\n  \n  // 初始化网格（保持不变）\n  const initGrid = () => {\n    grid = Array(SIZE).fill().map(() => Array(SIZE).fill(0));\n    score = 0;\n    history = [];\n    scoreEl.textContent = '0';\n    addRandomNumber();\n    addRandomNumber();\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 保存历史记录（保持不变）\n  const saveHistory = () => {\n    const gridCopy = JSON.parse(JSON.stringify(grid));\n    history.push({ grid: gridCopy, score: score });\n    if (history.length > 10) history.shift();\n    updateUndoBtn();\n  };\n  \n  // 撤回操作（保持不变）\n  const undoMove = () => {\n    if (history.length === 0) return;\n    const lastState = history.pop();\n    grid = lastState.grid;\n    score = lastState.score;\n    scoreEl.textContent = score;\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 更新撤回按钮状态（保持不变）\n  const updateUndoBtn = () => {\n    undoBtn.disabled = history.length === 0;\n    undoBtn.style.opacity = history.length === 0 ? '0.5' : '1';\n  };\n  \n  // 随机生成数字（保持不变）\n  const addRandomNumber = () => {\n    const emptyCells = [];\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) emptyCells.push({ i, j });\n      }\n    }\n    if (emptyCells.length === 0) return false;\n    const { i, j } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    grid[i][j] = Math.random() < 0.9 ? 2 : 4;\n    return true;\n  };\n  \n  // 渲染网格（保持不变）\n  const renderGrid = () => {\n    boardEl.innerHTML = '';\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        const cell = document.createElement('div');\n        const value = grid[i][j];\n        cell.style.width = '80px';\n        cell.style.height = '80px';\n        cell.style.borderRadius = '4px';\n        cell.style.display = 'flex';\n        cell.style.alignItems = 'center';\n        cell.style.justifyContent = 'center';\n        cell.style.fontWeight = 'bold';\n        cell.style.transition = 'all 0.2s ease';\n        cell.style.fontFamily = 'Arial, sans-serif';\n        \n        if (value === 0) {\n          cell.style.background = isDarkMode ? '#2a2a2a' : '#cdc1b4';\n          cell.style.color = 'transparent';\n        } else {\n          const { bg, text } = getColors(value);\n          cell.style.background = bg;\n          cell.style.color = text;\n          cell.style.fontSize = value < 100 ? '24px' : value < 1000 ? '20px' : '16px';\n          cell.textContent = value;\n        }\n        boardEl.appendChild(cell);\n      }\n    }\n  };\n  \n  // 移动逻辑（保持不变）\n  const moveLeft = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 1; j < SIZE; j++) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k > 0 && grid[i][k - 1] === 0) {\n            grid[i][k - 1] = grid[i][k];\n            grid[i][k] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[i][k - 1] === grid[i][k]) {\n            grid[i][k - 1] *= 2;\n            score += grid[i][k - 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveRight = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = SIZE - 2; j >= 0; j--) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k < SIZE - 1 && grid[i][k + 1] === 0) {\n            grid[i][k + 1] = grid[i][k];\n            grid[i][k] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[i][k + 1] === grid[i][k]) {\n            grid[i][k + 1] *= 2;\n            score += grid[i][k + 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveUp = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 1; i < SIZE; i++) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k > 0 && grid[k - 1][j] === 0) {\n            grid[k - 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[k - 1][j] === grid[k][j]) {\n            grid[k - 1][j] *= 2;\n            score += grid[k - 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveDown = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = SIZE - 2; i >= 0; i--) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k < SIZE - 1 && grid[k + 1][j] === 0) {\n            grid[k + 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[k + 1][j] === grid[k][j]) {\n            grid[k + 1][j] *= 2;\n            score += grid[k + 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  // 处理移动（保持不变）\n  const handleMove = (direction) => {\n    let moved;\n    switch (direction) {\n      case 'left': moved = moveLeft(); break;\n      case 'right': moved = moveRight(); break;\n      case 'up': moved = moveUp(); break;\n      case 'down': moved = moveDown(); break;\n      default: return;\n    }\n    \n    if (moved) {\n      saveHistory();\n      scoreEl.textContent = score;\n      addRandomNumber();\n      renderGrid();\n      checkGameState();\n    }\n  };\n  \n  // 检查游戏状态（保持不变）\n  const checkGameState = () => {\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 2048) {\n          setTimeout(() => alert('恭喜你赢了！'), 300);\n          return;\n        }\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) return;\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE - 1; j++) {\n        if (grid[i][j] === grid[i][j + 1]) return;\n      }\n    }\n    \n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 0; i < SIZE - 1; i++) {\n        if (grid[i][j] === grid[i + 1][j]) return;\n      }\n    }\n    \n    setTimeout(() => alert('游戏结束！得分：' + score), 300);\n  };\n  \n  // 明暗模式适配（保持不变）\n  const checkThemeMode = () => {\n    isDarkMode = document.documentElement.classList.contains('dark');\n    renderGrid();\n  };\n  \n  const themeObserver = new MutationObserver(() => checkThemeMode());\n  themeObserver.observe(document.documentElement, { attributes: true });\n  \n  // 键盘控制（保持不变）\n  const handleKeydown = (e) => {\n    switch (e.key) {\n      case 'ArrowLeft': handleMove('left'); e.preventDefault(); break;\n      case 'ArrowRight': handleMove('right'); e.preventDefault(); break;\n      case 'ArrowUp': handleMove('up'); e.preventDefault(); break;\n      case 'ArrowDown': handleMove('down'); e.preventDefault(); break;\n      default: return;\n    }\n  };\n  \n  // 触屏控制（核心修复：区分按钮和棋盘触摸）\n  let touchStartX = 0, touchStartY = 0;\n  \n  // 触摸开始：记录目标元素\n  const handleTouchStart = (e) => {\n    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）\n    // 只有触摸棋盘时才处理滑动逻辑\n    if (touchTarget === boardEl || boardEl.contains(touchTarget)) {\n      isTouching = true;\n      touchStartX = e.touches[0].clientX;\n      touchStartY = e.touches[0].clientY;\n      e.preventDefault();\n    }\n    // 触摸按钮时不阻止默认行为，确保点击有效\n  };\n  \n  // 触摸移动：只在触摸棋盘时阻止滚动\n  const handleTouchMove = (e) => {\n    if (isTouching && (touchTarget === boardEl || boardEl.contains(touchTarget))) {\n      e.preventDefault(); // 仅棋盘滑动阻止滚动\n    }\n  };\n  \n  // 触摸结束：区分处理\n  const handleTouchEnd = (e) => {\n    if (isTouching) {\n      isTouching = false;\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const diffX = touchEndX - touchStartX;\n      const diffY = touchEndY - touchStartY;\n      \n      if (Math.abs(diffX) > 30 || Math.abs(diffY) > 30) {\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n          diffX > 0 ? handleMove('right') : handleMove('left');\n        } else {\n          diffY > 0 ? handleMove('down') : handleMove('up');\n        }\n      }\n      e.preventDefault();\n    }\n    touchTarget = null; // 重置触摸目标\n  };\n  \n  // 为按钮添加专门的触摸事件（解决移动端点击无反应）\n  const handleButtonTouch = (callback) => {\n    return (e) => {\n      e.stopPropagation(); // 阻止事件冒泡到容器\n      callback();\n    };\n  };\n  \n  // 事件绑定（优化版）\n  document.addEventListener('keydown', handleKeydown);\n  container.addEventListener('touchstart', handleTouchStart, { passive: false });\n  container.addEventListener('touchmove', handleTouchMove, { passive: false });\n  container.addEventListener('touchend', handleTouchEnd, { passive: false });\n  \n  // 按钮单独绑定触摸和点击事件，确保移动端响应\n  resetBtn.addEventListener('click', initGrid);\n  resetBtn.addEventListener('touchstart', handleButtonTouch(initGrid), { passive: true });\n  undoBtn.addEventListener('click', undoMove);\n  undoBtn.addEventListener('touchstart', handleButtonTouch(undoMove), { passive: true });\n  \n  // 初始化\n  checkThemeMode();\n  initGrid();\n}\n</script>","updated":"2025-10-06T16:04:51.607Z","path":"Fun/index.html","comments":1,"layout":"page","_id":"cmgu955z0000ag0fyf72pcn0p","content":"<div id=\"game-2048-container\" style=\"max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;\">\n  <!-- 分数与控制区 -->\n  <div style=\"display: flex; justify-content: space-between; margin-bottom: 15px; font-family: 'Segoe UI', Arial;\">\n    <div style=\"font-size: 24px; font-weight: bold; color: var(--text-color);\">2048</div>\n    <div style=\"background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;\">\n      分数: <span id=\"score-2048\">0</span>\n    </div>\n    <div style=\"display: flex; gap: 5px;\">\n      <!-- 按钮增大点击区域并添加触摸反馈 -->\n      <button id=\"undo-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;\" disabled>\n        撤回\n      </button>\n      <button id=\"reset-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;\">\n        重置\n      </button>\n    </div>\n  </div>\n  \n  <!-- 游戏棋盘 -->\n  <div id=\"game-2048-board\" style=\"display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;\"></div>\n  \n  <!-- 操作说明 -->\n  <div style=\"margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: 'Segoe UI', Arial;\">\n    <p>操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并</p>\n  </div>\n</div>\n\n<script>\nconst container = document.getElementById('game-2048-container');\nif (container) {\n  // 获取DOM元素\n  const boardEl = container.querySelector('#game-2048-board');\n  const scoreEl = container.querySelector('#score-2048');\n  const resetBtn = container.querySelector('#reset-2048');\n  const undoBtn = container.querySelector('#undo-2048');\n  \n  // 游戏配置\n  const SIZE = 4;\n  let grid = [];\n  let score = 0;\n  let isDarkMode = false;\n  let history = [];\n  let isTouching = false;\n  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘\n  \n  // 颜色映射（保持不变）\n  const getColors = (value) => {\n    const colors = {\n      2: { bg: isDarkMode ? '#3a3a3a' : '#eee4da', text: isDarkMode ? '#fff' : '#776e65' },\n      4: { bg: isDarkMode ? '#4a4a4a' : '#ede0c8', text: isDarkMode ? '#fff' : '#776e65' },\n      8: { bg: isDarkMode ? '#ff9966' : '#f2b179', text: '#f9f6f2' },\n      16: { bg: isDarkMode ? '#ff7733' : '#f59563', text: '#f9f6f2' },\n      32: { bg: isDarkMode ? '#ff5500' : '#f67c5f', text: '#f9f6f2' },\n      64: { bg: isDarkMode ? '#ff3300' : '#f65e3b', text: '#f9f6f2' },\n      128: { bg: isDarkMode ? '#ffcc66' : '#edcf72', text: '#f9f6f2' },\n      256: { bg: isDarkMode ? '#ffbb33' : '#edcc61', text: '#f9f6f2' },\n      512: { bg: isDarkMode ? '#ffaa00' : '#edc850', text: '#f9f6f2' },\n      1024: { bg: isDarkMode ? '#ff9900' : '#edc53f', text: '#f9f6f2' },\n      2048: { bg: isDarkMode ? '#ff8800' : '#edc22e', text: '#f9f6f2' }\n    };\n    if (!colors[value]) {\n      colors[value] = { bg: isDarkMode ? '#ff5555' : '#3c3a32', text: '#f9f6f2' };\n    }\n    return colors[value];\n  };\n  \n  // 初始化网格（保持不变）\n  const initGrid = () => {\n    grid = Array(SIZE).fill().map(() => Array(SIZE).fill(0));\n    score = 0;\n    history = [];\n    scoreEl.textContent = '0';\n    addRandomNumber();\n    addRandomNumber();\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 保存历史记录（保持不变）\n  const saveHistory = () => {\n    const gridCopy = JSON.parse(JSON.stringify(grid));\n    history.push({ grid: gridCopy, score: score });\n    if (history.length > 10) history.shift();\n    updateUndoBtn();\n  };\n  \n  // 撤回操作（保持不变）\n  const undoMove = () => {\n    if (history.length === 0) return;\n    const lastState = history.pop();\n    grid = lastState.grid;\n    score = lastState.score;\n    scoreEl.textContent = score;\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 更新撤回按钮状态（保持不变）\n  const updateUndoBtn = () => {\n    undoBtn.disabled = history.length === 0;\n    undoBtn.style.opacity = history.length === 0 ? '0.5' : '1';\n  };\n  \n  // 随机生成数字（保持不变）\n  const addRandomNumber = () => {\n    const emptyCells = [];\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) emptyCells.push({ i, j });\n      }\n    }\n    if (emptyCells.length === 0) return false;\n    const { i, j } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    grid[i][j] = Math.random() < 0.9 ? 2 : 4;\n    return true;\n  };\n  \n  // 渲染网格（保持不变）\n  const renderGrid = () => {\n    boardEl.innerHTML = '';\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        const cell = document.createElement('div');\n        const value = grid[i][j];\n        cell.style.width = '80px';\n        cell.style.height = '80px';\n        cell.style.borderRadius = '4px';\n        cell.style.display = 'flex';\n        cell.style.alignItems = 'center';\n        cell.style.justifyContent = 'center';\n        cell.style.fontWeight = 'bold';\n        cell.style.transition = 'all 0.2s ease';\n        cell.style.fontFamily = 'Arial, sans-serif';\n        \n        if (value === 0) {\n          cell.style.background = isDarkMode ? '#2a2a2a' : '#cdc1b4';\n          cell.style.color = 'transparent';\n        } else {\n          const { bg, text } = getColors(value);\n          cell.style.background = bg;\n          cell.style.color = text;\n          cell.style.fontSize = value < 100 ? '24px' : value < 1000 ? '20px' : '16px';\n          cell.textContent = value;\n        }\n        boardEl.appendChild(cell);\n      }\n    }\n  };\n  \n  // 移动逻辑（保持不变）\n  const moveLeft = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 1; j < SIZE; j++) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k > 0 && grid[i][k - 1] === 0) {\n            grid[i][k - 1] = grid[i][k];\n            grid[i][k] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[i][k - 1] === grid[i][k]) {\n            grid[i][k - 1] *= 2;\n            score += grid[i][k - 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveRight = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = SIZE - 2; j >= 0; j--) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k < SIZE - 1 && grid[i][k + 1] === 0) {\n            grid[i][k + 1] = grid[i][k];\n            grid[i][k] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[i][k + 1] === grid[i][k]) {\n            grid[i][k + 1] *= 2;\n            score += grid[i][k + 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveUp = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 1; i < SIZE; i++) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k > 0 && grid[k - 1][j] === 0) {\n            grid[k - 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[k - 1][j] === grid[k][j]) {\n            grid[k - 1][j] *= 2;\n            score += grid[k - 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveDown = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = SIZE - 2; i >= 0; i--) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k < SIZE - 1 && grid[k + 1][j] === 0) {\n            grid[k + 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[k + 1][j] === grid[k][j]) {\n            grid[k + 1][j] *= 2;\n            score += grid[k + 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  // 处理移动（保持不变）\n  const handleMove = (direction) => {\n    let moved;\n    switch (direction) {\n      case 'left': moved = moveLeft(); break;\n      case 'right': moved = moveRight(); break;\n      case 'up': moved = moveUp(); break;\n      case 'down': moved = moveDown(); break;\n      default: return;\n    }\n    \n    if (moved) {\n      saveHistory();\n      scoreEl.textContent = score;\n      addRandomNumber();\n      renderGrid();\n      checkGameState();\n    }\n  };\n  \n  // 检查游戏状态（保持不变）\n  const checkGameState = () => {\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 2048) {\n          setTimeout(() => alert('恭喜你赢了！'), 300);\n          return;\n        }\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) return;\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE - 1; j++) {\n        if (grid[i][j] === grid[i][j + 1]) return;\n      }\n    }\n    \n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 0; i < SIZE - 1; i++) {\n        if (grid[i][j] === grid[i + 1][j]) return;\n      }\n    }\n    \n    setTimeout(() => alert('游戏结束！得分：' + score), 300);\n  };\n  \n  // 明暗模式适配（保持不变）\n  const checkThemeMode = () => {\n    isDarkMode = document.documentElement.classList.contains('dark');\n    renderGrid();\n  };\n  \n  const themeObserver = new MutationObserver(() => checkThemeMode());\n  themeObserver.observe(document.documentElement, { attributes: true });\n  \n  // 键盘控制（保持不变）\n  const handleKeydown = (e) => {\n    switch (e.key) {\n      case 'ArrowLeft': handleMove('left'); e.preventDefault(); break;\n      case 'ArrowRight': handleMove('right'); e.preventDefault(); break;\n      case 'ArrowUp': handleMove('up'); e.preventDefault(); break;\n      case 'ArrowDown': handleMove('down'); e.preventDefault(); break;\n      default: return;\n    }\n  };\n  \n  // 触屏控制（核心修复：区分按钮和棋盘触摸）\n  let touchStartX = 0, touchStartY = 0;\n  \n  // 触摸开始：记录目标元素\n  const handleTouchStart = (e) => {\n    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）\n    // 只有触摸棋盘时才处理滑动逻辑\n    if (touchTarget === boardEl || boardEl.contains(touchTarget)) {\n      isTouching = true;\n      touchStartX = e.touches[0].clientX;\n      touchStartY = e.touches[0].clientY;\n      e.preventDefault();\n    }\n    // 触摸按钮时不阻止默认行为，确保点击有效\n  };\n  \n  // 触摸移动：只在触摸棋盘时阻止滚动\n  const handleTouchMove = (e) => {\n    if (isTouching && (touchTarget === boardEl || boardEl.contains(touchTarget))) {\n      e.preventDefault(); // 仅棋盘滑动阻止滚动\n    }\n  };\n  \n  // 触摸结束：区分处理\n  const handleTouchEnd = (e) => {\n    if (isTouching) {\n      isTouching = false;\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const diffX = touchEndX - touchStartX;\n      const diffY = touchEndY - touchStartY;\n      \n      if (Math.abs(diffX) > 30 || Math.abs(diffY) > 30) {\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n          diffX > 0 ? handleMove('right') : handleMove('left');\n        } else {\n          diffY > 0 ? handleMove('down') : handleMove('up');\n        }\n      }\n      e.preventDefault();\n    }\n    touchTarget = null; // 重置触摸目标\n  };\n  \n  // 为按钮添加专门的触摸事件（解决移动端点击无反应）\n  const handleButtonTouch = (callback) => {\n    return (e) => {\n      e.stopPropagation(); // 阻止事件冒泡到容器\n      callback();\n    };\n  };\n  \n  // 事件绑定（优化版）\n  document.addEventListener('keydown', handleKeydown);\n  container.addEventListener('touchstart', handleTouchStart, { passive: false });\n  container.addEventListener('touchmove', handleTouchMove, { passive: false });\n  container.addEventListener('touchend', handleTouchEnd, { passive: false });\n  \n  // 按钮单独绑定触摸和点击事件，确保移动端响应\n  resetBtn.addEventListener('click', initGrid);\n  resetBtn.addEventListener('touchstart', handleButtonTouch(initGrid), { passive: true });\n  undoBtn.addEventListener('click', undoMove);\n  undoBtn.addEventListener('touchstart', handleButtonTouch(undoMove), { passive: true });\n  \n  // 初始化\n  checkThemeMode();\n  initGrid();\n}\n</script>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<div id=\"game-2048-container\" style=\"max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;\">\n  <!-- 分数与控制区 -->\n  <div style=\"display: flex; justify-content: space-between; margin-bottom: 15px; font-family: 'Segoe UI', Arial;\">\n    <div style=\"font-size: 24px; font-weight: bold; color: var(--text-color);\">2048</div>\n    <div style=\"background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;\">\n      分数: <span id=\"score-2048\">0</span>\n    </div>\n    <div style=\"display: flex; gap: 5px;\">\n      <!-- 按钮增大点击区域并添加触摸反馈 -->\n      <button id=\"undo-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;\" disabled>\n        撤回\n      </button>\n      <button id=\"reset-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;\">\n        重置\n      </button>\n    </div>\n  </div>\n  \n  <!-- 游戏棋盘 -->\n  <div id=\"game-2048-board\" style=\"display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;\"></div>\n  \n  <!-- 操作说明 -->\n  <div style=\"margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: 'Segoe UI', Arial;\">\n    <p>操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并</p>\n  </div>\n</div>\n\n<script>\nconst container = document.getElementById('game-2048-container');\nif (container) {\n  // 获取DOM元素\n  const boardEl = container.querySelector('#game-2048-board');\n  const scoreEl = container.querySelector('#score-2048');\n  const resetBtn = container.querySelector('#reset-2048');\n  const undoBtn = container.querySelector('#undo-2048');\n  \n  // 游戏配置\n  const SIZE = 4;\n  let grid = [];\n  let score = 0;\n  let isDarkMode = false;\n  let history = [];\n  let isTouching = false;\n  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘\n  \n  // 颜色映射（保持不变）\n  const getColors = (value) => {\n    const colors = {\n      2: { bg: isDarkMode ? '#3a3a3a' : '#eee4da', text: isDarkMode ? '#fff' : '#776e65' },\n      4: { bg: isDarkMode ? '#4a4a4a' : '#ede0c8', text: isDarkMode ? '#fff' : '#776e65' },\n      8: { bg: isDarkMode ? '#ff9966' : '#f2b179', text: '#f9f6f2' },\n      16: { bg: isDarkMode ? '#ff7733' : '#f59563', text: '#f9f6f2' },\n      32: { bg: isDarkMode ? '#ff5500' : '#f67c5f', text: '#f9f6f2' },\n      64: { bg: isDarkMode ? '#ff3300' : '#f65e3b', text: '#f9f6f2' },\n      128: { bg: isDarkMode ? '#ffcc66' : '#edcf72', text: '#f9f6f2' },\n      256: { bg: isDarkMode ? '#ffbb33' : '#edcc61', text: '#f9f6f2' },\n      512: { bg: isDarkMode ? '#ffaa00' : '#edc850', text: '#f9f6f2' },\n      1024: { bg: isDarkMode ? '#ff9900' : '#edc53f', text: '#f9f6f2' },\n      2048: { bg: isDarkMode ? '#ff8800' : '#edc22e', text: '#f9f6f2' }\n    };\n    if (!colors[value]) {\n      colors[value] = { bg: isDarkMode ? '#ff5555' : '#3c3a32', text: '#f9f6f2' };\n    }\n    return colors[value];\n  };\n  \n  // 初始化网格（保持不变）\n  const initGrid = () => {\n    grid = Array(SIZE).fill().map(() => Array(SIZE).fill(0));\n    score = 0;\n    history = [];\n    scoreEl.textContent = '0';\n    addRandomNumber();\n    addRandomNumber();\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 保存历史记录（保持不变）\n  const saveHistory = () => {\n    const gridCopy = JSON.parse(JSON.stringify(grid));\n    history.push({ grid: gridCopy, score: score });\n    if (history.length > 10) history.shift();\n    updateUndoBtn();\n  };\n  \n  // 撤回操作（保持不变）\n  const undoMove = () => {\n    if (history.length === 0) return;\n    const lastState = history.pop();\n    grid = lastState.grid;\n    score = lastState.score;\n    scoreEl.textContent = score;\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 更新撤回按钮状态（保持不变）\n  const updateUndoBtn = () => {\n    undoBtn.disabled = history.length === 0;\n    undoBtn.style.opacity = history.length === 0 ? '0.5' : '1';\n  };\n  \n  // 随机生成数字（保持不变）\n  const addRandomNumber = () => {\n    const emptyCells = [];\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) emptyCells.push({ i, j });\n      }\n    }\n    if (emptyCells.length === 0) return false;\n    const { i, j } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    grid[i][j] = Math.random() < 0.9 ? 2 : 4;\n    return true;\n  };\n  \n  // 渲染网格（保持不变）\n  const renderGrid = () => {\n    boardEl.innerHTML = '';\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        const cell = document.createElement('div');\n        const value = grid[i][j];\n        cell.style.width = '80px';\n        cell.style.height = '80px';\n        cell.style.borderRadius = '4px';\n        cell.style.display = 'flex';\n        cell.style.alignItems = 'center';\n        cell.style.justifyContent = 'center';\n        cell.style.fontWeight = 'bold';\n        cell.style.transition = 'all 0.2s ease';\n        cell.style.fontFamily = 'Arial, sans-serif';\n        \n        if (value === 0) {\n          cell.style.background = isDarkMode ? '#2a2a2a' : '#cdc1b4';\n          cell.style.color = 'transparent';\n        } else {\n          const { bg, text } = getColors(value);\n          cell.style.background = bg;\n          cell.style.color = text;\n          cell.style.fontSize = value < 100 ? '24px' : value < 1000 ? '20px' : '16px';\n          cell.textContent = value;\n        }\n        boardEl.appendChild(cell);\n      }\n    }\n  };\n  \n  // 移动逻辑（保持不变）\n  const moveLeft = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 1; j < SIZE; j++) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k > 0 && grid[i][k - 1] === 0) {\n            grid[i][k - 1] = grid[i][k];\n            grid[i][k] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[i][k - 1] === grid[i][k]) {\n            grid[i][k - 1] *= 2;\n            score += grid[i][k - 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveRight = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = SIZE - 2; j >= 0; j--) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k < SIZE - 1 && grid[i][k + 1] === 0) {\n            grid[i][k + 1] = grid[i][k];\n            grid[i][k] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[i][k + 1] === grid[i][k]) {\n            grid[i][k + 1] *= 2;\n            score += grid[i][k + 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveUp = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 1; i < SIZE; i++) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k > 0 && grid[k - 1][j] === 0) {\n            grid[k - 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[k - 1][j] === grid[k][j]) {\n            grid[k - 1][j] *= 2;\n            score += grid[k - 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveDown = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = SIZE - 2; i >= 0; i--) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k < SIZE - 1 && grid[k + 1][j] === 0) {\n            grid[k + 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[k + 1][j] === grid[k][j]) {\n            grid[k + 1][j] *= 2;\n            score += grid[k + 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  // 处理移动（保持不变）\n  const handleMove = (direction) => {\n    let moved;\n    switch (direction) {\n      case 'left': moved = moveLeft(); break;\n      case 'right': moved = moveRight(); break;\n      case 'up': moved = moveUp(); break;\n      case 'down': moved = moveDown(); break;\n      default: return;\n    }\n    \n    if (moved) {\n      saveHistory();\n      scoreEl.textContent = score;\n      addRandomNumber();\n      renderGrid();\n      checkGameState();\n    }\n  };\n  \n  // 检查游戏状态（保持不变）\n  const checkGameState = () => {\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 2048) {\n          setTimeout(() => alert('恭喜你赢了！'), 300);\n          return;\n        }\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) return;\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE - 1; j++) {\n        if (grid[i][j] === grid[i][j + 1]) return;\n      }\n    }\n    \n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 0; i < SIZE - 1; i++) {\n        if (grid[i][j] === grid[i + 1][j]) return;\n      }\n    }\n    \n    setTimeout(() => alert('游戏结束！得分：' + score), 300);\n  };\n  \n  // 明暗模式适配（保持不变）\n  const checkThemeMode = () => {\n    isDarkMode = document.documentElement.classList.contains('dark');\n    renderGrid();\n  };\n  \n  const themeObserver = new MutationObserver(() => checkThemeMode());\n  themeObserver.observe(document.documentElement, { attributes: true });\n  \n  // 键盘控制（保持不变）\n  const handleKeydown = (e) => {\n    switch (e.key) {\n      case 'ArrowLeft': handleMove('left'); e.preventDefault(); break;\n      case 'ArrowRight': handleMove('right'); e.preventDefault(); break;\n      case 'ArrowUp': handleMove('up'); e.preventDefault(); break;\n      case 'ArrowDown': handleMove('down'); e.preventDefault(); break;\n      default: return;\n    }\n  };\n  \n  // 触屏控制（核心修复：区分按钮和棋盘触摸）\n  let touchStartX = 0, touchStartY = 0;\n  \n  // 触摸开始：记录目标元素\n  const handleTouchStart = (e) => {\n    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）\n    // 只有触摸棋盘时才处理滑动逻辑\n    if (touchTarget === boardEl || boardEl.contains(touchTarget)) {\n      isTouching = true;\n      touchStartX = e.touches[0].clientX;\n      touchStartY = e.touches[0].clientY;\n      e.preventDefault();\n    }\n    // 触摸按钮时不阻止默认行为，确保点击有效\n  };\n  \n  // 触摸移动：只在触摸棋盘时阻止滚动\n  const handleTouchMove = (e) => {\n    if (isTouching && (touchTarget === boardEl || boardEl.contains(touchTarget))) {\n      e.preventDefault(); // 仅棋盘滑动阻止滚动\n    }\n  };\n  \n  // 触摸结束：区分处理\n  const handleTouchEnd = (e) => {\n    if (isTouching) {\n      isTouching = false;\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const diffX = touchEndX - touchStartX;\n      const diffY = touchEndY - touchStartY;\n      \n      if (Math.abs(diffX) > 30 || Math.abs(diffY) > 30) {\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n          diffX > 0 ? handleMove('right') : handleMove('left');\n        } else {\n          diffY > 0 ? handleMove('down') : handleMove('up');\n        }\n      }\n      e.preventDefault();\n    }\n    touchTarget = null; // 重置触摸目标\n  };\n  \n  // 为按钮添加专门的触摸事件（解决移动端点击无反应）\n  const handleButtonTouch = (callback) => {\n    return (e) => {\n      e.stopPropagation(); // 阻止事件冒泡到容器\n      callback();\n    };\n  };\n  \n  // 事件绑定（优化版）\n  document.addEventListener('keydown', handleKeydown);\n  container.addEventListener('touchstart', handleTouchStart, { passive: false });\n  container.addEventListener('touchmove', handleTouchMove, { passive: false });\n  container.addEventListener('touchend', handleTouchEnd, { passive: false });\n  \n  // 按钮单独绑定触摸和点击事件，确保移动端响应\n  resetBtn.addEventListener('click', initGrid);\n  resetBtn.addEventListener('touchstart', handleButtonTouch(initGrid), { passive: true });\n  undoBtn.addEventListener('click', undoMove);\n  undoBtn.addEventListener('touchstart', handleButtonTouch(undoMove), { passive: true });\n  \n  // 初始化\n  checkThemeMode();\n  initGrid();\n}\n</script>"},{"title":"关于","date":"2024-02-20T01:06:15.000Z","aside":false,"top_img":false,"background":"#f8f9fe","comments":0,"type":"about","_content":"\n哈喽！这里是酥米😊~ 欢迎你浏览我的小站~\n这个博客修修补补了几年，也是撑到了现在！还是得感谢以前的自己，才有了现在的酥米小站呢~\n\n> 欢迎浏览新博客，基于Astro+Fuwari制作，目前还不太完善，所以目前两个博客的文章同步更新\n[点我浏览新博客](https://astro.sumi233.top \"新博客\")\n\n### 关于本人\n\n> 我目前是个高三学生呢~（虽然是高职生😭） 目前在华材职中读计算机网络专业💻 本人常住在佛山市禅城区，欢迎大家来找我面基😍\n\n#### 关于爱好\n\n其实现实中的我比较枯燥🥲 不过爱好还是有滴（\n\n- 喜欢坐地铁/公交（算是半个交通迷吧）\n- 喜欢电鸡环游周边\n- 喜欢玩Minecraft（名称：Supermini233）欢迎来和我一起玩MC吖~\n\n### 未来方向和目标\n\n - [ ] 3+高职考考上广州水利电力学院\n\n - [ ] 18岁独自出远门游北京\n\n - [ ] 博客参加十年之约\n\n - [x] 博客参加开往\n\n### 一起进步~\n\n酥米已经加入以下博客联盟啦😍~ 你也一起来参加吧~\n\n- [**中文博客集合**](https://github.com/timqian/chinese-independent-blogs \"chinese-independent-blogs\")\n- [**BlogFinder**](https://bf.zzxworld.com/s/1662 \"BlogFinder\")\n- [**BlogClub**](https://www.blogsclub.org/blog/405.html \"BlogClub\")\n- [**开往**](https://www.travellings.cn/ \"travellings\")\n- [**博友圈**](https://www.boyouquan.com/blogs/www.sumi233.top \"boyouquan\")\n- [**博客说**](https://blogtalk.org/blogs/www.sumi233.top \"BlogTalk\")\n- [**个站商店**](https://storeweb.cn/site/o/2501 \"StoreWeb\")\n\n\n### 创站历史\n\n- **2020-2021** 酥米小站正式成立，当时还是个六年级小学生，只知道按教程来部署博客🤦🤣\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/blog13.jpg)\n\n- **2022** 网站沉寂，当时应该是在中考时间，没空打理博客\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/about12.jpg)\n\n- **2023-2025** 上职中后有更多的时间打理博客，于是重构了博客，并且学会使用域名和托管加速，就变成了现在的酥米小站啦😁~\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg)\n\n### 域名\n\n- www.sumi233.top (目前使用域名)\n\n- ~~blog.supermini233.xyz~~ 不再使用并且注销域名\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2024-2-20 09:06:15\naside: false\ntop_img: false\nbackground: \"#f8f9fe\"\ncomments: false\ntype: \"about\"\n---\n\n哈喽！这里是酥米😊~ 欢迎你浏览我的小站~\n这个博客修修补补了几年，也是撑到了现在！还是得感谢以前的自己，才有了现在的酥米小站呢~\n\n> 欢迎浏览新博客，基于Astro+Fuwari制作，目前还不太完善，所以目前两个博客的文章同步更新\n[点我浏览新博客](https://astro.sumi233.top \"新博客\")\n\n### 关于本人\n\n> 我目前是个高三学生呢~（虽然是高职生😭） 目前在华材职中读计算机网络专业💻 本人常住在佛山市禅城区，欢迎大家来找我面基😍\n\n#### 关于爱好\n\n其实现实中的我比较枯燥🥲 不过爱好还是有滴（\n\n- 喜欢坐地铁/公交（算是半个交通迷吧）\n- 喜欢电鸡环游周边\n- 喜欢玩Minecraft（名称：Supermini233）欢迎来和我一起玩MC吖~\n\n### 未来方向和目标\n\n - [ ] 3+高职考考上广州水利电力学院\n\n - [ ] 18岁独自出远门游北京\n\n - [ ] 博客参加十年之约\n\n - [x] 博客参加开往\n\n### 一起进步~\n\n酥米已经加入以下博客联盟啦😍~ 你也一起来参加吧~\n\n- [**中文博客集合**](https://github.com/timqian/chinese-independent-blogs \"chinese-independent-blogs\")\n- [**BlogFinder**](https://bf.zzxworld.com/s/1662 \"BlogFinder\")\n- [**BlogClub**](https://www.blogsclub.org/blog/405.html \"BlogClub\")\n- [**开往**](https://www.travellings.cn/ \"travellings\")\n- [**博友圈**](https://www.boyouquan.com/blogs/www.sumi233.top \"boyouquan\")\n- [**博客说**](https://blogtalk.org/blogs/www.sumi233.top \"BlogTalk\")\n- [**个站商店**](https://storeweb.cn/site/o/2501 \"StoreWeb\")\n\n\n### 创站历史\n\n- **2020-2021** 酥米小站正式成立，当时还是个六年级小学生，只知道按教程来部署博客🤦🤣\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/blog13.jpg)\n\n- **2022** 网站沉寂，当时应该是在中考时间，没空打理博客\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/about12.jpg)\n\n- **2023-2025** 上职中后有更多的时间打理博客，于是重构了博客，并且学会使用域名和托管加速，就变成了现在的酥米小站啦😁~\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg)\n\n### 域名\n\n- www.sumi233.top (目前使用域名)\n\n- ~~blog.supermini233.xyz~~ 不再使用并且注销域名\n","updated":"2025-10-16T02:57:15.313Z","path":"about/index.html","layout":"page","_id":"cmgu955z5000eg0fy9p5lhyjx","content":"<p>哈喽！这里是酥米😊~ 欢迎你浏览我的小站~<br>这个博客修修补补了几年，也是撑到了现在！还是得感谢以前的自己，才有了现在的酥米小站呢~</p>\n<blockquote>\n<p>欢迎浏览新博客，基于Astro+Fuwari制作，目前还不太完善，所以目前两个博客的文章同步更新<br><a href=\"https://astro.sumi233.top/\" title=\"新博客\">点我浏览新博客</a></p>\n</blockquote>\n<h3 id=\"关于本人\"><a href=\"#关于本人\" class=\"headerlink\" title=\"关于本人\"></a>关于本人</h3><blockquote>\n<p>我目前是个高三学生呢~（虽然是高职生😭） 目前在华材职中读计算机网络专业💻 本人常住在佛山市禅城区，欢迎大家来找我面基😍</p>\n</blockquote>\n<h4 id=\"关于爱好\"><a href=\"#关于爱好\" class=\"headerlink\" title=\"关于爱好\"></a>关于爱好</h4><p>其实现实中的我比较枯燥🥲 不过爱好还是有滴（</p>\n<ul>\n<li>喜欢坐地铁&#x2F;公交（算是半个交通迷吧）</li>\n<li>喜欢电鸡环游周边</li>\n<li>喜欢玩Minecraft（名称：Supermini233）欢迎来和我一起玩MC吖~</li>\n</ul>\n<h3 id=\"未来方向和目标\"><a href=\"#未来方向和目标\" class=\"headerlink\" title=\"未来方向和目标\"></a>未来方向和目标</h3><ul>\n<li><p><input disabled type=\"checkbox\"> \n3+高职考考上广州水利电力学院</p>\n</li>\n<li><p><input disabled type=\"checkbox\"> \n18岁独自出远门游北京</p>\n</li>\n<li><p><input disabled type=\"checkbox\"> \n博客参加十年之约</p>\n</li>\n<li><p><input checked disabled type=\"checkbox\"> \n博客参加开往</p>\n</li>\n</ul>\n<h3 id=\"一起进步\"><a href=\"#一起进步\" class=\"headerlink\" title=\"一起进步~\"></a>一起进步~</h3><p>酥米已经加入以下博客联盟啦😍~ 你也一起来参加吧~</p>\n<ul>\n<li><a href=\"https://github.com/timqian/chinese-independent-blogs\" title=\"chinese-independent-blogs\"><strong>中文博客集合</strong></a></li>\n<li><a href=\"https://bf.zzxworld.com/s/1662\" title=\"BlogFinder\"><strong>BlogFinder</strong></a></li>\n<li><a href=\"https://www.blogsclub.org/blog/405.html\" title=\"BlogClub\"><strong>BlogClub</strong></a></li>\n<li><a href=\"https://www.travellings.cn/\" title=\"travellings\"><strong>开往</strong></a></li>\n<li><a href=\"https://www.boyouquan.com/blogs/www.sumi233.top\" title=\"boyouquan\"><strong>博友圈</strong></a></li>\n<li><a href=\"https://blogtalk.org/blogs/www.sumi233.top\" title=\"BlogTalk\"><strong>博客说</strong></a></li>\n<li><a href=\"https://storeweb.cn/site/o/2501\" title=\"StoreWeb\"><strong>个站商店</strong></a></li>\n</ul>\n<h3 id=\"创站历史\"><a href=\"#创站历史\" class=\"headerlink\" title=\"创站历史\"></a>创站历史</h3><ul>\n<li><p><strong>2020-2021</strong> 酥米小站正式成立，当时还是个六年级小学生，只知道按教程来部署博客🤦🤣<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/blog13.jpg\"></p>\n</li>\n<li><p><strong>2022</strong> 网站沉寂，当时应该是在中考时间，没空打理博客<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/about12.jpg\"></p>\n</li>\n<li><p><strong>2023-2025</strong> 上职中后有更多的时间打理博客，于是重构了博客，并且学会使用域名和托管加速，就变成了现在的酥米小站啦😁~<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg\"></p>\n</li>\n</ul>\n<h3 id=\"域名\"><a href=\"#域名\" class=\"headerlink\" title=\"域名\"></a>域名</h3><ul>\n<li><p><a href=\"http://www.sumi233.top/\">www.sumi233.top</a> (目前使用域名)</p>\n</li>\n<li><p><del>blog.supermini233.xyz</del> 不再使用并且注销域名</p>\n</li>\n</ul>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<p>哈喽！这里是酥米😊~ 欢迎你浏览我的小站~<br>这个博客修修补补了几年，也是撑到了现在！还是得感谢以前的自己，才有了现在的酥米小站呢~</p>\n<blockquote>\n<p>欢迎浏览新博客，基于Astro+Fuwari制作，目前还不太完善，所以目前两个博客的文章同步更新<br><a href=\"https://astro.sumi233.top/\" title=\"新博客\">点我浏览新博客</a></p>\n</blockquote>\n<h3 id=\"关于本人\"><a href=\"#关于本人\" class=\"headerlink\" title=\"关于本人\"></a>关于本人</h3><blockquote>\n<p>我目前是个高三学生呢~（虽然是高职生😭） 目前在华材职中读计算机网络专业💻 本人常住在佛山市禅城区，欢迎大家来找我面基😍</p>\n</blockquote>\n<h4 id=\"关于爱好\"><a href=\"#关于爱好\" class=\"headerlink\" title=\"关于爱好\"></a>关于爱好</h4><p>其实现实中的我比较枯燥🥲 不过爱好还是有滴（</p>\n<ul>\n<li>喜欢坐地铁&#x2F;公交（算是半个交通迷吧）</li>\n<li>喜欢电鸡环游周边</li>\n<li>喜欢玩Minecraft（名称：Supermini233）欢迎来和我一起玩MC吖~</li>\n</ul>\n<h3 id=\"未来方向和目标\"><a href=\"#未来方向和目标\" class=\"headerlink\" title=\"未来方向和目标\"></a>未来方向和目标</h3><ul>\n<li><p><input disabled type=\"checkbox\"> \n3+高职考考上广州水利电力学院</p>\n</li>\n<li><p><input disabled type=\"checkbox\"> \n18岁独自出远门游北京</p>\n</li>\n<li><p><input disabled type=\"checkbox\"> \n博客参加十年之约</p>\n</li>\n<li><p><input checked disabled type=\"checkbox\"> \n博客参加开往</p>\n</li>\n</ul>\n<h3 id=\"一起进步\"><a href=\"#一起进步\" class=\"headerlink\" title=\"一起进步~\"></a>一起进步~</h3><p>酥米已经加入以下博客联盟啦😍~ 你也一起来参加吧~</p>\n<ul>\n<li><a href=\"https://github.com/timqian/chinese-independent-blogs\" title=\"chinese-independent-blogs\"><strong>中文博客集合</strong></a></li>\n<li><a href=\"https://bf.zzxworld.com/s/1662\" title=\"BlogFinder\"><strong>BlogFinder</strong></a></li>\n<li><a href=\"https://www.blogsclub.org/blog/405.html\" title=\"BlogClub\"><strong>BlogClub</strong></a></li>\n<li><a href=\"https://www.travellings.cn/\" title=\"travellings\"><strong>开往</strong></a></li>\n<li><a href=\"https://www.boyouquan.com/blogs/www.sumi233.top\" title=\"boyouquan\"><strong>博友圈</strong></a></li>\n<li><a href=\"https://blogtalk.org/blogs/www.sumi233.top\" title=\"BlogTalk\"><strong>博客说</strong></a></li>\n<li><a href=\"https://storeweb.cn/site/o/2501\" title=\"StoreWeb\"><strong>个站商店</strong></a></li>\n</ul>\n<h3 id=\"创站历史\"><a href=\"#创站历史\" class=\"headerlink\" title=\"创站历史\"></a>创站历史</h3><ul>\n<li><p><strong>2020-2021</strong> 酥米小站正式成立，当时还是个六年级小学生，只知道按教程来部署博客🤦🤣<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/blog13.jpg\"></p>\n</li>\n<li><p><strong>2022</strong> 网站沉寂，当时应该是在中考时间，没空打理博客<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/about12.jpg\"></p>\n</li>\n<li><p><strong>2023-2025</strong> 上职中后有更多的时间打理博客，于是重构了博客，并且学会使用域名和托管加速，就变成了现在的酥米小站啦😁~<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg\"></p>\n</li>\n</ul>\n<h3 id=\"域名\"><a href=\"#域名\" class=\"headerlink\" title=\"域名\"></a>域名</h3><ul>\n<li><p><a href=\"http://www.sumi233.top/\">www.sumi233.top</a> (目前使用域名)</p>\n</li>\n<li><p><del>blog.supermini233.xyz</del> 不再使用并且注销域名</p>\n</li>\n</ul>\n"},{"title":"便携小空调 - 为你的夏日带去清凉!","date":"2024-10-20T14:06:17.000Z","comments":1,"aside":false,"top_img":false,"_content":"\n> 终于为博客安装上了便携小空调啦！\n> 酥米的小站拥有了凉快（bushi\n\n<style>\n.copyright-box a {\n  border-bottom: none !important;\n  padding: 0 !important;\n}\n</style>\n\n<div id=\"air-conditioner-vue\"></div>\n<script defer data-pjax src='https://npm.elemecdn.com/anzhiyu-air-conditioner@1.0.1/index.3f125bc6.js'></script>","source":"air-conditioner/index.md","raw":"---\ntitle: 便携小空调 - 为你的夏日带去清凉!\ndate: 2024-10-20 22:06:17\ncomments: true\naside: false\ntop_img: false\n---\n\n> 终于为博客安装上了便携小空调啦！\n> 酥米的小站拥有了凉快（bushi\n\n<style>\n.copyright-box a {\n  border-bottom: none !important;\n  padding: 0 !important;\n}\n</style>\n\n<div id=\"air-conditioner-vue\"></div>\n<script defer data-pjax src='https://npm.elemecdn.com/anzhiyu-air-conditioner@1.0.1/index.3f125bc6.js'></script>","updated":"2024-11-20T12:14:27.090Z","path":"air-conditioner/index.html","layout":"page","_id":"cmgu955z7000gg0fycarc831t","content":"<blockquote>\n<p>终于为博客安装上了便携小空调啦！<br>酥米的小站拥有了凉快（bushi</p>\n</blockquote>\n<style>\n.copyright-box a {\n  border-bottom: none !important;\n  padding: 0 !important;\n}\n</style>\n\n<div id=\"air-conditioner-vue\"></div>\n<script defer data-pjax src=\"https://npm.elemecdn.com/anzhiyu-air-conditioner@1.0.1/index.3f125bc6.js\"></script>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<blockquote>\n<p>终于为博客安装上了便携小空调啦！<br>酥米的小站拥有了凉快（bushi</p>\n</blockquote>\n<style>\n.copyright-box a {\n  border-bottom: none !important;\n  padding: 0 !important;\n}\n</style>\n\n<div id=\"air-conditioner-vue\"></div>\n<script defer data-pjax src=\"https://npm.elemecdn.com/anzhiyu-air-conditioner@1.0.1/index.3f125bc6.js\"></script>"},{"title":"AES加解密工具","description":"高级AES加解密工具（带偏移量设置）","comments":0,"date":"2025-09-25T16:00:00.000Z","_content":"\n<!-- 高级AES加解密工具 - Anzhiyu主题适配版 -->\n<div id=\"aes-tool-widget\" style=\"width: 100%; max-width: 700px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM内容将通过JavaScript注入 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建HTML模板\n  const htmlTemplate = `\n    <style>\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      /* 基础样式式 - 将在JS中动态设置变量 */\n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2, h3 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--text-color);\n        margin-bottom: 20px;\n      }\n      \n      h2 {\n        font-size: 1.4rem;\n        margin-top: 24px;\n        padding-bottom: 8px;\n        border-bottom: 1px solid var(--border-color);\n      }\n      \n      h3 {\n        font-size: 1.1rem;\n        text-align: left;\n        margin-bottom: 12px;\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--sub-color);\n      }\n      \n      .card {\n        background: var(--card-bg);\n        border-radius: 8px;\n        padding: 18px;\n        margin-bottom: 20px;\n        border: 1px solid var(--border-color);\n      }\n      \n      .options-row {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .option-group {\n        flex: 1;\n        min-width: 200px;\n      }\n      \n      .input-group {\n        margin-bottom: 16px;\n      }\n      \n      label {\n        display: block;\n        margin-bottom: 6px;\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .radio-group {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 4px;\n      }\n      \n      .radio-item {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      input[type=\"text\"], \n      input[type=\"password\"], \n      textarea, \n      select {\n        width: 100%;\n        padding: 12px;\n        border: 1px solid var(--border-color);\n        border-radius: 6px;\n        background: var(--bg-color);\n        color: var(--text-color);\n        font-size: 1rem;\n        transition: border-color 0.2s ease;\n      }\n      \n      input:focus, \n      textarea:focus, \n      select:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);\n      }\n      \n      textarea {\n        min-height: 120px;\n        resize: vertical;\n        line-height: 1.5;\n      }\n      \n      .button-group {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin: 24px 0;\n        flex-wrap: wrap;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      button svg {\n        width: 16px;\n        height: 16px;\n      }\n      \n      #encrypt-btn {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      #encrypt-btn:hover {\n        background: var(--primary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #decrypt-btn {\n        background: var(--secondary-color);\n        color: white;\n      }\n      \n      #decrypt-btn:hover {\n        background: var(--secondary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);\n      }\n      \n      .utility-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      .utility-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      #reset-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      #reset-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      .result-container {\n        margin-top: 16px;\n        padding: 16px;\n        border-radius: 8px;\n        background: var(--card-bg);\n        border: 1px solid var(--border-color);\n      }\n      \n      .result-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 8px;\n      }\n      \n      .result-title {\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .result-content {\n        min-height: 120px;\n        white-space: pre-wrap;\n        word-wrap: break-word;\n        line-height: 1.5;\n      }\n      \n      .result.error {\n        background: var(--error-bg);\n        border-color: var(--error-border);\n        color: var(--error-text);\n      }\n      \n      .info-text {\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        margin-top: 6px;\n        text-align: right;\n      }\n      \n      .stats {\n        margin-top: 12px;\n        padding-top: 12px;\n        border-top: 1px dashed var(--border-color);\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 8px;\n      }\n      \n      .stat-item {\n        display: flex;\n        justify-content: space-between;\n      }\n      \n      .environment-warning {\n        margin: 16px 0;\n        padding: 12px;\n        background: #fff3cd;\n        border: 1px solid #ffeeba;\n        border-radius: 6px;\n        color: #856404;\n        font-size: 0.9rem;\n        display: none;\n      }\n\n      .environment-warning.dark {\n        background: #5c4b00;\n        border-color: #856404;\n        color: #fff3cd;\n      }\n      \n      .tooltip {\n        position: relative;\n        display: inline-block;\n        cursor: help;\n      }\n      \n      .tooltip .tooltip-text {\n        visibility: hidden;\n        width: 250px;\n        background-color: var(--tooltip-bg);\n        color: var(--tooltip-text);\n        text-align: center;\n        border-radius: 6px;\n        padding: 8px;\n        position: absolute;\n        z-index: 1;\n        bottom: 125%;\n        left: 50%;\n        transform: translateX(-50%);\n        opacity: 0;\n        transition: opacity 0.3s;\n        font-size: 0.8rem;\n        font-weight: normal;\n      }\n      \n      .tooltip:hover .tooltip-text {\n        visibility: visible;\n        opacity: 1;\n      }\n      \n      .offset-options {\n        margin-top: 10px;\n        padding-top: 10px;\n        border-top: 1px dashed var(--border-color);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>高级AES加解密工具</h1>\n      \n      <div class=\"environment-warning\" id=\"env-warning\">\n        ⚠️ 注意：加密功能需要在安全上下文（HTTPS或localhost）中运行，请切换到支持的环境。\n      </div>\n      \n      <div class=\"intro\">\n        基于Web Crypto API的专业AES加解密工具，支持多种密钥长度、加密模式和自定义偏移量，所有操作均在本地完成。\n      </div>\n\n      <div class=\"card\">\n        <h3>加密选项</h3>\n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"key-length\">密钥长度</label>\n            <select id=\"key-length\">\n              <option value=\"128\">128位 (16字符)</option>\n              <option value=\"192\">192位 (24字符)</option>\n              <option value=\"256\">256位 (32字符)</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"mode\">加密模式</label>\n            <select id=\"mode\">\n              <option value=\"GCM\">AES-GCM (认证加密)</option>\n              <option value=\"CBC\">AES-CBC</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"input-encoding\">输入编码</label>\n            <select id=\"input-encoding\">\n              <option value=\"utf8\">UTF-8 文本</option>\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"output-encoding\">输出编码</label>\n            <select id=\"output-encoding\">\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"plaintext\">\n          输入数据\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">加密时输入明文，解密时输入密文</span>\n          </span>\n        </label>\n        <textarea id=\"plaintext\" placeholder=\"请输入要加密的明文或要解密的密文...\"></textarea>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"secret-key\">\n          密钥\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">根据所选密钥长度，需输入16/24/32个字符</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"password\" id=\"secret-key\" placeholder=\"请输入密钥\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-key\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"toggle-visibility\">显示</button>\n        </div>\n        <div class=\"info-text\" id=\"key-length-info\">当前长度: 0/16</div>\n      </div>\n\n      <div class=\"input-group\" id=\"offset-group\">\n        <label for=\"offset\">\n          偏移量 (IV)\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">初始化向量，用于增加加密强度，不同模式有不同的推荐长度，解密时需使用相同值</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"text\" id=\"offset\" placeholder=\"偏移量（初始化向量）\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-offset\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"copy-offset\">复制</button>\n        </div>\n        \n        <div class=\"offset-options\">\n          <div class=\"options-row\">\n            <div class=\"option-group\">\n              <label for=\"offset-length\">偏移量长度 (字节)</label>\n              <select id=\"offset-length\">\n                <option value=\"8\">8</option>\n                <option value=\"12\" selected>12 (GCM推荐)</option>\n                <option value=\"16\">16 (CBC推荐)</option>\n                <option value=\"24\">24</option>\n                <option value=\"32\">32</option>\n              </select>\n            </div>\n            <div class=\"option-group\">\n              <label for=\"offset-encoding\">偏移量编码</label>\n              <select id=\"offset-encoding\">\n                <option value=\"hex\" selected>十六进制</option>\n                <option value=\"base64\">Base64</option>\n                <option value=\"utf8\">UTF-8</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"info-text\" id=\"offset-info\">当前偏移量长度: 0字节</div>\n        </div>\n      </div>\n\n      <div class=\"button-group\">\n        <button id=\"encrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          加密\n        </button>\n        <button id=\"decrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          解密\n        </button>\n        <button type=\"button\" class=\"utility-btn\" id=\"copy-result\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n          </svg>\n          复制结果\n        </button>\n        <button id=\"reset-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <path d=\"M21 2v6h-6\"></path>\n            <path d=\"M3 12a9 9 0 0 1 15-6.7L21 8\"></path>\n            <path d=\"M3 22v-6h6\"></path>\n            <path d=\"M21 12a9 9 0 0 1-15 6.7L3 16\"></path>\n          </svg>\n          重置\n        </button>\n      </div>\n\n      <h2>结果</h2>\n      <div class=\"result-container\" id=\"result-container\">\n        <div class=\"result-header\">\n          <div class=\"result-title\" id=\"result-title\">操作结果将显示在这里...</div>\n        </div>\n        <div class=\"result-content\" id=\"result-area\"></div>\n        <div class=\"stats\" id=\"stats-area\" style=\"display: none;\">\n          <div class=\"stat-item\">\n            <span>密钥长度:</span>\n            <span id=\"stat-key-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>加密模式:</span>\n            <span id=\"stat-mode\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>偏移量长度:</span>\n            <span id=\"stat-offset-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>处理时间:</span>\n            <span id=\"stat-time\">-</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n\n  // 2. 创建Shadow DOM\n  const widgetContainer = document.getElementById('aes-tool-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  shadowRoot.innerHTML = htmlTemplate;\n\n  // 3. 主题适配 - 专为Anzhiyu主题优化\n  function applyAnzhiyuTheme() {\n    // 检测Anzhiyu主题的深色/亮色模式\n    const htmlElement = document.documentElement;\n    const bodyElement = document.body;\n    const isLightMode = htmlElement.getAttribute('data-theme') === 'light' || \n                       bodyElement.classList.contains('light');\n    \n    const style = document.createElement('style');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 同步警告框的主题\n    if (isLightMode) {\n      envWarning.classList.remove('dark');\n    } else {\n      envWarning.classList.add('dark');\n    }\n    \n    // 亮色模式 - 遵循Anzhiyu主题变量\n    if (isLightMode) {\n      style.textContent = `\n        :host {\n          --text-color: #333;          /* 文本主色 */\n          --bg-color: #f5f5f5;         /* 背景色 */\n          --sub-color: #666;           /* 次要文本色 */\n          --key-bg: #ddd;              /* 按钮背景色 */\n          --border-color: #ddd;        /* 边框色 */\n          --intro-bg: #f0f0f0;         /* 介绍区域背景 */\n          --card-bg: #fff;             /* 卡片背景 */\n          --primary-color: #007bff;    /* 主按钮色 */\n          --primary-dark: #0056b3;     /* 主按钮hover色 */\n          --secondary-color: #28a745;  /* 次要按钮色 */\n          --secondary-dark: #218838;   /* 次要按钮hover色 */\n          --utility-hover: #ccc;       /* 工具按钮hover色 */\n          --result-bg: #fff;           /* 结果区域背景 */\n          --error-bg: #fff5f5;         /* 错误背景 */\n          --error-border: #ffe3e3;     /* 错误边框 */\n          --error-text: #dc3545;       /* 错误文本 */\n          --tooltip-bg: #333;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    } \n    // 深色模式 - 适配Anzhiyu深色风格\n    else {\n      style.textContent = `\n        :host {\n          --text-color: #f0f0f0;       /* 文本主色 */\n          --bg-color: #1a1a1a;         /* 背景色 */\n          --sub-color: #bbb;           /* 次要文本色 */\n          --key-bg: #333;              /* 按钮背景色 */\n          --border-color: #333;        /* 边框色 */\n          --intro-bg: #2d2d2d;         /* 介绍区域背景 */\n          --card-bg: #2d2d2d;          /* 卡片背景 */\n          --primary-color: #4dabf7;    /* 主按钮色 */\n          --primary-dark: #3b82f6;     /* 主按钮hover色 */\n          --secondary-color: #51cf66;  /* 次要按钮色 */\n          --secondary-dark: #40c057;   /* 次要按钮hover色 */\n          --utility-hover: #444;       /* 工具按钮hover色 */\n          --result-bg: #2d2d2d;        /* 结果区域背景 */\n          --error-bg: #471515;         /* 错误背景 */\n          --error-border: #6b2121;     /* 错误边框 */\n          --error-text: #f87171;       /* 错误文本 */\n          --tooltip-bg: #444;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    }\n    \n    // 清除旧主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n\n  // 4. 工具函数 - 编码转换和辅助函数\n  const CodecUtils = {\n    // 字符串转ArrayBuffer (UTF-8)\n    stringToArrayBuffer: (str) => {\n      return new TextEncoder().encode(str);\n    },\n    \n    // ArrayBuffer转字符串 (UTF-8)\n    arrayBufferToString: (buf) => {\n      return new TextDecoder().decode(buf);\n    },\n    \n    // ArrayBuffer转Base64字符串\n    arrayBufferToBase64: (buf) => {\n      return btoa(String.fromCharCode(...new Uint8Array(buf)));\n    },\n    \n    // Base64字符串转ArrayBuffer\n    base64ToArrayBuffer: (base64) => {\n      try {\n        const binary = atob(base64);\n        const buf = new ArrayBuffer(binary.length);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < binary.length; i++) {\n          view[i] = binary.charCodeAt(i);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的Base64编码: ' + e.message);\n      }\n    },\n    \n    // ArrayBuffer转十六进制字符串\n    arrayBufferToHex: (buf) => {\n      return Array.from(new Uint8Array(buf))\n        .map(b => b.toString(16).padStart(2, '0'))\n        .join('');\n    },\n    \n    // 十六进制字符串转ArrayBuffer\n    hexToArrayBuffer: (hex) => {\n      try {\n        if (hex.length % 2 !== 0) {\n          throw new Error('十六进制字符串长度必须为偶数');\n        }\n        const buf = new ArrayBuffer(hex.length / 2);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < hex.length; i += 2) {\n          view[i / 2] = parseInt(hex.substr(i, 2), 16);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的十六进制编码: ' + e.message);\n      }\n    },\n    \n    // 根据编码类型将输入转换为ArrayBuffer\n    inputToBuffer: (input, encoding) => {\n      if (!input) return new ArrayBuffer(0);\n      \n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.stringToArrayBuffer(input);\n        case 'base64':\n          return CodecUtils.base64ToArrayBuffer(input);\n        case 'hex':\n          return CodecUtils.hexToArrayBuffer(input);\n        default:\n          throw new Error('不支持的输入编码: ' + encoding);\n      }\n    },\n    \n    // 根据编码类型将ArrayBuffer转换为字符串\n    bufferToOutput: (buffer, encoding) => {\n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(buffer);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(buffer);\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(buffer);\n        default:\n          throw new Error('不支持的输出编码: ' + encoding);\n      }\n    },\n    \n    // 生成指定长度的随机字节\n    generateRandomBytes: (length) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，无法生成随机数');\n      }\n      return window.crypto.getRandomValues(new Uint8Array(length));\n    },\n    \n    // 生成随机密钥\n    generateRandomKey: (bitLength) => {\n      const byteLength = bitLength / 8;\n      const keyBytes = CodecUtils.generateRandomBytes(byteLength);\n      return CodecUtils.arrayBufferToBase64(keyBytes).substring(0, byteLength);\n    },\n    \n    // 生成随机偏移量(IV)\n    generateRandomOffset: (byteLength, encoding) => {\n      const ivBytes = CodecUtils.generateRandomBytes(byteLength);\n      switch (encoding) {\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(ivBytes);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(ivBytes);\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(ivBytes);\n        default:\n          return CodecUtils.arrayBufferToHex(ivBytes);\n      }\n    },\n    \n    // 计算偏移量字节长度\n    getOffsetByteLength: (offset, encoding) => {\n      if (!offset) return 0;\n      \n      try {\n        const buffer = CodecUtils.inputToBuffer(offset, encoding);\n        return buffer.byteLength;\n      } catch {\n        return 0;\n      }\n    }\n  };\n\n  // 5. AES加解密核心工具\n  const AESUtils = {\n    // 检测加密API是否可用\n    isCryptoAvailable: () => {\n      return typeof window !== 'undefined' && \n             window.crypto && \n             window.crypto.subtle;\n    },\n    \n    // 获取加密配置\n    getCryptoConfig: (mode, iv) => {\n      const config = { name: `AES-${mode}` };\n      \n      if (mode === 'GCM') {\n        config.iv = iv;\n        config.tagLength = 128; // GCM模式认证标签长度\n      } else if (mode === 'CBC') {\n        config.iv = iv;\n      }\n      \n      return config;\n    },\n    \n    // 导入密钥\n    importKey: async (keyMaterial, mode) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      return await window.crypto.subtle.importKey(\n        'raw',\n        keyMaterial,\n        { name: `AES-${mode}` },\n        false,\n        ['encrypt', 'decrypt']\n      );\n    },\n    \n    // 加密\n    encrypt: async (data, key, mode, iv) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      let ciphertext;\n      if (mode === 'GCM') {\n        // GCM模式返回的是包含密文和认证标签的缓冲区\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv,\n          tag: ciphertext.slice(-16) // 最后16字节是认证标签\n        };\n      } else {\n        // CBC模式\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv\n        };\n      }\n    },\n    \n    // 解密\n    decrypt: async (data, key, mode, iv, tag) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      // GCM模式需要认证标签\n      if (mode === 'GCM' && tag) {\n        // 将密文和标签组合\n        const combined = new Uint8Array(data.byteLength + tag.byteLength);\n        combined.set(new Uint8Array(data), 0);\n        combined.set(new Uint8Array(tag), data.byteLength);\n        data = combined.buffer;\n      }\n      \n      return await window.crypto.subtle.decrypt(config, cryptoKey, data);\n    }\n  };\n\n  // 6. 初始化应用\n  function initApp() {\n    // 获取DOM元素\n    const plaintextEl = shadowRoot.getElementById('plaintext');\n    const secretKeyEl = shadowRoot.getElementById('secret-key');\n    const keyLengthEl = shadowRoot.getElementById('key-length');\n    const keyLengthInfo = shadowRoot.getElementById('key-length-info');\n    const modeEl = shadowRoot.getElementById('mode');\n    const inputEncodingEl = shadowRoot.getElementById('input-encoding');\n    const outputEncodingEl = shadowRoot.getElementById('output-encoding');\n    const offsetEl = shadowRoot.getElementById('offset');\n    const offsetLengthEl = shadowRoot.getElementById('offset-length');\n    const offsetEncodingEl = shadowRoot.getElementById('offset-encoding');\n    const offsetInfo = shadowRoot.getElementById('offset-info');\n    const encryptBtn = shadowRoot.getElementById('encrypt-btn');\n    const decryptBtn = shadowRoot.getElementById('decrypt-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const generateKeyBtn = shadowRoot.getElementById('generate-key');\n    const toggleVisibilityBtn = shadowRoot.getElementById('toggle-visibility');\n    const generateOffsetBtn = shadowRoot.getElementById('generate-offset');\n    const copyOffsetBtn = shadowRoot.getElementById('copy-offset');\n    const copyResultBtn = shadowRoot.getElementById('copy-result');\n    const resultContainer = shadowRoot.getElementById('result-container');\n    const resultTitle = shadowRoot.getElementById('result-title');\n    const resultArea = shadowRoot.getElementById('result-area');\n    const statsArea = shadowRoot.getElementById('stats-area');\n    const statKeyLength = shadowRoot.getElementById('stat-key-length');\n    const statMode = shadowRoot.getElementById('stat-mode');\n    const statOffsetLength = shadowRoot.getElementById('stat-offset-length');\n    const statTime = shadowRoot.getElementById('stat-time');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 检测加密环境是否可用\n    const isCryptoSupported = AESUtils.isCryptoAvailable();\n    if (!isCryptoSupported) {\n      // 显示警告并禁用按钮\n      envWarning.style.display = 'block';\n      encryptBtn.disabled = true;\n      decryptBtn.disabled = true;\n      generateKeyBtn.disabled = true;\n      generateOffsetBtn.disabled = true;\n      showResult('加密功能不可用：请在HTTPS协议或localhost环境中使用此工具', true);\n    }\n    \n    // 更新密钥长度提示\n    function updateKeyLengthInfo() {\n      const keyLength = parseInt(keyLengthEl.value);\n      const requiredLength = keyLength / 8;\n      const currentLength = secretKeyEl.value.length;\n      keyLengthInfo.textContent = `当前长度: ${currentLength}/${requiredLength}`;\n      \n      // 密钥长度不足时给出视觉提示\n      if (currentLength !== requiredLength && currentLength > 0) {\n        secretKeyEl.style.borderColor = '#fd7e14';\n        keyLengthInfo.style.color = '#fd7e14';\n      } else {\n        secretKeyEl.style.borderColor = '';\n        keyLengthInfo.style.color = '';\n      }\n    }\n    \n    // 更新偏移量信息\n    function updateOffsetInfo() {\n      const offset = offsetEl.value.trim();\n      const encoding = offsetEncodingEl.value;\n      const byteLength = CodecUtils.getOffsetByteLength(offset, encoding);\n      offsetInfo.textContent = `当前偏移量长度: ${byteLength}字节`;\n      \n      // 根据加密模式推荐偏移量长度\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetInfo.textContent += ' (GCM模式推荐12字节)';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetInfo.textContent += ' (CBC模式推荐16字节)';\n      }\n    }\n    \n    // 根据加密模式自动推荐偏移量长度\n    function updateRecommendedOffsetLength() {\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetLengthEl.value = '12';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetLengthEl.value = '16';\n      }\n      updateOffsetInfo();\n    }\n    \n    // 事件监听\n    keyLengthEl.addEventListener('change', updateKeyLengthInfo);\n    secretKeyEl.addEventListener('input', updateKeyLengthInfo);\n    offsetEl.addEventListener('input', updateOffsetInfo);\n    offsetLengthEl.addEventListener('change', updateOffsetInfo);\n    offsetEncodingEl.addEventListener('change', updateOffsetInfo);\n    modeEl.addEventListener('change', updateRecommendedOffsetLength);\n    \n    // 切换密钥可见性\n    toggleVisibilityBtn.addEventListener('click', () => {\n      const type = secretKeyEl.getAttribute('type');\n      if (type === 'password') {\n        secretKeyEl.setAttribute('type', 'text');\n        toggleVisibilityBtn.textContent = '隐藏';\n      } else {\n        secretKeyEl.setAttribute('type', 'password');\n        toggleVisibilityBtn.textContent = '显示';\n      }\n    });\n    \n    // 生成随机密钥\n    generateKeyBtn.addEventListener('click', () => {\n      try {\n        const keyLength = parseInt(keyLengthEl.value);\n        const key = CodecUtils.generateRandomKey(keyLength);\n        secretKeyEl.value = key;\n        updateKeyLengthInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 生成随机偏移量\n    generateOffsetBtn.addEventListener('click', () => {\n      try {\n        const byteLength = parseInt(offsetLengthEl.value);\n        const encoding = offsetEncodingEl.value;\n        const offset = CodecUtils.generateRandomOffset(byteLength, encoding);\n        offsetEl.value = offset;\n        updateOffsetInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 复制偏移量\n    copyOffsetBtn.addEventListener('click', () => {\n      const offset = offsetEl.value.trim();\n      if (offset) {\n        navigator.clipboard.writeText(offset).then(() => {\n          const originalText = copyOffsetBtn.textContent;\n          copyOffsetBtn.textContent = '已复制';\n          setTimeout(() => {\n            copyOffsetBtn.textContent = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制偏移量失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 复制结果\n    copyResultBtn.addEventListener('click', () => {\n      const text = resultArea.textContent;\n      if (text && text !== '操作结果将显示在这里...') {\n        navigator.clipboard.writeText(text).then(() => {\n          const originalText = copyResultBtn.innerHTML;\n          copyResultBtn.innerHTML = `\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <polyline points=\"20 6 9 17 4 12\"></polyline>\n            </svg>\n            已复制\n          `;\n          setTimeout(() => {\n            copyResultBtn.innerHTML = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 加密按钮点击事件\n    encryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      let offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      const offsetLength = parseInt(offsetLengthEl.value);\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要加密的数据', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV) - 如未提供则自动生成\n        let offsetBuffer;\n        if (offset) {\n          offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n          \n          // 验证偏移量长度\n          if (offsetBuffer.byteLength !== offsetLength) {\n            showResult(`偏移量长度不符合设置（应为${offsetLength}字节，实际为${offsetBuffer.byteLength}字节）`, true);\n            return;\n          }\n        } else {\n          // 自动生成偏移量\n          offsetBuffer = CodecUtils.generateRandomBytes(offsetLength).buffer;\n          offset = CodecUtils.bufferToOutput(offsetBuffer, offsetEncoding);\n          offsetEl.value = offset;\n          updateOffsetInfo();\n        }\n        \n        // 执行加密\n        const result = await AESUtils.encrypt(dataBuffer, keyBuffer, mode, offsetBuffer);\n        \n        // 处理加密结果\n        let output;\n        if (mode === 'GCM') {\n          // GCM模式：组合密文和标签\n          const combined = new Uint8Array(result.ciphertext);\n          output = CodecUtils.bufferToOutput(combined.buffer, outputEncoding);\n        } else {\n          // CBC模式\n          output = CodecUtils.bufferToOutput(result.ciphertext, outputEncoding);\n        }\n        \n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `加密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('加密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 解密按钮点击事件\n    decryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      const offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要解密的数据', true);\n        return;\n      }\n      \n      if (!offset) {\n        showResult('请输入偏移量(IV)', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据（密文）\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV)\n        const offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n        \n        // 处理GCM模式的认证标签\n        let tagBuffer = null;\n        if (mode === 'GCM') {\n          // 最后16字节是认证标签\n          tagBuffer = dataBuffer.slice(-16);\n          // 前面的是密文\n          dataBuffer = dataBuffer.slice(0, -16);\n        }\n        \n        // 执行解密\n        const plaintextBuffer = await AESUtils.decrypt(\n          dataBuffer, \n          keyBuffer, \n          mode, \n          offsetBuffer,\n          tagBuffer\n        );\n        \n        // 处理解密结果\n        const output = CodecUtils.bufferToOutput(plaintextBuffer, outputEncoding);\n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `解密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('解密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 重置按钮点击事件\n    resetBtn.addEventListener('click', () => {\n      plaintextEl.value = '';\n      secretKeyEl.value = '';\n      secretKeyEl.setAttribute('type', 'password');\n      toggleVisibilityBtn.textContent = '显示';\n      offsetEl.value = '';\n      inputEncodingEl.value = 'utf8';\n      outputEncodingEl.value = 'base64';\n      keyLengthEl.value = '128';\n      modeEl.value = 'GCM';\n      offsetLengthEl.value = '12';\n      offsetEncodingEl.value = 'hex';\n      \n      updateKeyLengthInfo();\n      updateOffsetInfo();\n      showResult('操作结果将显示在这里...');\n      hideStats();\n    });\n    \n    // 显示结果函数\n    function showResult(text, isError = false, title = '') {\n      resultArea.textContent = text;\n      resultTitle.textContent = title || (isError ? '操作失败' : '操作结果');\n      \n      if (isError) {\n        resultContainer.classList.add('error');\n      } else {\n        resultContainer.classList.remove('error');\n      }\n      \n      resultContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n    \n    // 显示统计信息\n    function showStats(stats) {\n      statKeyLength.textContent = stats.keyLength;\n      statMode.textContent = stats.mode;\n      statOffsetLength.textContent = stats.offsetLength;\n      statTime.textContent = stats.time;\n      statsArea.style.display = 'grid';\n    }\n    \n    // 隐藏统计信息\n    function hideStats() {\n      statsArea.style.display = 'none';\n    }\n    \n    // 初始化Anzhiyu主题\n    applyAnzhiyuTheme();\n    \n    // 监听Anzhiyu主题变化 - 监测data-theme属性和body的light类\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme' || \n            (mutation.target.tagName === 'BODY' && mutation.attributeName === 'class')) {\n          applyAnzhiyuTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的data-theme变化和body的class变化\n    observer.observe(document.documentElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    // 初始化信息显示\n    updateKeyLengthInfo();\n    updateOffsetInfo();\n  }\n\n  // 立即初始化\n  initApp();\n})();\n</script>","source":"aessecret/index.md","raw":"---\ntitle: AES加解密工具\ndescription: 高级AES加解密工具（带偏移量设置）\ncomments: false\ndate: 2025-09-26\n---\n\n<!-- 高级AES加解密工具 - Anzhiyu主题适配版 -->\n<div id=\"aes-tool-widget\" style=\"width: 100%; max-width: 700px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM内容将通过JavaScript注入 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建HTML模板\n  const htmlTemplate = `\n    <style>\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      /* 基础样式式 - 将在JS中动态设置变量 */\n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2, h3 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--text-color);\n        margin-bottom: 20px;\n      }\n      \n      h2 {\n        font-size: 1.4rem;\n        margin-top: 24px;\n        padding-bottom: 8px;\n        border-bottom: 1px solid var(--border-color);\n      }\n      \n      h3 {\n        font-size: 1.1rem;\n        text-align: left;\n        margin-bottom: 12px;\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--sub-color);\n      }\n      \n      .card {\n        background: var(--card-bg);\n        border-radius: 8px;\n        padding: 18px;\n        margin-bottom: 20px;\n        border: 1px solid var(--border-color);\n      }\n      \n      .options-row {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .option-group {\n        flex: 1;\n        min-width: 200px;\n      }\n      \n      .input-group {\n        margin-bottom: 16px;\n      }\n      \n      label {\n        display: block;\n        margin-bottom: 6px;\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .radio-group {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 4px;\n      }\n      \n      .radio-item {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      input[type=\"text\"], \n      input[type=\"password\"], \n      textarea, \n      select {\n        width: 100%;\n        padding: 12px;\n        border: 1px solid var(--border-color);\n        border-radius: 6px;\n        background: var(--bg-color);\n        color: var(--text-color);\n        font-size: 1rem;\n        transition: border-color 0.2s ease;\n      }\n      \n      input:focus, \n      textarea:focus, \n      select:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);\n      }\n      \n      textarea {\n        min-height: 120px;\n        resize: vertical;\n        line-height: 1.5;\n      }\n      \n      .button-group {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin: 24px 0;\n        flex-wrap: wrap;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      button svg {\n        width: 16px;\n        height: 16px;\n      }\n      \n      #encrypt-btn {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      #encrypt-btn:hover {\n        background: var(--primary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #decrypt-btn {\n        background: var(--secondary-color);\n        color: white;\n      }\n      \n      #decrypt-btn:hover {\n        background: var(--secondary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);\n      }\n      \n      .utility-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      .utility-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      #reset-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      #reset-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      .result-container {\n        margin-top: 16px;\n        padding: 16px;\n        border-radius: 8px;\n        background: var(--card-bg);\n        border: 1px solid var(--border-color);\n      }\n      \n      .result-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 8px;\n      }\n      \n      .result-title {\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .result-content {\n        min-height: 120px;\n        white-space: pre-wrap;\n        word-wrap: break-word;\n        line-height: 1.5;\n      }\n      \n      .result.error {\n        background: var(--error-bg);\n        border-color: var(--error-border);\n        color: var(--error-text);\n      }\n      \n      .info-text {\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        margin-top: 6px;\n        text-align: right;\n      }\n      \n      .stats {\n        margin-top: 12px;\n        padding-top: 12px;\n        border-top: 1px dashed var(--border-color);\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 8px;\n      }\n      \n      .stat-item {\n        display: flex;\n        justify-content: space-between;\n      }\n      \n      .environment-warning {\n        margin: 16px 0;\n        padding: 12px;\n        background: #fff3cd;\n        border: 1px solid #ffeeba;\n        border-radius: 6px;\n        color: #856404;\n        font-size: 0.9rem;\n        display: none;\n      }\n\n      .environment-warning.dark {\n        background: #5c4b00;\n        border-color: #856404;\n        color: #fff3cd;\n      }\n      \n      .tooltip {\n        position: relative;\n        display: inline-block;\n        cursor: help;\n      }\n      \n      .tooltip .tooltip-text {\n        visibility: hidden;\n        width: 250px;\n        background-color: var(--tooltip-bg);\n        color: var(--tooltip-text);\n        text-align: center;\n        border-radius: 6px;\n        padding: 8px;\n        position: absolute;\n        z-index: 1;\n        bottom: 125%;\n        left: 50%;\n        transform: translateX(-50%);\n        opacity: 0;\n        transition: opacity 0.3s;\n        font-size: 0.8rem;\n        font-weight: normal;\n      }\n      \n      .tooltip:hover .tooltip-text {\n        visibility: visible;\n        opacity: 1;\n      }\n      \n      .offset-options {\n        margin-top: 10px;\n        padding-top: 10px;\n        border-top: 1px dashed var(--border-color);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>高级AES加解密工具</h1>\n      \n      <div class=\"environment-warning\" id=\"env-warning\">\n        ⚠️ 注意：加密功能需要在安全上下文（HTTPS或localhost）中运行，请切换到支持的环境。\n      </div>\n      \n      <div class=\"intro\">\n        基于Web Crypto API的专业AES加解密工具，支持多种密钥长度、加密模式和自定义偏移量，所有操作均在本地完成。\n      </div>\n\n      <div class=\"card\">\n        <h3>加密选项</h3>\n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"key-length\">密钥长度</label>\n            <select id=\"key-length\">\n              <option value=\"128\">128位 (16字符)</option>\n              <option value=\"192\">192位 (24字符)</option>\n              <option value=\"256\">256位 (32字符)</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"mode\">加密模式</label>\n            <select id=\"mode\">\n              <option value=\"GCM\">AES-GCM (认证加密)</option>\n              <option value=\"CBC\">AES-CBC</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"input-encoding\">输入编码</label>\n            <select id=\"input-encoding\">\n              <option value=\"utf8\">UTF-8 文本</option>\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"output-encoding\">输出编码</label>\n            <select id=\"output-encoding\">\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"plaintext\">\n          输入数据\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">加密时输入明文，解密时输入密文</span>\n          </span>\n        </label>\n        <textarea id=\"plaintext\" placeholder=\"请输入要加密的明文或要解密的密文...\"></textarea>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"secret-key\">\n          密钥\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">根据所选密钥长度，需输入16/24/32个字符</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"password\" id=\"secret-key\" placeholder=\"请输入密钥\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-key\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"toggle-visibility\">显示</button>\n        </div>\n        <div class=\"info-text\" id=\"key-length-info\">当前长度: 0/16</div>\n      </div>\n\n      <div class=\"input-group\" id=\"offset-group\">\n        <label for=\"offset\">\n          偏移量 (IV)\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">初始化向量，用于增加加密强度，不同模式有不同的推荐长度，解密时需使用相同值</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"text\" id=\"offset\" placeholder=\"偏移量（初始化向量）\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-offset\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"copy-offset\">复制</button>\n        </div>\n        \n        <div class=\"offset-options\">\n          <div class=\"options-row\">\n            <div class=\"option-group\">\n              <label for=\"offset-length\">偏移量长度 (字节)</label>\n              <select id=\"offset-length\">\n                <option value=\"8\">8</option>\n                <option value=\"12\" selected>12 (GCM推荐)</option>\n                <option value=\"16\">16 (CBC推荐)</option>\n                <option value=\"24\">24</option>\n                <option value=\"32\">32</option>\n              </select>\n            </div>\n            <div class=\"option-group\">\n              <label for=\"offset-encoding\">偏移量编码</label>\n              <select id=\"offset-encoding\">\n                <option value=\"hex\" selected>十六进制</option>\n                <option value=\"base64\">Base64</option>\n                <option value=\"utf8\">UTF-8</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"info-text\" id=\"offset-info\">当前偏移量长度: 0字节</div>\n        </div>\n      </div>\n\n      <div class=\"button-group\">\n        <button id=\"encrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          加密\n        </button>\n        <button id=\"decrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          解密\n        </button>\n        <button type=\"button\" class=\"utility-btn\" id=\"copy-result\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n          </svg>\n          复制结果\n        </button>\n        <button id=\"reset-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <path d=\"M21 2v6h-6\"></path>\n            <path d=\"M3 12a9 9 0 0 1 15-6.7L21 8\"></path>\n            <path d=\"M3 22v-6h6\"></path>\n            <path d=\"M21 12a9 9 0 0 1-15 6.7L3 16\"></path>\n          </svg>\n          重置\n        </button>\n      </div>\n\n      <h2>结果</h2>\n      <div class=\"result-container\" id=\"result-container\">\n        <div class=\"result-header\">\n          <div class=\"result-title\" id=\"result-title\">操作结果将显示在这里...</div>\n        </div>\n        <div class=\"result-content\" id=\"result-area\"></div>\n        <div class=\"stats\" id=\"stats-area\" style=\"display: none;\">\n          <div class=\"stat-item\">\n            <span>密钥长度:</span>\n            <span id=\"stat-key-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>加密模式:</span>\n            <span id=\"stat-mode\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>偏移量长度:</span>\n            <span id=\"stat-offset-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>处理时间:</span>\n            <span id=\"stat-time\">-</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n\n  // 2. 创建Shadow DOM\n  const widgetContainer = document.getElementById('aes-tool-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  shadowRoot.innerHTML = htmlTemplate;\n\n  // 3. 主题适配 - 专为Anzhiyu主题优化\n  function applyAnzhiyuTheme() {\n    // 检测Anzhiyu主题的深色/亮色模式\n    const htmlElement = document.documentElement;\n    const bodyElement = document.body;\n    const isLightMode = htmlElement.getAttribute('data-theme') === 'light' || \n                       bodyElement.classList.contains('light');\n    \n    const style = document.createElement('style');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 同步警告框的主题\n    if (isLightMode) {\n      envWarning.classList.remove('dark');\n    } else {\n      envWarning.classList.add('dark');\n    }\n    \n    // 亮色模式 - 遵循Anzhiyu主题变量\n    if (isLightMode) {\n      style.textContent = `\n        :host {\n          --text-color: #333;          /* 文本主色 */\n          --bg-color: #f5f5f5;         /* 背景色 */\n          --sub-color: #666;           /* 次要文本色 */\n          --key-bg: #ddd;              /* 按钮背景色 */\n          --border-color: #ddd;        /* 边框色 */\n          --intro-bg: #f0f0f0;         /* 介绍区域背景 */\n          --card-bg: #fff;             /* 卡片背景 */\n          --primary-color: #007bff;    /* 主按钮色 */\n          --primary-dark: #0056b3;     /* 主按钮hover色 */\n          --secondary-color: #28a745;  /* 次要按钮色 */\n          --secondary-dark: #218838;   /* 次要按钮hover色 */\n          --utility-hover: #ccc;       /* 工具按钮hover色 */\n          --result-bg: #fff;           /* 结果区域背景 */\n          --error-bg: #fff5f5;         /* 错误背景 */\n          --error-border: #ffe3e3;     /* 错误边框 */\n          --error-text: #dc3545;       /* 错误文本 */\n          --tooltip-bg: #333;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    } \n    // 深色模式 - 适配Anzhiyu深色风格\n    else {\n      style.textContent = `\n        :host {\n          --text-color: #f0f0f0;       /* 文本主色 */\n          --bg-color: #1a1a1a;         /* 背景色 */\n          --sub-color: #bbb;           /* 次要文本色 */\n          --key-bg: #333;              /* 按钮背景色 */\n          --border-color: #333;        /* 边框色 */\n          --intro-bg: #2d2d2d;         /* 介绍区域背景 */\n          --card-bg: #2d2d2d;          /* 卡片背景 */\n          --primary-color: #4dabf7;    /* 主按钮色 */\n          --primary-dark: #3b82f6;     /* 主按钮hover色 */\n          --secondary-color: #51cf66;  /* 次要按钮色 */\n          --secondary-dark: #40c057;   /* 次要按钮hover色 */\n          --utility-hover: #444;       /* 工具按钮hover色 */\n          --result-bg: #2d2d2d;        /* 结果区域背景 */\n          --error-bg: #471515;         /* 错误背景 */\n          --error-border: #6b2121;     /* 错误边框 */\n          --error-text: #f87171;       /* 错误文本 */\n          --tooltip-bg: #444;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    }\n    \n    // 清除旧主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n\n  // 4. 工具函数 - 编码转换和辅助函数\n  const CodecUtils = {\n    // 字符串转ArrayBuffer (UTF-8)\n    stringToArrayBuffer: (str) => {\n      return new TextEncoder().encode(str);\n    },\n    \n    // ArrayBuffer转字符串 (UTF-8)\n    arrayBufferToString: (buf) => {\n      return new TextDecoder().decode(buf);\n    },\n    \n    // ArrayBuffer转Base64字符串\n    arrayBufferToBase64: (buf) => {\n      return btoa(String.fromCharCode(...new Uint8Array(buf)));\n    },\n    \n    // Base64字符串转ArrayBuffer\n    base64ToArrayBuffer: (base64) => {\n      try {\n        const binary = atob(base64);\n        const buf = new ArrayBuffer(binary.length);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < binary.length; i++) {\n          view[i] = binary.charCodeAt(i);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的Base64编码: ' + e.message);\n      }\n    },\n    \n    // ArrayBuffer转十六进制字符串\n    arrayBufferToHex: (buf) => {\n      return Array.from(new Uint8Array(buf))\n        .map(b => b.toString(16).padStart(2, '0'))\n        .join('');\n    },\n    \n    // 十六进制字符串转ArrayBuffer\n    hexToArrayBuffer: (hex) => {\n      try {\n        if (hex.length % 2 !== 0) {\n          throw new Error('十六进制字符串长度必须为偶数');\n        }\n        const buf = new ArrayBuffer(hex.length / 2);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < hex.length; i += 2) {\n          view[i / 2] = parseInt(hex.substr(i, 2), 16);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的十六进制编码: ' + e.message);\n      }\n    },\n    \n    // 根据编码类型将输入转换为ArrayBuffer\n    inputToBuffer: (input, encoding) => {\n      if (!input) return new ArrayBuffer(0);\n      \n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.stringToArrayBuffer(input);\n        case 'base64':\n          return CodecUtils.base64ToArrayBuffer(input);\n        case 'hex':\n          return CodecUtils.hexToArrayBuffer(input);\n        default:\n          throw new Error('不支持的输入编码: ' + encoding);\n      }\n    },\n    \n    // 根据编码类型将ArrayBuffer转换为字符串\n    bufferToOutput: (buffer, encoding) => {\n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(buffer);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(buffer);\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(buffer);\n        default:\n          throw new Error('不支持的输出编码: ' + encoding);\n      }\n    },\n    \n    // 生成指定长度的随机字节\n    generateRandomBytes: (length) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，无法生成随机数');\n      }\n      return window.crypto.getRandomValues(new Uint8Array(length));\n    },\n    \n    // 生成随机密钥\n    generateRandomKey: (bitLength) => {\n      const byteLength = bitLength / 8;\n      const keyBytes = CodecUtils.generateRandomBytes(byteLength);\n      return CodecUtils.arrayBufferToBase64(keyBytes).substring(0, byteLength);\n    },\n    \n    // 生成随机偏移量(IV)\n    generateRandomOffset: (byteLength, encoding) => {\n      const ivBytes = CodecUtils.generateRandomBytes(byteLength);\n      switch (encoding) {\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(ivBytes);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(ivBytes);\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(ivBytes);\n        default:\n          return CodecUtils.arrayBufferToHex(ivBytes);\n      }\n    },\n    \n    // 计算偏移量字节长度\n    getOffsetByteLength: (offset, encoding) => {\n      if (!offset) return 0;\n      \n      try {\n        const buffer = CodecUtils.inputToBuffer(offset, encoding);\n        return buffer.byteLength;\n      } catch {\n        return 0;\n      }\n    }\n  };\n\n  // 5. AES加解密核心工具\n  const AESUtils = {\n    // 检测加密API是否可用\n    isCryptoAvailable: () => {\n      return typeof window !== 'undefined' && \n             window.crypto && \n             window.crypto.subtle;\n    },\n    \n    // 获取加密配置\n    getCryptoConfig: (mode, iv) => {\n      const config = { name: `AES-${mode}` };\n      \n      if (mode === 'GCM') {\n        config.iv = iv;\n        config.tagLength = 128; // GCM模式认证标签长度\n      } else if (mode === 'CBC') {\n        config.iv = iv;\n      }\n      \n      return config;\n    },\n    \n    // 导入密钥\n    importKey: async (keyMaterial, mode) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      return await window.crypto.subtle.importKey(\n        'raw',\n        keyMaterial,\n        { name: `AES-${mode}` },\n        false,\n        ['encrypt', 'decrypt']\n      );\n    },\n    \n    // 加密\n    encrypt: async (data, key, mode, iv) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      let ciphertext;\n      if (mode === 'GCM') {\n        // GCM模式返回的是包含密文和认证标签的缓冲区\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv,\n          tag: ciphertext.slice(-16) // 最后16字节是认证标签\n        };\n      } else {\n        // CBC模式\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv\n        };\n      }\n    },\n    \n    // 解密\n    decrypt: async (data, key, mode, iv, tag) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      // GCM模式需要认证标签\n      if (mode === 'GCM' && tag) {\n        // 将密文和标签组合\n        const combined = new Uint8Array(data.byteLength + tag.byteLength);\n        combined.set(new Uint8Array(data), 0);\n        combined.set(new Uint8Array(tag), data.byteLength);\n        data = combined.buffer;\n      }\n      \n      return await window.crypto.subtle.decrypt(config, cryptoKey, data);\n    }\n  };\n\n  // 6. 初始化应用\n  function initApp() {\n    // 获取DOM元素\n    const plaintextEl = shadowRoot.getElementById('plaintext');\n    const secretKeyEl = shadowRoot.getElementById('secret-key');\n    const keyLengthEl = shadowRoot.getElementById('key-length');\n    const keyLengthInfo = shadowRoot.getElementById('key-length-info');\n    const modeEl = shadowRoot.getElementById('mode');\n    const inputEncodingEl = shadowRoot.getElementById('input-encoding');\n    const outputEncodingEl = shadowRoot.getElementById('output-encoding');\n    const offsetEl = shadowRoot.getElementById('offset');\n    const offsetLengthEl = shadowRoot.getElementById('offset-length');\n    const offsetEncodingEl = shadowRoot.getElementById('offset-encoding');\n    const offsetInfo = shadowRoot.getElementById('offset-info');\n    const encryptBtn = shadowRoot.getElementById('encrypt-btn');\n    const decryptBtn = shadowRoot.getElementById('decrypt-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const generateKeyBtn = shadowRoot.getElementById('generate-key');\n    const toggleVisibilityBtn = shadowRoot.getElementById('toggle-visibility');\n    const generateOffsetBtn = shadowRoot.getElementById('generate-offset');\n    const copyOffsetBtn = shadowRoot.getElementById('copy-offset');\n    const copyResultBtn = shadowRoot.getElementById('copy-result');\n    const resultContainer = shadowRoot.getElementById('result-container');\n    const resultTitle = shadowRoot.getElementById('result-title');\n    const resultArea = shadowRoot.getElementById('result-area');\n    const statsArea = shadowRoot.getElementById('stats-area');\n    const statKeyLength = shadowRoot.getElementById('stat-key-length');\n    const statMode = shadowRoot.getElementById('stat-mode');\n    const statOffsetLength = shadowRoot.getElementById('stat-offset-length');\n    const statTime = shadowRoot.getElementById('stat-time');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 检测加密环境是否可用\n    const isCryptoSupported = AESUtils.isCryptoAvailable();\n    if (!isCryptoSupported) {\n      // 显示警告并禁用按钮\n      envWarning.style.display = 'block';\n      encryptBtn.disabled = true;\n      decryptBtn.disabled = true;\n      generateKeyBtn.disabled = true;\n      generateOffsetBtn.disabled = true;\n      showResult('加密功能不可用：请在HTTPS协议或localhost环境中使用此工具', true);\n    }\n    \n    // 更新密钥长度提示\n    function updateKeyLengthInfo() {\n      const keyLength = parseInt(keyLengthEl.value);\n      const requiredLength = keyLength / 8;\n      const currentLength = secretKeyEl.value.length;\n      keyLengthInfo.textContent = `当前长度: ${currentLength}/${requiredLength}`;\n      \n      // 密钥长度不足时给出视觉提示\n      if (currentLength !== requiredLength && currentLength > 0) {\n        secretKeyEl.style.borderColor = '#fd7e14';\n        keyLengthInfo.style.color = '#fd7e14';\n      } else {\n        secretKeyEl.style.borderColor = '';\n        keyLengthInfo.style.color = '';\n      }\n    }\n    \n    // 更新偏移量信息\n    function updateOffsetInfo() {\n      const offset = offsetEl.value.trim();\n      const encoding = offsetEncodingEl.value;\n      const byteLength = CodecUtils.getOffsetByteLength(offset, encoding);\n      offsetInfo.textContent = `当前偏移量长度: ${byteLength}字节`;\n      \n      // 根据加密模式推荐偏移量长度\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetInfo.textContent += ' (GCM模式推荐12字节)';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetInfo.textContent += ' (CBC模式推荐16字节)';\n      }\n    }\n    \n    // 根据加密模式自动推荐偏移量长度\n    function updateRecommendedOffsetLength() {\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetLengthEl.value = '12';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetLengthEl.value = '16';\n      }\n      updateOffsetInfo();\n    }\n    \n    // 事件监听\n    keyLengthEl.addEventListener('change', updateKeyLengthInfo);\n    secretKeyEl.addEventListener('input', updateKeyLengthInfo);\n    offsetEl.addEventListener('input', updateOffsetInfo);\n    offsetLengthEl.addEventListener('change', updateOffsetInfo);\n    offsetEncodingEl.addEventListener('change', updateOffsetInfo);\n    modeEl.addEventListener('change', updateRecommendedOffsetLength);\n    \n    // 切换密钥可见性\n    toggleVisibilityBtn.addEventListener('click', () => {\n      const type = secretKeyEl.getAttribute('type');\n      if (type === 'password') {\n        secretKeyEl.setAttribute('type', 'text');\n        toggleVisibilityBtn.textContent = '隐藏';\n      } else {\n        secretKeyEl.setAttribute('type', 'password');\n        toggleVisibilityBtn.textContent = '显示';\n      }\n    });\n    \n    // 生成随机密钥\n    generateKeyBtn.addEventListener('click', () => {\n      try {\n        const keyLength = parseInt(keyLengthEl.value);\n        const key = CodecUtils.generateRandomKey(keyLength);\n        secretKeyEl.value = key;\n        updateKeyLengthInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 生成随机偏移量\n    generateOffsetBtn.addEventListener('click', () => {\n      try {\n        const byteLength = parseInt(offsetLengthEl.value);\n        const encoding = offsetEncodingEl.value;\n        const offset = CodecUtils.generateRandomOffset(byteLength, encoding);\n        offsetEl.value = offset;\n        updateOffsetInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 复制偏移量\n    copyOffsetBtn.addEventListener('click', () => {\n      const offset = offsetEl.value.trim();\n      if (offset) {\n        navigator.clipboard.writeText(offset).then(() => {\n          const originalText = copyOffsetBtn.textContent;\n          copyOffsetBtn.textContent = '已复制';\n          setTimeout(() => {\n            copyOffsetBtn.textContent = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制偏移量失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 复制结果\n    copyResultBtn.addEventListener('click', () => {\n      const text = resultArea.textContent;\n      if (text && text !== '操作结果将显示在这里...') {\n        navigator.clipboard.writeText(text).then(() => {\n          const originalText = copyResultBtn.innerHTML;\n          copyResultBtn.innerHTML = `\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <polyline points=\"20 6 9 17 4 12\"></polyline>\n            </svg>\n            已复制\n          `;\n          setTimeout(() => {\n            copyResultBtn.innerHTML = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 加密按钮点击事件\n    encryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      let offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      const offsetLength = parseInt(offsetLengthEl.value);\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要加密的数据', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV) - 如未提供则自动生成\n        let offsetBuffer;\n        if (offset) {\n          offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n          \n          // 验证偏移量长度\n          if (offsetBuffer.byteLength !== offsetLength) {\n            showResult(`偏移量长度不符合设置（应为${offsetLength}字节，实际为${offsetBuffer.byteLength}字节）`, true);\n            return;\n          }\n        } else {\n          // 自动生成偏移量\n          offsetBuffer = CodecUtils.generateRandomBytes(offsetLength).buffer;\n          offset = CodecUtils.bufferToOutput(offsetBuffer, offsetEncoding);\n          offsetEl.value = offset;\n          updateOffsetInfo();\n        }\n        \n        // 执行加密\n        const result = await AESUtils.encrypt(dataBuffer, keyBuffer, mode, offsetBuffer);\n        \n        // 处理加密结果\n        let output;\n        if (mode === 'GCM') {\n          // GCM模式：组合密文和标签\n          const combined = new Uint8Array(result.ciphertext);\n          output = CodecUtils.bufferToOutput(combined.buffer, outputEncoding);\n        } else {\n          // CBC模式\n          output = CodecUtils.bufferToOutput(result.ciphertext, outputEncoding);\n        }\n        \n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `加密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('加密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 解密按钮点击事件\n    decryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      const offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要解密的数据', true);\n        return;\n      }\n      \n      if (!offset) {\n        showResult('请输入偏移量(IV)', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据（密文）\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV)\n        const offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n        \n        // 处理GCM模式的认证标签\n        let tagBuffer = null;\n        if (mode === 'GCM') {\n          // 最后16字节是认证标签\n          tagBuffer = dataBuffer.slice(-16);\n          // 前面的是密文\n          dataBuffer = dataBuffer.slice(0, -16);\n        }\n        \n        // 执行解密\n        const plaintextBuffer = await AESUtils.decrypt(\n          dataBuffer, \n          keyBuffer, \n          mode, \n          offsetBuffer,\n          tagBuffer\n        );\n        \n        // 处理解密结果\n        const output = CodecUtils.bufferToOutput(plaintextBuffer, outputEncoding);\n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `解密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('解密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 重置按钮点击事件\n    resetBtn.addEventListener('click', () => {\n      plaintextEl.value = '';\n      secretKeyEl.value = '';\n      secretKeyEl.setAttribute('type', 'password');\n      toggleVisibilityBtn.textContent = '显示';\n      offsetEl.value = '';\n      inputEncodingEl.value = 'utf8';\n      outputEncodingEl.value = 'base64';\n      keyLengthEl.value = '128';\n      modeEl.value = 'GCM';\n      offsetLengthEl.value = '12';\n      offsetEncodingEl.value = 'hex';\n      \n      updateKeyLengthInfo();\n      updateOffsetInfo();\n      showResult('操作结果将显示在这里...');\n      hideStats();\n    });\n    \n    // 显示结果函数\n    function showResult(text, isError = false, title = '') {\n      resultArea.textContent = text;\n      resultTitle.textContent = title || (isError ? '操作失败' : '操作结果');\n      \n      if (isError) {\n        resultContainer.classList.add('error');\n      } else {\n        resultContainer.classList.remove('error');\n      }\n      \n      resultContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n    \n    // 显示统计信息\n    function showStats(stats) {\n      statKeyLength.textContent = stats.keyLength;\n      statMode.textContent = stats.mode;\n      statOffsetLength.textContent = stats.offsetLength;\n      statTime.textContent = stats.time;\n      statsArea.style.display = 'grid';\n    }\n    \n    // 隐藏统计信息\n    function hideStats() {\n      statsArea.style.display = 'none';\n    }\n    \n    // 初始化Anzhiyu主题\n    applyAnzhiyuTheme();\n    \n    // 监听Anzhiyu主题变化 - 监测data-theme属性和body的light类\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme' || \n            (mutation.target.tagName === 'BODY' && mutation.attributeName === 'class')) {\n          applyAnzhiyuTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的data-theme变化和body的class变化\n    observer.observe(document.documentElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    // 初始化信息显示\n    updateKeyLengthInfo();\n    updateOffsetInfo();\n  }\n\n  // 立即初始化\n  initApp();\n})();\n</script>","updated":"2025-09-26T10:34:01.265Z","path":"aessecret/index.html","layout":"page","_id":"cmgu955za000mg0fy4xdo9jut","content":"<!-- 高级AES加解密工具 - Anzhiyu主题适配版 -->\n<div id=\"aes-tool-widget\" style=\"width: 100%; max-width: 700px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM内容将通过JavaScript注入 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建HTML模板\n  const htmlTemplate = `\n    <style>\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      /* 基础样式式 - 将在JS中动态设置变量 */\n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2, h3 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--text-color);\n        margin-bottom: 20px;\n      }\n      \n      h2 {\n        font-size: 1.4rem;\n        margin-top: 24px;\n        padding-bottom: 8px;\n        border-bottom: 1px solid var(--border-color);\n      }\n      \n      h3 {\n        font-size: 1.1rem;\n        text-align: left;\n        margin-bottom: 12px;\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--sub-color);\n      }\n      \n      .card {\n        background: var(--card-bg);\n        border-radius: 8px;\n        padding: 18px;\n        margin-bottom: 20px;\n        border: 1px solid var(--border-color);\n      }\n      \n      .options-row {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .option-group {\n        flex: 1;\n        min-width: 200px;\n      }\n      \n      .input-group {\n        margin-bottom: 16px;\n      }\n      \n      label {\n        display: block;\n        margin-bottom: 6px;\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .radio-group {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 4px;\n      }\n      \n      .radio-item {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      input[type=\"text\"], \n      input[type=\"password\"], \n      textarea, \n      select {\n        width: 100%;\n        padding: 12px;\n        border: 1px solid var(--border-color);\n        border-radius: 6px;\n        background: var(--bg-color);\n        color: var(--text-color);\n        font-size: 1rem;\n        transition: border-color 0.2s ease;\n      }\n      \n      input:focus, \n      textarea:focus, \n      select:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);\n      }\n      \n      textarea {\n        min-height: 120px;\n        resize: vertical;\n        line-height: 1.5;\n      }\n      \n      .button-group {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin: 24px 0;\n        flex-wrap: wrap;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      button svg {\n        width: 16px;\n        height: 16px;\n      }\n      \n      #encrypt-btn {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      #encrypt-btn:hover {\n        background: var(--primary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #decrypt-btn {\n        background: var(--secondary-color);\n        color: white;\n      }\n      \n      #decrypt-btn:hover {\n        background: var(--secondary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);\n      }\n      \n      .utility-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      .utility-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      #reset-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      #reset-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      .result-container {\n        margin-top: 16px;\n        padding: 16px;\n        border-radius: 8px;\n        background: var(--card-bg);\n        border: 1px solid var(--border-color);\n      }\n      \n      .result-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 8px;\n      }\n      \n      .result-title {\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .result-content {\n        min-height: 120px;\n        white-space: pre-wrap;\n        word-wrap: break-word;\n        line-height: 1.5;\n      }\n      \n      .result.error {\n        background: var(--error-bg);\n        border-color: var(--error-border);\n        color: var(--error-text);\n      }\n      \n      .info-text {\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        margin-top: 6px;\n        text-align: right;\n      }\n      \n      .stats {\n        margin-top: 12px;\n        padding-top: 12px;\n        border-top: 1px dashed var(--border-color);\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 8px;\n      }\n      \n      .stat-item {\n        display: flex;\n        justify-content: space-between;\n      }\n      \n      .environment-warning {\n        margin: 16px 0;\n        padding: 12px;\n        background: #fff3cd;\n        border: 1px solid #ffeeba;\n        border-radius: 6px;\n        color: #856404;\n        font-size: 0.9rem;\n        display: none;\n      }\n\n      .environment-warning.dark {\n        background: #5c4b00;\n        border-color: #856404;\n        color: #fff3cd;\n      }\n      \n      .tooltip {\n        position: relative;\n        display: inline-block;\n        cursor: help;\n      }\n      \n      .tooltip .tooltip-text {\n        visibility: hidden;\n        width: 250px;\n        background-color: var(--tooltip-bg);\n        color: var(--tooltip-text);\n        text-align: center;\n        border-radius: 6px;\n        padding: 8px;\n        position: absolute;\n        z-index: 1;\n        bottom: 125%;\n        left: 50%;\n        transform: translateX(-50%);\n        opacity: 0;\n        transition: opacity 0.3s;\n        font-size: 0.8rem;\n        font-weight: normal;\n      }\n      \n      .tooltip:hover .tooltip-text {\n        visibility: visible;\n        opacity: 1;\n      }\n      \n      .offset-options {\n        margin-top: 10px;\n        padding-top: 10px;\n        border-top: 1px dashed var(--border-color);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>高级AES加解密工具</h1>\n      \n      <div class=\"environment-warning\" id=\"env-warning\">\n        ⚠️ 注意：加密功能需要在安全上下文（HTTPS或localhost）中运行，请切换到支持的环境。\n      </div>\n      \n      <div class=\"intro\">\n        基于Web Crypto API的专业AES加解密工具，支持多种密钥长度、加密模式和自定义偏移量，所有操作均在本地完成。\n      </div>\n\n      <div class=\"card\">\n        <h3>加密选项</h3>\n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"key-length\">密钥长度</label>\n            <select id=\"key-length\">\n              <option value=\"128\">128位 (16字符)</option>\n              <option value=\"192\">192位 (24字符)</option>\n              <option value=\"256\">256位 (32字符)</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"mode\">加密模式</label>\n            <select id=\"mode\">\n              <option value=\"GCM\">AES-GCM (认证加密)</option>\n              <option value=\"CBC\">AES-CBC</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"input-encoding\">输入编码</label>\n            <select id=\"input-encoding\">\n              <option value=\"utf8\">UTF-8 文本</option>\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"output-encoding\">输出编码</label>\n            <select id=\"output-encoding\">\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"plaintext\">\n          输入数据\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">加密时输入明文，解密时输入密文</span>\n          </span>\n        </label>\n        <textarea id=\"plaintext\" placeholder=\"请输入要加密的明文或要解密的密文...\"></textarea>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"secret-key\">\n          密钥\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">根据所选密钥长度，需输入16/24/32个字符</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"password\" id=\"secret-key\" placeholder=\"请输入密钥\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-key\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"toggle-visibility\">显示</button>\n        </div>\n        <div class=\"info-text\" id=\"key-length-info\">当前长度: 0/16</div>\n      </div>\n\n      <div class=\"input-group\" id=\"offset-group\">\n        <label for=\"offset\">\n          偏移量 (IV)\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">初始化向量，用于增加加密强度，不同模式有不同的推荐长度，解密时需使用相同值</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"text\" id=\"offset\" placeholder=\"偏移量（初始化向量）\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-offset\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"copy-offset\">复制</button>\n        </div>\n        \n        <div class=\"offset-options\">\n          <div class=\"options-row\">\n            <div class=\"option-group\">\n              <label for=\"offset-length\">偏移量长度 (字节)</label>\n              <select id=\"offset-length\">\n                <option value=\"8\">8</option>\n                <option value=\"12\" selected>12 (GCM推荐)</option>\n                <option value=\"16\">16 (CBC推荐)</option>\n                <option value=\"24\">24</option>\n                <option value=\"32\">32</option>\n              </select>\n            </div>\n            <div class=\"option-group\">\n              <label for=\"offset-encoding\">偏移量编码</label>\n              <select id=\"offset-encoding\">\n                <option value=\"hex\" selected>十六进制</option>\n                <option value=\"base64\">Base64</option>\n                <option value=\"utf8\">UTF-8</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"info-text\" id=\"offset-info\">当前偏移量长度: 0字节</div>\n        </div>\n      </div>\n\n      <div class=\"button-group\">\n        <button id=\"encrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          加密\n        </button>\n        <button id=\"decrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          解密\n        </button>\n        <button type=\"button\" class=\"utility-btn\" id=\"copy-result\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n          </svg>\n          复制结果\n        </button>\n        <button id=\"reset-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <path d=\"M21 2v6h-6\"></path>\n            <path d=\"M3 12a9 9 0 0 1 15-6.7L21 8\"></path>\n            <path d=\"M3 22v-6h6\"></path>\n            <path d=\"M21 12a9 9 0 0 1-15 6.7L3 16\"></path>\n          </svg>\n          重置\n        </button>\n      </div>\n\n      <h2>结果</h2>\n      <div class=\"result-container\" id=\"result-container\">\n        <div class=\"result-header\">\n          <div class=\"result-title\" id=\"result-title\">操作结果将显示在这里...</div>\n        </div>\n        <div class=\"result-content\" id=\"result-area\"></div>\n        <div class=\"stats\" id=\"stats-area\" style=\"display: none;\">\n          <div class=\"stat-item\">\n            <span>密钥长度:</span>\n            <span id=\"stat-key-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>加密模式:</span>\n            <span id=\"stat-mode\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>偏移量长度:</span>\n            <span id=\"stat-offset-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>处理时间:</span>\n            <span id=\"stat-time\">-</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n\n  // 2. 创建Shadow DOM\n  const widgetContainer = document.getElementById('aes-tool-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  shadowRoot.innerHTML = htmlTemplate;\n\n  // 3. 主题适配 - 专为Anzhiyu主题优化\n  function applyAnzhiyuTheme() {\n    // 检测Anzhiyu主题的深色/亮色模式\n    const htmlElement = document.documentElement;\n    const bodyElement = document.body;\n    const isLightMode = htmlElement.getAttribute('data-theme') === 'light' || \n                       bodyElement.classList.contains('light');\n    \n    const style = document.createElement('style');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 同步警告框的主题\n    if (isLightMode) {\n      envWarning.classList.remove('dark');\n    } else {\n      envWarning.classList.add('dark');\n    }\n    \n    // 亮色模式 - 遵循Anzhiyu主题变量\n    if (isLightMode) {\n      style.textContent = `\n        :host {\n          --text-color: #333;          /* 文本主色 */\n          --bg-color: #f5f5f5;         /* 背景色 */\n          --sub-color: #666;           /* 次要文本色 */\n          --key-bg: #ddd;              /* 按钮背景色 */\n          --border-color: #ddd;        /* 边框色 */\n          --intro-bg: #f0f0f0;         /* 介绍区域背景 */\n          --card-bg: #fff;             /* 卡片背景 */\n          --primary-color: #007bff;    /* 主按钮色 */\n          --primary-dark: #0056b3;     /* 主按钮hover色 */\n          --secondary-color: #28a745;  /* 次要按钮色 */\n          --secondary-dark: #218838;   /* 次要按钮hover色 */\n          --utility-hover: #ccc;       /* 工具按钮hover色 */\n          --result-bg: #fff;           /* 结果区域背景 */\n          --error-bg: #fff5f5;         /* 错误背景 */\n          --error-border: #ffe3e3;     /* 错误边框 */\n          --error-text: #dc3545;       /* 错误文本 */\n          --tooltip-bg: #333;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    } \n    // 深色模式 - 适配Anzhiyu深色风格\n    else {\n      style.textContent = `\n        :host {\n          --text-color: #f0f0f0;       /* 文本主色 */\n          --bg-color: #1a1a1a;         /* 背景色 */\n          --sub-color: #bbb;           /* 次要文本色 */\n          --key-bg: #333;              /* 按钮背景色 */\n          --border-color: #333;        /* 边框色 */\n          --intro-bg: #2d2d2d;         /* 介绍区域背景 */\n          --card-bg: #2d2d2d;          /* 卡片背景 */\n          --primary-color: #4dabf7;    /* 主按钮色 */\n          --primary-dark: #3b82f6;     /* 主按钮hover色 */\n          --secondary-color: #51cf66;  /* 次要按钮色 */\n          --secondary-dark: #40c057;   /* 次要按钮hover色 */\n          --utility-hover: #444;       /* 工具按钮hover色 */\n          --result-bg: #2d2d2d;        /* 结果区域背景 */\n          --error-bg: #471515;         /* 错误背景 */\n          --error-border: #6b2121;     /* 错误边框 */\n          --error-text: #f87171;       /* 错误文本 */\n          --tooltip-bg: #444;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    }\n    \n    // 清除旧主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n\n  // 4. 工具函数 - 编码转换和辅助函数\n  const CodecUtils = {\n    // 字符串转ArrayBuffer (UTF-8)\n    stringToArrayBuffer: (str) => {\n      return new TextEncoder().encode(str);\n    },\n    \n    // ArrayBuffer转字符串 (UTF-8)\n    arrayBufferToString: (buf) => {\n      return new TextDecoder().decode(buf);\n    },\n    \n    // ArrayBuffer转Base64字符串\n    arrayBufferToBase64: (buf) => {\n      return btoa(String.fromCharCode(...new Uint8Array(buf)));\n    },\n    \n    // Base64字符串转ArrayBuffer\n    base64ToArrayBuffer: (base64) => {\n      try {\n        const binary = atob(base64);\n        const buf = new ArrayBuffer(binary.length);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < binary.length; i++) {\n          view[i] = binary.charCodeAt(i);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的Base64编码: ' + e.message);\n      }\n    },\n    \n    // ArrayBuffer转十六进制字符串\n    arrayBufferToHex: (buf) => {\n      return Array.from(new Uint8Array(buf))\n        .map(b => b.toString(16).padStart(2, '0'))\n        .join('');\n    },\n    \n    // 十六进制字符串转ArrayBuffer\n    hexToArrayBuffer: (hex) => {\n      try {\n        if (hex.length % 2 !== 0) {\n          throw new Error('十六进制字符串长度必须为偶数');\n        }\n        const buf = new ArrayBuffer(hex.length / 2);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < hex.length; i += 2) {\n          view[i / 2] = parseInt(hex.substr(i, 2), 16);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的十六进制编码: ' + e.message);\n      }\n    },\n    \n    // 根据编码类型将输入转换为ArrayBuffer\n    inputToBuffer: (input, encoding) => {\n      if (!input) return new ArrayBuffer(0);\n      \n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.stringToArrayBuffer(input);\n        case 'base64':\n          return CodecUtils.base64ToArrayBuffer(input);\n        case 'hex':\n          return CodecUtils.hexToArrayBuffer(input);\n        default:\n          throw new Error('不支持的输入编码: ' + encoding);\n      }\n    },\n    \n    // 根据编码类型将ArrayBuffer转换为字符串\n    bufferToOutput: (buffer, encoding) => {\n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(buffer);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(buffer);\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(buffer);\n        default:\n          throw new Error('不支持的输出编码: ' + encoding);\n      }\n    },\n    \n    // 生成指定长度的随机字节\n    generateRandomBytes: (length) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，无法生成随机数');\n      }\n      return window.crypto.getRandomValues(new Uint8Array(length));\n    },\n    \n    // 生成随机密钥\n    generateRandomKey: (bitLength) => {\n      const byteLength = bitLength / 8;\n      const keyBytes = CodecUtils.generateRandomBytes(byteLength);\n      return CodecUtils.arrayBufferToBase64(keyBytes).substring(0, byteLength);\n    },\n    \n    // 生成随机偏移量(IV)\n    generateRandomOffset: (byteLength, encoding) => {\n      const ivBytes = CodecUtils.generateRandomBytes(byteLength);\n      switch (encoding) {\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(ivBytes);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(ivBytes);\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(ivBytes);\n        default:\n          return CodecUtils.arrayBufferToHex(ivBytes);\n      }\n    },\n    \n    // 计算偏移量字节长度\n    getOffsetByteLength: (offset, encoding) => {\n      if (!offset) return 0;\n      \n      try {\n        const buffer = CodecUtils.inputToBuffer(offset, encoding);\n        return buffer.byteLength;\n      } catch {\n        return 0;\n      }\n    }\n  };\n\n  // 5. AES加解密核心工具\n  const AESUtils = {\n    // 检测加密API是否可用\n    isCryptoAvailable: () => {\n      return typeof window !== 'undefined' && \n             window.crypto && \n             window.crypto.subtle;\n    },\n    \n    // 获取加密配置\n    getCryptoConfig: (mode, iv) => {\n      const config = { name: `AES-${mode}` };\n      \n      if (mode === 'GCM') {\n        config.iv = iv;\n        config.tagLength = 128; // GCM模式认证标签长度\n      } else if (mode === 'CBC') {\n        config.iv = iv;\n      }\n      \n      return config;\n    },\n    \n    // 导入密钥\n    importKey: async (keyMaterial, mode) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      return await window.crypto.subtle.importKey(\n        'raw',\n        keyMaterial,\n        { name: `AES-${mode}` },\n        false,\n        ['encrypt', 'decrypt']\n      );\n    },\n    \n    // 加密\n    encrypt: async (data, key, mode, iv) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      let ciphertext;\n      if (mode === 'GCM') {\n        // GCM模式返回的是包含密文和认证标签的缓冲区\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv,\n          tag: ciphertext.slice(-16) // 最后16字节是认证标签\n        };\n      } else {\n        // CBC模式\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv\n        };\n      }\n    },\n    \n    // 解密\n    decrypt: async (data, key, mode, iv, tag) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      // GCM模式需要认证标签\n      if (mode === 'GCM' && tag) {\n        // 将密文和标签组合\n        const combined = new Uint8Array(data.byteLength + tag.byteLength);\n        combined.set(new Uint8Array(data), 0);\n        combined.set(new Uint8Array(tag), data.byteLength);\n        data = combined.buffer;\n      }\n      \n      return await window.crypto.subtle.decrypt(config, cryptoKey, data);\n    }\n  };\n\n  // 6. 初始化应用\n  function initApp() {\n    // 获取DOM元素\n    const plaintextEl = shadowRoot.getElementById('plaintext');\n    const secretKeyEl = shadowRoot.getElementById('secret-key');\n    const keyLengthEl = shadowRoot.getElementById('key-length');\n    const keyLengthInfo = shadowRoot.getElementById('key-length-info');\n    const modeEl = shadowRoot.getElementById('mode');\n    const inputEncodingEl = shadowRoot.getElementById('input-encoding');\n    const outputEncodingEl = shadowRoot.getElementById('output-encoding');\n    const offsetEl = shadowRoot.getElementById('offset');\n    const offsetLengthEl = shadowRoot.getElementById('offset-length');\n    const offsetEncodingEl = shadowRoot.getElementById('offset-encoding');\n    const offsetInfo = shadowRoot.getElementById('offset-info');\n    const encryptBtn = shadowRoot.getElementById('encrypt-btn');\n    const decryptBtn = shadowRoot.getElementById('decrypt-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const generateKeyBtn = shadowRoot.getElementById('generate-key');\n    const toggleVisibilityBtn = shadowRoot.getElementById('toggle-visibility');\n    const generateOffsetBtn = shadowRoot.getElementById('generate-offset');\n    const copyOffsetBtn = shadowRoot.getElementById('copy-offset');\n    const copyResultBtn = shadowRoot.getElementById('copy-result');\n    const resultContainer = shadowRoot.getElementById('result-container');\n    const resultTitle = shadowRoot.getElementById('result-title');\n    const resultArea = shadowRoot.getElementById('result-area');\n    const statsArea = shadowRoot.getElementById('stats-area');\n    const statKeyLength = shadowRoot.getElementById('stat-key-length');\n    const statMode = shadowRoot.getElementById('stat-mode');\n    const statOffsetLength = shadowRoot.getElementById('stat-offset-length');\n    const statTime = shadowRoot.getElementById('stat-time');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 检测加密环境是否可用\n    const isCryptoSupported = AESUtils.isCryptoAvailable();\n    if (!isCryptoSupported) {\n      // 显示警告并禁用按钮\n      envWarning.style.display = 'block';\n      encryptBtn.disabled = true;\n      decryptBtn.disabled = true;\n      generateKeyBtn.disabled = true;\n      generateOffsetBtn.disabled = true;\n      showResult('加密功能不可用：请在HTTPS协议或localhost环境中使用此工具', true);\n    }\n    \n    // 更新密钥长度提示\n    function updateKeyLengthInfo() {\n      const keyLength = parseInt(keyLengthEl.value);\n      const requiredLength = keyLength / 8;\n      const currentLength = secretKeyEl.value.length;\n      keyLengthInfo.textContent = `当前长度: ${currentLength}/${requiredLength}`;\n      \n      // 密钥长度不足时给出视觉提示\n      if (currentLength !== requiredLength && currentLength > 0) {\n        secretKeyEl.style.borderColor = '#fd7e14';\n        keyLengthInfo.style.color = '#fd7e14';\n      } else {\n        secretKeyEl.style.borderColor = '';\n        keyLengthInfo.style.color = '';\n      }\n    }\n    \n    // 更新偏移量信息\n    function updateOffsetInfo() {\n      const offset = offsetEl.value.trim();\n      const encoding = offsetEncodingEl.value;\n      const byteLength = CodecUtils.getOffsetByteLength(offset, encoding);\n      offsetInfo.textContent = `当前偏移量长度: ${byteLength}字节`;\n      \n      // 根据加密模式推荐偏移量长度\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetInfo.textContent += ' (GCM模式推荐12字节)';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetInfo.textContent += ' (CBC模式推荐16字节)';\n      }\n    }\n    \n    // 根据加密模式自动推荐偏移量长度\n    function updateRecommendedOffsetLength() {\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetLengthEl.value = '12';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetLengthEl.value = '16';\n      }\n      updateOffsetInfo();\n    }\n    \n    // 事件监听\n    keyLengthEl.addEventListener('change', updateKeyLengthInfo);\n    secretKeyEl.addEventListener('input', updateKeyLengthInfo);\n    offsetEl.addEventListener('input', updateOffsetInfo);\n    offsetLengthEl.addEventListener('change', updateOffsetInfo);\n    offsetEncodingEl.addEventListener('change', updateOffsetInfo);\n    modeEl.addEventListener('change', updateRecommendedOffsetLength);\n    \n    // 切换密钥可见性\n    toggleVisibilityBtn.addEventListener('click', () => {\n      const type = secretKeyEl.getAttribute('type');\n      if (type === 'password') {\n        secretKeyEl.setAttribute('type', 'text');\n        toggleVisibilityBtn.textContent = '隐藏';\n      } else {\n        secretKeyEl.setAttribute('type', 'password');\n        toggleVisibilityBtn.textContent = '显示';\n      }\n    });\n    \n    // 生成随机密钥\n    generateKeyBtn.addEventListener('click', () => {\n      try {\n        const keyLength = parseInt(keyLengthEl.value);\n        const key = CodecUtils.generateRandomKey(keyLength);\n        secretKeyEl.value = key;\n        updateKeyLengthInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 生成随机偏移量\n    generateOffsetBtn.addEventListener('click', () => {\n      try {\n        const byteLength = parseInt(offsetLengthEl.value);\n        const encoding = offsetEncodingEl.value;\n        const offset = CodecUtils.generateRandomOffset(byteLength, encoding);\n        offsetEl.value = offset;\n        updateOffsetInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 复制偏移量\n    copyOffsetBtn.addEventListener('click', () => {\n      const offset = offsetEl.value.trim();\n      if (offset) {\n        navigator.clipboard.writeText(offset).then(() => {\n          const originalText = copyOffsetBtn.textContent;\n          copyOffsetBtn.textContent = '已复制';\n          setTimeout(() => {\n            copyOffsetBtn.textContent = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制偏移量失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 复制结果\n    copyResultBtn.addEventListener('click', () => {\n      const text = resultArea.textContent;\n      if (text && text !== '操作结果将显示在这里...') {\n        navigator.clipboard.writeText(text).then(() => {\n          const originalText = copyResultBtn.innerHTML;\n          copyResultBtn.innerHTML = `\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <polyline points=\"20 6 9 17 4 12\"></polyline>\n            </svg>\n            已复制\n          `;\n          setTimeout(() => {\n            copyResultBtn.innerHTML = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 加密按钮点击事件\n    encryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      let offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      const offsetLength = parseInt(offsetLengthEl.value);\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要加密的数据', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV) - 如未提供则自动生成\n        let offsetBuffer;\n        if (offset) {\n          offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n          \n          // 验证偏移量长度\n          if (offsetBuffer.byteLength !== offsetLength) {\n            showResult(`偏移量长度不符合设置（应为${offsetLength}字节，实际为${offsetBuffer.byteLength}字节）`, true);\n            return;\n          }\n        } else {\n          // 自动生成偏移量\n          offsetBuffer = CodecUtils.generateRandomBytes(offsetLength).buffer;\n          offset = CodecUtils.bufferToOutput(offsetBuffer, offsetEncoding);\n          offsetEl.value = offset;\n          updateOffsetInfo();\n        }\n        \n        // 执行加密\n        const result = await AESUtils.encrypt(dataBuffer, keyBuffer, mode, offsetBuffer);\n        \n        // 处理加密结果\n        let output;\n        if (mode === 'GCM') {\n          // GCM模式：组合密文和标签\n          const combined = new Uint8Array(result.ciphertext);\n          output = CodecUtils.bufferToOutput(combined.buffer, outputEncoding);\n        } else {\n          // CBC模式\n          output = CodecUtils.bufferToOutput(result.ciphertext, outputEncoding);\n        }\n        \n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `加密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('加密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 解密按钮点击事件\n    decryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      const offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要解密的数据', true);\n        return;\n      }\n      \n      if (!offset) {\n        showResult('请输入偏移量(IV)', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据（密文）\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV)\n        const offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n        \n        // 处理GCM模式的认证标签\n        let tagBuffer = null;\n        if (mode === 'GCM') {\n          // 最后16字节是认证标签\n          tagBuffer = dataBuffer.slice(-16);\n          // 前面的是密文\n          dataBuffer = dataBuffer.slice(0, -16);\n        }\n        \n        // 执行解密\n        const plaintextBuffer = await AESUtils.decrypt(\n          dataBuffer, \n          keyBuffer, \n          mode, \n          offsetBuffer,\n          tagBuffer\n        );\n        \n        // 处理解密结果\n        const output = CodecUtils.bufferToOutput(plaintextBuffer, outputEncoding);\n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `解密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('解密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 重置按钮点击事件\n    resetBtn.addEventListener('click', () => {\n      plaintextEl.value = '';\n      secretKeyEl.value = '';\n      secretKeyEl.setAttribute('type', 'password');\n      toggleVisibilityBtn.textContent = '显示';\n      offsetEl.value = '';\n      inputEncodingEl.value = 'utf8';\n      outputEncodingEl.value = 'base64';\n      keyLengthEl.value = '128';\n      modeEl.value = 'GCM';\n      offsetLengthEl.value = '12';\n      offsetEncodingEl.value = 'hex';\n      \n      updateKeyLengthInfo();\n      updateOffsetInfo();\n      showResult('操作结果将显示在这里...');\n      hideStats();\n    });\n    \n    // 显示结果函数\n    function showResult(text, isError = false, title = '') {\n      resultArea.textContent = text;\n      resultTitle.textContent = title || (isError ? '操作失败' : '操作结果');\n      \n      if (isError) {\n        resultContainer.classList.add('error');\n      } else {\n        resultContainer.classList.remove('error');\n      }\n      \n      resultContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n    \n    // 显示统计信息\n    function showStats(stats) {\n      statKeyLength.textContent = stats.keyLength;\n      statMode.textContent = stats.mode;\n      statOffsetLength.textContent = stats.offsetLength;\n      statTime.textContent = stats.time;\n      statsArea.style.display = 'grid';\n    }\n    \n    // 隐藏统计信息\n    function hideStats() {\n      statsArea.style.display = 'none';\n    }\n    \n    // 初始化Anzhiyu主题\n    applyAnzhiyuTheme();\n    \n    // 监听Anzhiyu主题变化 - 监测data-theme属性和body的light类\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme' || \n            (mutation.target.tagName === 'BODY' && mutation.attributeName === 'class')) {\n          applyAnzhiyuTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的data-theme变化和body的class变化\n    observer.observe(document.documentElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    // 初始化信息显示\n    updateKeyLengthInfo();\n    updateOffsetInfo();\n  }\n\n  // 立即初始化\n  initApp();\n})();\n</script>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<!-- 高级AES加解密工具 - Anzhiyu主题适配版 -->\n<div id=\"aes-tool-widget\" style=\"width: 100%; max-width: 700px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM内容将通过JavaScript注入 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建HTML模板\n  const htmlTemplate = `\n    <style>\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      /* 基础样式式 - 将在JS中动态设置变量 */\n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2, h3 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--text-color);\n        margin-bottom: 20px;\n      }\n      \n      h2 {\n        font-size: 1.4rem;\n        margin-top: 24px;\n        padding-bottom: 8px;\n        border-bottom: 1px solid var(--border-color);\n      }\n      \n      h3 {\n        font-size: 1.1rem;\n        text-align: left;\n        margin-bottom: 12px;\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--sub-color);\n      }\n      \n      .card {\n        background: var(--card-bg);\n        border-radius: 8px;\n        padding: 18px;\n        margin-bottom: 20px;\n        border: 1px solid var(--border-color);\n      }\n      \n      .options-row {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .option-group {\n        flex: 1;\n        min-width: 200px;\n      }\n      \n      .input-group {\n        margin-bottom: 16px;\n      }\n      \n      label {\n        display: block;\n        margin-bottom: 6px;\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .radio-group {\n        display: flex;\n        gap: 12px;\n        margin-bottom: 4px;\n      }\n      \n      .radio-item {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      input[type=\"text\"], \n      input[type=\"password\"], \n      textarea, \n      select {\n        width: 100%;\n        padding: 12px;\n        border: 1px solid var(--border-color);\n        border-radius: 6px;\n        background: var(--bg-color);\n        color: var(--text-color);\n        font-size: 1rem;\n        transition: border-color 0.2s ease;\n      }\n      \n      input:focus, \n      textarea:focus, \n      select:focus {\n        outline: none;\n        border-color: var(--primary-color);\n        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);\n      }\n      \n      textarea {\n        min-height: 120px;\n        resize: vertical;\n        line-height: 1.5;\n      }\n      \n      .button-group {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin: 24px 0;\n        flex-wrap: wrap;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      button svg {\n        width: 16px;\n        height: 16px;\n      }\n      \n      #encrypt-btn {\n        background: var(--primary-color);\n        color: white;\n      }\n      \n      #encrypt-btn:hover {\n        background: var(--primary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #decrypt-btn {\n        background: var(--secondary-color);\n        color: white;\n      }\n      \n      #decrypt-btn:hover {\n        background: var(--secondary-dark);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);\n      }\n      \n      .utility-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      .utility-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      #reset-btn {\n        background: var(--key-bg);\n        color: var(--text-color);\n      }\n      \n      #reset-btn:hover {\n        background: var(--utility-hover);\n      }\n      \n      .result-container {\n        margin-top: 16px;\n        padding: 16px;\n        border-radius: 8px;\n        background: var(--card-bg);\n        border: 1px solid var(--border-color);\n      }\n      \n      .result-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 8px;\n      }\n      \n      .result-title {\n        font-weight: 500;\n        color: var(--text-color);\n      }\n      \n      .result-content {\n        min-height: 120px;\n        white-space: pre-wrap;\n        word-wrap: break-word;\n        line-height: 1.5;\n      }\n      \n      .result.error {\n        background: var(--error-bg);\n        border-color: var(--error-border);\n        color: var(--error-text);\n      }\n      \n      .info-text {\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        margin-top: 6px;\n        text-align: right;\n      }\n      \n      .stats {\n        margin-top: 12px;\n        padding-top: 12px;\n        border-top: 1px dashed var(--border-color);\n        font-size: 0.85rem;\n        color: var(--sub-color);\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n        gap: 8px;\n      }\n      \n      .stat-item {\n        display: flex;\n        justify-content: space-between;\n      }\n      \n      .environment-warning {\n        margin: 16px 0;\n        padding: 12px;\n        background: #fff3cd;\n        border: 1px solid #ffeeba;\n        border-radius: 6px;\n        color: #856404;\n        font-size: 0.9rem;\n        display: none;\n      }\n\n      .environment-warning.dark {\n        background: #5c4b00;\n        border-color: #856404;\n        color: #fff3cd;\n      }\n      \n      .tooltip {\n        position: relative;\n        display: inline-block;\n        cursor: help;\n      }\n      \n      .tooltip .tooltip-text {\n        visibility: hidden;\n        width: 250px;\n        background-color: var(--tooltip-bg);\n        color: var(--tooltip-text);\n        text-align: center;\n        border-radius: 6px;\n        padding: 8px;\n        position: absolute;\n        z-index: 1;\n        bottom: 125%;\n        left: 50%;\n        transform: translateX(-50%);\n        opacity: 0;\n        transition: opacity 0.3s;\n        font-size: 0.8rem;\n        font-weight: normal;\n      }\n      \n      .tooltip:hover .tooltip-text {\n        visibility: visible;\n        opacity: 1;\n      }\n      \n      .offset-options {\n        margin-top: 10px;\n        padding-top: 10px;\n        border-top: 1px dashed var(--border-color);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>高级AES加解密工具</h1>\n      \n      <div class=\"environment-warning\" id=\"env-warning\">\n        ⚠️ 注意：加密功能需要在安全上下文（HTTPS或localhost）中运行，请切换到支持的环境。\n      </div>\n      \n      <div class=\"intro\">\n        基于Web Crypto API的专业AES加解密工具，支持多种密钥长度、加密模式和自定义偏移量，所有操作均在本地完成。\n      </div>\n\n      <div class=\"card\">\n        <h3>加密选项</h3>\n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"key-length\">密钥长度</label>\n            <select id=\"key-length\">\n              <option value=\"128\">128位 (16字符)</option>\n              <option value=\"192\">192位 (24字符)</option>\n              <option value=\"256\">256位 (32字符)</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"mode\">加密模式</label>\n            <select id=\"mode\">\n              <option value=\"GCM\">AES-GCM (认证加密)</option>\n              <option value=\"CBC\">AES-CBC</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"options-row\">\n          <div class=\"option-group\">\n            <label for=\"input-encoding\">输入编码</label>\n            <select id=\"input-encoding\">\n              <option value=\"utf8\">UTF-8 文本</option>\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n          <div class=\"option-group\">\n            <label for=\"output-encoding\">输出编码</label>\n            <select id=\"output-encoding\">\n              <option value=\"base64\">Base64</option>\n              <option value=\"hex\">十六进制</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"plaintext\">\n          输入数据\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">加密时输入明文，解密时输入密文</span>\n          </span>\n        </label>\n        <textarea id=\"plaintext\" placeholder=\"请输入要加密的明文或要解密的密文...\"></textarea>\n      </div>\n\n      <div class=\"input-group\">\n        <label for=\"secret-key\">\n          密钥\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">根据所选密钥长度，需输入16/24/32个字符</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"password\" id=\"secret-key\" placeholder=\"请输入密钥\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-key\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"toggle-visibility\">显示</button>\n        </div>\n        <div class=\"info-text\" id=\"key-length-info\">当前长度: 0/16</div>\n      </div>\n\n      <div class=\"input-group\" id=\"offset-group\">\n        <label for=\"offset\">\n          偏移量 (IV)\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">初始化向量，用于增加加密强度，不同模式有不同的推荐长度，解密时需使用相同值</span>\n          </span>\n        </label>\n        <div style=\"display: flex; gap: 8px;\">\n          <input type=\"text\" id=\"offset\" placeholder=\"偏移量（初始化向量）\">\n          <button type=\"button\" class=\"utility-btn\" id=\"generate-offset\">生成</button>\n          <button type=\"button\" class=\"utility-btn\" id=\"copy-offset\">复制</button>\n        </div>\n        \n        <div class=\"offset-options\">\n          <div class=\"options-row\">\n            <div class=\"option-group\">\n              <label for=\"offset-length\">偏移量长度 (字节)</label>\n              <select id=\"offset-length\">\n                <option value=\"8\">8</option>\n                <option value=\"12\" selected>12 (GCM推荐)</option>\n                <option value=\"16\">16 (CBC推荐)</option>\n                <option value=\"24\">24</option>\n                <option value=\"32\">32</option>\n              </select>\n            </div>\n            <div class=\"option-group\">\n              <label for=\"offset-encoding\">偏移量编码</label>\n              <select id=\"offset-encoding\">\n                <option value=\"hex\" selected>十六进制</option>\n                <option value=\"base64\">Base64</option>\n                <option value=\"utf8\">UTF-8</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"info-text\" id=\"offset-info\">当前偏移量长度: 0字节</div>\n        </div>\n      </div>\n\n      <div class=\"button-group\">\n        <button id=\"encrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          加密\n        </button>\n        <button id=\"decrypt-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n          </svg>\n          解密\n        </button>\n        <button type=\"button\" class=\"utility-btn\" id=\"copy-result\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n            <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n          </svg>\n          复制结果\n        </button>\n        <button id=\"reset-btn\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <path d=\"M21 2v6h-6\"></path>\n            <path d=\"M3 12a9 9 0 0 1 15-6.7L21 8\"></path>\n            <path d=\"M3 22v-6h6\"></path>\n            <path d=\"M21 12a9 9 0 0 1-15 6.7L3 16\"></path>\n          </svg>\n          重置\n        </button>\n      </div>\n\n      <h2>结果</h2>\n      <div class=\"result-container\" id=\"result-container\">\n        <div class=\"result-header\">\n          <div class=\"result-title\" id=\"result-title\">操作结果将显示在这里...</div>\n        </div>\n        <div class=\"result-content\" id=\"result-area\"></div>\n        <div class=\"stats\" id=\"stats-area\" style=\"display: none;\">\n          <div class=\"stat-item\">\n            <span>密钥长度:</span>\n            <span id=\"stat-key-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>加密模式:</span>\n            <span id=\"stat-mode\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>偏移量长度:</span>\n            <span id=\"stat-offset-length\">-</span>\n          </div>\n          <div class=\"stat-item\">\n            <span>处理时间:</span>\n            <span id=\"stat-time\">-</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n\n  // 2. 创建Shadow DOM\n  const widgetContainer = document.getElementById('aes-tool-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  shadowRoot.innerHTML = htmlTemplate;\n\n  // 3. 主题适配 - 专为Anzhiyu主题优化\n  function applyAnzhiyuTheme() {\n    // 检测Anzhiyu主题的深色/亮色模式\n    const htmlElement = document.documentElement;\n    const bodyElement = document.body;\n    const isLightMode = htmlElement.getAttribute('data-theme') === 'light' || \n                       bodyElement.classList.contains('light');\n    \n    const style = document.createElement('style');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 同步警告框的主题\n    if (isLightMode) {\n      envWarning.classList.remove('dark');\n    } else {\n      envWarning.classList.add('dark');\n    }\n    \n    // 亮色模式 - 遵循Anzhiyu主题变量\n    if (isLightMode) {\n      style.textContent = `\n        :host {\n          --text-color: #333;          /* 文本主色 */\n          --bg-color: #f5f5f5;         /* 背景色 */\n          --sub-color: #666;           /* 次要文本色 */\n          --key-bg: #ddd;              /* 按钮背景色 */\n          --border-color: #ddd;        /* 边框色 */\n          --intro-bg: #f0f0f0;         /* 介绍区域背景 */\n          --card-bg: #fff;             /* 卡片背景 */\n          --primary-color: #007bff;    /* 主按钮色 */\n          --primary-dark: #0056b3;     /* 主按钮hover色 */\n          --secondary-color: #28a745;  /* 次要按钮色 */\n          --secondary-dark: #218838;   /* 次要按钮hover色 */\n          --utility-hover: #ccc;       /* 工具按钮hover色 */\n          --result-bg: #fff;           /* 结果区域背景 */\n          --error-bg: #fff5f5;         /* 错误背景 */\n          --error-border: #ffe3e3;     /* 错误边框 */\n          --error-text: #dc3545;       /* 错误文本 */\n          --tooltip-bg: #333;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    } \n    // 深色模式 - 适配Anzhiyu深色风格\n    else {\n      style.textContent = `\n        :host {\n          --text-color: #f0f0f0;       /* 文本主色 */\n          --bg-color: #1a1a1a;         /* 背景色 */\n          --sub-color: #bbb;           /* 次要文本色 */\n          --key-bg: #333;              /* 按钮背景色 */\n          --border-color: #333;        /* 边框色 */\n          --intro-bg: #2d2d2d;         /* 介绍区域背景 */\n          --card-bg: #2d2d2d;          /* 卡片背景 */\n          --primary-color: #4dabf7;    /* 主按钮色 */\n          --primary-dark: #3b82f6;     /* 主按钮hover色 */\n          --secondary-color: #51cf66;  /* 次要按钮色 */\n          --secondary-dark: #40c057;   /* 次要按钮hover色 */\n          --utility-hover: #444;       /* 工具按钮hover色 */\n          --result-bg: #2d2d2d;        /* 结果区域背景 */\n          --error-bg: #471515;         /* 错误背景 */\n          --error-border: #6b2121;     /* 错误边框 */\n          --error-text: #f87171;       /* 错误文本 */\n          --tooltip-bg: #444;          /* 提示框背景 */\n          --tooltip-text: #fff;        /* 提示框文本 */\n        }\n      `;\n    }\n    \n    // 清除旧主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n\n  // 4. 工具函数 - 编码转换和辅助函数\n  const CodecUtils = {\n    // 字符串转ArrayBuffer (UTF-8)\n    stringToArrayBuffer: (str) => {\n      return new TextEncoder().encode(str);\n    },\n    \n    // ArrayBuffer转字符串 (UTF-8)\n    arrayBufferToString: (buf) => {\n      return new TextDecoder().decode(buf);\n    },\n    \n    // ArrayBuffer转Base64字符串\n    arrayBufferToBase64: (buf) => {\n      return btoa(String.fromCharCode(...new Uint8Array(buf)));\n    },\n    \n    // Base64字符串转ArrayBuffer\n    base64ToArrayBuffer: (base64) => {\n      try {\n        const binary = atob(base64);\n        const buf = new ArrayBuffer(binary.length);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < binary.length; i++) {\n          view[i] = binary.charCodeAt(i);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的Base64编码: ' + e.message);\n      }\n    },\n    \n    // ArrayBuffer转十六进制字符串\n    arrayBufferToHex: (buf) => {\n      return Array.from(new Uint8Array(buf))\n        .map(b => b.toString(16).padStart(2, '0'))\n        .join('');\n    },\n    \n    // 十六进制字符串转ArrayBuffer\n    hexToArrayBuffer: (hex) => {\n      try {\n        if (hex.length % 2 !== 0) {\n          throw new Error('十六进制字符串长度必须为偶数');\n        }\n        const buf = new ArrayBuffer(hex.length / 2);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i < hex.length; i += 2) {\n          view[i / 2] = parseInt(hex.substr(i, 2), 16);\n        }\n        return buf;\n      } catch (e) {\n        throw new Error('无效的十六进制编码: ' + e.message);\n      }\n    },\n    \n    // 根据编码类型将输入转换为ArrayBuffer\n    inputToBuffer: (input, encoding) => {\n      if (!input) return new ArrayBuffer(0);\n      \n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.stringToArrayBuffer(input);\n        case 'base64':\n          return CodecUtils.base64ToArrayBuffer(input);\n        case 'hex':\n          return CodecUtils.hexToArrayBuffer(input);\n        default:\n          throw new Error('不支持的输入编码: ' + encoding);\n      }\n    },\n    \n    // 根据编码类型将ArrayBuffer转换为字符串\n    bufferToOutput: (buffer, encoding) => {\n      switch (encoding) {\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(buffer);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(buffer);\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(buffer);\n        default:\n          throw new Error('不支持的输出编码: ' + encoding);\n      }\n    },\n    \n    // 生成指定长度的随机字节\n    generateRandomBytes: (length) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，无法生成随机数');\n      }\n      return window.crypto.getRandomValues(new Uint8Array(length));\n    },\n    \n    // 生成随机密钥\n    generateRandomKey: (bitLength) => {\n      const byteLength = bitLength / 8;\n      const keyBytes = CodecUtils.generateRandomBytes(byteLength);\n      return CodecUtils.arrayBufferToBase64(keyBytes).substring(0, byteLength);\n    },\n    \n    // 生成随机偏移量(IV)\n    generateRandomOffset: (byteLength, encoding) => {\n      const ivBytes = CodecUtils.generateRandomBytes(byteLength);\n      switch (encoding) {\n        case 'hex':\n          return CodecUtils.arrayBufferToHex(ivBytes);\n        case 'base64':\n          return CodecUtils.arrayBufferToBase64(ivBytes);\n        case 'utf8':\n          return CodecUtils.arrayBufferToString(ivBytes);\n        default:\n          return CodecUtils.arrayBufferToHex(ivBytes);\n      }\n    },\n    \n    // 计算偏移量字节长度\n    getOffsetByteLength: (offset, encoding) => {\n      if (!offset) return 0;\n      \n      try {\n        const buffer = CodecUtils.inputToBuffer(offset, encoding);\n        return buffer.byteLength;\n      } catch {\n        return 0;\n      }\n    }\n  };\n\n  // 5. AES加解密核心工具\n  const AESUtils = {\n    // 检测加密API是否可用\n    isCryptoAvailable: () => {\n      return typeof window !== 'undefined' && \n             window.crypto && \n             window.crypto.subtle;\n    },\n    \n    // 获取加密配置\n    getCryptoConfig: (mode, iv) => {\n      const config = { name: `AES-${mode}` };\n      \n      if (mode === 'GCM') {\n        config.iv = iv;\n        config.tagLength = 128; // GCM模式认证标签长度\n      } else if (mode === 'CBC') {\n        config.iv = iv;\n      }\n      \n      return config;\n    },\n    \n    // 导入密钥\n    importKey: async (keyMaterial, mode) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      return await window.crypto.subtle.importKey(\n        'raw',\n        keyMaterial,\n        { name: `AES-${mode}` },\n        false,\n        ['encrypt', 'decrypt']\n      );\n    },\n    \n    // 加密\n    encrypt: async (data, key, mode, iv) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      let ciphertext;\n      if (mode === 'GCM') {\n        // GCM模式返回的是包含密文和认证标签的缓冲区\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv,\n          tag: ciphertext.slice(-16) // 最后16字节是认证标签\n        };\n      } else {\n        // CBC模式\n        ciphertext = await window.crypto.subtle.encrypt(config, cryptoKey, data);\n        return {\n          ciphertext: ciphertext,\n          iv: iv\n        };\n      }\n    },\n    \n    // 解密\n    decrypt: async (data, key, mode, iv, tag) => {\n      if (!AESUtils.isCryptoAvailable()) {\n        throw new Error('加密API不可用，请在HTTPS或localhost环境中使用');\n      }\n      \n      const cryptoKey = await AESUtils.importKey(key, mode);\n      const config = AESUtils.getCryptoConfig(mode, iv);\n      \n      // GCM模式需要认证标签\n      if (mode === 'GCM' && tag) {\n        // 将密文和标签组合\n        const combined = new Uint8Array(data.byteLength + tag.byteLength);\n        combined.set(new Uint8Array(data), 0);\n        combined.set(new Uint8Array(tag), data.byteLength);\n        data = combined.buffer;\n      }\n      \n      return await window.crypto.subtle.decrypt(config, cryptoKey, data);\n    }\n  };\n\n  // 6. 初始化应用\n  function initApp() {\n    // 获取DOM元素\n    const plaintextEl = shadowRoot.getElementById('plaintext');\n    const secretKeyEl = shadowRoot.getElementById('secret-key');\n    const keyLengthEl = shadowRoot.getElementById('key-length');\n    const keyLengthInfo = shadowRoot.getElementById('key-length-info');\n    const modeEl = shadowRoot.getElementById('mode');\n    const inputEncodingEl = shadowRoot.getElementById('input-encoding');\n    const outputEncodingEl = shadowRoot.getElementById('output-encoding');\n    const offsetEl = shadowRoot.getElementById('offset');\n    const offsetLengthEl = shadowRoot.getElementById('offset-length');\n    const offsetEncodingEl = shadowRoot.getElementById('offset-encoding');\n    const offsetInfo = shadowRoot.getElementById('offset-info');\n    const encryptBtn = shadowRoot.getElementById('encrypt-btn');\n    const decryptBtn = shadowRoot.getElementById('decrypt-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const generateKeyBtn = shadowRoot.getElementById('generate-key');\n    const toggleVisibilityBtn = shadowRoot.getElementById('toggle-visibility');\n    const generateOffsetBtn = shadowRoot.getElementById('generate-offset');\n    const copyOffsetBtn = shadowRoot.getElementById('copy-offset');\n    const copyResultBtn = shadowRoot.getElementById('copy-result');\n    const resultContainer = shadowRoot.getElementById('result-container');\n    const resultTitle = shadowRoot.getElementById('result-title');\n    const resultArea = shadowRoot.getElementById('result-area');\n    const statsArea = shadowRoot.getElementById('stats-area');\n    const statKeyLength = shadowRoot.getElementById('stat-key-length');\n    const statMode = shadowRoot.getElementById('stat-mode');\n    const statOffsetLength = shadowRoot.getElementById('stat-offset-length');\n    const statTime = shadowRoot.getElementById('stat-time');\n    const envWarning = shadowRoot.getElementById('env-warning');\n    \n    // 检测加密环境是否可用\n    const isCryptoSupported = AESUtils.isCryptoAvailable();\n    if (!isCryptoSupported) {\n      // 显示警告并禁用按钮\n      envWarning.style.display = 'block';\n      encryptBtn.disabled = true;\n      decryptBtn.disabled = true;\n      generateKeyBtn.disabled = true;\n      generateOffsetBtn.disabled = true;\n      showResult('加密功能不可用：请在HTTPS协议或localhost环境中使用此工具', true);\n    }\n    \n    // 更新密钥长度提示\n    function updateKeyLengthInfo() {\n      const keyLength = parseInt(keyLengthEl.value);\n      const requiredLength = keyLength / 8;\n      const currentLength = secretKeyEl.value.length;\n      keyLengthInfo.textContent = `当前长度: ${currentLength}/${requiredLength}`;\n      \n      // 密钥长度不足时给出视觉提示\n      if (currentLength !== requiredLength && currentLength > 0) {\n        secretKeyEl.style.borderColor = '#fd7e14';\n        keyLengthInfo.style.color = '#fd7e14';\n      } else {\n        secretKeyEl.style.borderColor = '';\n        keyLengthInfo.style.color = '';\n      }\n    }\n    \n    // 更新偏移量信息\n    function updateOffsetInfo() {\n      const offset = offsetEl.value.trim();\n      const encoding = offsetEncodingEl.value;\n      const byteLength = CodecUtils.getOffsetByteLength(offset, encoding);\n      offsetInfo.textContent = `当前偏移量长度: ${byteLength}字节`;\n      \n      // 根据加密模式推荐偏移量长度\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetInfo.textContent += ' (GCM模式推荐12字节)';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetInfo.textContent += ' (CBC模式推荐16字节)';\n      }\n    }\n    \n    // 根据加密模式自动推荐偏移量长度\n    function updateRecommendedOffsetLength() {\n      const mode = modeEl.value;\n      if (mode === 'GCM' && offsetLengthEl.value !== '12') {\n        offsetLengthEl.value = '12';\n      } else if (mode === 'CBC' && offsetLengthEl.value !== '16') {\n        offsetLengthEl.value = '16';\n      }\n      updateOffsetInfo();\n    }\n    \n    // 事件监听\n    keyLengthEl.addEventListener('change', updateKeyLengthInfo);\n    secretKeyEl.addEventListener('input', updateKeyLengthInfo);\n    offsetEl.addEventListener('input', updateOffsetInfo);\n    offsetLengthEl.addEventListener('change', updateOffsetInfo);\n    offsetEncodingEl.addEventListener('change', updateOffsetInfo);\n    modeEl.addEventListener('change', updateRecommendedOffsetLength);\n    \n    // 切换密钥可见性\n    toggleVisibilityBtn.addEventListener('click', () => {\n      const type = secretKeyEl.getAttribute('type');\n      if (type === 'password') {\n        secretKeyEl.setAttribute('type', 'text');\n        toggleVisibilityBtn.textContent = '隐藏';\n      } else {\n        secretKeyEl.setAttribute('type', 'password');\n        toggleVisibilityBtn.textContent = '显示';\n      }\n    });\n    \n    // 生成随机密钥\n    generateKeyBtn.addEventListener('click', () => {\n      try {\n        const keyLength = parseInt(keyLengthEl.value);\n        const key = CodecUtils.generateRandomKey(keyLength);\n        secretKeyEl.value = key;\n        updateKeyLengthInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 生成随机偏移量\n    generateOffsetBtn.addEventListener('click', () => {\n      try {\n        const byteLength = parseInt(offsetLengthEl.value);\n        const encoding = offsetEncodingEl.value;\n        const offset = CodecUtils.generateRandomOffset(byteLength, encoding);\n        offsetEl.value = offset;\n        updateOffsetInfo();\n      } catch (e) {\n        showResult(e.message, true);\n      }\n    });\n    \n    // 复制偏移量\n    copyOffsetBtn.addEventListener('click', () => {\n      const offset = offsetEl.value.trim();\n      if (offset) {\n        navigator.clipboard.writeText(offset).then(() => {\n          const originalText = copyOffsetBtn.textContent;\n          copyOffsetBtn.textContent = '已复制';\n          setTimeout(() => {\n            copyOffsetBtn.textContent = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制偏移量失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 复制结果\n    copyResultBtn.addEventListener('click', () => {\n      const text = resultArea.textContent;\n      if (text && text !== '操作结果将显示在这里...') {\n        navigator.clipboard.writeText(text).then(() => {\n          const originalText = copyResultBtn.innerHTML;\n          copyResultBtn.innerHTML = `\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <polyline points=\"20 6 9 17 4 12\"></polyline>\n            </svg>\n            已复制\n          `;\n          setTimeout(() => {\n            copyResultBtn.innerHTML = originalText;\n          }, 2000);\n        }).catch(err => {\n          showResult('复制失败: ' + err.message, true);\n        });\n      }\n    });\n    \n    // 加密按钮点击事件\n    encryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      let offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      const offsetLength = parseInt(offsetLengthEl.value);\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要加密的数据', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV) - 如未提供则自动生成\n        let offsetBuffer;\n        if (offset) {\n          offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n          \n          // 验证偏移量长度\n          if (offsetBuffer.byteLength !== offsetLength) {\n            showResult(`偏移量长度不符合设置（应为${offsetLength}字节，实际为${offsetBuffer.byteLength}字节）`, true);\n            return;\n          }\n        } else {\n          // 自动生成偏移量\n          offsetBuffer = CodecUtils.generateRandomBytes(offsetLength).buffer;\n          offset = CodecUtils.bufferToOutput(offsetBuffer, offsetEncoding);\n          offsetEl.value = offset;\n          updateOffsetInfo();\n        }\n        \n        // 执行加密\n        const result = await AESUtils.encrypt(dataBuffer, keyBuffer, mode, offsetBuffer);\n        \n        // 处理加密结果\n        let output;\n        if (mode === 'GCM') {\n          // GCM模式：组合密文和标签\n          const combined = new Uint8Array(result.ciphertext);\n          output = CodecUtils.bufferToOutput(combined.buffer, outputEncoding);\n        } else {\n          // CBC模式\n          output = CodecUtils.bufferToOutput(result.ciphertext, outputEncoding);\n        }\n        \n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `加密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('加密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 解密按钮点击事件\n    decryptBtn.addEventListener('click', async () => {\n      const inputData = plaintextEl.value.trim();\n      const key = secretKeyEl.value.trim();\n      const keyLength = parseInt(keyLengthEl.value);\n      const mode = modeEl.value;\n      const inputEncoding = inputEncodingEl.value;\n      const outputEncoding = outputEncodingEl.value;\n      const offset = offsetEl.value.trim();\n      const offsetEncoding = offsetEncodingEl.value;\n      \n      // 验证输入\n      if (!inputData) {\n        showResult('请输入要解密的数据', true);\n        return;\n      }\n      \n      if (!offset) {\n        showResult('请输入偏移量(IV)', true);\n        return;\n      }\n      \n      const requiredKeyLength = keyLength / 8;\n      if (key.length !== requiredKeyLength) {\n        showResult(`请输入${requiredKeyLength}个字符的密钥（${keyLength}位）`, true);\n        return;\n      }\n      \n      try {\n        const startTime = performance.now();\n        \n        // 处理输入数据（密文）\n        const dataBuffer = CodecUtils.inputToBuffer(inputData, inputEncoding);\n        \n        // 处理密钥\n        const keyBuffer = CodecUtils.stringToArrayBuffer(key);\n        \n        // 处理偏移量(IV)\n        const offsetBuffer = CodecUtils.inputToBuffer(offset, offsetEncoding);\n        \n        // 处理GCM模式的认证标签\n        let tagBuffer = null;\n        if (mode === 'GCM') {\n          // 最后16字节是认证标签\n          tagBuffer = dataBuffer.slice(-16);\n          // 前面的是密文\n          dataBuffer = dataBuffer.slice(0, -16);\n        }\n        \n        // 执行解密\n        const plaintextBuffer = await AESUtils.decrypt(\n          dataBuffer, \n          keyBuffer, \n          mode, \n          offsetBuffer,\n          tagBuffer\n        );\n        \n        // 处理解密结果\n        const output = CodecUtils.bufferToOutput(plaintextBuffer, outputEncoding);\n        const endTime = performance.now();\n        const timeTaken = (endTime - startTime).toFixed(2);\n        \n        // 显示结果和统计信息\n        showResult(output, false, `解密成功 (${mode})`);\n        showStats({\n          keyLength: `${keyLength}位 (${requiredKeyLength}字符)`,\n          mode: `AES-${mode}`,\n          offsetLength: `${offsetBuffer.byteLength}字节`,\n          time: `${timeTaken}毫秒`\n        });\n        \n      } catch (e) {\n        showResult('解密失败: ' + e.message, true);\n        hideStats();\n      }\n    });\n    \n    // 重置按钮点击事件\n    resetBtn.addEventListener('click', () => {\n      plaintextEl.value = '';\n      secretKeyEl.value = '';\n      secretKeyEl.setAttribute('type', 'password');\n      toggleVisibilityBtn.textContent = '显示';\n      offsetEl.value = '';\n      inputEncodingEl.value = 'utf8';\n      outputEncodingEl.value = 'base64';\n      keyLengthEl.value = '128';\n      modeEl.value = 'GCM';\n      offsetLengthEl.value = '12';\n      offsetEncodingEl.value = 'hex';\n      \n      updateKeyLengthInfo();\n      updateOffsetInfo();\n      showResult('操作结果将显示在这里...');\n      hideStats();\n    });\n    \n    // 显示结果函数\n    function showResult(text, isError = false, title = '') {\n      resultArea.textContent = text;\n      resultTitle.textContent = title || (isError ? '操作失败' : '操作结果');\n      \n      if (isError) {\n        resultContainer.classList.add('error');\n      } else {\n        resultContainer.classList.remove('error');\n      }\n      \n      resultContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n    \n    // 显示统计信息\n    function showStats(stats) {\n      statKeyLength.textContent = stats.keyLength;\n      statMode.textContent = stats.mode;\n      statOffsetLength.textContent = stats.offsetLength;\n      statTime.textContent = stats.time;\n      statsArea.style.display = 'grid';\n    }\n    \n    // 隐藏统计信息\n    function hideStats() {\n      statsArea.style.display = 'none';\n    }\n    \n    // 初始化Anzhiyu主题\n    applyAnzhiyuTheme();\n    \n    // 监听Anzhiyu主题变化 - 监测data-theme属性和body的light类\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme' || \n            (mutation.target.tagName === 'BODY' && mutation.attributeName === 'class')) {\n          applyAnzhiyuTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的data-theme变化和body的class变化\n    observer.observe(document.documentElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    // 初始化信息显示\n    updateKeyLengthInfo();\n    updateOffsetInfo();\n  }\n\n  // 立即初始化\n  initApp();\n})();\n</script>"},{"title":"图库集","date":"2024-11-20T02:18:41.000Z","aside":false,"top_img":false,"type":"album","_content":"","source":"album/index.md","raw":"---\ntitle: 图库集\ndate: 2024-11-20 10:18:41\naside: false\ntop_img: false\ntype: \"album\"\n---\n","updated":"2025-08-21T16:37:12.334Z","path":"album/index.html","comments":1,"layout":"page","_id":"cmgu955zd000qg0fyboqk8sof","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"分类","date":"2024-02-23T09:56:00.000Z","aside":false,"top_img":false,"type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2024-02-23 17:56:00\naside: false\ntop_img: false\ntype: \"categories\"\n---","updated":"2024-11-21T08:40:05.021Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cmgu955zh000vg0fyfexth9pe","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"统计","type":"charts","comments":0,"aside":false,"_content":"\n<!-- 文章发布时间统计图 --> <!-- 2024-09是从2024年9月开始计算 -->\n<div id=\"posts-chart\" data-start=\"2020-06\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章标签统计图 --> <!-- data-length=\"10\" 是显示的标签数量 -->\n<div id=\"tags-chart\" data-length=\"10\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章分类统计图 -->\n<div id=\"categories-chart\" data-parent=\"true\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>","source":"charts/index.md","raw":"---\ntitle: 统计\ntype: \"charts\"\ncomments: false\naside: false\n---\n\n<!-- 文章发布时间统计图 --> <!-- 2024-09是从2024年9月开始计算 -->\n<div id=\"posts-chart\" data-start=\"2020-06\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章标签统计图 --> <!-- data-length=\"10\" 是显示的标签数量 -->\n<div id=\"tags-chart\" data-length=\"10\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章分类统计图 -->\n<div id=\"categories-chart\" data-parent=\"true\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>","date":"2025-10-10T15:16:15.554Z","updated":"2025-10-10T15:16:15.554Z","path":"charts/index.html","layout":"page","_id":"cmgu955zk000zg0fyhr090vvc","content":"<!-- 文章发布时间统计图 --> <!-- 2024-09是从2024年9月开始计算 -->\n<div id=\"posts-chart\" data-start=\"2020-06\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章标签统计图 --> <!-- data-length=\"10\" 是显示的标签数量 -->\n<div id=\"tags-chart\" data-length=\"10\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章分类统计图 -->\n<div id=\"categories-chart\" data-parent=\"true\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<!-- 文章发布时间统计图 --> <!-- 2024-09是从2024年9月开始计算 -->\n<div id=\"posts-chart\" data-start=\"2020-06\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章标签统计图 --> <!-- data-length=\"10\" 是显示的标签数量 -->\n<div id=\"tags-chart\" data-length=\"10\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>\n<!-- 文章分类统计图 -->\n<div id=\"categories-chart\" data-parent=\"true\" style=\"border-radius: 8px; height: 300px; padding: 10px;\"></div>"},{"title":"藏宝阁","date":"2025-08-20T08:24:00.000Z","comments":0,"aside":false,"type":"collect","_content":"","source":"collect/index.md","raw":"---\ntitle: 藏宝阁\ndate: 2025-08-20 16:24:00\ncomments: false\naside: false\ntype: collect\n---","updated":"2025-08-20T08:27:14.638Z","path":"collect/index.html","layout":"page","_id":"cmgu955zn0014g0fyfyy9dtp0","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"Cookies","date":"2025-08-20T17:22:10.000Z","_content":"# 更新日期\n本政策的最近更新日期为：2025-08-21\n\n为了确保网站和我开发的软件的可靠性、安全性和个性化，我使用 Cookies。当你接受 Cookies 时，这有助于通过识别你的身份、记住你的偏好或提供个性化用户体验来帮助我改善网站。\n\n本政策应与我的隐私政策一起阅读，该隐私政策解释了我如何使用个人信息。\n\n如果你对我使用你的个人信息或 Cookies 的方式有任何疑问，请通过 `2096231523@qq.com` 与我联系。\n\n如果你想管理你的 Cookies，请按照下面“如何管理 Cookies”部分中的说明进行操作。\n\n## 什么是 Cookies？\nCookies 是一种小型文本文件，当你访问网站时，网站可能会将这些文件放在你的计算机或设备上。Cookies 会帮助网站或其他网站在你下次访问时识别你的设备。网站信标、像素或其他类似文件也可以做同样的事情。我在此政策中使用术语“Cookies”来指代以这种方式收集信息的所有文件。\n\nCookies 提供许多功能。例如，他们可以帮助我记住你喜欢深色模式还是浅色模式，分析我网站的效果。\n\n大多数网站使用 Cookies 来收集和保留有关其访问者的个人信息。大多数 Cookies 收集一般信息，例如访问者如何到达和使用我的网站，他们使用的设备，他们的互联网协议地址（IP 地址），他们正在查看的页面及其大致位置（例如，我将能够认识到你正在从长沙访问我的网站）。\n\n## Cookies 的目的\n我将 Cookies 分为以下类别:\n| 用途 | 说明 |\n| ------- | ------- |\n| 授权 | 你访问我的网站时，我可通过 Cookie 提供正确信息，为你打造个性化的体验。例如：Cookie 会告知你通过搜索引擎搜索的具体内容来改善文章的标题优化关键词、或者创建更符合你搜索需求的文章内容。 |\n| 安全措施 | 我通过 Cookie 启用及支持安全功能，监控和防止可疑活动、欺诈性流量和违反版权协议的行为。 |\n| 偏好、功能和服务 | 我使用功能性 Cookies 来让我记住你的偏好，或保存你向我提供的有关你的喜好或其他信息。 |\n| 网站性能、分析和研究 | 我使用这些 cookie 来监控网站性能。这使我能够通过快速识别和解决出现的任何问题来提供高质量的体验。 |\n\n## 我的网站上的第三方 Cookies\n我还在我的网站上使用属于上述类别的第三方 Cookies，用于以下目的：\n\n- 帮助我监控网站上的流量；\n- 识别欺诈或非人为性流量；\n- 协助市场调研；\n- 改善网站功能；\n- 监督我的版权协议和隐私政策的遵守情况。\n\n| 第三方服务商 | 用途 |\n| ------- | ------- |\n| 百度 | 用于统计站内访问情况，进行针对性优化，同时用于索引文章内容，进行搜索引擎优化 |\n| 必应 | 用于索引文章内容，进行搜索引擎优化 |\n| Google | 用于索引文章内容，进行搜索引擎优化 |\n\n## 如何管理 Cookies？\n在将 Cookie 放置在你的计算机或设备上之前，系统会显示一个弹出窗口，要求你同意设置这些 Cookie。通过同意放置 Cookies，你可以让我为你提供最佳的体验和服务。如果你愿意，你可以通过浏览器设置关闭本站的 Cookie 来拒绝同意放置 Cookies；但是，我网站的部分功能可能无法完全或按预期运行。你有机会允许和/或拒绝使用 Cookie。你可以通过访问浏览器设置随时返回到你的 Cookie 偏好设置以查看和/或删除它们。\n\n除了我提供的控件之外，你还可以选择在 Internet 浏览器中启用或禁用 Cookie。大多数互联网浏览器还允许你选择是要禁用所有 Cookie 还是仅禁用第三方 Cookie。默认情况下，大多数互联网浏览器都接受 Cookie，但这可以更改。有关详细信息，请参阅 Internet 浏览器中的帮助菜单或设备随附的文档。\n\n以下链接提供了有关如何在所有主流浏览器中控制 Cookie 的说明：\n\n- [Google Chrome](https://support.google.com/chrome/answer/95647?hl=en)\n- [IE](https://support.microsoft.com/en-us/help/260971/description-of-cookies)\n- [Safari（Mac）](https://support.apple.com/zh-cn/guide/safari/sfri11471/mac)\n- [Safari（Mobile）](https://support.apple.com/en-us/105082)\n- [Firefox](https://support.mozilla.org/en-US/kb/Cookies-information-websites-store-on-your-computer)\n- [Andorid Browser](http://support.google.com/ics/nexus/bin/answer.py?hl=en&answer=2425067)\n\n如你使用其他浏览器，请参阅浏览器制造商提供的文档。\n有关 Cookies 以及如何管理 Cookies 的更多信息，请访问：\n\n[wikipedia.org](https://wikipedia.org) 、 [allaboutCookies.org](https://allaboutCookies.org) 或 [aboutCookies.org](https://aboutCookies.org)\n\n## 更多信息\n有关我数据处理的更多信息，请参阅我的隐私政策。如果你对此 Cookie 政策有任何疑问，请通过`2096231523@qq.com`与我联系。\n\n## 对此 Cookie 政策的更改\n我可能对此 Cookie 政策所做的任何更改都将发布在此页面上。如果更改很重要，我会在我的主页或应用上明确指出该政策已更新。","source":"cookies/index.md","raw":"---\ntitle: Cookies\ndate: 2025-08-21 01:22:10\n---\n# 更新日期\n本政策的最近更新日期为：2025-08-21\n\n为了确保网站和我开发的软件的可靠性、安全性和个性化，我使用 Cookies。当你接受 Cookies 时，这有助于通过识别你的身份、记住你的偏好或提供个性化用户体验来帮助我改善网站。\n\n本政策应与我的隐私政策一起阅读，该隐私政策解释了我如何使用个人信息。\n\n如果你对我使用你的个人信息或 Cookies 的方式有任何疑问，请通过 `2096231523@qq.com` 与我联系。\n\n如果你想管理你的 Cookies，请按照下面“如何管理 Cookies”部分中的说明进行操作。\n\n## 什么是 Cookies？\nCookies 是一种小型文本文件，当你访问网站时，网站可能会将这些文件放在你的计算机或设备上。Cookies 会帮助网站或其他网站在你下次访问时识别你的设备。网站信标、像素或其他类似文件也可以做同样的事情。我在此政策中使用术语“Cookies”来指代以这种方式收集信息的所有文件。\n\nCookies 提供许多功能。例如，他们可以帮助我记住你喜欢深色模式还是浅色模式，分析我网站的效果。\n\n大多数网站使用 Cookies 来收集和保留有关其访问者的个人信息。大多数 Cookies 收集一般信息，例如访问者如何到达和使用我的网站，他们使用的设备，他们的互联网协议地址（IP 地址），他们正在查看的页面及其大致位置（例如，我将能够认识到你正在从长沙访问我的网站）。\n\n## Cookies 的目的\n我将 Cookies 分为以下类别:\n| 用途 | 说明 |\n| ------- | ------- |\n| 授权 | 你访问我的网站时，我可通过 Cookie 提供正确信息，为你打造个性化的体验。例如：Cookie 会告知你通过搜索引擎搜索的具体内容来改善文章的标题优化关键词、或者创建更符合你搜索需求的文章内容。 |\n| 安全措施 | 我通过 Cookie 启用及支持安全功能，监控和防止可疑活动、欺诈性流量和违反版权协议的行为。 |\n| 偏好、功能和服务 | 我使用功能性 Cookies 来让我记住你的偏好，或保存你向我提供的有关你的喜好或其他信息。 |\n| 网站性能、分析和研究 | 我使用这些 cookie 来监控网站性能。这使我能够通过快速识别和解决出现的任何问题来提供高质量的体验。 |\n\n## 我的网站上的第三方 Cookies\n我还在我的网站上使用属于上述类别的第三方 Cookies，用于以下目的：\n\n- 帮助我监控网站上的流量；\n- 识别欺诈或非人为性流量；\n- 协助市场调研；\n- 改善网站功能；\n- 监督我的版权协议和隐私政策的遵守情况。\n\n| 第三方服务商 | 用途 |\n| ------- | ------- |\n| 百度 | 用于统计站内访问情况，进行针对性优化，同时用于索引文章内容，进行搜索引擎优化 |\n| 必应 | 用于索引文章内容，进行搜索引擎优化 |\n| Google | 用于索引文章内容，进行搜索引擎优化 |\n\n## 如何管理 Cookies？\n在将 Cookie 放置在你的计算机或设备上之前，系统会显示一个弹出窗口，要求你同意设置这些 Cookie。通过同意放置 Cookies，你可以让我为你提供最佳的体验和服务。如果你愿意，你可以通过浏览器设置关闭本站的 Cookie 来拒绝同意放置 Cookies；但是，我网站的部分功能可能无法完全或按预期运行。你有机会允许和/或拒绝使用 Cookie。你可以通过访问浏览器设置随时返回到你的 Cookie 偏好设置以查看和/或删除它们。\n\n除了我提供的控件之外，你还可以选择在 Internet 浏览器中启用或禁用 Cookie。大多数互联网浏览器还允许你选择是要禁用所有 Cookie 还是仅禁用第三方 Cookie。默认情况下，大多数互联网浏览器都接受 Cookie，但这可以更改。有关详细信息，请参阅 Internet 浏览器中的帮助菜单或设备随附的文档。\n\n以下链接提供了有关如何在所有主流浏览器中控制 Cookie 的说明：\n\n- [Google Chrome](https://support.google.com/chrome/answer/95647?hl=en)\n- [IE](https://support.microsoft.com/en-us/help/260971/description-of-cookies)\n- [Safari（Mac）](https://support.apple.com/zh-cn/guide/safari/sfri11471/mac)\n- [Safari（Mobile）](https://support.apple.com/en-us/105082)\n- [Firefox](https://support.mozilla.org/en-US/kb/Cookies-information-websites-store-on-your-computer)\n- [Andorid Browser](http://support.google.com/ics/nexus/bin/answer.py?hl=en&answer=2425067)\n\n如你使用其他浏览器，请参阅浏览器制造商提供的文档。\n有关 Cookies 以及如何管理 Cookies 的更多信息，请访问：\n\n[wikipedia.org](https://wikipedia.org) 、 [allaboutCookies.org](https://allaboutCookies.org) 或 [aboutCookies.org](https://aboutCookies.org)\n\n## 更多信息\n有关我数据处理的更多信息，请参阅我的隐私政策。如果你对此 Cookie 政策有任何疑问，请通过`2096231523@qq.com`与我联系。\n\n## 对此 Cookie 政策的更改\n我可能对此 Cookie 政策所做的任何更改都将发布在此页面上。如果更改很重要，我会在我的主页或应用上明确指出该政策已更新。","updated":"2025-08-20T17:46:40.964Z","path":"cookies/index.html","comments":1,"layout":"page","_id":"cmgu955zp0018g0fy8ws6afer","content":"<h1 id=\"更新日期\"><a href=\"#更新日期\" class=\"headerlink\" title=\"更新日期\"></a>更新日期</h1><p>本政策的最近更新日期为：2025-08-21</p>\n<p>为了确保网站和我开发的软件的可靠性、安全性和个性化，我使用 Cookies。当你接受 Cookies 时，这有助于通过识别你的身份、记住你的偏好或提供个性化用户体验来帮助我改善网站。</p>\n<p>本政策应与我的隐私政策一起阅读，该隐私政策解释了我如何使用个人信息。</p>\n<p>如果你对我使用你的个人信息或 Cookies 的方式有任何疑问，请通过 <code>2096231523@qq.com</code> 与我联系。</p>\n<p>如果你想管理你的 Cookies，请按照下面“如何管理 Cookies”部分中的说明进行操作。</p>\n<h2 id=\"什么是-Cookies？\"><a href=\"#什么是-Cookies？\" class=\"headerlink\" title=\"什么是 Cookies？\"></a>什么是 Cookies？</h2><p>Cookies 是一种小型文本文件，当你访问网站时，网站可能会将这些文件放在你的计算机或设备上。Cookies 会帮助网站或其他网站在你下次访问时识别你的设备。网站信标、像素或其他类似文件也可以做同样的事情。我在此政策中使用术语“Cookies”来指代以这种方式收集信息的所有文件。</p>\n<p>Cookies 提供许多功能。例如，他们可以帮助我记住你喜欢深色模式还是浅色模式，分析我网站的效果。</p>\n<p>大多数网站使用 Cookies 来收集和保留有关其访问者的个人信息。大多数 Cookies 收集一般信息，例如访问者如何到达和使用我的网站，他们使用的设备，他们的互联网协议地址（IP 地址），他们正在查看的页面及其大致位置（例如，我将能够认识到你正在从长沙访问我的网站）。</p>\n<h2 id=\"Cookies-的目的\"><a href=\"#Cookies-的目的\" class=\"headerlink\" title=\"Cookies 的目的\"></a>Cookies 的目的</h2><p>我将 Cookies 分为以下类别:</p>\n<table>\n<thead>\n<tr>\n<th>用途</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>授权</td>\n<td>你访问我的网站时，我可通过 Cookie 提供正确信息，为你打造个性化的体验。例如：Cookie 会告知你通过搜索引擎搜索的具体内容来改善文章的标题优化关键词、或者创建更符合你搜索需求的文章内容。</td>\n</tr>\n<tr>\n<td>安全措施</td>\n<td>我通过 Cookie 启用及支持安全功能，监控和防止可疑活动、欺诈性流量和违反版权协议的行为。</td>\n</tr>\n<tr>\n<td>偏好、功能和服务</td>\n<td>我使用功能性 Cookies 来让我记住你的偏好，或保存你向我提供的有关你的喜好或其他信息。</td>\n</tr>\n<tr>\n<td>网站性能、分析和研究</td>\n<td>我使用这些 cookie 来监控网站性能。这使我能够通过快速识别和解决出现的任何问题来提供高质量的体验。</td>\n</tr>\n</tbody></table>\n<h2 id=\"我的网站上的第三方-Cookies\"><a href=\"#我的网站上的第三方-Cookies\" class=\"headerlink\" title=\"我的网站上的第三方 Cookies\"></a>我的网站上的第三方 Cookies</h2><p>我还在我的网站上使用属于上述类别的第三方 Cookies，用于以下目的：</p>\n<ul>\n<li>帮助我监控网站上的流量；</li>\n<li>识别欺诈或非人为性流量；</li>\n<li>协助市场调研；</li>\n<li>改善网站功能；</li>\n<li>监督我的版权协议和隐私政策的遵守情况。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>第三方服务商</th>\n<th>用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>百度</td>\n<td>用于统计站内访问情况，进行针对性优化，同时用于索引文章内容，进行搜索引擎优化</td>\n</tr>\n<tr>\n<td>必应</td>\n<td>用于索引文章内容，进行搜索引擎优化</td>\n</tr>\n<tr>\n<td>Google</td>\n<td>用于索引文章内容，进行搜索引擎优化</td>\n</tr>\n</tbody></table>\n<h2 id=\"如何管理-Cookies？\"><a href=\"#如何管理-Cookies？\" class=\"headerlink\" title=\"如何管理 Cookies？\"></a>如何管理 Cookies？</h2><p>在将 Cookie 放置在你的计算机或设备上之前，系统会显示一个弹出窗口，要求你同意设置这些 Cookie。通过同意放置 Cookies，你可以让我为你提供最佳的体验和服务。如果你愿意，你可以通过浏览器设置关闭本站的 Cookie 来拒绝同意放置 Cookies；但是，我网站的部分功能可能无法完全或按预期运行。你有机会允许和&#x2F;或拒绝使用 Cookie。你可以通过访问浏览器设置随时返回到你的 Cookie 偏好设置以查看和&#x2F;或删除它们。</p>\n<p>除了我提供的控件之外，你还可以选择在 Internet 浏览器中启用或禁用 Cookie。大多数互联网浏览器还允许你选择是要禁用所有 Cookie 还是仅禁用第三方 Cookie。默认情况下，大多数互联网浏览器都接受 Cookie，但这可以更改。有关详细信息，请参阅 Internet 浏览器中的帮助菜单或设备随附的文档。</p>\n<p>以下链接提供了有关如何在所有主流浏览器中控制 Cookie 的说明：</p>\n<ul>\n<li><a href=\"https://support.google.com/chrome/answer/95647?hl=en\">Google Chrome</a></li>\n<li><a href=\"https://support.microsoft.com/en-us/help/260971/description-of-cookies\">IE</a></li>\n<li><a href=\"https://support.apple.com/zh-cn/guide/safari/sfri11471/mac\">Safari（Mac）</a></li>\n<li><a href=\"https://support.apple.com/en-us/105082\">Safari（Mobile）</a></li>\n<li><a href=\"https://support.mozilla.org/en-US/kb/Cookies-information-websites-store-on-your-computer\">Firefox</a></li>\n<li><a href=\"http://support.google.com/ics/nexus/bin/answer.py?hl=en&answer=2425067\">Andorid Browser</a></li>\n</ul>\n<p>如你使用其他浏览器，请参阅浏览器制造商提供的文档。<br>有关 Cookies 以及如何管理 Cookies 的更多信息，请访问：</p>\n<p><a href=\"https://wikipedia.org/\">wikipedia.org</a> 、 <a href=\"https://allaboutcookies.org/\">allaboutCookies.org</a> 或 <a href=\"https://aboutcookies.org/\">aboutCookies.org</a></p>\n<h2 id=\"更多信息\"><a href=\"#更多信息\" class=\"headerlink\" title=\"更多信息\"></a>更多信息</h2><p>有关我数据处理的更多信息，请参阅我的隐私政策。如果你对此 Cookie 政策有任何疑问，请通过<code>2096231523@qq.com</code>与我联系。</p>\n<h2 id=\"对此-Cookie-政策的更改\"><a href=\"#对此-Cookie-政策的更改\" class=\"headerlink\" title=\"对此 Cookie 政策的更改\"></a>对此 Cookie 政策的更改</h2><p>我可能对此 Cookie 政策所做的任何更改都将发布在此页面上。如果更改很重要，我会在我的主页或应用上明确指出该政策已更新。</p>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<h1 id=\"更新日期\"><a href=\"#更新日期\" class=\"headerlink\" title=\"更新日期\"></a>更新日期</h1><p>本政策的最近更新日期为：2025-08-21</p>\n<p>为了确保网站和我开发的软件的可靠性、安全性和个性化，我使用 Cookies。当你接受 Cookies 时，这有助于通过识别你的身份、记住你的偏好或提供个性化用户体验来帮助我改善网站。</p>\n<p>本政策应与我的隐私政策一起阅读，该隐私政策解释了我如何使用个人信息。</p>\n<p>如果你对我使用你的个人信息或 Cookies 的方式有任何疑问，请通过 <code>2096231523@qq.com</code> 与我联系。</p>\n<p>如果你想管理你的 Cookies，请按照下面“如何管理 Cookies”部分中的说明进行操作。</p>\n<h2 id=\"什么是-Cookies？\"><a href=\"#什么是-Cookies？\" class=\"headerlink\" title=\"什么是 Cookies？\"></a>什么是 Cookies？</h2><p>Cookies 是一种小型文本文件，当你访问网站时，网站可能会将这些文件放在你的计算机或设备上。Cookies 会帮助网站或其他网站在你下次访问时识别你的设备。网站信标、像素或其他类似文件也可以做同样的事情。我在此政策中使用术语“Cookies”来指代以这种方式收集信息的所有文件。</p>\n<p>Cookies 提供许多功能。例如，他们可以帮助我记住你喜欢深色模式还是浅色模式，分析我网站的效果。</p>\n<p>大多数网站使用 Cookies 来收集和保留有关其访问者的个人信息。大多数 Cookies 收集一般信息，例如访问者如何到达和使用我的网站，他们使用的设备，他们的互联网协议地址（IP 地址），他们正在查看的页面及其大致位置（例如，我将能够认识到你正在从长沙访问我的网站）。</p>\n<h2 id=\"Cookies-的目的\"><a href=\"#Cookies-的目的\" class=\"headerlink\" title=\"Cookies 的目的\"></a>Cookies 的目的</h2><p>我将 Cookies 分为以下类别:</p>\n<table>\n<thead>\n<tr>\n<th>用途</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>授权</td>\n<td>你访问我的网站时，我可通过 Cookie 提供正确信息，为你打造个性化的体验。例如：Cookie 会告知你通过搜索引擎搜索的具体内容来改善文章的标题优化关键词、或者创建更符合你搜索需求的文章内容。</td>\n</tr>\n<tr>\n<td>安全措施</td>\n<td>我通过 Cookie 启用及支持安全功能，监控和防止可疑活动、欺诈性流量和违反版权协议的行为。</td>\n</tr>\n<tr>\n<td>偏好、功能和服务</td>\n<td>我使用功能性 Cookies 来让我记住你的偏好，或保存你向我提供的有关你的喜好或其他信息。</td>\n</tr>\n<tr>\n<td>网站性能、分析和研究</td>\n<td>我使用这些 cookie 来监控网站性能。这使我能够通过快速识别和解决出现的任何问题来提供高质量的体验。</td>\n</tr>\n</tbody></table>\n<h2 id=\"我的网站上的第三方-Cookies\"><a href=\"#我的网站上的第三方-Cookies\" class=\"headerlink\" title=\"我的网站上的第三方 Cookies\"></a>我的网站上的第三方 Cookies</h2><p>我还在我的网站上使用属于上述类别的第三方 Cookies，用于以下目的：</p>\n<ul>\n<li>帮助我监控网站上的流量；</li>\n<li>识别欺诈或非人为性流量；</li>\n<li>协助市场调研；</li>\n<li>改善网站功能；</li>\n<li>监督我的版权协议和隐私政策的遵守情况。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>第三方服务商</th>\n<th>用途</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>百度</td>\n<td>用于统计站内访问情况，进行针对性优化，同时用于索引文章内容，进行搜索引擎优化</td>\n</tr>\n<tr>\n<td>必应</td>\n<td>用于索引文章内容，进行搜索引擎优化</td>\n</tr>\n<tr>\n<td>Google</td>\n<td>用于索引文章内容，进行搜索引擎优化</td>\n</tr>\n</tbody></table>\n<h2 id=\"如何管理-Cookies？\"><a href=\"#如何管理-Cookies？\" class=\"headerlink\" title=\"如何管理 Cookies？\"></a>如何管理 Cookies？</h2><p>在将 Cookie 放置在你的计算机或设备上之前，系统会显示一个弹出窗口，要求你同意设置这些 Cookie。通过同意放置 Cookies，你可以让我为你提供最佳的体验和服务。如果你愿意，你可以通过浏览器设置关闭本站的 Cookie 来拒绝同意放置 Cookies；但是，我网站的部分功能可能无法完全或按预期运行。你有机会允许和&#x2F;或拒绝使用 Cookie。你可以通过访问浏览器设置随时返回到你的 Cookie 偏好设置以查看和&#x2F;或删除它们。</p>\n<p>除了我提供的控件之外，你还可以选择在 Internet 浏览器中启用或禁用 Cookie。大多数互联网浏览器还允许你选择是要禁用所有 Cookie 还是仅禁用第三方 Cookie。默认情况下，大多数互联网浏览器都接受 Cookie，但这可以更改。有关详细信息，请参阅 Internet 浏览器中的帮助菜单或设备随附的文档。</p>\n<p>以下链接提供了有关如何在所有主流浏览器中控制 Cookie 的说明：</p>\n<ul>\n<li><a href=\"https://support.google.com/chrome/answer/95647?hl=en\">Google Chrome</a></li>\n<li><a href=\"https://support.microsoft.com/en-us/help/260971/description-of-cookies\">IE</a></li>\n<li><a href=\"https://support.apple.com/zh-cn/guide/safari/sfri11471/mac\">Safari（Mac）</a></li>\n<li><a href=\"https://support.apple.com/en-us/105082\">Safari（Mobile）</a></li>\n<li><a href=\"https://support.mozilla.org/en-US/kb/Cookies-information-websites-store-on-your-computer\">Firefox</a></li>\n<li><a href=\"http://support.google.com/ics/nexus/bin/answer.py?hl=en&answer=2425067\">Andorid Browser</a></li>\n</ul>\n<p>如你使用其他浏览器，请参阅浏览器制造商提供的文档。<br>有关 Cookies 以及如何管理 Cookies 的更多信息，请访问：</p>\n<p><a href=\"https://wikipedia.org/\">wikipedia.org</a> 、 <a href=\"https://allaboutcookies.org/\">allaboutCookies.org</a> 或 <a href=\"https://aboutcookies.org/\">aboutCookies.org</a></p>\n<h2 id=\"更多信息\"><a href=\"#更多信息\" class=\"headerlink\" title=\"更多信息\"></a>更多信息</h2><p>有关我数据处理的更多信息，请参阅我的隐私政策。如果你对此 Cookie 政策有任何疑问，请通过<code>2096231523@qq.com</code>与我联系。</p>\n<h2 id=\"对此-Cookie-政策的更改\"><a href=\"#对此-Cookie-政策的更改\" class=\"headerlink\" title=\"对此 Cookie 政策的更改\"></a>对此 Cookie 政策的更改</h2><p>我可能对此 Cookie 政策所做的任何更改都将发布在此页面上。如果更改很重要，我会在我的主页或应用上明确指出该政策已更新。</p>\n"},{"title":"版权协议","date":"2025-08-20T17:21:38.000Z","_content":"\n为了保持文章质量，并保持互联网的开放共享精神，保持页面流量的稳定，综合考虑下本站的所有原创文章均采用 cc 协议中比较严格的署名-非商业性使用-禁止演绎 4.0 国际标准。这篇文章主要想能够更加清楚明白的介绍本站的协议标准和要求。方便你合理的使用本站的文章。\n\n本站无广告嵌入和商业行为。违反协议的行为不仅会损害原作者的创作热情，而且会影响整个版权环境。强烈呼吁你能够在转载时遵守协议。遵守协议的行为几乎不会对你的目标产生负面影响，鼓励创作环境是每个创作者的期望。\n\n## 哪些文章适于本协议？\n所有原创内容均在文章标题顶部，以及文章结尾的版权说明部分展示。\n\n原创内容的非商用转载必须为完整转载且标注出处的带有完整 url 链接或访问原文之类字样的超链接。\n\n作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。\n\n## 你可以做什么？\n只要你遵守本页的许可，你可以自由地共享文章的内容 — 在任何媒介以任何形式复制、发行本作品。并且无需通知作者。\n\n## 你需要遵守什么样的许可？\n### 署名\n你必须标注内容的来源，你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接提升阅读体验）。\n\n### 禁止商用\n本站内容免费向互联网所有用户提供，分享本站文章时禁止商业性使用、禁止在转载页面中插入广告（例如谷歌广告、百度广告）、禁止阅读的拦截行为（例如关注公众号、下载 App 后观看文章）。\n\n### 禁止演绎\n- 分享全部内容（无修改）\n你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接）\n\n- 分享部分截取内容或者衍生创作\n目前本站全部原创文章的衍生品禁止公开分享和分发。如有更好的修改建议，可以在对应文章下留言。如有衍生创作需求，可以在评论中联系。\n\n- 作为参考资料截取部分内容\n作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。\n\n### 什么内容会被版权保护\n包括但不限于：\n\n- 文章封面图片\n- 文章标题和正文\n- 站点图片素材（不含主题自带素材）\n\n### 例外情况\n本着友好互相进步的原则，被本站友链收录的博客允许博客文章内容的衍生品的分享和分发，但仍需标注出处。\n\n本着互联网开放精神，你可以在博客文章下方留言要求授权博文的衍生品的分享和分发，标注你的网站地址。\n\n关于主题样式的版权信息，可以详见 [AnZhiYu 主题说明](https://blog.anheyu.com/copyright/ \"AnZhiYu 主题说明\")\n\n# 网站源代码协议\n网站源代码（仅包含 css、js）的代码部分采用 GPL 协议。","source":"copyright/index.md","raw":"---\ntitle: 版权协议\ndate: 2025-08-21 01:21:38\n---\n\n为了保持文章质量，并保持互联网的开放共享精神，保持页面流量的稳定，综合考虑下本站的所有原创文章均采用 cc 协议中比较严格的署名-非商业性使用-禁止演绎 4.0 国际标准。这篇文章主要想能够更加清楚明白的介绍本站的协议标准和要求。方便你合理的使用本站的文章。\n\n本站无广告嵌入和商业行为。违反协议的行为不仅会损害原作者的创作热情，而且会影响整个版权环境。强烈呼吁你能够在转载时遵守协议。遵守协议的行为几乎不会对你的目标产生负面影响，鼓励创作环境是每个创作者的期望。\n\n## 哪些文章适于本协议？\n所有原创内容均在文章标题顶部，以及文章结尾的版权说明部分展示。\n\n原创内容的非商用转载必须为完整转载且标注出处的带有完整 url 链接或访问原文之类字样的超链接。\n\n作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。\n\n## 你可以做什么？\n只要你遵守本页的许可，你可以自由地共享文章的内容 — 在任何媒介以任何形式复制、发行本作品。并且无需通知作者。\n\n## 你需要遵守什么样的许可？\n### 署名\n你必须标注内容的来源，你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接提升阅读体验）。\n\n### 禁止商用\n本站内容免费向互联网所有用户提供，分享本站文章时禁止商业性使用、禁止在转载页面中插入广告（例如谷歌广告、百度广告）、禁止阅读的拦截行为（例如关注公众号、下载 App 后观看文章）。\n\n### 禁止演绎\n- 分享全部内容（无修改）\n你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接）\n\n- 分享部分截取内容或者衍生创作\n目前本站全部原创文章的衍生品禁止公开分享和分发。如有更好的修改建议，可以在对应文章下留言。如有衍生创作需求，可以在评论中联系。\n\n- 作为参考资料截取部分内容\n作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。\n\n### 什么内容会被版权保护\n包括但不限于：\n\n- 文章封面图片\n- 文章标题和正文\n- 站点图片素材（不含主题自带素材）\n\n### 例外情况\n本着友好互相进步的原则，被本站友链收录的博客允许博客文章内容的衍生品的分享和分发，但仍需标注出处。\n\n本着互联网开放精神，你可以在博客文章下方留言要求授权博文的衍生品的分享和分发，标注你的网站地址。\n\n关于主题样式的版权信息，可以详见 [AnZhiYu 主题说明](https://blog.anheyu.com/copyright/ \"AnZhiYu 主题说明\")\n\n# 网站源代码协议\n网站源代码（仅包含 css、js）的代码部分采用 GPL 协议。","updated":"2025-08-20T17:32:02.755Z","path":"copyright/index.html","comments":1,"layout":"page","_id":"cmgu955zs001dg0fy5zcncawk","content":"<p>为了保持文章质量，并保持互联网的开放共享精神，保持页面流量的稳定，综合考虑下本站的所有原创文章均采用 cc 协议中比较严格的署名-非商业性使用-禁止演绎 4.0 国际标准。这篇文章主要想能够更加清楚明白的介绍本站的协议标准和要求。方便你合理的使用本站的文章。</p>\n<p>本站无广告嵌入和商业行为。违反协议的行为不仅会损害原作者的创作热情，而且会影响整个版权环境。强烈呼吁你能够在转载时遵守协议。遵守协议的行为几乎不会对你的目标产生负面影响，鼓励创作环境是每个创作者的期望。</p>\n<h2 id=\"哪些文章适于本协议？\"><a href=\"#哪些文章适于本协议？\" class=\"headerlink\" title=\"哪些文章适于本协议？\"></a>哪些文章适于本协议？</h2><p>所有原创内容均在文章标题顶部，以及文章结尾的版权说明部分展示。</p>\n<p>原创内容的非商用转载必须为完整转载且标注出处的带有完整 url 链接或访问原文之类字样的超链接。</p>\n<p>作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。</p>\n<h2 id=\"你可以做什么？\"><a href=\"#你可以做什么？\" class=\"headerlink\" title=\"你可以做什么？\"></a>你可以做什么？</h2><p>只要你遵守本页的许可，你可以自由地共享文章的内容 — 在任何媒介以任何形式复制、发行本作品。并且无需通知作者。</p>\n<h2 id=\"你需要遵守什么样的许可？\"><a href=\"#你需要遵守什么样的许可？\" class=\"headerlink\" title=\"你需要遵守什么样的许可？\"></a>你需要遵守什么样的许可？</h2><h3 id=\"署名\"><a href=\"#署名\" class=\"headerlink\" title=\"署名\"></a>署名</h3><p>你必须标注内容的来源，你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接提升阅读体验）。</p>\n<h3 id=\"禁止商用\"><a href=\"#禁止商用\" class=\"headerlink\" title=\"禁止商用\"></a>禁止商用</h3><p>本站内容免费向互联网所有用户提供，分享本站文章时禁止商业性使用、禁止在转载页面中插入广告（例如谷歌广告、百度广告）、禁止阅读的拦截行为（例如关注公众号、下载 App 后观看文章）。</p>\n<h3 id=\"禁止演绎\"><a href=\"#禁止演绎\" class=\"headerlink\" title=\"禁止演绎\"></a>禁止演绎</h3><ul>\n<li><p>分享全部内容（无修改）<br>你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接）</p>\n</li>\n<li><p>分享部分截取内容或者衍生创作<br>目前本站全部原创文章的衍生品禁止公开分享和分发。如有更好的修改建议，可以在对应文章下留言。如有衍生创作需求，可以在评论中联系。</p>\n</li>\n<li><p>作为参考资料截取部分内容<br>作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。</p>\n</li>\n</ul>\n<h3 id=\"什么内容会被版权保护\"><a href=\"#什么内容会被版权保护\" class=\"headerlink\" title=\"什么内容会被版权保护\"></a>什么内容会被版权保护</h3><p>包括但不限于：</p>\n<ul>\n<li>文章封面图片</li>\n<li>文章标题和正文</li>\n<li>站点图片素材（不含主题自带素材）</li>\n</ul>\n<h3 id=\"例外情况\"><a href=\"#例外情况\" class=\"headerlink\" title=\"例外情况\"></a>例外情况</h3><p>本着友好互相进步的原则，被本站友链收录的博客允许博客文章内容的衍生品的分享和分发，但仍需标注出处。</p>\n<p>本着互联网开放精神，你可以在博客文章下方留言要求授权博文的衍生品的分享和分发，标注你的网站地址。</p>\n<p>关于主题样式的版权信息，可以详见 <a href=\"https://blog.anheyu.com/copyright/\" title=\"AnZhiYu 主题说明\">AnZhiYu 主题说明</a></p>\n<h1 id=\"网站源代码协议\"><a href=\"#网站源代码协议\" class=\"headerlink\" title=\"网站源代码协议\"></a>网站源代码协议</h1><p>网站源代码（仅包含 css、js）的代码部分采用 GPL 协议。</p>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<p>为了保持文章质量，并保持互联网的开放共享精神，保持页面流量的稳定，综合考虑下本站的所有原创文章均采用 cc 协议中比较严格的署名-非商业性使用-禁止演绎 4.0 国际标准。这篇文章主要想能够更加清楚明白的介绍本站的协议标准和要求。方便你合理的使用本站的文章。</p>\n<p>本站无广告嵌入和商业行为。违反协议的行为不仅会损害原作者的创作热情，而且会影响整个版权环境。强烈呼吁你能够在转载时遵守协议。遵守协议的行为几乎不会对你的目标产生负面影响，鼓励创作环境是每个创作者的期望。</p>\n<h2 id=\"哪些文章适于本协议？\"><a href=\"#哪些文章适于本协议？\" class=\"headerlink\" title=\"哪些文章适于本协议？\"></a>哪些文章适于本协议？</h2><p>所有原创内容均在文章标题顶部，以及文章结尾的版权说明部分展示。</p>\n<p>原创内容的非商用转载必须为完整转载且标注出处的带有完整 url 链接或访问原文之类字样的超链接。</p>\n<p>作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。</p>\n<h2 id=\"你可以做什么？\"><a href=\"#你可以做什么？\" class=\"headerlink\" title=\"你可以做什么？\"></a>你可以做什么？</h2><p>只要你遵守本页的许可，你可以自由地共享文章的内容 — 在任何媒介以任何形式复制、发行本作品。并且无需通知作者。</p>\n<h2 id=\"你需要遵守什么样的许可？\"><a href=\"#你需要遵守什么样的许可？\" class=\"headerlink\" title=\"你需要遵守什么样的许可？\"></a>你需要遵守什么样的许可？</h2><h3 id=\"署名\"><a href=\"#署名\" class=\"headerlink\" title=\"署名\"></a>署名</h3><p>你必须标注内容的来源，你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接提升阅读体验）。</p>\n<h3 id=\"禁止商用\"><a href=\"#禁止商用\" class=\"headerlink\" title=\"禁止商用\"></a>禁止商用</h3><p>本站内容免费向互联网所有用户提供，分享本站文章时禁止商业性使用、禁止在转载页面中插入广告（例如谷歌广告、百度广告）、禁止阅读的拦截行为（例如关注公众号、下载 App 后观看文章）。</p>\n<h3 id=\"禁止演绎\"><a href=\"#禁止演绎\" class=\"headerlink\" title=\"禁止演绎\"></a>禁止演绎</h3><ul>\n<li><p>分享全部内容（无修改）<br>你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接）</p>\n</li>\n<li><p>分享部分截取内容或者衍生创作<br>目前本站全部原创文章的衍生品禁止公开分享和分发。如有更好的修改建议，可以在对应文章下留言。如有衍生创作需求，可以在评论中联系。</p>\n</li>\n<li><p>作为参考资料截取部分内容<br>作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。</p>\n</li>\n</ul>\n<h3 id=\"什么内容会被版权保护\"><a href=\"#什么内容会被版权保护\" class=\"headerlink\" title=\"什么内容会被版权保护\"></a>什么内容会被版权保护</h3><p>包括但不限于：</p>\n<ul>\n<li>文章封面图片</li>\n<li>文章标题和正文</li>\n<li>站点图片素材（不含主题自带素材）</li>\n</ul>\n<h3 id=\"例外情况\"><a href=\"#例外情况\" class=\"headerlink\" title=\"例外情况\"></a>例外情况</h3><p>本着友好互相进步的原则，被本站友链收录的博客允许博客文章内容的衍生品的分享和分发，但仍需标注出处。</p>\n<p>本着互联网开放精神，你可以在博客文章下方留言要求授权博文的衍生品的分享和分发，标注你的网站地址。</p>\n<p>关于主题样式的版权信息，可以详见 <a href=\"https://blog.anheyu.com/copyright/\" title=\"AnZhiYu 主题说明\">AnZhiYu 主题说明</a></p>\n<h1 id=\"网站源代码协议\"><a href=\"#网站源代码协议\" class=\"headerlink\" title=\"网站源代码协议\"></a>网站源代码协议</h1><p>网站源代码（仅包含 css、js）的代码部分采用 GPL 协议。</p>\n"},{"title":"日常生活","date":"2023-04-23T07:57:51.000Z","aside":false,"top_img":false,"type":"album_detail","_content":"","source":"dailyPhoto/index.md","raw":"---\ntitle: 日常生活\ndate: 2023-4-23 15:57:51\naside: false\ntop_img: false\ntype: \"album_detail\"\n---","updated":"2024-11-20T02:28:47.162Z","path":"dailyPhoto/index.html","comments":1,"layout":"page","_id":"cmgu955zu001hg0fy5svnhpyu","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"我的EDC","date":"2023-06-10T13:33:24.000Z","type":"equipment","aside":false,"top_img":false,"_content":"","source":"equipment/index.md","raw":"---\ntitle: 我的EDC\ndate: 2023-06-10 21:33:24\ntype: equipment\naside: false\ntop_img: false\n---\n","updated":"2025-08-21T16:37:25.968Z","path":"equipment/index.html","comments":1,"layout":"page","_id":"cmgu955zx001mg0fygars3668","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"酥米说说","date":"2024-07-22T14:06:17.000Z","comments":1,"aside":false,"top_img":false,"type":"essay","_content":"","source":"essay/index.md","raw":"---\ntitle: 酥米说说\ndate: 2024-07-22 22:06:17\ncomments: true\naside: false\ntop_img: false\ntype: essay\n---","updated":"2025-08-21T16:37:37.207Z","path":"essay/index.html","layout":"page","_id":"cmgu955zz001qg0fyhvwd9m8f","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"朋友圈","date":"2025-09-08T15:10:00.000Z","aside":false,"type":"fcircle","_content":"\n<div id=\"friend-circle-container\">与主机通讯中……</div>\n\n<script>\n    if (typeof UserConfig === 'undefined') {\n        var UserConfig = {\n            // 你的 hexo-circle-of-friends 后端 API 地址（需先部署后端）\n            private_api_url: 'https://friends.sumi233.top/',\n            // 每次点击“加载更多”时加载的文章数量，默认 24\n            page_turning_number: 24,\n            // 头像加载失败时的默认图片\n            error_img: 'https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/logo.png',\n        }\n    }\n</script>\n\n<!-- 样式文件：以主题命名，目前仅支持 butterfly -->\n<link rel=\"stylesheet\" href=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.css\">\n\n<!-- 脚本文件：对应主题样式功能 -->\n<script src=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.js\"></script>","source":"fcircle/index.md","raw":"---\ntitle: 朋友圈\ndate: 2025-09-08 23:10:00\naside: false\ntype: \"fcircle\"\n---\n\n<div id=\"friend-circle-container\">与主机通讯中……</div>\n\n<script>\n    if (typeof UserConfig === 'undefined') {\n        var UserConfig = {\n            // 你的 hexo-circle-of-friends 后端 API 地址（需先部署后端）\n            private_api_url: 'https://friends.sumi233.top/',\n            // 每次点击“加载更多”时加载的文章数量，默认 24\n            page_turning_number: 24,\n            // 头像加载失败时的默认图片\n            error_img: 'https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/logo.png',\n        }\n    }\n</script>\n\n<!-- 样式文件：以主题命名，目前仅支持 butterfly -->\n<link rel=\"stylesheet\" href=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.css\">\n\n<!-- 脚本文件：对应主题样式功能 -->\n<script src=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.js\"></script>","updated":"2025-09-21T17:18:11.504Z","path":"fcircle/index.html","comments":1,"layout":"page","_id":"cmgu95601001vg0fy0nd5a8ic","content":"<div id=\"friend-circle-container\">与主机通讯中……</div>\n\n<script>\n    if (typeof UserConfig === 'undefined') {\n        var UserConfig = {\n            // 你的 hexo-circle-of-friends 后端 API 地址（需先部署后端）\n            private_api_url: 'https://friends.sumi233.top/',\n            // 每次点击“加载更多”时加载的文章数量，默认 24\n            page_turning_number: 24,\n            // 头像加载失败时的默认图片\n            error_img: 'https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/logo.png',\n        }\n    }\n</script>\n\n<!-- 样式文件：以主题命名，目前仅支持 butterfly -->\n<link rel=\"stylesheet\" href=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.css\">\n\n<!-- 脚本文件：对应主题样式功能 -->\n<script src=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.js\"></script>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<div id=\"friend-circle-container\">与主机通讯中……</div>\n\n<script>\n    if (typeof UserConfig === 'undefined') {\n        var UserConfig = {\n            // 你的 hexo-circle-of-friends 后端 API 地址（需先部署后端）\n            private_api_url: 'https://friends.sumi233.top/',\n            // 每次点击“加载更多”时加载的文章数量，默认 24\n            page_turning_number: 24,\n            // 头像加载失败时的默认图片\n            error_img: 'https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/logo.png',\n        }\n    }\n</script>\n\n<!-- 样式文件：以主题命名，目前仅支持 butterfly -->\n<link rel=\"stylesheet\" href=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.css\">\n\n<!-- 脚本文件：对应主题样式功能 -->\n<script src=\"https://cdn.sumi233.top/gh/Rock-Candy-Tea/Friend-Circle-Frontend/hexo-theme-butterfly/default.min.js\"></script>"},{"title":"电子木鱼","description":"酥米小站的电子木鱼","date":"2025-09-24T16:14:59.000Z","_content":"\n<!-- 隔离容器 - 确保样式不冲突 -->\n<div id=\"fish-container\" style=\"all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n  <div class=\"centerContent\">\n    <div id=\"top\">\n      <div class=\"score\">\n        <div class=\"count\">0</div>\n        <div class=\"subtitle\">功德</div>\n      </div>\n    </div>\n    <div id=\"center\">\n      <svg class=\"myFish\" width=\"157pt\" height=\"126pt\" viewbox=\"0 0 247 197\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"fish-svg\">\n          <path class=\"fish-path\" d=\" M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z\"></path>\n        </g>\n      </svg>\n    </div>\n    <div id=\"bottom\">\n      <div class=\"keyTips\">\n        <key>点击</key>积攒功德\n        <span id=\"autoClick\" class=\"autoClick\">自动点击</span>\n      </div>\n      <div class=\"leftRight\">\n        <div class=\"left\">敲电子木鱼，见机甲佛祖，修赛博真经。</div>\n        <div class=\"right\">\n          <a href=\"https://github.com/52js\" class=\"textButton\">\n            <div class=\"text\">@52js & Supermini233</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <style>\n    /* 基础样式 - 确保优先级 */\n    #fish-container {\n      --text-color: #eee;\n      --bg-color: #111;\n      --sub-color: #aaa;\n      --fish-color: #eee;\n      --key-bg: #444;\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif !important;\n      background: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      padding: 20px !important;\n      transition: background-color 0.3s ease, color 0.3s ease !important;\n    }\n\n    /* 适配Anzhiyu亮色模式 */\n    html[data-theme=\"light\"] #fish-container,\n    body.light #fish-container {\n      --text-color: #333;\n      --bg-color: #f5f5f5;\n      --sub-color: #666;\n      --fish-color: #333;\n      --key-bg: #ddd;\n    }\n\n    /* 核心样式 */\n    #fish-container .centerContent {\n      width: 100% !important;\n      min-height: 300px !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      padding: 1rem 1rem !important;\n    }\n\n    #fish-container .score {\n      font-family: \"Helvetica Neue\", sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 20px 0 !important;\n    }\n\n    #fish-container .count {\n      text-align: center !important;\n      font-size: 6rem !important;\n      line-height: 1 !important;\n      transition: transform 0.1s ease !important;\n      color: var(--text-color) !important;\n    }\n\n    #fish-container .subtitle {\n      font-size: 1.5rem !important;\n      color: var(--sub-color) !important;\n      margin-top: 10px !important;\n    }\n\n    #fish-container #center {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin: 20px 0 !important;\n      position: relative !important;\n    }\n\n    #fish-container .myFish {\n      cursor: pointer !important;\n      margin: 0 auto !important;\n      pointer-events: auto !important;\n      transition: transform 0.1s ease !important;\n    }\n\n    #fish-container .fish-path {\n      fill: var(--fish-color) !important;\n      opacity: 1.00 !important;\n      transition: fill 0.3s ease !important;\n    }\n\n    #fish-container #bottom {\n      color: var(--sub-color) !important;\n      font-size: 0.9rem !important;\n      padding: 0 5px !important;\n      text-align: center !important;\n    }\n\n    #fish-container .keyTips {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin-bottom: 15px !important;\n    }\n\n    #fish-container .keyTips key {\n      color: var(--text-color) !important;\n      background-color: var(--key-bg) !important;\n      margin: 0.3rem 0.45rem !important;\n      border-radius: 0.3rem !important;\n      padding: 0.2rem 0.5rem !important;\n      font-size: 0.7rem !important;\n    }\n\n    #fish-container .leftRight {\n      display: flex !important;\n      justify-content: space-between !important;\n      align-items: center !important;\n    }\n\n    #fish-container .left {\n      font-size: 12px !important;\n    }\n\n    #fish-container .textButton {\n      color: var(--sub-color) !important;\n      text-decoration: none !important;\n      transition: color 0.2s ease !important;\n    }\n\n    #fish-container .textButton:hover {\n      color: var(--text-color) !important;\n    }\n\n    #fish-container #autoClick {\n      cursor: pointer !important;\n      margin-left: 10px !important;\n      transition: all 0.2s ease !important;\n    }\n\n    #fish-container #autoClick.confirm {\n      color: var(--text-color) !important;\n      text-decoration: underline !important;\n    }\n\n    #fish-container .subtitleCountTip {\n      position: absolute !important;\n      color: var(--text-color) !important;\n      animation: float 1s forwards !important;\n      opacity: 0 !important;\n      font-size: 16px !important;\n    }\n\n    @keyframes float {\n      from { transform: translateY(0); opacity: 1; }\n      to { transform: translateY(-30px); opacity: 0; }\n    }\n\n    /* 响应式调整 */\n    @media (max-width: 480px) {\n      #fish-container .count {\n        font-size: 4rem !important;\n      }\n    }\n  </style>\n\n  <script src=\"https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js\"></script>\n  <script>\n    // 主题变化时更新样式\n    function updateTheme() {\n      const container = document.getElementById('fish-container');\n      if (!container) return;\n      \n      // 触发重绘\n      container.style.display = 'none';\n      setTimeout(() => {\n        container.style.display = 'block';\n      }, 0);\n    }\n\n    // 监听主题变化事件\n    if (window.matchMedia) {\n      const darkModeMedia = window.matchMedia('(prefers-color-scheme: dark)');\n      darkModeMedia.addEventListener('change', updateTheme);\n    }\n\n    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme') {\n          updateTheme();\n        }\n      });\n    });\n\n    observer.observe(document.documentElement, { attributes: true });\n\n    // 初始化木鱼功能\n    function initFish() {\n      const maxRetries = 10;\n      let retries = 0;\n      \n      function tryInit() {\n        const container = document.getElementById('fish-container');\n        const countElement = container.querySelector('.count');\n        const myFishElement = container.querySelector('.myFish');\n        const centerElement = container.querySelector('#center');\n        const autoClickElement = container.querySelector('#autoClick');\n\n        if (!countElement || !myFishElement || !centerElement || !autoClickElement) {\n          retries++;\n          if (retries < maxRetries) {\n            setTimeout(tryInit, 100);\n            return;\n          } else {\n            console.error('无法加载电子木鱼元素');\n            return;\n          }\n        }\n\n        let count = 0;\n        let countFlag = false;\n        let autoClick = false;\n        let autoClickInterval = null;\n\n        try {\n          const saved = localStorage.getItem('count');\n          count = saved ? Number(saved) : 0;\n        } catch (e) {\n          count = 0;\n        }\n        countElement.textContent = count;\n\n        function startAnimate() {\n          countElement.style.transform = 'scale(1.1)';\n          myFishElement.style.transform = 'scale(0.95)';\n          const tip = document.createElement('div');\n          tip.className = 'subtitleCountTip';\n          tip.textContent = '功德 + 1';\n          centerElement.appendChild(tip);\n          setTimeout(() => tip.remove(), 1000);\n        }\n\n        function initAnimate() {\n          countElement.style.transform = 'scale(1)';\n          myFishElement.style.transform = 'scale(1)';\n        }\n\n        function counter() {\n          countFlag = true;\n          count++;\n          countElement.textContent = count;\n          startAnimate();\n          try {\n            localStorage.setItem('count', count);\n          } catch (e) {\n            console.log('无法保存到本地存储');\n          }\n        }\n\n        myFishElement.addEventListener('click', counter);\n        myFishElement.addEventListener('mousedown', () => {\n          setTimeout(initAnimate, 200);\n        });\n\n        document.addEventListener('keyup', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            if (!countFlag) counter();\n          }\n        });\n\n        document.addEventListener('keydown', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            countFlag = false;\n            initAnimate();\n          }\n        });\n\n        autoClickElement.addEventListener('click', () => {\n          autoClick = !autoClick;\n          if (autoClick) {\n            autoClickElement.classList.add('confirm');\n            autoClickInterval = setInterval(() => {\n              counter();\n              setTimeout(initAnimate, 200);\n            }, 500);\n          } else {\n            autoClickElement.classList.remove('confirm');\n            clearInterval(autoClickInterval);\n          }\n        });\n\n        console.log('电子木鱼初始化成功');\n      }\n\n      tryInit();\n    }\n\n    if (document.readyState === 'complete') {\n      initFish();\n    } else {\n      window.addEventListener('load', initFish);\n    }\n  </script>\n</div>\n","source":"fish/index.md","raw":"---\ntitle: 电子木鱼\ndescription: 酥米小站的电子木鱼\ndate: 2025-9-25 00:14:59\n---\n\n<!-- 隔离容器 - 确保样式不冲突 -->\n<div id=\"fish-container\" style=\"all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n  <div class=\"centerContent\">\n    <div id=\"top\">\n      <div class=\"score\">\n        <div class=\"count\">0</div>\n        <div class=\"subtitle\">功德</div>\n      </div>\n    </div>\n    <div id=\"center\">\n      <svg class=\"myFish\" width=\"157pt\" height=\"126pt\" viewbox=\"0 0 247 197\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"fish-svg\">\n          <path class=\"fish-path\" d=\" M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z\"></path>\n        </g>\n      </svg>\n    </div>\n    <div id=\"bottom\">\n      <div class=\"keyTips\">\n        <key>点击</key>积攒功德\n        <span id=\"autoClick\" class=\"autoClick\">自动点击</span>\n      </div>\n      <div class=\"leftRight\">\n        <div class=\"left\">敲电子木鱼，见机甲佛祖，修赛博真经。</div>\n        <div class=\"right\">\n          <a href=\"https://github.com/52js\" class=\"textButton\">\n            <div class=\"text\">@52js & Supermini233</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <style>\n    /* 基础样式 - 确保优先级 */\n    #fish-container {\n      --text-color: #eee;\n      --bg-color: #111;\n      --sub-color: #aaa;\n      --fish-color: #eee;\n      --key-bg: #444;\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif !important;\n      background: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      padding: 20px !important;\n      transition: background-color 0.3s ease, color 0.3s ease !important;\n    }\n\n    /* 适配Anzhiyu亮色模式 */\n    html[data-theme=\"light\"] #fish-container,\n    body.light #fish-container {\n      --text-color: #333;\n      --bg-color: #f5f5f5;\n      --sub-color: #666;\n      --fish-color: #333;\n      --key-bg: #ddd;\n    }\n\n    /* 核心样式 */\n    #fish-container .centerContent {\n      width: 100% !important;\n      min-height: 300px !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      padding: 1rem 1rem !important;\n    }\n\n    #fish-container .score {\n      font-family: \"Helvetica Neue\", sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 20px 0 !important;\n    }\n\n    #fish-container .count {\n      text-align: center !important;\n      font-size: 6rem !important;\n      line-height: 1 !important;\n      transition: transform 0.1s ease !important;\n      color: var(--text-color) !important;\n    }\n\n    #fish-container .subtitle {\n      font-size: 1.5rem !important;\n      color: var(--sub-color) !important;\n      margin-top: 10px !important;\n    }\n\n    #fish-container #center {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin: 20px 0 !important;\n      position: relative !important;\n    }\n\n    #fish-container .myFish {\n      cursor: pointer !important;\n      margin: 0 auto !important;\n      pointer-events: auto !important;\n      transition: transform 0.1s ease !important;\n    }\n\n    #fish-container .fish-path {\n      fill: var(--fish-color) !important;\n      opacity: 1.00 !important;\n      transition: fill 0.3s ease !important;\n    }\n\n    #fish-container #bottom {\n      color: var(--sub-color) !important;\n      font-size: 0.9rem !important;\n      padding: 0 5px !important;\n      text-align: center !important;\n    }\n\n    #fish-container .keyTips {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin-bottom: 15px !important;\n    }\n\n    #fish-container .keyTips key {\n      color: var(--text-color) !important;\n      background-color: var(--key-bg) !important;\n      margin: 0.3rem 0.45rem !important;\n      border-radius: 0.3rem !important;\n      padding: 0.2rem 0.5rem !important;\n      font-size: 0.7rem !important;\n    }\n\n    #fish-container .leftRight {\n      display: flex !important;\n      justify-content: space-between !important;\n      align-items: center !important;\n    }\n\n    #fish-container .left {\n      font-size: 12px !important;\n    }\n\n    #fish-container .textButton {\n      color: var(--sub-color) !important;\n      text-decoration: none !important;\n      transition: color 0.2s ease !important;\n    }\n\n    #fish-container .textButton:hover {\n      color: var(--text-color) !important;\n    }\n\n    #fish-container #autoClick {\n      cursor: pointer !important;\n      margin-left: 10px !important;\n      transition: all 0.2s ease !important;\n    }\n\n    #fish-container #autoClick.confirm {\n      color: var(--text-color) !important;\n      text-decoration: underline !important;\n    }\n\n    #fish-container .subtitleCountTip {\n      position: absolute !important;\n      color: var(--text-color) !important;\n      animation: float 1s forwards !important;\n      opacity: 0 !important;\n      font-size: 16px !important;\n    }\n\n    @keyframes float {\n      from { transform: translateY(0); opacity: 1; }\n      to { transform: translateY(-30px); opacity: 0; }\n    }\n\n    /* 响应式调整 */\n    @media (max-width: 480px) {\n      #fish-container .count {\n        font-size: 4rem !important;\n      }\n    }\n  </style>\n\n  <script src=\"https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js\"></script>\n  <script>\n    // 主题变化时更新样式\n    function updateTheme() {\n      const container = document.getElementById('fish-container');\n      if (!container) return;\n      \n      // 触发重绘\n      container.style.display = 'none';\n      setTimeout(() => {\n        container.style.display = 'block';\n      }, 0);\n    }\n\n    // 监听主题变化事件\n    if (window.matchMedia) {\n      const darkModeMedia = window.matchMedia('(prefers-color-scheme: dark)');\n      darkModeMedia.addEventListener('change', updateTheme);\n    }\n\n    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme') {\n          updateTheme();\n        }\n      });\n    });\n\n    observer.observe(document.documentElement, { attributes: true });\n\n    // 初始化木鱼功能\n    function initFish() {\n      const maxRetries = 10;\n      let retries = 0;\n      \n      function tryInit() {\n        const container = document.getElementById('fish-container');\n        const countElement = container.querySelector('.count');\n        const myFishElement = container.querySelector('.myFish');\n        const centerElement = container.querySelector('#center');\n        const autoClickElement = container.querySelector('#autoClick');\n\n        if (!countElement || !myFishElement || !centerElement || !autoClickElement) {\n          retries++;\n          if (retries < maxRetries) {\n            setTimeout(tryInit, 100);\n            return;\n          } else {\n            console.error('无法加载电子木鱼元素');\n            return;\n          }\n        }\n\n        let count = 0;\n        let countFlag = false;\n        let autoClick = false;\n        let autoClickInterval = null;\n\n        try {\n          const saved = localStorage.getItem('count');\n          count = saved ? Number(saved) : 0;\n        } catch (e) {\n          count = 0;\n        }\n        countElement.textContent = count;\n\n        function startAnimate() {\n          countElement.style.transform = 'scale(1.1)';\n          myFishElement.style.transform = 'scale(0.95)';\n          const tip = document.createElement('div');\n          tip.className = 'subtitleCountTip';\n          tip.textContent = '功德 + 1';\n          centerElement.appendChild(tip);\n          setTimeout(() => tip.remove(), 1000);\n        }\n\n        function initAnimate() {\n          countElement.style.transform = 'scale(1)';\n          myFishElement.style.transform = 'scale(1)';\n        }\n\n        function counter() {\n          countFlag = true;\n          count++;\n          countElement.textContent = count;\n          startAnimate();\n          try {\n            localStorage.setItem('count', count);\n          } catch (e) {\n            console.log('无法保存到本地存储');\n          }\n        }\n\n        myFishElement.addEventListener('click', counter);\n        myFishElement.addEventListener('mousedown', () => {\n          setTimeout(initAnimate, 200);\n        });\n\n        document.addEventListener('keyup', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            if (!countFlag) counter();\n          }\n        });\n\n        document.addEventListener('keydown', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            countFlag = false;\n            initAnimate();\n          }\n        });\n\n        autoClickElement.addEventListener('click', () => {\n          autoClick = !autoClick;\n          if (autoClick) {\n            autoClickElement.classList.add('confirm');\n            autoClickInterval = setInterval(() => {\n              counter();\n              setTimeout(initAnimate, 200);\n            }, 500);\n          } else {\n            autoClickElement.classList.remove('confirm');\n            clearInterval(autoClickInterval);\n          }\n        });\n\n        console.log('电子木鱼初始化成功');\n      }\n\n      tryInit();\n    }\n\n    if (document.readyState === 'complete') {\n      initFish();\n    } else {\n      window.addEventListener('load', initFish);\n    }\n  </script>\n</div>\n","updated":"2025-09-26T10:18:13.921Z","path":"fish/index.html","comments":1,"layout":"page","_id":"cmgu95602001zg0fy7oege64z","content":"<!-- 隔离容器 - 确保样式不冲突 -->\n<div id=\"fish-container\" style=\"all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n  <div class=\"centerContent\">\n    <div id=\"top\">\n      <div class=\"score\">\n        <div class=\"count\">0</div>\n        <div class=\"subtitle\">功德</div>\n      </div>\n    </div>\n    <div id=\"center\">\n      <svg class=\"myFish\" width=\"157pt\" height=\"126pt\" viewbox=\"0 0 247 197\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"fish-svg\">\n          <path class=\"fish-path\" d=\" M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z\"/>\n        </g>\n      </svg>\n    </div>\n    <div id=\"bottom\">\n      <div class=\"keyTips\">\n        <key>点击</key>积攒功德\n        <span id=\"autoClick\" class=\"autoClick\">自动点击</span>\n      </div>\n      <div class=\"leftRight\">\n        <div class=\"left\">敲电子木鱼，见机甲佛祖，修赛博真经。</div>\n        <div class=\"right\">\n          <a href=\"https://github.com/52js\" class=\"textButton\">\n            <div class=\"text\">@52js & Supermini233</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <style>\n    /* 基础样式 - 确保优先级 */\n    #fish-container {\n      --text-color: #eee;\n      --bg-color: #111;\n      --sub-color: #aaa;\n      --fish-color: #eee;\n      --key-bg: #444;\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif !important;\n      background: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      padding: 20px !important;\n      transition: background-color 0.3s ease, color 0.3s ease !important;\n    }\n\n    /* 适配Anzhiyu亮色模式 */\n    html[data-theme=\"light\"] #fish-container,\n    body.light #fish-container {\n      --text-color: #333;\n      --bg-color: #f5f5f5;\n      --sub-color: #666;\n      --fish-color: #333;\n      --key-bg: #ddd;\n    }\n\n    /* 核心样式 */\n    #fish-container .centerContent {\n      width: 100% !important;\n      min-height: 300px !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      padding: 1rem 1rem !important;\n    }\n\n    #fish-container .score {\n      font-family: \"Helvetica Neue\", sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 20px 0 !important;\n    }\n\n    #fish-container .count {\n      text-align: center !important;\n      font-size: 6rem !important;\n      line-height: 1 !important;\n      transition: transform 0.1s ease !important;\n      color: var(--text-color) !important;\n    }\n\n    #fish-container .subtitle {\n      font-size: 1.5rem !important;\n      color: var(--sub-color) !important;\n      margin-top: 10px !important;\n    }\n\n    #fish-container #center {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin: 20px 0 !important;\n      position: relative !important;\n    }\n\n    #fish-container .myFish {\n      cursor: pointer !important;\n      margin: 0 auto !important;\n      pointer-events: auto !important;\n      transition: transform 0.1s ease !important;\n    }\n\n    #fish-container .fish-path {\n      fill: var(--fish-color) !important;\n      opacity: 1.00 !important;\n      transition: fill 0.3s ease !important;\n    }\n\n    #fish-container #bottom {\n      color: var(--sub-color) !important;\n      font-size: 0.9rem !important;\n      padding: 0 5px !important;\n      text-align: center !important;\n    }\n\n    #fish-container .keyTips {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin-bottom: 15px !important;\n    }\n\n    #fish-container .keyTips key {\n      color: var(--text-color) !important;\n      background-color: var(--key-bg) !important;\n      margin: 0.3rem 0.45rem !important;\n      border-radius: 0.3rem !important;\n      padding: 0.2rem 0.5rem !important;\n      font-size: 0.7rem !important;\n    }\n\n    #fish-container .leftRight {\n      display: flex !important;\n      justify-content: space-between !important;\n      align-items: center !important;\n    }\n\n    #fish-container .left {\n      font-size: 12px !important;\n    }\n\n    #fish-container .textButton {\n      color: var(--sub-color) !important;\n      text-decoration: none !important;\n      transition: color 0.2s ease !important;\n    }\n\n    #fish-container .textButton:hover {\n      color: var(--text-color) !important;\n    }\n\n    #fish-container #autoClick {\n      cursor: pointer !important;\n      margin-left: 10px !important;\n      transition: all 0.2s ease !important;\n    }\n\n    #fish-container #autoClick.confirm {\n      color: var(--text-color) !important;\n      text-decoration: underline !important;\n    }\n\n    #fish-container .subtitleCountTip {\n      position: absolute !important;\n      color: var(--text-color) !important;\n      animation: float 1s forwards !important;\n      opacity: 0 !important;\n      font-size: 16px !important;\n    }\n\n    @keyframes float {\n      from { transform: translateY(0); opacity: 1; }\n      to { transform: translateY(-30px); opacity: 0; }\n    }\n\n    /* 响应式调整 */\n    @media (max-width: 480px) {\n      #fish-container .count {\n        font-size: 4rem !important;\n      }\n    }\n  </style>\n\n  <script src=\"https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js\"></script>\n  <script>\n    // 主题变化时更新样式\n    function updateTheme() {\n      const container = document.getElementById('fish-container');\n      if (!container) return;\n      \n      // 触发重绘\n      container.style.display = 'none';\n      setTimeout(() => {\n        container.style.display = 'block';\n      }, 0);\n    }\n\n    // 监听主题变化事件\n    if (window.matchMedia) {\n      const darkModeMedia = window.matchMedia('(prefers-color-scheme: dark)');\n      darkModeMedia.addEventListener('change', updateTheme);\n    }\n\n    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme') {\n          updateTheme();\n        }\n      });\n    });\n\n    observer.observe(document.documentElement, { attributes: true });\n\n    // 初始化木鱼功能\n    function initFish() {\n      const maxRetries = 10;\n      let retries = 0;\n      \n      function tryInit() {\n        const container = document.getElementById('fish-container');\n        const countElement = container.querySelector('.count');\n        const myFishElement = container.querySelector('.myFish');\n        const centerElement = container.querySelector('#center');\n        const autoClickElement = container.querySelector('#autoClick');\n\n        if (!countElement || !myFishElement || !centerElement || !autoClickElement) {\n          retries++;\n          if (retries < maxRetries) {\n            setTimeout(tryInit, 100);\n            return;\n          } else {\n            console.error('无法加载电子木鱼元素');\n            return;\n          }\n        }\n\n        let count = 0;\n        let countFlag = false;\n        let autoClick = false;\n        let autoClickInterval = null;\n\n        try {\n          const saved = localStorage.getItem('count');\n          count = saved ? Number(saved) : 0;\n        } catch (e) {\n          count = 0;\n        }\n        countElement.textContent = count;\n\n        function startAnimate() {\n          countElement.style.transform = 'scale(1.1)';\n          myFishElement.style.transform = 'scale(0.95)';\n          const tip = document.createElement('div');\n          tip.className = 'subtitleCountTip';\n          tip.textContent = '功德 + 1';\n          centerElement.appendChild(tip);\n          setTimeout(() => tip.remove(), 1000);\n        }\n\n        function initAnimate() {\n          countElement.style.transform = 'scale(1)';\n          myFishElement.style.transform = 'scale(1)';\n        }\n\n        function counter() {\n          countFlag = true;\n          count++;\n          countElement.textContent = count;\n          startAnimate();\n          try {\n            localStorage.setItem('count', count);\n          } catch (e) {\n            console.log('无法保存到本地存储');\n          }\n        }\n\n        myFishElement.addEventListener('click', counter);\n        myFishElement.addEventListener('mousedown', () => {\n          setTimeout(initAnimate, 200);\n        });\n\n        document.addEventListener('keyup', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            if (!countFlag) counter();\n          }\n        });\n\n        document.addEventListener('keydown', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            countFlag = false;\n            initAnimate();\n          }\n        });\n\n        autoClickElement.addEventListener('click', () => {\n          autoClick = !autoClick;\n          if (autoClick) {\n            autoClickElement.classList.add('confirm');\n            autoClickInterval = setInterval(() => {\n              counter();\n              setTimeout(initAnimate, 200);\n            }, 500);\n          } else {\n            autoClickElement.classList.remove('confirm');\n            clearInterval(autoClickInterval);\n          }\n        });\n\n        console.log('电子木鱼初始化成功');\n      }\n\n      tryInit();\n    }\n\n    if (document.readyState === 'complete') {\n      initFish();\n    } else {\n      window.addEventListener('load', initFish);\n    }\n  </script>\n</div>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<!-- 隔离容器 - 确保样式不冲突 -->\n<div id=\"fish-container\" style=\"all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n  <div class=\"centerContent\">\n    <div id=\"top\">\n      <div class=\"score\">\n        <div class=\"count\">0</div>\n        <div class=\"subtitle\">功德</div>\n      </div>\n    </div>\n    <div id=\"center\">\n      <svg class=\"myFish\" width=\"157pt\" height=\"126pt\" viewbox=\"0 0 247 197\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"fish-svg\">\n          <path class=\"fish-path\" d=\" M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z\"/>\n        </g>\n      </svg>\n    </div>\n    <div id=\"bottom\">\n      <div class=\"keyTips\">\n        <key>点击</key>积攒功德\n        <span id=\"autoClick\" class=\"autoClick\">自动点击</span>\n      </div>\n      <div class=\"leftRight\">\n        <div class=\"left\">敲电子木鱼，见机甲佛祖，修赛博真经。</div>\n        <div class=\"right\">\n          <a href=\"https://github.com/52js\" class=\"textButton\">\n            <div class=\"text\">@52js & Supermini233</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <style>\n    /* 基础样式 - 确保优先级 */\n    #fish-container {\n      --text-color: #eee;\n      --bg-color: #111;\n      --sub-color: #aaa;\n      --fish-color: #eee;\n      --key-bg: #444;\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif !important;\n      background: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      padding: 20px !important;\n      transition: background-color 0.3s ease, color 0.3s ease !important;\n    }\n\n    /* 适配Anzhiyu亮色模式 */\n    html[data-theme=\"light\"] #fish-container,\n    body.light #fish-container {\n      --text-color: #333;\n      --bg-color: #f5f5f5;\n      --sub-color: #666;\n      --fish-color: #333;\n      --key-bg: #ddd;\n    }\n\n    /* 核心样式 */\n    #fish-container .centerContent {\n      width: 100% !important;\n      min-height: 300px !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      padding: 1rem 1rem !important;\n    }\n\n    #fish-container .score {\n      font-family: \"Helvetica Neue\", sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 20px 0 !important;\n    }\n\n    #fish-container .count {\n      text-align: center !important;\n      font-size: 6rem !important;\n      line-height: 1 !important;\n      transition: transform 0.1s ease !important;\n      color: var(--text-color) !important;\n    }\n\n    #fish-container .subtitle {\n      font-size: 1.5rem !important;\n      color: var(--sub-color) !important;\n      margin-top: 10px !important;\n    }\n\n    #fish-container #center {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin: 20px 0 !important;\n      position: relative !important;\n    }\n\n    #fish-container .myFish {\n      cursor: pointer !important;\n      margin: 0 auto !important;\n      pointer-events: auto !important;\n      transition: transform 0.1s ease !important;\n    }\n\n    #fish-container .fish-path {\n      fill: var(--fish-color) !important;\n      opacity: 1.00 !important;\n      transition: fill 0.3s ease !important;\n    }\n\n    #fish-container #bottom {\n      color: var(--sub-color) !important;\n      font-size: 0.9rem !important;\n      padding: 0 5px !important;\n      text-align: center !important;\n    }\n\n    #fish-container .keyTips {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin-bottom: 15px !important;\n    }\n\n    #fish-container .keyTips key {\n      color: var(--text-color) !important;\n      background-color: var(--key-bg) !important;\n      margin: 0.3rem 0.45rem !important;\n      border-radius: 0.3rem !important;\n      padding: 0.2rem 0.5rem !important;\n      font-size: 0.7rem !important;\n    }\n\n    #fish-container .leftRight {\n      display: flex !important;\n      justify-content: space-between !important;\n      align-items: center !important;\n    }\n\n    #fish-container .left {\n      font-size: 12px !important;\n    }\n\n    #fish-container .textButton {\n      color: var(--sub-color) !important;\n      text-decoration: none !important;\n      transition: color 0.2s ease !important;\n    }\n\n    #fish-container .textButton:hover {\n      color: var(--text-color) !important;\n    }\n\n    #fish-container #autoClick {\n      cursor: pointer !important;\n      margin-left: 10px !important;\n      transition: all 0.2s ease !important;\n    }\n\n    #fish-container #autoClick.confirm {\n      color: var(--text-color) !important;\n      text-decoration: underline !important;\n    }\n\n    #fish-container .subtitleCountTip {\n      position: absolute !important;\n      color: var(--text-color) !important;\n      animation: float 1s forwards !important;\n      opacity: 0 !important;\n      font-size: 16px !important;\n    }\n\n    @keyframes float {\n      from { transform: translateY(0); opacity: 1; }\n      to { transform: translateY(-30px); opacity: 0; }\n    }\n\n    /* 响应式调整 */\n    @media (max-width: 480px) {\n      #fish-container .count {\n        font-size: 4rem !important;\n      }\n    }\n  </style>\n\n  <script src=\"https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js\"></script>\n  <script>\n    // 主题变化时更新样式\n    function updateTheme() {\n      const container = document.getElementById('fish-container');\n      if (!container) return;\n      \n      // 触发重绘\n      container.style.display = 'none';\n      setTimeout(() => {\n        container.style.display = 'block';\n      }, 0);\n    }\n\n    // 监听主题变化事件\n    if (window.matchMedia) {\n      const darkModeMedia = window.matchMedia('(prefers-color-scheme: dark)');\n      darkModeMedia.addEventListener('change', updateTheme);\n    }\n\n    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme') {\n          updateTheme();\n        }\n      });\n    });\n\n    observer.observe(document.documentElement, { attributes: true });\n\n    // 初始化木鱼功能\n    function initFish() {\n      const maxRetries = 10;\n      let retries = 0;\n      \n      function tryInit() {\n        const container = document.getElementById('fish-container');\n        const countElement = container.querySelector('.count');\n        const myFishElement = container.querySelector('.myFish');\n        const centerElement = container.querySelector('#center');\n        const autoClickElement = container.querySelector('#autoClick');\n\n        if (!countElement || !myFishElement || !centerElement || !autoClickElement) {\n          retries++;\n          if (retries < maxRetries) {\n            setTimeout(tryInit, 100);\n            return;\n          } else {\n            console.error('无法加载电子木鱼元素');\n            return;\n          }\n        }\n\n        let count = 0;\n        let countFlag = false;\n        let autoClick = false;\n        let autoClickInterval = null;\n\n        try {\n          const saved = localStorage.getItem('count');\n          count = saved ? Number(saved) : 0;\n        } catch (e) {\n          count = 0;\n        }\n        countElement.textContent = count;\n\n        function startAnimate() {\n          countElement.style.transform = 'scale(1.1)';\n          myFishElement.style.transform = 'scale(0.95)';\n          const tip = document.createElement('div');\n          tip.className = 'subtitleCountTip';\n          tip.textContent = '功德 + 1';\n          centerElement.appendChild(tip);\n          setTimeout(() => tip.remove(), 1000);\n        }\n\n        function initAnimate() {\n          countElement.style.transform = 'scale(1)';\n          myFishElement.style.transform = 'scale(1)';\n        }\n\n        function counter() {\n          countFlag = true;\n          count++;\n          countElement.textContent = count;\n          startAnimate();\n          try {\n            localStorage.setItem('count', count);\n          } catch (e) {\n            console.log('无法保存到本地存储');\n          }\n        }\n\n        myFishElement.addEventListener('click', counter);\n        myFishElement.addEventListener('mousedown', () => {\n          setTimeout(initAnimate, 200);\n        });\n\n        document.addEventListener('keyup', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            if (!countFlag) counter();\n          }\n        });\n\n        document.addEventListener('keydown', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            countFlag = false;\n            initAnimate();\n          }\n        });\n\n        autoClickElement.addEventListener('click', () => {\n          autoClick = !autoClick;\n          if (autoClick) {\n            autoClickElement.classList.add('confirm');\n            autoClickInterval = setInterval(() => {\n              counter();\n              setTimeout(initAnimate, 200);\n            }, 500);\n          } else {\n            autoClickElement.classList.remove('confirm');\n            clearInterval(autoClickInterval);\n          }\n        });\n\n        console.log('电子木鱼初始化成功');\n      }\n\n      tryInit();\n    }\n\n    if (document.readyState === 'complete') {\n      initFish();\n    } else {\n      window.addEventListener('load', initFish);\n    }\n  </script>\n</div>\n"},{"title":"游戏合集","date":"2024-02-16T16:14:59.000Z","_content":"\n## 1. HexGL\n地址：http://hexgl.bkcore.com/\n类型：街机，赛车\nHexGL 是一款基于HTML5，JavaScript和WebGL的快节奏的赛车游戏。玩家可以使用键盘，触摸屏设备或leap motion(体感控制器)来控制太空飞船。\n![1](https://pic4.zhimg.com/80/v2-01e31dd72184bf15d58df8f8540b582f_1440w.webp \"1\")\n\n## 2. CrossCode\n地址：http://www.cross-code.com/en/home\n类型：动作，角色扮演\n一个复古灵感的2D游戏设定在遥远的未来。这是一个充满伟大的游戏机制，如组合，拼图，技能树，任务，物品等等。\n![2](https://pic3.zhimg.com/80/v2-1e7ee6202f4af34eab42eb9576198976_1440w.webp \"2\")\n\n## 3. Sketchout\n地址：https://sketch-out.appspot.com/\n类型：街机\nSketchout的任务保护你的行星，并通过改变流星的方向来消灭对手，通过使流星偏转来保护您的星球并消灭对方，这款游戏有很棒的视觉效果和音乐特效。\n![3](https://pic4.zhimg.com/80/v2-1961a8488ca997a2c47cdea0dec44efb_1440w.webp \"3\")\n\n## 4. Treasure Arena\n地址：http://www.treasurearena.com/\n类型：多人，角色扮演，动作\nTreasure Arena 是一款动态的竞技场战斗游戏，最多可容纳4名玩家。它具有不同的游戏模式，出色的帧率和配乐，是一个非常有趣的游戏。\n![4](https://pic2.zhimg.com/80/v2-e5466ee41b516993699c84ccde58e3a1_1440w.webp \"4\")\n\n## 5. Bejeweled\n地址：http://bejeweled.popcap.com/html5/\n类型：街机，解谜，娱乐\nHTML5格式的经典“宝石迷阵”游戏。这是一个官方克隆，因此可以正常运行且外观完美。\n![5](https://pic3.zhimg.com/80/v2-6174eb96d270288d38a547f03b9c4a02_1440w.webp \"5\")\n\n## 6. Missile Game\n地址：http://missile-game.bwhmather.com/\n类型：街机\n这是一款非常具有挑战性的游戏，游戏中我们扮演的是一枚被发射进隧道的导弹。游戏有很酷的黑白图像，玩的时候会有很强的场景效果。\n\n## 7. Gods Will Be Watching\n地址：http://www.deconstructeam.com/games/gods-will-be-watching/\n类型：拼图\n在这个令人毛骨悚然（但又很棒）的游戏中，我和自己团队必须独自生存40天。团队有六名成员，其中包括一只狗，一名精神病医生和一个机器人，您必须与他们互动，以使其保持温暖，温饱和理智的状态。\n\n## 8. Sinuous\n地址：http://www.sinuousgame.com/\n类型：街机\n一个简单的游戏，极简的图形和流畅的帧率。拾取电源时避免与红点碰撞。此外，如果你想要那些额外的积分，就需要不停向前移动\n\n## 9. Swooop\n地址：http://swooop.playcanvas.com/\n类型：街机\n在一个美丽多彩的3D世界里，到处飞翔，收集宝石和星星。\n\n## 10. Free Rider HD\n地址：http://www.freeriderhd.com/\nFree Rider HD 是一款令人上瘾的游戏，你可以在其他玩家绘制的赛道上骑自行车。可以在成千上万的播放器曲目中选择一个播放，也可以创建自己的曲目并分享。\n\n## 11. Entanglement\n地址：http://entanglement.gopherwoodstudios.com/zh-CN-index.html\n类型:拼图,娱乐\n这个游戏的目的是通过在网格上放置线段来创建一条尽可能长的路径。你可以单独玩，也可以和朋友一起玩。\n\n## 12. Escape from XP\n地址：https://www.modern.ie/en-us/ie6countdown#escape-from-xp\n类型：动作，街机\n用“Escape from XP”来庆祝 Windows XP 的终结。你的任务是拯救最后一个陷入Clippy暴政的开发人员。\n\n## 13. Polycraft\n地址：http://polycraftgame.com/\n类型：角色扮演，塔防，动作\n在这个很棒的3D游戏中，你到处收集资源，建造东西，完成任务。关于它的所有东西都经过抛光，并且运行也非常顺畅。\n\n## 14. 2048\n地址：https://gabrielecirulli.github.io/2048/\n类型：拼图\n一个非常上瘾的游戏，你可能已经玩过了。在 2048 ，你移动编号的图块并合并它们。当界面中最大数字是`2048 时，游戏胜利。\n\n## 15. Onslaught Arena\n地址：http://arcade.lostdecadegames.com/onslaught_arena/\n类型:动作\n一种快节奏的复古生存游戏，您可以使用不同的武器与成群的敌人作战。\n\n## 16. Angry Birds\n地址：http://chrome.angrybirds.com/\n类型:游戏\n《愤怒的小鸟》游戏，这就不用介绍了。\n\n## 17. Cube Slam\n地址:https://www.cubeslam.com/mcycrs\n类型：街机，多人\n具有丰富的色彩和炫酷的3D图形乒乓球游戏。我们可以通过向朋友发送一个URL来挑战他们，还可以通过网络摄像头看到对方。\n\n## 18. The Wizard\n地址：http://hypnoticowl.com/games/the-wizard/\n类型：动作，角色扮演，策略\nWizard 是基于回合的地牢爬行者，在里面会遇到神话般的怪物并找到奇妙的咒语。该游戏具有酷炫的战斗机制，有时可能会带来很大挑战。\n\n## 19. X-Type\n地址：http://phoboslab.org/xtype/\n类型：动作，街机\n在这款酷炫的太空射击游戏中，你目的就是要起战胜 Boss。\n\n## 20. Cookie Clicker\n地址：http://orteil.dashnet.org/cookieclicker/\n类型：休闲，搞笑\nCookie clicker 是一款可能为了开玩笑而创建的游戏，但仍然提供了大量的乐趣。你可以从0个cookie开始，然后单击一些有效率的cookie，最后你可能会发现自己拥有数十亿个cookie。\n\n## 21. Elevator Saga\n地址：http://play.elevatorsaga.com/\n类型：拼图，编码\n这类属于程序员类型游戏 。在电梯中的任务是通过对电梯的运动进行编程，以最有效的方式运送人员，这些都是用 JavaScript 来完成的。\n\n## 22. Game of Bombs\n地址：http://gameofbombs.com/landing\n类型：动作，角色扮演，多人\nGame of Bombs是一个轰炸机类型的游戏，在广阔地图上，都有着敌方玩家。收集力量，皮肤和成就，以成为最佳轰炸机玩家的方式。\n\n## 23. Olympia Rising\n地址：http://or.paleozoic.com/\n类型：平台游戏，动作\nOlympia Rising具有漂亮复古外观图形的游戏。它坐落在古希腊，在那里我们扮演的女人被赋予了重新的机会，所以我们的任务就是逃离死者的世界。\n\n## 24. Pixel Race\n地址: https://ned.im/pixel-race-game/\n类型：街机，赛车\nPixel Race是一款简单概念概念，你可以在收集硬币的同时控制汽车以避开障碍物。如果有足够的耐心和空闲时间，那么你可能会打破记录（记录为36309个硬币）。\n\n## 25. Little Alchemy\n地址：https://littlealchemy.com/\n类型：拼图\n从这四个基本元素开始，将它们组合起来，创建510种可能的组合。\n\n## 26. Arena5\n地址：http://www.kevs3d.co.uk/dev/arena5/\n类型：街机\n在数字领域中飞行并射击几何敌人以获得高分。\n\n## 27.Vector Runner Remix\n地址:https://vector-runner-remix.tresensa.com/\n类型：街机\n在这个充满色彩和几何形状的平台游戏中，尽你所能奔跑吧。\n\n## 28. Biolab Disaster\n地址：http://playbiolab.com/\n类型:动作\n一款出色的像素艺术平台游戏，你必须在这里逃脱充满突变生物和其他不良生物的实验室。\n\n## 29. World's Biggest PAC-MAN\n地址:http://worldsbiggestpacman.com/#\n类型：街机\n\n## 30. New Super Resident Raver\n地址：http://games.jessefreeman.com/new-super-resident-raver/\n从即将到来的僵尸入侵中拯救惊慌失措的人们。收集钱，升级你的武器和战斗僵尸。\n\n## 31. EatKunKun\n地址：https://huang233893.github.io/EatKunKun/\n开源的iKun新概念音游","source":"game/index.md","raw":"---\ntitle: 游戏合集\ndate: 2024-02-17 00:14:59\n---\n\n## 1. HexGL\n地址：http://hexgl.bkcore.com/\n类型：街机，赛车\nHexGL 是一款基于HTML5，JavaScript和WebGL的快节奏的赛车游戏。玩家可以使用键盘，触摸屏设备或leap motion(体感控制器)来控制太空飞船。\n![1](https://pic4.zhimg.com/80/v2-01e31dd72184bf15d58df8f8540b582f_1440w.webp \"1\")\n\n## 2. CrossCode\n地址：http://www.cross-code.com/en/home\n类型：动作，角色扮演\n一个复古灵感的2D游戏设定在遥远的未来。这是一个充满伟大的游戏机制，如组合，拼图，技能树，任务，物品等等。\n![2](https://pic3.zhimg.com/80/v2-1e7ee6202f4af34eab42eb9576198976_1440w.webp \"2\")\n\n## 3. Sketchout\n地址：https://sketch-out.appspot.com/\n类型：街机\nSketchout的任务保护你的行星，并通过改变流星的方向来消灭对手，通过使流星偏转来保护您的星球并消灭对方，这款游戏有很棒的视觉效果和音乐特效。\n![3](https://pic4.zhimg.com/80/v2-1961a8488ca997a2c47cdea0dec44efb_1440w.webp \"3\")\n\n## 4. Treasure Arena\n地址：http://www.treasurearena.com/\n类型：多人，角色扮演，动作\nTreasure Arena 是一款动态的竞技场战斗游戏，最多可容纳4名玩家。它具有不同的游戏模式，出色的帧率和配乐，是一个非常有趣的游戏。\n![4](https://pic2.zhimg.com/80/v2-e5466ee41b516993699c84ccde58e3a1_1440w.webp \"4\")\n\n## 5. Bejeweled\n地址：http://bejeweled.popcap.com/html5/\n类型：街机，解谜，娱乐\nHTML5格式的经典“宝石迷阵”游戏。这是一个官方克隆，因此可以正常运行且外观完美。\n![5](https://pic3.zhimg.com/80/v2-6174eb96d270288d38a547f03b9c4a02_1440w.webp \"5\")\n\n## 6. Missile Game\n地址：http://missile-game.bwhmather.com/\n类型：街机\n这是一款非常具有挑战性的游戏，游戏中我们扮演的是一枚被发射进隧道的导弹。游戏有很酷的黑白图像，玩的时候会有很强的场景效果。\n\n## 7. Gods Will Be Watching\n地址：http://www.deconstructeam.com/games/gods-will-be-watching/\n类型：拼图\n在这个令人毛骨悚然（但又很棒）的游戏中，我和自己团队必须独自生存40天。团队有六名成员，其中包括一只狗，一名精神病医生和一个机器人，您必须与他们互动，以使其保持温暖，温饱和理智的状态。\n\n## 8. Sinuous\n地址：http://www.sinuousgame.com/\n类型：街机\n一个简单的游戏，极简的图形和流畅的帧率。拾取电源时避免与红点碰撞。此外，如果你想要那些额外的积分，就需要不停向前移动\n\n## 9. Swooop\n地址：http://swooop.playcanvas.com/\n类型：街机\n在一个美丽多彩的3D世界里，到处飞翔，收集宝石和星星。\n\n## 10. Free Rider HD\n地址：http://www.freeriderhd.com/\nFree Rider HD 是一款令人上瘾的游戏，你可以在其他玩家绘制的赛道上骑自行车。可以在成千上万的播放器曲目中选择一个播放，也可以创建自己的曲目并分享。\n\n## 11. Entanglement\n地址：http://entanglement.gopherwoodstudios.com/zh-CN-index.html\n类型:拼图,娱乐\n这个游戏的目的是通过在网格上放置线段来创建一条尽可能长的路径。你可以单独玩，也可以和朋友一起玩。\n\n## 12. Escape from XP\n地址：https://www.modern.ie/en-us/ie6countdown#escape-from-xp\n类型：动作，街机\n用“Escape from XP”来庆祝 Windows XP 的终结。你的任务是拯救最后一个陷入Clippy暴政的开发人员。\n\n## 13. Polycraft\n地址：http://polycraftgame.com/\n类型：角色扮演，塔防，动作\n在这个很棒的3D游戏中，你到处收集资源，建造东西，完成任务。关于它的所有东西都经过抛光，并且运行也非常顺畅。\n\n## 14. 2048\n地址：https://gabrielecirulli.github.io/2048/\n类型：拼图\n一个非常上瘾的游戏，你可能已经玩过了。在 2048 ，你移动编号的图块并合并它们。当界面中最大数字是`2048 时，游戏胜利。\n\n## 15. Onslaught Arena\n地址：http://arcade.lostdecadegames.com/onslaught_arena/\n类型:动作\n一种快节奏的复古生存游戏，您可以使用不同的武器与成群的敌人作战。\n\n## 16. Angry Birds\n地址：http://chrome.angrybirds.com/\n类型:游戏\n《愤怒的小鸟》游戏，这就不用介绍了。\n\n## 17. Cube Slam\n地址:https://www.cubeslam.com/mcycrs\n类型：街机，多人\n具有丰富的色彩和炫酷的3D图形乒乓球游戏。我们可以通过向朋友发送一个URL来挑战他们，还可以通过网络摄像头看到对方。\n\n## 18. The Wizard\n地址：http://hypnoticowl.com/games/the-wizard/\n类型：动作，角色扮演，策略\nWizard 是基于回合的地牢爬行者，在里面会遇到神话般的怪物并找到奇妙的咒语。该游戏具有酷炫的战斗机制，有时可能会带来很大挑战。\n\n## 19. X-Type\n地址：http://phoboslab.org/xtype/\n类型：动作，街机\n在这款酷炫的太空射击游戏中，你目的就是要起战胜 Boss。\n\n## 20. Cookie Clicker\n地址：http://orteil.dashnet.org/cookieclicker/\n类型：休闲，搞笑\nCookie clicker 是一款可能为了开玩笑而创建的游戏，但仍然提供了大量的乐趣。你可以从0个cookie开始，然后单击一些有效率的cookie，最后你可能会发现自己拥有数十亿个cookie。\n\n## 21. Elevator Saga\n地址：http://play.elevatorsaga.com/\n类型：拼图，编码\n这类属于程序员类型游戏 。在电梯中的任务是通过对电梯的运动进行编程，以最有效的方式运送人员，这些都是用 JavaScript 来完成的。\n\n## 22. Game of Bombs\n地址：http://gameofbombs.com/landing\n类型：动作，角色扮演，多人\nGame of Bombs是一个轰炸机类型的游戏，在广阔地图上，都有着敌方玩家。收集力量，皮肤和成就，以成为最佳轰炸机玩家的方式。\n\n## 23. Olympia Rising\n地址：http://or.paleozoic.com/\n类型：平台游戏，动作\nOlympia Rising具有漂亮复古外观图形的游戏。它坐落在古希腊，在那里我们扮演的女人被赋予了重新的机会，所以我们的任务就是逃离死者的世界。\n\n## 24. Pixel Race\n地址: https://ned.im/pixel-race-game/\n类型：街机，赛车\nPixel Race是一款简单概念概念，你可以在收集硬币的同时控制汽车以避开障碍物。如果有足够的耐心和空闲时间，那么你可能会打破记录（记录为36309个硬币）。\n\n## 25. Little Alchemy\n地址：https://littlealchemy.com/\n类型：拼图\n从这四个基本元素开始，将它们组合起来，创建510种可能的组合。\n\n## 26. Arena5\n地址：http://www.kevs3d.co.uk/dev/arena5/\n类型：街机\n在数字领域中飞行并射击几何敌人以获得高分。\n\n## 27.Vector Runner Remix\n地址:https://vector-runner-remix.tresensa.com/\n类型：街机\n在这个充满色彩和几何形状的平台游戏中，尽你所能奔跑吧。\n\n## 28. Biolab Disaster\n地址：http://playbiolab.com/\n类型:动作\n一款出色的像素艺术平台游戏，你必须在这里逃脱充满突变生物和其他不良生物的实验室。\n\n## 29. World's Biggest PAC-MAN\n地址:http://worldsbiggestpacman.com/#\n类型：街机\n\n## 30. New Super Resident Raver\n地址：http://games.jessefreeman.com/new-super-resident-raver/\n从即将到来的僵尸入侵中拯救惊慌失措的人们。收集钱，升级你的武器和战斗僵尸。\n\n## 31. EatKunKun\n地址：https://huang233893.github.io/EatKunKun/\n开源的iKun新概念音游","updated":"2025-08-03T08:49:36.110Z","path":"game/index.html","comments":1,"layout":"page","_id":"cmgu956040024g0fycy9x1k8d","content":"<h2 id=\"1-HexGL\"><a href=\"#1-HexGL\" class=\"headerlink\" title=\"1. HexGL\"></a>1. HexGL</h2><p>地址：<a href=\"http://hexgl.bkcore.com/\">http://hexgl.bkcore.com/</a><br>类型：街机，赛车<br>HexGL 是一款基于HTML5，JavaScript和WebGL的快节奏的赛车游戏。玩家可以使用键盘，触摸屏设备或leap motion(体感控制器)来控制太空飞船。<br><img src=\"https://pic4.zhimg.com/80/v2-01e31dd72184bf15d58df8f8540b582f_1440w.webp\" alt=\"1\" title=\"1\"></p>\n<h2 id=\"2-CrossCode\"><a href=\"#2-CrossCode\" class=\"headerlink\" title=\"2. CrossCode\"></a>2. CrossCode</h2><p>地址：<a href=\"http://www.cross-code.com/en/home\">http://www.cross-code.com/en/home</a><br>类型：动作，角色扮演<br>一个复古灵感的2D游戏设定在遥远的未来。这是一个充满伟大的游戏机制，如组合，拼图，技能树，任务，物品等等。<br><img src=\"https://pic3.zhimg.com/80/v2-1e7ee6202f4af34eab42eb9576198976_1440w.webp\" alt=\"2\" title=\"2\"></p>\n<h2 id=\"3-Sketchout\"><a href=\"#3-Sketchout\" class=\"headerlink\" title=\"3. Sketchout\"></a>3. Sketchout</h2><p>地址：<a href=\"https://sketch-out.appspot.com/\">https://sketch-out.appspot.com/</a><br>类型：街机<br>Sketchout的任务保护你的行星，并通过改变流星的方向来消灭对手，通过使流星偏转来保护您的星球并消灭对方，这款游戏有很棒的视觉效果和音乐特效。<br><img src=\"https://pic4.zhimg.com/80/v2-1961a8488ca997a2c47cdea0dec44efb_1440w.webp\" alt=\"3\" title=\"3\"></p>\n<h2 id=\"4-Treasure-Arena\"><a href=\"#4-Treasure-Arena\" class=\"headerlink\" title=\"4. Treasure Arena\"></a>4. Treasure Arena</h2><p>地址：<a href=\"http://www.treasurearena.com/\">http://www.treasurearena.com/</a><br>类型：多人，角色扮演，动作<br>Treasure Arena 是一款动态的竞技场战斗游戏，最多可容纳4名玩家。它具有不同的游戏模式，出色的帧率和配乐，是一个非常有趣的游戏。<br><img src=\"https://pic2.zhimg.com/80/v2-e5466ee41b516993699c84ccde58e3a1_1440w.webp\" alt=\"4\" title=\"4\"></p>\n<h2 id=\"5-Bejeweled\"><a href=\"#5-Bejeweled\" class=\"headerlink\" title=\"5. Bejeweled\"></a>5. Bejeweled</h2><p>地址：<a href=\"http://bejeweled.popcap.com/html5/\">http://bejeweled.popcap.com/html5/</a><br>类型：街机，解谜，娱乐<br>HTML5格式的经典“宝石迷阵”游戏。这是一个官方克隆，因此可以正常运行且外观完美。<br><img src=\"https://pic3.zhimg.com/80/v2-6174eb96d270288d38a547f03b9c4a02_1440w.webp\" alt=\"5\" title=\"5\"></p>\n<h2 id=\"6-Missile-Game\"><a href=\"#6-Missile-Game\" class=\"headerlink\" title=\"6. Missile Game\"></a>6. Missile Game</h2><p>地址：<a href=\"http://missile-game.bwhmather.com/\">http://missile-game.bwhmather.com/</a><br>类型：街机<br>这是一款非常具有挑战性的游戏，游戏中我们扮演的是一枚被发射进隧道的导弹。游戏有很酷的黑白图像，玩的时候会有很强的场景效果。</p>\n<h2 id=\"7-Gods-Will-Be-Watching\"><a href=\"#7-Gods-Will-Be-Watching\" class=\"headerlink\" title=\"7. Gods Will Be Watching\"></a>7. Gods Will Be Watching</h2><p>地址：<a href=\"http://www.deconstructeam.com/games/gods-will-be-watching/\">http://www.deconstructeam.com/games/gods-will-be-watching/</a><br>类型：拼图<br>在这个令人毛骨悚然（但又很棒）的游戏中，我和自己团队必须独自生存40天。团队有六名成员，其中包括一只狗，一名精神病医生和一个机器人，您必须与他们互动，以使其保持温暖，温饱和理智的状态。</p>\n<h2 id=\"8-Sinuous\"><a href=\"#8-Sinuous\" class=\"headerlink\" title=\"8. Sinuous\"></a>8. Sinuous</h2><p>地址：<a href=\"http://www.sinuousgame.com/\">http://www.sinuousgame.com/</a><br>类型：街机<br>一个简单的游戏，极简的图形和流畅的帧率。拾取电源时避免与红点碰撞。此外，如果你想要那些额外的积分，就需要不停向前移动</p>\n<h2 id=\"9-Swooop\"><a href=\"#9-Swooop\" class=\"headerlink\" title=\"9. Swooop\"></a>9. Swooop</h2><p>地址：<a href=\"http://swooop.playcanvas.com/\">http://swooop.playcanvas.com/</a><br>类型：街机<br>在一个美丽多彩的3D世界里，到处飞翔，收集宝石和星星。</p>\n<h2 id=\"10-Free-Rider-HD\"><a href=\"#10-Free-Rider-HD\" class=\"headerlink\" title=\"10. Free Rider HD\"></a>10. Free Rider HD</h2><p>地址：<a href=\"http://www.freeriderhd.com/\">http://www.freeriderhd.com/</a><br>Free Rider HD 是一款令人上瘾的游戏，你可以在其他玩家绘制的赛道上骑自行车。可以在成千上万的播放器曲目中选择一个播放，也可以创建自己的曲目并分享。</p>\n<h2 id=\"11-Entanglement\"><a href=\"#11-Entanglement\" class=\"headerlink\" title=\"11. Entanglement\"></a>11. Entanglement</h2><p>地址：<a href=\"http://entanglement.gopherwoodstudios.com/zh-CN-index.html\">http://entanglement.gopherwoodstudios.com/zh-CN-index.html</a><br>类型:拼图,娱乐<br>这个游戏的目的是通过在网格上放置线段来创建一条尽可能长的路径。你可以单独玩，也可以和朋友一起玩。</p>\n<h2 id=\"12-Escape-from-XP\"><a href=\"#12-Escape-from-XP\" class=\"headerlink\" title=\"12. Escape from XP\"></a>12. Escape from XP</h2><p>地址：<a href=\"https://www.modern.ie/en-us/ie6countdown#escape-from-xp\">https://www.modern.ie/en-us/ie6countdown#escape-from-xp</a><br>类型：动作，街机<br>用“Escape from XP”来庆祝 Windows XP 的终结。你的任务是拯救最后一个陷入Clippy暴政的开发人员。</p>\n<h2 id=\"13-Polycraft\"><a href=\"#13-Polycraft\" class=\"headerlink\" title=\"13. Polycraft\"></a>13. Polycraft</h2><p>地址：<a href=\"http://polycraftgame.com/\">http://polycraftgame.com/</a><br>类型：角色扮演，塔防，动作<br>在这个很棒的3D游戏中，你到处收集资源，建造东西，完成任务。关于它的所有东西都经过抛光，并且运行也非常顺畅。</p>\n<h2 id=\"14-2048\"><a href=\"#14-2048\" class=\"headerlink\" title=\"14. 2048\"></a>14. 2048</h2><p>地址：<a href=\"https://gabrielecirulli.github.io/2048/\">https://gabrielecirulli.github.io/2048/</a><br>类型：拼图<br>一个非常上瘾的游戏，你可能已经玩过了。在 2048 ，你移动编号的图块并合并它们。当界面中最大数字是&#96;2048 时，游戏胜利。</p>\n<h2 id=\"15-Onslaught-Arena\"><a href=\"#15-Onslaught-Arena\" class=\"headerlink\" title=\"15. Onslaught Arena\"></a>15. Onslaught Arena</h2><p>地址：<a href=\"http://arcade.lostdecadegames.com/onslaught_arena/\">http://arcade.lostdecadegames.com/onslaught_arena/</a><br>类型:动作<br>一种快节奏的复古生存游戏，您可以使用不同的武器与成群的敌人作战。</p>\n<h2 id=\"16-Angry-Birds\"><a href=\"#16-Angry-Birds\" class=\"headerlink\" title=\"16. Angry Birds\"></a>16. Angry Birds</h2><p>地址：<a href=\"http://chrome.angrybirds.com/\">http://chrome.angrybirds.com/</a><br>类型:游戏<br>《愤怒的小鸟》游戏，这就不用介绍了。</p>\n<h2 id=\"17-Cube-Slam\"><a href=\"#17-Cube-Slam\" class=\"headerlink\" title=\"17. Cube Slam\"></a>17. Cube Slam</h2><p>地址:<a href=\"https://www.cubeslam.com/mcycrs\">https://www.cubeslam.com/mcycrs</a><br>类型：街机，多人<br>具有丰富的色彩和炫酷的3D图形乒乓球游戏。我们可以通过向朋友发送一个URL来挑战他们，还可以通过网络摄像头看到对方。</p>\n<h2 id=\"18-The-Wizard\"><a href=\"#18-The-Wizard\" class=\"headerlink\" title=\"18. The Wizard\"></a>18. The Wizard</h2><p>地址：<a href=\"http://hypnoticowl.com/games/the-wizard/\">http://hypnoticowl.com/games/the-wizard/</a><br>类型：动作，角色扮演，策略<br>Wizard 是基于回合的地牢爬行者，在里面会遇到神话般的怪物并找到奇妙的咒语。该游戏具有酷炫的战斗机制，有时可能会带来很大挑战。</p>\n<h2 id=\"19-X-Type\"><a href=\"#19-X-Type\" class=\"headerlink\" title=\"19. X-Type\"></a>19. X-Type</h2><p>地址：<a href=\"http://phoboslab.org/xtype/\">http://phoboslab.org/xtype/</a><br>类型：动作，街机<br>在这款酷炫的太空射击游戏中，你目的就是要起战胜 Boss。</p>\n<h2 id=\"20-Cookie-Clicker\"><a href=\"#20-Cookie-Clicker\" class=\"headerlink\" title=\"20. Cookie Clicker\"></a>20. Cookie Clicker</h2><p>地址：<a href=\"http://orteil.dashnet.org/cookieclicker/\">http://orteil.dashnet.org/cookieclicker/</a><br>类型：休闲，搞笑<br>Cookie clicker 是一款可能为了开玩笑而创建的游戏，但仍然提供了大量的乐趣。你可以从0个cookie开始，然后单击一些有效率的cookie，最后你可能会发现自己拥有数十亿个cookie。</p>\n<h2 id=\"21-Elevator-Saga\"><a href=\"#21-Elevator-Saga\" class=\"headerlink\" title=\"21. Elevator Saga\"></a>21. Elevator Saga</h2><p>地址：<a href=\"http://play.elevatorsaga.com/\">http://play.elevatorsaga.com/</a><br>类型：拼图，编码<br>这类属于程序员类型游戏 。在电梯中的任务是通过对电梯的运动进行编程，以最有效的方式运送人员，这些都是用 JavaScript 来完成的。</p>\n<h2 id=\"22-Game-of-Bombs\"><a href=\"#22-Game-of-Bombs\" class=\"headerlink\" title=\"22. Game of Bombs\"></a>22. Game of Bombs</h2><p>地址：<a href=\"http://gameofbombs.com/landing\">http://gameofbombs.com/landing</a><br>类型：动作，角色扮演，多人<br>Game of Bombs是一个轰炸机类型的游戏，在广阔地图上，都有着敌方玩家。收集力量，皮肤和成就，以成为最佳轰炸机玩家的方式。</p>\n<h2 id=\"23-Olympia-Rising\"><a href=\"#23-Olympia-Rising\" class=\"headerlink\" title=\"23. Olympia Rising\"></a>23. Olympia Rising</h2><p>地址：<a href=\"http://or.paleozoic.com/\">http://or.paleozoic.com/</a><br>类型：平台游戏，动作<br>Olympia Rising具有漂亮复古外观图形的游戏。它坐落在古希腊，在那里我们扮演的女人被赋予了重新的机会，所以我们的任务就是逃离死者的世界。</p>\n<h2 id=\"24-Pixel-Race\"><a href=\"#24-Pixel-Race\" class=\"headerlink\" title=\"24. Pixel Race\"></a>24. Pixel Race</h2><p>地址: <a href=\"https://ned.im/pixel-race-game/\">https://ned.im/pixel-race-game/</a><br>类型：街机，赛车<br>Pixel Race是一款简单概念概念，你可以在收集硬币的同时控制汽车以避开障碍物。如果有足够的耐心和空闲时间，那么你可能会打破记录（记录为36309个硬币）。</p>\n<h2 id=\"25-Little-Alchemy\"><a href=\"#25-Little-Alchemy\" class=\"headerlink\" title=\"25. Little Alchemy\"></a>25. Little Alchemy</h2><p>地址：<a href=\"https://littlealchemy.com/\">https://littlealchemy.com/</a><br>类型：拼图<br>从这四个基本元素开始，将它们组合起来，创建510种可能的组合。</p>\n<h2 id=\"26-Arena5\"><a href=\"#26-Arena5\" class=\"headerlink\" title=\"26. Arena5\"></a>26. Arena5</h2><p>地址：<a href=\"http://www.kevs3d.co.uk/dev/arena5/\">http://www.kevs3d.co.uk/dev/arena5/</a><br>类型：街机<br>在数字领域中飞行并射击几何敌人以获得高分。</p>\n<h2 id=\"27-Vector-Runner-Remix\"><a href=\"#27-Vector-Runner-Remix\" class=\"headerlink\" title=\"27.Vector Runner Remix\"></a>27.Vector Runner Remix</h2><p>地址:<a href=\"https://vector-runner-remix.tresensa.com/\">https://vector-runner-remix.tresensa.com/</a><br>类型：街机<br>在这个充满色彩和几何形状的平台游戏中，尽你所能奔跑吧。</p>\n<h2 id=\"28-Biolab-Disaster\"><a href=\"#28-Biolab-Disaster\" class=\"headerlink\" title=\"28. Biolab Disaster\"></a>28. Biolab Disaster</h2><p>地址：<a href=\"http://playbiolab.com/\">http://playbiolab.com/</a><br>类型:动作<br>一款出色的像素艺术平台游戏，你必须在这里逃脱充满突变生物和其他不良生物的实验室。</p>\n<h2 id=\"29-World’s-Biggest-PAC-MAN\"><a href=\"#29-World’s-Biggest-PAC-MAN\" class=\"headerlink\" title=\"29. World’s Biggest PAC-MAN\"></a>29. World’s Biggest PAC-MAN</h2><p>地址:<a href=\"http://worldsbiggestpacman.com/#\">http://worldsbiggestpacman.com/#</a><br>类型：街机</p>\n<h2 id=\"30-New-Super-Resident-Raver\"><a href=\"#30-New-Super-Resident-Raver\" class=\"headerlink\" title=\"30. New Super Resident Raver\"></a>30. New Super Resident Raver</h2><p>地址：<a href=\"http://games.jessefreeman.com/new-super-resident-raver/\">http://games.jessefreeman.com/new-super-resident-raver/</a><br>从即将到来的僵尸入侵中拯救惊慌失措的人们。收集钱，升级你的武器和战斗僵尸。</p>\n<h2 id=\"31-EatKunKun\"><a href=\"#31-EatKunKun\" class=\"headerlink\" title=\"31. EatKunKun\"></a>31. EatKunKun</h2><p>地址：<a href=\"https://huang233893.github.io/EatKunKun/\">https://huang233893.github.io/EatKunKun/</a><br>开源的iKun新概念音游</p>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<h2 id=\"1-HexGL\"><a href=\"#1-HexGL\" class=\"headerlink\" title=\"1. HexGL\"></a>1. HexGL</h2><p>地址：<a href=\"http://hexgl.bkcore.com/\">http://hexgl.bkcore.com/</a><br>类型：街机，赛车<br>HexGL 是一款基于HTML5，JavaScript和WebGL的快节奏的赛车游戏。玩家可以使用键盘，触摸屏设备或leap motion(体感控制器)来控制太空飞船。<br><img src=\"https://pic4.zhimg.com/80/v2-01e31dd72184bf15d58df8f8540b582f_1440w.webp\" alt=\"1\" title=\"1\"></p>\n<h2 id=\"2-CrossCode\"><a href=\"#2-CrossCode\" class=\"headerlink\" title=\"2. CrossCode\"></a>2. CrossCode</h2><p>地址：<a href=\"http://www.cross-code.com/en/home\">http://www.cross-code.com/en/home</a><br>类型：动作，角色扮演<br>一个复古灵感的2D游戏设定在遥远的未来。这是一个充满伟大的游戏机制，如组合，拼图，技能树，任务，物品等等。<br><img src=\"https://pic3.zhimg.com/80/v2-1e7ee6202f4af34eab42eb9576198976_1440w.webp\" alt=\"2\" title=\"2\"></p>\n<h2 id=\"3-Sketchout\"><a href=\"#3-Sketchout\" class=\"headerlink\" title=\"3. Sketchout\"></a>3. Sketchout</h2><p>地址：<a href=\"https://sketch-out.appspot.com/\">https://sketch-out.appspot.com/</a><br>类型：街机<br>Sketchout的任务保护你的行星，并通过改变流星的方向来消灭对手，通过使流星偏转来保护您的星球并消灭对方，这款游戏有很棒的视觉效果和音乐特效。<br><img src=\"https://pic4.zhimg.com/80/v2-1961a8488ca997a2c47cdea0dec44efb_1440w.webp\" alt=\"3\" title=\"3\"></p>\n<h2 id=\"4-Treasure-Arena\"><a href=\"#4-Treasure-Arena\" class=\"headerlink\" title=\"4. Treasure Arena\"></a>4. Treasure Arena</h2><p>地址：<a href=\"http://www.treasurearena.com/\">http://www.treasurearena.com/</a><br>类型：多人，角色扮演，动作<br>Treasure Arena 是一款动态的竞技场战斗游戏，最多可容纳4名玩家。它具有不同的游戏模式，出色的帧率和配乐，是一个非常有趣的游戏。<br><img src=\"https://pic2.zhimg.com/80/v2-e5466ee41b516993699c84ccde58e3a1_1440w.webp\" alt=\"4\" title=\"4\"></p>\n<h2 id=\"5-Bejeweled\"><a href=\"#5-Bejeweled\" class=\"headerlink\" title=\"5. Bejeweled\"></a>5. Bejeweled</h2><p>地址：<a href=\"http://bejeweled.popcap.com/html5/\">http://bejeweled.popcap.com/html5/</a><br>类型：街机，解谜，娱乐<br>HTML5格式的经典“宝石迷阵”游戏。这是一个官方克隆，因此可以正常运行且外观完美。<br><img src=\"https://pic3.zhimg.com/80/v2-6174eb96d270288d38a547f03b9c4a02_1440w.webp\" alt=\"5\" title=\"5\"></p>\n<h2 id=\"6-Missile-Game\"><a href=\"#6-Missile-Game\" class=\"headerlink\" title=\"6. Missile Game\"></a>6. Missile Game</h2><p>地址：<a href=\"http://missile-game.bwhmather.com/\">http://missile-game.bwhmather.com/</a><br>类型：街机<br>这是一款非常具有挑战性的游戏，游戏中我们扮演的是一枚被发射进隧道的导弹。游戏有很酷的黑白图像，玩的时候会有很强的场景效果。</p>\n<h2 id=\"7-Gods-Will-Be-Watching\"><a href=\"#7-Gods-Will-Be-Watching\" class=\"headerlink\" title=\"7. Gods Will Be Watching\"></a>7. Gods Will Be Watching</h2><p>地址：<a href=\"http://www.deconstructeam.com/games/gods-will-be-watching/\">http://www.deconstructeam.com/games/gods-will-be-watching/</a><br>类型：拼图<br>在这个令人毛骨悚然（但又很棒）的游戏中，我和自己团队必须独自生存40天。团队有六名成员，其中包括一只狗，一名精神病医生和一个机器人，您必须与他们互动，以使其保持温暖，温饱和理智的状态。</p>\n<h2 id=\"8-Sinuous\"><a href=\"#8-Sinuous\" class=\"headerlink\" title=\"8. Sinuous\"></a>8. Sinuous</h2><p>地址：<a href=\"http://www.sinuousgame.com/\">http://www.sinuousgame.com/</a><br>类型：街机<br>一个简单的游戏，极简的图形和流畅的帧率。拾取电源时避免与红点碰撞。此外，如果你想要那些额外的积分，就需要不停向前移动</p>\n<h2 id=\"9-Swooop\"><a href=\"#9-Swooop\" class=\"headerlink\" title=\"9. Swooop\"></a>9. Swooop</h2><p>地址：<a href=\"http://swooop.playcanvas.com/\">http://swooop.playcanvas.com/</a><br>类型：街机<br>在一个美丽多彩的3D世界里，到处飞翔，收集宝石和星星。</p>\n<h2 id=\"10-Free-Rider-HD\"><a href=\"#10-Free-Rider-HD\" class=\"headerlink\" title=\"10. Free Rider HD\"></a>10. Free Rider HD</h2><p>地址：<a href=\"http://www.freeriderhd.com/\">http://www.freeriderhd.com/</a><br>Free Rider HD 是一款令人上瘾的游戏，你可以在其他玩家绘制的赛道上骑自行车。可以在成千上万的播放器曲目中选择一个播放，也可以创建自己的曲目并分享。</p>\n<h2 id=\"11-Entanglement\"><a href=\"#11-Entanglement\" class=\"headerlink\" title=\"11. Entanglement\"></a>11. Entanglement</h2><p>地址：<a href=\"http://entanglement.gopherwoodstudios.com/zh-CN-index.html\">http://entanglement.gopherwoodstudios.com/zh-CN-index.html</a><br>类型:拼图,娱乐<br>这个游戏的目的是通过在网格上放置线段来创建一条尽可能长的路径。你可以单独玩，也可以和朋友一起玩。</p>\n<h2 id=\"12-Escape-from-XP\"><a href=\"#12-Escape-from-XP\" class=\"headerlink\" title=\"12. Escape from XP\"></a>12. Escape from XP</h2><p>地址：<a href=\"https://www.modern.ie/en-us/ie6countdown#escape-from-xp\">https://www.modern.ie/en-us/ie6countdown#escape-from-xp</a><br>类型：动作，街机<br>用“Escape from XP”来庆祝 Windows XP 的终结。你的任务是拯救最后一个陷入Clippy暴政的开发人员。</p>\n<h2 id=\"13-Polycraft\"><a href=\"#13-Polycraft\" class=\"headerlink\" title=\"13. Polycraft\"></a>13. Polycraft</h2><p>地址：<a href=\"http://polycraftgame.com/\">http://polycraftgame.com/</a><br>类型：角色扮演，塔防，动作<br>在这个很棒的3D游戏中，你到处收集资源，建造东西，完成任务。关于它的所有东西都经过抛光，并且运行也非常顺畅。</p>\n<h2 id=\"14-2048\"><a href=\"#14-2048\" class=\"headerlink\" title=\"14. 2048\"></a>14. 2048</h2><p>地址：<a href=\"https://gabrielecirulli.github.io/2048/\">https://gabrielecirulli.github.io/2048/</a><br>类型：拼图<br>一个非常上瘾的游戏，你可能已经玩过了。在 2048 ，你移动编号的图块并合并它们。当界面中最大数字是&#96;2048 时，游戏胜利。</p>\n<h2 id=\"15-Onslaught-Arena\"><a href=\"#15-Onslaught-Arena\" class=\"headerlink\" title=\"15. Onslaught Arena\"></a>15. Onslaught Arena</h2><p>地址：<a href=\"http://arcade.lostdecadegames.com/onslaught_arena/\">http://arcade.lostdecadegames.com/onslaught_arena/</a><br>类型:动作<br>一种快节奏的复古生存游戏，您可以使用不同的武器与成群的敌人作战。</p>\n<h2 id=\"16-Angry-Birds\"><a href=\"#16-Angry-Birds\" class=\"headerlink\" title=\"16. Angry Birds\"></a>16. Angry Birds</h2><p>地址：<a href=\"http://chrome.angrybirds.com/\">http://chrome.angrybirds.com/</a><br>类型:游戏<br>《愤怒的小鸟》游戏，这就不用介绍了。</p>\n<h2 id=\"17-Cube-Slam\"><a href=\"#17-Cube-Slam\" class=\"headerlink\" title=\"17. Cube Slam\"></a>17. Cube Slam</h2><p>地址:<a href=\"https://www.cubeslam.com/mcycrs\">https://www.cubeslam.com/mcycrs</a><br>类型：街机，多人<br>具有丰富的色彩和炫酷的3D图形乒乓球游戏。我们可以通过向朋友发送一个URL来挑战他们，还可以通过网络摄像头看到对方。</p>\n<h2 id=\"18-The-Wizard\"><a href=\"#18-The-Wizard\" class=\"headerlink\" title=\"18. The Wizard\"></a>18. The Wizard</h2><p>地址：<a href=\"http://hypnoticowl.com/games/the-wizard/\">http://hypnoticowl.com/games/the-wizard/</a><br>类型：动作，角色扮演，策略<br>Wizard 是基于回合的地牢爬行者，在里面会遇到神话般的怪物并找到奇妙的咒语。该游戏具有酷炫的战斗机制，有时可能会带来很大挑战。</p>\n<h2 id=\"19-X-Type\"><a href=\"#19-X-Type\" class=\"headerlink\" title=\"19. X-Type\"></a>19. X-Type</h2><p>地址：<a href=\"http://phoboslab.org/xtype/\">http://phoboslab.org/xtype/</a><br>类型：动作，街机<br>在这款酷炫的太空射击游戏中，你目的就是要起战胜 Boss。</p>\n<h2 id=\"20-Cookie-Clicker\"><a href=\"#20-Cookie-Clicker\" class=\"headerlink\" title=\"20. Cookie Clicker\"></a>20. Cookie Clicker</h2><p>地址：<a href=\"http://orteil.dashnet.org/cookieclicker/\">http://orteil.dashnet.org/cookieclicker/</a><br>类型：休闲，搞笑<br>Cookie clicker 是一款可能为了开玩笑而创建的游戏，但仍然提供了大量的乐趣。你可以从0个cookie开始，然后单击一些有效率的cookie，最后你可能会发现自己拥有数十亿个cookie。</p>\n<h2 id=\"21-Elevator-Saga\"><a href=\"#21-Elevator-Saga\" class=\"headerlink\" title=\"21. Elevator Saga\"></a>21. Elevator Saga</h2><p>地址：<a href=\"http://play.elevatorsaga.com/\">http://play.elevatorsaga.com/</a><br>类型：拼图，编码<br>这类属于程序员类型游戏 。在电梯中的任务是通过对电梯的运动进行编程，以最有效的方式运送人员，这些都是用 JavaScript 来完成的。</p>\n<h2 id=\"22-Game-of-Bombs\"><a href=\"#22-Game-of-Bombs\" class=\"headerlink\" title=\"22. Game of Bombs\"></a>22. Game of Bombs</h2><p>地址：<a href=\"http://gameofbombs.com/landing\">http://gameofbombs.com/landing</a><br>类型：动作，角色扮演，多人<br>Game of Bombs是一个轰炸机类型的游戏，在广阔地图上，都有着敌方玩家。收集力量，皮肤和成就，以成为最佳轰炸机玩家的方式。</p>\n<h2 id=\"23-Olympia-Rising\"><a href=\"#23-Olympia-Rising\" class=\"headerlink\" title=\"23. Olympia Rising\"></a>23. Olympia Rising</h2><p>地址：<a href=\"http://or.paleozoic.com/\">http://or.paleozoic.com/</a><br>类型：平台游戏，动作<br>Olympia Rising具有漂亮复古外观图形的游戏。它坐落在古希腊，在那里我们扮演的女人被赋予了重新的机会，所以我们的任务就是逃离死者的世界。</p>\n<h2 id=\"24-Pixel-Race\"><a href=\"#24-Pixel-Race\" class=\"headerlink\" title=\"24. Pixel Race\"></a>24. Pixel Race</h2><p>地址: <a href=\"https://ned.im/pixel-race-game/\">https://ned.im/pixel-race-game/</a><br>类型：街机，赛车<br>Pixel Race是一款简单概念概念，你可以在收集硬币的同时控制汽车以避开障碍物。如果有足够的耐心和空闲时间，那么你可能会打破记录（记录为36309个硬币）。</p>\n<h2 id=\"25-Little-Alchemy\"><a href=\"#25-Little-Alchemy\" class=\"headerlink\" title=\"25. Little Alchemy\"></a>25. Little Alchemy</h2><p>地址：<a href=\"https://littlealchemy.com/\">https://littlealchemy.com/</a><br>类型：拼图<br>从这四个基本元素开始，将它们组合起来，创建510种可能的组合。</p>\n<h2 id=\"26-Arena5\"><a href=\"#26-Arena5\" class=\"headerlink\" title=\"26. Arena5\"></a>26. Arena5</h2><p>地址：<a href=\"http://www.kevs3d.co.uk/dev/arena5/\">http://www.kevs3d.co.uk/dev/arena5/</a><br>类型：街机<br>在数字领域中飞行并射击几何敌人以获得高分。</p>\n<h2 id=\"27-Vector-Runner-Remix\"><a href=\"#27-Vector-Runner-Remix\" class=\"headerlink\" title=\"27.Vector Runner Remix\"></a>27.Vector Runner Remix</h2><p>地址:<a href=\"https://vector-runner-remix.tresensa.com/\">https://vector-runner-remix.tresensa.com/</a><br>类型：街机<br>在这个充满色彩和几何形状的平台游戏中，尽你所能奔跑吧。</p>\n<h2 id=\"28-Biolab-Disaster\"><a href=\"#28-Biolab-Disaster\" class=\"headerlink\" title=\"28. Biolab Disaster\"></a>28. Biolab Disaster</h2><p>地址：<a href=\"http://playbiolab.com/\">http://playbiolab.com/</a><br>类型:动作<br>一款出色的像素艺术平台游戏，你必须在这里逃脱充满突变生物和其他不良生物的实验室。</p>\n<h2 id=\"29-World’s-Biggest-PAC-MAN\"><a href=\"#29-World’s-Biggest-PAC-MAN\" class=\"headerlink\" title=\"29. World’s Biggest PAC-MAN\"></a>29. World’s Biggest PAC-MAN</h2><p>地址:<a href=\"http://worldsbiggestpacman.com/#\">http://worldsbiggestpacman.com/#</a><br>类型：街机</p>\n<h2 id=\"30-New-Super-Resident-Raver\"><a href=\"#30-New-Super-Resident-Raver\" class=\"headerlink\" title=\"30. New Super Resident Raver\"></a>30. New Super Resident Raver</h2><p>地址：<a href=\"http://games.jessefreeman.com/new-super-resident-raver/\">http://games.jessefreeman.com/new-super-resident-raver/</a><br>从即将到来的僵尸入侵中拯救惊慌失措的人们。收集钱，升级你的武器和战斗僵尸。</p>\n<h2 id=\"31-EatKunKun\"><a href=\"#31-EatKunKun\" class=\"headerlink\" title=\"31. EatKunKun\"></a>31. EatKunKun</h2><p>地址：<a href=\"https://huang233893.github.io/EatKunKun/\">https://huang233893.github.io/EatKunKun/</a><br>开源的iKun新概念音游</p>\n"},{"_content":"[\n    {\n      \"name\": \"青花瓷\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc\"\n    },\n    {\n      \"name\": \"稻香\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc\"\n    },\n    {\n      \"name\": \"晴天\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc\"\n    },\n    {\n      \"name\": \"七里香\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc\"\n    },\n    {\n      \"name\": \"花海\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc\"\n    },\n    {\n      \"name\": \"反方向的钟\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc\"\n    },\n    {\n      \"name\": \"兰亭序\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc\"\n    },\n    {\n      \"name\": \"说好的辛福呢\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc\"\n    },\n    {\n      \"name\": \"等你下课 (with 杨瑞代)\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc\"\n    },\n    {\n      \"name\": \"我落泪情绪零碎\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc\"\n    },\n    {\n      \"name\": \"听妈妈的话\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc\"\n    },\n    {\n      \"name\": \"明明就\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc\"\n    },\n    {\n      \"name\": \"我是如此相信\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc\"\n    },\n    {\n      \"name\": \"发如雪\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc\"\n    },\n    {\n      \"name\": \"以父之名\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc\"\n    },\n    {\n      \"name\": \"园游会\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc\"\n    },\n    {\n      \"name\": \"本草纲目\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc\"\n    },\n    {\n      \"name\": \"龙卷风\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc\"\n    }\n  ]","source":"json/music.json","raw":"[\n    {\n      \"name\": \"青花瓷\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc\"\n    },\n    {\n      \"name\": \"稻香\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc\"\n    },\n    {\n      \"name\": \"晴天\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc\"\n    },\n    {\n      \"name\": \"七里香\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc\"\n    },\n    {\n      \"name\": \"花海\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc\"\n    },\n    {\n      \"name\": \"反方向的钟\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc\"\n    },\n    {\n      \"name\": \"兰亭序\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc\"\n    },\n    {\n      \"name\": \"说好的辛福呢\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc\"\n    },\n    {\n      \"name\": \"等你下课 (with 杨瑞代)\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc\"\n    },\n    {\n      \"name\": \"我落泪情绪零碎\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc\"\n    },\n    {\n      \"name\": \"听妈妈的话\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc\"\n    },\n    {\n      \"name\": \"明明就\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc\"\n    },\n    {\n      \"name\": \"我是如此相信\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc\"\n    },\n    {\n      \"name\": \"发如雪\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc\"\n    },\n    {\n      \"name\": \"以父之名\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc\"\n    },\n    {\n      \"name\": \"园游会\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc\"\n    },\n    {\n      \"name\": \"本草纲目\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc\"\n    },\n    {\n      \"name\": \"龙卷风\",\n      \"artist\": \"周杰伦\",\n      \"url\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3\",\n      \"cover\": \"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\n      \"lrc\": \"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc\"\n    }\n  ]","date":"2025-08-05T15:04:29.991Z","updated":"2024-11-20T02:11:24.637Z","path":"json/music.json","layout":"false","title":"","comments":1,"_id":"cmgu956060028g0fy04ofg67l","content":"[{\"name\":\"青花瓷\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002eFUFm2XYZ7z_2.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/青花瓷/青花瓷.lrc\"},{\"name\":\"稻香\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/稻香/稻香.lrc\"},{\"name\":\"晴天\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/晴天/晴天.lrc\"},{\"name\":\"七里香\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/七里香/七里香.lrc\"},{\"name\":\"花海\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/花海/花海.lrc\"},{\"name\":\"反方向的钟\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/反方向的钟/反方向的钟.lrc\"},{\"name\":\"兰亭序\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/兰亭序/兰亭序.lrc\"},{\"name\":\"说好的辛福呢\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的辛福呢.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002Neh8l0uciQZ_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/说好的辛福呢/说好的幸福呢.lrc\"},{\"name\":\"等你下课 (with 杨瑞代)\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003bSL0v4bpKAx_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.1/周杰伦/等你下课/等你下课.lrc\"},{\"name\":\"我落泪情绪零碎\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000bviBl4FjTpO_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/我落泪情绪零碎/我落泪情绪零碎.lrc\"},{\"name\":\"听妈妈的话\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.2/听妈妈的话/听妈妈的话.lrc\"},{\"name\":\"明明就\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003Ow85E3pnoqi_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/明明就/明明就.lrc\"},{\"name\":\"我是如此相信\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000001hGx1Z0so1YX_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music-jay@1.0.1/我是如此相信/我是如此相信.lrc\"},{\"name\":\"发如雪\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M0000024bjiL2aocxT_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/发如雪/发如雪.lrc\"},{\"name\":\"以父之名\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000MkMni19ClKG_3.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/以父之名/以父之名.lrc\"},{\"name\":\"园游会\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.flac\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000003DFRzD192KKD_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.3/园游会/园游会.lrc\"},{\"name\":\"本草纲目\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000002jLGWe16Tf1H_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/本草纲目/本草纲目.lrc\"},{\"name\":\"龙卷风\",\"artist\":\"周杰伦\",\"url\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.mp3\",\"cover\":\"https://y.qq.com/music/photo_new/T002R300x300M000000f01724fd7TH_1.jpg?max_age=2592000\",\"lrc\":\"https://npm.elemecdn.com/anzhiyu-music@1.0.4/龙卷风/龙卷风.lrc\"}]"},{"title":"友人帐","date":"2020-12-01T14:19:45.000Z","aside":false,"type":"link","_content":"\n# 💻欢迎互换友链吖！本博客信息如下：\n\n{% folding cyan open, 本人友链 %}\n{% tabs 本人友链 %}\n\n<!-- tab  Butterfly/Anzhiyu -->\n```\nname: 酥米的小站\nlink: https://www.sumi233.top\navatar: https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png\ndescr: 终有一日，寻梦中人\n```\n<!-- endtab -->\n\n<!-- tab Fuild -->\n```\n- {\n    title: \"酥米的小站\",\n    intro: \"终有一日，寻梦中人\",\n    link: \"https://www.sumi233.top\",\n    image: \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png\",\n  }\n```\n<!-- endtab -->\n\n<!-- tab HTML -->\n```\n<a href=\"https://www.sumi233.top/\" rel=\"external nofollow\">酥米的小站</a>\n```\n<!-- endtab -->\n\n{% endtabs %}\n{% endfolding %}\n\n{% folding cyan open, 免责声明 %}\n**博客友链申请免责声明**\n\n欢迎各位志同道合的朋友申请友链呀！为确保双方权益，特此声明：\n\n1.  **平等互重**：友链是基于双方自愿的平等互助，非商业合作。\n2.  **审核权限**：我方保留审核申请并决定是否添加的权利，也可能因网站内容变更、长期无法访问等原因单方面撤下链接，恕不另行通知。\n3.  **内容免责**：您的网站内容应合法合规。您需对自身网站内容独立负责，我方不对其可能引发的任何争议或问题承担连带责任。\n4.  **链接风险**：请注意，点击友链将离开本站，我对第三方网站的内容、隐私政策或安全性无法控制，访问风险需自行承担。\n5.  **友链排序**: 本站友链仅按照添加时间排序，不支持自定义排序，遇到酥米觉得质量优秀的博客会打上推荐标，如对此感到介意，请不要进行申请。\n\n申请即视为已阅读并同意以上条款。感谢理解，期待互换！\n{% endfolding %}\n\n\n# 🖊互换要求\n- 内容**正规积极**\n- 博客**正常**维护\n- 使用**域名**和**https**\n- 博客需要拥有5篇以上的**原创**文章\n- **半年**至少更新一篇文章\n\n想互换的小伙伴可以按照上面格式评论、邮箱私信或者使用Tidio私信我哦~ 酥米看到了都会添加嗷！\n## 邮箱：2096231523@qq.com\n## Tidio 私信方式\n\n- 点击右下角工具栏SMS图标\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sixin.png)\n\n- 点击左上角箭头返回，选择申请友链\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio2.png)\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png)\n- 填入你的名字和邮箱，按照上面格式发送申请即可\n\n\n\n{% folding red, 注意 %}\n酥米本米会**定期**检查各个友链情况，若发现贵站地址**一周以上**无法打开或打开时长超过**一分钟**，将会酌情去除友链，望周知，谢谢理解！\n{% endfolding %}","source":"link/index.md","raw":"---\ntitle: 友人帐\ndate: 2020-12-01 22:19:45\naside: false\ntype: \"link\"\n---\n\n# 💻欢迎互换友链吖！本博客信息如下：\n\n{% folding cyan open, 本人友链 %}\n{% tabs 本人友链 %}\n\n<!-- tab  Butterfly/Anzhiyu -->\n```\nname: 酥米的小站\nlink: https://www.sumi233.top\navatar: https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png\ndescr: 终有一日，寻梦中人\n```\n<!-- endtab -->\n\n<!-- tab Fuild -->\n```\n- {\n    title: \"酥米的小站\",\n    intro: \"终有一日，寻梦中人\",\n    link: \"https://www.sumi233.top\",\n    image: \"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png\",\n  }\n```\n<!-- endtab -->\n\n<!-- tab HTML -->\n```\n<a href=\"https://www.sumi233.top/\" rel=\"external nofollow\">酥米的小站</a>\n```\n<!-- endtab -->\n\n{% endtabs %}\n{% endfolding %}\n\n{% folding cyan open, 免责声明 %}\n**博客友链申请免责声明**\n\n欢迎各位志同道合的朋友申请友链呀！为确保双方权益，特此声明：\n\n1.  **平等互重**：友链是基于双方自愿的平等互助，非商业合作。\n2.  **审核权限**：我方保留审核申请并决定是否添加的权利，也可能因网站内容变更、长期无法访问等原因单方面撤下链接，恕不另行通知。\n3.  **内容免责**：您的网站内容应合法合规。您需对自身网站内容独立负责，我方不对其可能引发的任何争议或问题承担连带责任。\n4.  **链接风险**：请注意，点击友链将离开本站，我对第三方网站的内容、隐私政策或安全性无法控制，访问风险需自行承担。\n5.  **友链排序**: 本站友链仅按照添加时间排序，不支持自定义排序，遇到酥米觉得质量优秀的博客会打上推荐标，如对此感到介意，请不要进行申请。\n\n申请即视为已阅读并同意以上条款。感谢理解，期待互换！\n{% endfolding %}\n\n\n# 🖊互换要求\n- 内容**正规积极**\n- 博客**正常**维护\n- 使用**域名**和**https**\n- 博客需要拥有5篇以上的**原创**文章\n- **半年**至少更新一篇文章\n\n想互换的小伙伴可以按照上面格式评论、邮箱私信或者使用Tidio私信我哦~ 酥米看到了都会添加嗷！\n## 邮箱：2096231523@qq.com\n## Tidio 私信方式\n\n- 点击右下角工具栏SMS图标\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sixin.png)\n\n- 点击左上角箭头返回，选择申请友链\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio2.png)\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png)\n- 填入你的名字和邮箱，按照上面格式发送申请即可\n\n\n\n{% folding red, 注意 %}\n酥米本米会**定期**检查各个友链情况，若发现贵站地址**一周以上**无法打开或打开时长超过**一分钟**，将会酌情去除友链，望周知，谢谢理解！\n{% endfolding %}","updated":"2025-10-16T04:49:35.567Z","path":"link/index.html","comments":1,"layout":"page","_id":"cmgu95609002dg0fy9utn3r0g","content":"<h1 id=\"💻欢迎互换友链吖！本博客信息如下：\"><a href=\"#💻欢迎互换友链吖！本博客信息如下：\" class=\"headerlink\" title=\"💻欢迎互换友链吖！本博客信息如下：\"></a>💻欢迎互换友链吖！本博客信息如下：</h1><details class=\"folding-tag\" cyan open><summary> 本人友链 </summary>\n              <div class=\"content\">\n              <div class=\"tabs\" id=\"本人友链\"><ul class=\"nav-tabs\"><button type=\"button\" class=\"tab  active\" data-href=\"本人友链-1\">Butterfly/Anzhiyu</button><button type=\"button\" class=\"tab \" data-href=\"本人友链-2\">Fuild</button><button type=\"button\" class=\"tab \" data-href=\"本人友链-3\">HTML</button></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"本人友链-1\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name: 酥米的小站</span><br><span class=\"line\">link: https://www.sumi233.top</span><br><span class=\"line\">avatar: https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png</span><br><span class=\"line\">descr: 终有一日，寻梦中人</span><br></pre></td></tr></table></figure></div><div class=\"tab-item-content\" id=\"本人友链-2\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- &#123;</span><br><span class=\"line\">    title: &quot;酥米的小站&quot;,</span><br><span class=\"line\">    intro: &quot;终有一日，寻梦中人&quot;,</span><br><span class=\"line\">    link: &quot;https://www.sumi233.top&quot;,</span><br><span class=\"line\">    image: &quot;https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png&quot;,</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure></div><div class=\"tab-item-content\" id=\"本人友链-3\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=&quot;https://www.sumi233.top/&quot; rel=&quot;external nofollow&quot;&gt;酥米的小站&lt;/a&gt;</span><br></pre></td></tr></table></figure></div></div><div class=\"tab-to-top\"><button type=\"button\" aria-label=\"scroll to top\"><i class=\"anzhiyufont anzhiyu-icon-arrow-up\"></i></button></div></div>\n              </div>\n            </details>\n\n<details class=\"folding-tag\" cyan open><summary> 免责声明 </summary>\n              <div class=\"content\">\n              <p><strong>博客友链申请免责声明</strong></p><p>欢迎各位志同道合的朋友申请友链呀！为确保双方权益，特此声明：</p><ol><li><strong>平等互重</strong>：友链是基于双方自愿的平等互助，非商业合作。</li><li><strong>审核权限</strong>：我方保留审核申请并决定是否添加的权利，也可能因网站内容变更、长期无法访问等原因单方面撤下链接，恕不另行通知。</li><li><strong>内容免责</strong>：您的网站内容应合法合规。您需对自身网站内容独立负责，我方不对其可能引发的任何争议或问题承担连带责任。</li><li><strong>链接风险</strong>：请注意，点击友链将离开本站，我对第三方网站的内容、隐私政策或安全性无法控制，访问风险需自行承担。</li><li><strong>友链排序</strong>: 本站友链仅按照添加时间排序，不支持自定义排序，遇到酥米觉得质量优秀的博客会打上推荐标，如对此感到介意，请不要进行申请。</li></ol><p>申请即视为已阅读并同意以上条款。感谢理解，期待互换！</p>\n              </div>\n            </details>\n\n\n<h1 id=\"🖊互换要求\"><a href=\"#🖊互换要求\" class=\"headerlink\" title=\"🖊互换要求\"></a>🖊互换要求</h1><ul>\n<li>内容<strong>正规积极</strong></li>\n<li>博客<strong>正常</strong>维护</li>\n<li>使用<strong>域名</strong>和<strong>https</strong></li>\n<li>博客需要拥有5篇以上的<strong>原创</strong>文章</li>\n<li><strong>半年</strong>至少更新一篇文章</li>\n</ul>\n<p>想互换的小伙伴可以按照上面格式评论、邮箱私信或者使用Tidio私信我哦~ 酥米看到了都会添加嗷！</p>\n<h2 id=\"邮箱：-50-x30-57-x36-50-51-49-53-50-51-x40-x71-x71-46-x63-111-x6d\"><a href=\"#邮箱：-50-x30-57-x36-50-51-49-53-50-51-x40-x71-x71-46-x63-111-x6d\" class=\"headerlink\" title=\"邮箱：&#50;&#x30;&#57;&#x36;&#50;&#51;&#49;&#53;&#50;&#51;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;\"></a>邮箱：<a href=\"mailto:&#50;&#x30;&#57;&#x36;&#50;&#51;&#49;&#53;&#50;&#51;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;\">&#50;&#x30;&#57;&#x36;&#50;&#51;&#49;&#53;&#50;&#51;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;</a></h2><h2 id=\"Tidio-私信方式\"><a href=\"#Tidio-私信方式\" class=\"headerlink\" title=\"Tidio 私信方式\"></a>Tidio 私信方式</h2><ul>\n<li>点击右下角工具栏SMS图标</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sixin.png\"></p>\n<ul>\n<li>点击左上角箭头返回，选择申请友链</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio2.png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png\"></p>\n<ul>\n<li>填入你的名字和邮箱，按照上面格式发送申请即可</li>\n</ul>\n<details class=\"folding-tag\" red><summary> 注意 </summary>\n              <div class=\"content\">\n              <p>酥米本米会<strong>定期</strong>检查各个友链情况，若发现贵站地址<strong>一周以上</strong>无法打开或打开时长超过<strong>一分钟</strong>，将会酌情去除友链，望周知，谢谢理解！</p>\n              </div>\n            </details>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<h1 id=\"💻欢迎互换友链吖！本博客信息如下：\"><a href=\"#💻欢迎互换友链吖！本博客信息如下：\" class=\"headerlink\" title=\"💻欢迎互换友链吖！本博客信息如下：\"></a>💻欢迎互换友链吖！本博客信息如下：</h1><details class=\"folding-tag\" cyan open><summary> 本人友链 </summary>\n              <div class=\"content\">\n              <div class=\"tabs\" id=\"本人友链\"><ul class=\"nav-tabs\"><button type=\"button\" class=\"tab  active\" data-href=\"本人友链-1\">Butterfly/Anzhiyu</button><button type=\"button\" class=\"tab \" data-href=\"本人友链-2\">Fuild</button><button type=\"button\" class=\"tab \" data-href=\"本人友链-3\">HTML</button></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"本人友链-1\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name: 酥米的小站</span><br><span class=\"line\">link: https://www.sumi233.top</span><br><span class=\"line\">avatar: https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png</span><br><span class=\"line\">descr: 终有一日，寻梦中人</span><br></pre></td></tr></table></figure></div><div class=\"tab-item-content\" id=\"本人友链-2\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- &#123;</span><br><span class=\"line\">    title: &quot;酥米的小站&quot;,</span><br><span class=\"line\">    intro: &quot;终有一日，寻梦中人&quot;,</span><br><span class=\"line\">    link: &quot;https://www.sumi233.top&quot;,</span><br><span class=\"line\">    image: &quot;https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/usersumi.png&quot;,</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure></div><div class=\"tab-item-content\" id=\"本人友链-3\"><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a href=&quot;https://www.sumi233.top/&quot; rel=&quot;external nofollow&quot;&gt;酥米的小站&lt;/a&gt;</span><br></pre></td></tr></table></figure></div></div><div class=\"tab-to-top\"><button type=\"button\" aria-label=\"scroll to top\"><i class=\"anzhiyufont anzhiyu-icon-arrow-up\"></i></button></div></div>\n              </div>\n            </details>\n\n<details class=\"folding-tag\" cyan open><summary> 免责声明 </summary>\n              <div class=\"content\">\n              <p><strong>博客友链申请免责声明</strong></p><p>欢迎各位志同道合的朋友申请友链呀！为确保双方权益，特此声明：</p><ol><li><strong>平等互重</strong>：友链是基于双方自愿的平等互助，非商业合作。</li><li><strong>审核权限</strong>：我方保留审核申请并决定是否添加的权利，也可能因网站内容变更、长期无法访问等原因单方面撤下链接，恕不另行通知。</li><li><strong>内容免责</strong>：您的网站内容应合法合规。您需对自身网站内容独立负责，我方不对其可能引发的任何争议或问题承担连带责任。</li><li><strong>链接风险</strong>：请注意，点击友链将离开本站，我对第三方网站的内容、隐私政策或安全性无法控制，访问风险需自行承担。</li><li><strong>友链排序</strong>: 本站友链仅按照添加时间排序，不支持自定义排序，遇到酥米觉得质量优秀的博客会打上推荐标，如对此感到介意，请不要进行申请。</li></ol><p>申请即视为已阅读并同意以上条款。感谢理解，期待互换！</p>\n              </div>\n            </details>\n\n\n<h1 id=\"🖊互换要求\"><a href=\"#🖊互换要求\" class=\"headerlink\" title=\"🖊互换要求\"></a>🖊互换要求</h1><ul>\n<li>内容<strong>正规积极</strong></li>\n<li>博客<strong>正常</strong>维护</li>\n<li>使用<strong>域名</strong>和<strong>https</strong></li>\n<li>博客需要拥有5篇以上的<strong>原创</strong>文章</li>\n<li><strong>半年</strong>至少更新一篇文章</li>\n</ul>\n<p>想互换的小伙伴可以按照上面格式评论、邮箱私信或者使用Tidio私信我哦~ 酥米看到了都会添加嗷！</p>\n<h2 id=\"邮箱：-50-x30-57-x36-50-51-49-53-50-51-x40-x71-x71-46-x63-111-x6d\"><a href=\"#邮箱：-50-x30-57-x36-50-51-49-53-50-51-x40-x71-x71-46-x63-111-x6d\" class=\"headerlink\" title=\"邮箱：&#50;&#x30;&#57;&#x36;&#50;&#51;&#49;&#53;&#50;&#51;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;\"></a>邮箱：<a href=\"mailto:&#50;&#x30;&#57;&#x36;&#50;&#51;&#49;&#53;&#50;&#51;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;\">&#50;&#x30;&#57;&#x36;&#50;&#51;&#49;&#53;&#50;&#51;&#x40;&#x71;&#x71;&#46;&#x63;&#111;&#x6d;</a></h2><h2 id=\"Tidio-私信方式\"><a href=\"#Tidio-私信方式\" class=\"headerlink\" title=\"Tidio 私信方式\"></a>Tidio 私信方式</h2><ul>\n<li>点击右下角工具栏SMS图标</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sixin.png\"></p>\n<ul>\n<li>点击左上角箭头返回，选择申请友链</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio2.png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png\"></p>\n<ul>\n<li>填入你的名字和邮箱，按照上面格式发送申请即可</li>\n</ul>\n<details class=\"folding-tag\" red><summary> 注意 </summary>\n              <div class=\"content\">\n              <p>酥米本米会<strong>定期</strong>检查各个友链情况，若发现贵站地址<strong>一周以上</strong>无法打开或打开时长超过<strong>一分钟</strong>，将会酌情去除友链，望周知，谢谢理解！</p>\n              </div>\n            </details>"},{"title":"周易算卦","description":"超小型算卦工具，仅供参考哦~","date":"2025-09-25T16:00:00.000Z","_content":"\n## 生成结果仅供参考\n\n\n<!-- 周易算卦 - Shadow DOM 隔离版 -->\n<div id=\"hexagram-widget\" style=\"width: 100%; max-width: 600px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM的内容将通过JavaScript注入到这里 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建模板字符串，包含所有HTML结构\n  const htmlTemplate = `\n    <style>\n      /* 2. 所有样式都写在这里，它们只对Shadow DOM内部有效 */\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        background: var(--bg-color, #ffffff);\n        color: var(--text-color, #333333);\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      h2 {\n        font-size: 1.5rem;\n        padding-bottom: 12px;\n        border-bottom: 1px solid var(--border-color, #f0f0f0);\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg, #f7f7f7);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--intro-text, #666);\n      }\n      \n      .coins {\n        display: flex;\n        justify-content: center;\n        margin-bottom: 24px;\n        gap: 16px;\n      }\n      \n      .coin {\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        background: #f0c14b;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        font-weight: bold;\n        box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        user-select: none;\n        transition: transform 0.2s ease;\n      }\n      \n      .coin.tails {\n        background: #e7e9ec;\n        color: #111;\n      }\n      \n      .coin.shaking {\n        animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n      }\n      \n      @keyframes shake {\n        10%, 90% { transform: translate3d(-1px, 0, 0) rotate(-3deg); }\n        20%, 80% { transform: translate3d(2px, 0, 0) rotate(3deg); }\n        30%, 50%, 70% { transform: translate3d(-3px, 0, 0) rotate(-5deg); }\n        40%, 60% { transform: translate3d(3px, 0, 0) rotate(5deg); }\n      }\n      \n      .buttons {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin-bottom: 24px;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n      \n      #cast-btn {\n        background: var(--primary-color, #007bff);\n        color: white;\n      }\n      \n      #cast-btn:hover {\n        background: var(--primary-dark, #0056b3);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #cast-btn:disabled {\n        background: #6c757d;\n        cursor: not-allowed;\n        transform: none;\n        box-shadow: none;\n      }\n      \n      #reset-btn {\n        background: var(--reset-bg, #f0f0f0);\n        color: var(--reset-text, #333);\n      }\n      \n      #reset-btn:hover {\n        background: var(--reset-hover, #e0e0e0);\n      }\n      \n      .progress {\n        margin-bottom: 24px;\n      }\n      \n      .progress-info {\n        display: flex;\n        justify-content: space-between;\n        font-size: 0.8rem;\n        margin-bottom: 6px;\n        color: var(--text-secondary, #666);\n      }\n      \n      .progress-bar-container {\n        height: 10px;\n        background: var(--progress-bg, #e9ecef);\n        border-radius: 5px;\n        overflow: hidden;\n      }\n      \n      .progress-bar {\n        height: 100%;\n        width: 0%;\n        background: var(--primary-color, #007bff);\n        transition: width 0.3s ease;\n      }\n      \n      .result {\n        display: none;\n        margin-top: 24px;\n        padding-top: 24px;\n        border-top: 1px solid var(--border-color, #eee);\n      }\n      \n      .hexagram-lines {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 20px;\n      }\n      \n      .hexagram-line {\n        font-size: 1.8rem;\n        width: 100%;\n        text-align: center;\n        transition: all 0.3s ease;\n      }\n      \n      .hexagram-line.changing {\n        color: var(--changing-color, #d9534f);\n        font-weight: bold;\n        transform: scale(1.05);\n      }\n      \n      .hexagram-name {\n        text-align: center;\n        font-size: 1.3rem;\n        font-weight: bold;\n        margin-bottom: 10px;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .hexagram-text {\n        text-align: center;\n        font-style: italic;\n        color: var(--text-secondary, #666);\n        margin-bottom: 16px;\n        padding: 0 12px;\n      }\n      \n      .hexagram-interpretation {\n        font-size: 0.95rem;\n        line-height: 1.7;\n        color: var(--text-color, #444);\n        background: var(--interpretation-bg, #fafafa);\n        padding: 16px;\n        border-radius: 8px;\n        box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>周易六爻占卜</h1>\n      \n      <div class=\"intro\">\n        点击下方\"摇一卦\"按钮开始，共需摇六次。\n      </div>\n\n      <div class=\"coins\">\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n      </div>\n\n      <div class=\"buttons\">\n        <button id=\"cast-btn\">摇一卦</button>\n        <button id=\"reset-btn\">重新开始</button>\n      </div>\n\n      <div class=\"progress\">\n        <div class=\"progress-info\">\n          <span>进度</span>\n          <span id=\"progress-text\">0/6</span>\n        </div>\n        <div class=\"progress-bar-container\">\n          <div class=\"progress-bar\" id=\"progress-bar\"></div>\n        </div>\n      </div>\n\n      <div class=\"result\" id=\"hexagram-result\">\n        <h2>卦象结果</h2>\n        <div class=\"hexagram-lines\" id=\"hexagram-lines\"></div>\n        <div class=\"hexagram-name\" id=\"hexagram-name\"></div>\n        <div class=\"hexagram-text\" id=\"hexagram-text\"></div>\n        <div class=\"hexagram-interpretation\" id=\"hexagram-interpretation\"></div>\n      </div>\n    </div>\n  `;\n\n  // 3. 获取容器并创建Shadow Root\n  const widgetContainer = document.getElementById('hexagram-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  \n  // 4. 将HTML模板注入Shadow Root\n  shadowRoot.innerHTML = htmlTemplate;\n  \n  // 适配Anzhiyu深浅色主题\n  function applyTheme() {\n    // 检测Anzhiyu主题的亮色模式判断方式\n    const isAnzhiyuLight = document.documentElement.dataset.theme === \"light\" || document.body.classList.contains('light');\n    const style = document.createElement('style');\n    \n    if (isAnzhiyuLight) {\n      // Anzhiyu亮色模式\n      style.textContent = `\n        :host {\n          --bg-color: #f5f5f5;\n          --text-color: #333333;\n          --heading-color: #1a1a1a;\n          --border-color: #e0e0e0;\n          --intro-bg: #eaeaea;\n          --intro-text: #666666;\n          --primary-color: #007bff;\n          --primary-dark: #0056b3;\n          --reset-bg: #ddd;\n          --reset-text: #333333;\n          --reset-hover: #ccc;\n          --text-secondary: #666666;\n          --progress-bg: #ddd;\n          --changing-color: #d9534f;\n          --interpretation-bg: #eaeaea;\n        }\n      `;\n    } else {\n      // Anzhiyu深色模式\n      style.textContent = `\n        :host {\n          --bg-color: #1a1a1a;\n          --text-color: #f0f0f0;\n          --heading-color: #ffffff;\n          --border-color: #333333;\n          --intro-bg: #2d2d2d;\n          --intro-text: #bbbbbb;\n          --primary-color: #4dabf7;\n          --primary-dark: #3b82f6;\n          --reset-bg: #333333;\n          --reset-text: #e0e0e0;\n          --reset-hover: #444444;\n          --text-secondary: #aaaaaa;\n          --progress-bg: #333333;\n          --changing-color: #f87171;\n          --interpretation-bg: #2d2d2d;\n        }\n      `;\n    }\n    \n    // 清除已有的主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n  \n  // 5. 所有JavaScript逻辑都在这里，并且元素选择器作用于shadowRoot\n  // 修复首次加载问题：直接执行，不依赖DOMContentLoaded\n  function initApp() {\n    // 元素引用 (注意：使用 shadowRoot.querySelector)\n    const coins = shadowRoot.querySelectorAll('.coin');\n    const castBtn = shadowRoot.getElementById('cast-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const progressBar = shadowRoot.getElementById('progress-bar');\n    const progressText = shadowRoot.getElementById('progress-text');\n    const hexagramResult = shadowRoot.getElementById('hexagram-result');\n    const hexagramLines = shadowRoot.getElementById('hexagram-lines');\n    const hexagramName = shadowRoot.getElementById('hexagram-name');\n    const hexagramText = shadowRoot.getElementById('hexagram-text');\n    const hexagramInterpretation = shadowRoot.getElementById('hexagram-interpretation');\n    \n    let currentLine = 0;\n    const lines = [];\n    \n    // 扩展的卦象数据库（前12卦，完整版可扩展至64卦）\n    const hexagrams = [\n      { number: 1, name: \"乾为天\", text: \"元亨，利贞。\", interpretation: \"乾卦象征天，刚健中正。预示着事情会顺利发展，充满生机与希望，但需要坚守正道。乾卦六爻皆阳，象征事物发展的六个阶段，从潜龙勿用到飞龙在天，最终亢龙有悔，提示物极必反的道理。\" },\n      { number: 2, name: \"坤为地\", text: \"元亨，利牝马之贞。君子有攸往，先迷后得主，利西南得朋，东北丧朋。安贞吉。\", interpretation: \"坤卦象征地，柔顺厚德。预示着需要顺从形势，积蓄力量，以柔克刚，最终获得成功。坤卦强调厚德载物，包容万物，君子应效法大地，以深厚的德行承载万物。\" },\n      { number: 3, name: \"水雷屯\", text: \"元亨，利贞。勿用有攸往，利建侯。\", interpretation: \"屯卦象征初生与困难。如同草木萌芽，充满生机但脆弱，需要耐心培养，不宜贸然行动。此卦启示我们在事物初创阶段，虽有艰难险阻，但只要坚定信念，稳步前进，终能克服困难。\" },\n      { number: 4, name: \"山水蒙\", text: \"亨。匪我求童蒙，童蒙求我。初筮告，再三渎，渎则不告。利贞。\", interpretation: \"蒙卦象征启蒙。事物处于蒙昧阶段，需要教育和引导。应虚心学习，或耐心教导他人。此卦提醒我们，无论是学习还是教导，都应保持真诚恭敬的态度，才能获得真正的智慧。\" },\n      { number: 5, name: \"水天需\", text: \"有孚，光亨，贞吉。利涉大川。\", interpretation: \"需卦象征等待。时机尚未成熟，应耐心等待，保持诚信和中正，最终可以克服困难。等待并非消极懈怠，而是积蓄力量，审时度势，待时而动。\" },\n      { number: 6, name: \"天水讼\", text: \"有孚窒惕，中吉，终凶。利见大人，不利涉大川。\", interpretation: \"讼卦象征争执。预示着可能会有纠纷或诉讼，即使有理也应谨慎处理，避免事态扩大。此卦提醒我们，应尽量避免争执，如无法避免，则需保持公正，寻求合理解决之道。\" },\n      { number: 7, name: \"地水师\", text: \"贞，大人吉，无咎。师出以律，否臧凶。\", interpretation: \"师卦象征军队、战争。预示着可能面临挑战或竞争，需有严明的纪律和贤明的领导才能成功。此卦提醒我们，行事需有组织、有纪律，任用贤能，才能克服困难。\" },\n      { number: 8, name: \"水地比\", text: \"吉。原筮元永贞，无咎。不宁方来，后夫凶。\", interpretation: \"比卦象征亲密相依，团结互助。预示着人际关系和谐，能得到他人的支持与帮助。此卦启示我们，要善于与人合作，以诚相待，才能获得良好的人际关系和事业发展。\" },\n      { number: 9, name: \"风天小畜\", text: \"亨。密云不雨，自我西郊。\", interpretation: \"小畜卦象征积蓄力量。预示着目前力量尚不足，需要积蓄能量，等待时机。如同乌云密布却未降雨，时机未到，需耐心等待，同时做好准备。\" },\n      { number: 10, name: \"天泽履\", text: \"履虎尾，不咥人，亨。\", interpretation: \"履卦象征行走、实践。如同踩在老虎尾巴上而不被咬伤，预示着行事需谨慎小心，遵循正道，虽有风险但能化险为夷。此卦提醒我们，行事要合乎礼仪，谨慎行事。\" },\n      { number: 11, name: \"地天泰\", text: \"小往大来，吉，亨。\", interpretation: \"泰卦象征通达、太平。天地交泰，万物生长，预示着运势顺利，事业发展，人际关系和谐。此卦启示我们，当处于顺境时，更应保持谦逊，居安思危。\" },\n      { number: 12, name: \"天地否\", text: \"否之匪人，不利君子贞，大往小来。\", interpretation: \"否卦象征闭塞、不通。天地不交，万物不生，预示着运势不佳，困难重重。此卦提醒我们，当处于逆境时，应坚守正道，修身养性，等待时机转变。\" },\n      { number: 13, name: \"天火同人\", text: \"同人于野，亨。利涉大川，利君子贞。\", interpretation: \"同人卦象征同心协力。预示着只要团结一心，目标一致，就能克服困难，取得成功。此卦启示我们，要广结善缘，与志同道合者共同奋斗。\" },\n      { number: 14, name: \"火天大有\", text: \"元亨。\", interpretation: \"大有卦象征丰饶、富足。预示着事业兴旺，收获丰厚。此卦提醒我们，在富有之时更应保持谦逊，多行公益，才能保持长久的富足。\" },\n      { number: 15, name: \"地山谦\", text: \"亨，君子有终。\", interpretation: \"谦卦象征谦逊。预示着谦逊有礼的人终将获得好运和成功。此卦启示我们，无论何时何地，都应保持谦逊的态度，尊重他人，才能获得他人的尊重和支持。\" }\n    ];\n    \n    // 初始化主题\n    applyTheme();\n    \n    // 监听Anzhiyu主题变化\n    const htmlElement = document.documentElement;\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        // 监听html的data-theme属性变化或body的class变化\n        if ((mutation.target === htmlElement && mutation.attributeName === 'data-theme') ||\n            (mutation.target === document.body && mutation.attributeName === 'class')) {\n          applyTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的属性和body的class变化\n    observer.observe(htmlElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    castBtn.addEventListener('click', function() {\n      if (currentLine >= 6) return;\n      castBtn.disabled = true;\n      \n      coins.forEach(coin => coin.classList.add('shaking'));\n      \n      setTimeout(() => {\n        const results = [Math.floor(Math.random() * 2), Math.floor(Math.random() * 2), Math.floor(Math.random() * 2)];\n        \n        results.forEach((result, index) => {\n          if (result === 0) {\n            coins[index].classList.remove('tails');\n            coins[index].textContent = '●';\n          } else {\n            coins[index].classList.add('tails');\n            coins[index].textContent = '○';\n          }\n          coins[index].classList.remove('shaking');\n        });\n        \n        const value = results.reduce((sum, r) => sum + (r === 0 ? 3 : 2), 0);\n        const isYang = value === 7 || value === 9;\n        const isChanging = value === 6 || value === 9;\n        \n        lines.unshift({ isYang, isChanging });\n        \n        currentLine++;\n        progressBar.style.width = `${(currentLine / 6) * 100}%`;\n        progressText.textContent = `${currentLine}/6`;\n        \n        if (currentLine === 6) {\n          displayHexagram();\n        }\n        \n        castBtn.disabled = false;\n      }, 800);\n    });\n    \n    resetBtn.addEventListener('click', function() {\n      currentLine = 0;\n      lines.length = 0;\n      \n      coins.forEach(coin => {\n        coin.classList.remove('tails', 'shaking');\n        coin.textContent = '●';\n      });\n      \n      progressBar.style.width = '0%';\n      progressText.textContent = '0/6';\n      hexagramResult.style.display = 'none';\n    });\n    \n    function displayHexagram() {\n      hexagramLines.innerHTML = '';\n      \n      lines.forEach(line => {\n        const lineElement = document.createElement('div');\n        lineElement.className = `hexagram-line ${line.isChanging ? 'changing' : ''}`;\n        lineElement.textContent = line.isYang ? '—' : '--';\n        hexagramLines.appendChild(lineElement);\n      });\n      \n      // 更精准的卦象计算方法\n      let binaryValue = 0;\n      lines.forEach((line, index) => {\n        if (line.isYang) {\n          binaryValue += Math.pow(2, index);\n        }\n      });\n      const hexIndex = binaryValue % hexagrams.length;\n      const hex = hexagrams[hexIndex];\n      \n      hexagramName.textContent = `${hex.name} (第${hex.number}卦)`;\n      hexagramText.textContent = hex.text;\n      hexagramInterpretation.textContent = hex.interpretation;\n      \n      hexagramResult.style.display = 'block';\n      hexagramResult.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n  \n  // 立即初始化应用，解决首次加载问题\n  initApp();\n})();\n</script>\n","source":"lunar/index.md","raw":"---\ntitle: 周易算卦\ndescription: 超小型算卦工具，仅供参考哦~\ndate: 2025-09-26\n---\n\n## 生成结果仅供参考\n\n\n<!-- 周易算卦 - Shadow DOM 隔离版 -->\n<div id=\"hexagram-widget\" style=\"width: 100%; max-width: 600px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM的内容将通过JavaScript注入到这里 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建模板字符串，包含所有HTML结构\n  const htmlTemplate = `\n    <style>\n      /* 2. 所有样式都写在这里，它们只对Shadow DOM内部有效 */\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        background: var(--bg-color, #ffffff);\n        color: var(--text-color, #333333);\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      h2 {\n        font-size: 1.5rem;\n        padding-bottom: 12px;\n        border-bottom: 1px solid var(--border-color, #f0f0f0);\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg, #f7f7f7);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--intro-text, #666);\n      }\n      \n      .coins {\n        display: flex;\n        justify-content: center;\n        margin-bottom: 24px;\n        gap: 16px;\n      }\n      \n      .coin {\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        background: #f0c14b;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        font-weight: bold;\n        box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        user-select: none;\n        transition: transform 0.2s ease;\n      }\n      \n      .coin.tails {\n        background: #e7e9ec;\n        color: #111;\n      }\n      \n      .coin.shaking {\n        animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n      }\n      \n      @keyframes shake {\n        10%, 90% { transform: translate3d(-1px, 0, 0) rotate(-3deg); }\n        20%, 80% { transform: translate3d(2px, 0, 0) rotate(3deg); }\n        30%, 50%, 70% { transform: translate3d(-3px, 0, 0) rotate(-5deg); }\n        40%, 60% { transform: translate3d(3px, 0, 0) rotate(5deg); }\n      }\n      \n      .buttons {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin-bottom: 24px;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n      \n      #cast-btn {\n        background: var(--primary-color, #007bff);\n        color: white;\n      }\n      \n      #cast-btn:hover {\n        background: var(--primary-dark, #0056b3);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #cast-btn:disabled {\n        background: #6c757d;\n        cursor: not-allowed;\n        transform: none;\n        box-shadow: none;\n      }\n      \n      #reset-btn {\n        background: var(--reset-bg, #f0f0f0);\n        color: var(--reset-text, #333);\n      }\n      \n      #reset-btn:hover {\n        background: var(--reset-hover, #e0e0e0);\n      }\n      \n      .progress {\n        margin-bottom: 24px;\n      }\n      \n      .progress-info {\n        display: flex;\n        justify-content: space-between;\n        font-size: 0.8rem;\n        margin-bottom: 6px;\n        color: var(--text-secondary, #666);\n      }\n      \n      .progress-bar-container {\n        height: 10px;\n        background: var(--progress-bg, #e9ecef);\n        border-radius: 5px;\n        overflow: hidden;\n      }\n      \n      .progress-bar {\n        height: 100%;\n        width: 0%;\n        background: var(--primary-color, #007bff);\n        transition: width 0.3s ease;\n      }\n      \n      .result {\n        display: none;\n        margin-top: 24px;\n        padding-top: 24px;\n        border-top: 1px solid var(--border-color, #eee);\n      }\n      \n      .hexagram-lines {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 20px;\n      }\n      \n      .hexagram-line {\n        font-size: 1.8rem;\n        width: 100%;\n        text-align: center;\n        transition: all 0.3s ease;\n      }\n      \n      .hexagram-line.changing {\n        color: var(--changing-color, #d9534f);\n        font-weight: bold;\n        transform: scale(1.05);\n      }\n      \n      .hexagram-name {\n        text-align: center;\n        font-size: 1.3rem;\n        font-weight: bold;\n        margin-bottom: 10px;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .hexagram-text {\n        text-align: center;\n        font-style: italic;\n        color: var(--text-secondary, #666);\n        margin-bottom: 16px;\n        padding: 0 12px;\n      }\n      \n      .hexagram-interpretation {\n        font-size: 0.95rem;\n        line-height: 1.7;\n        color: var(--text-color, #444);\n        background: var(--interpretation-bg, #fafafa);\n        padding: 16px;\n        border-radius: 8px;\n        box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>周易六爻占卜</h1>\n      \n      <div class=\"intro\">\n        点击下方\"摇一卦\"按钮开始，共需摇六次。\n      </div>\n\n      <div class=\"coins\">\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n      </div>\n\n      <div class=\"buttons\">\n        <button id=\"cast-btn\">摇一卦</button>\n        <button id=\"reset-btn\">重新开始</button>\n      </div>\n\n      <div class=\"progress\">\n        <div class=\"progress-info\">\n          <span>进度</span>\n          <span id=\"progress-text\">0/6</span>\n        </div>\n        <div class=\"progress-bar-container\">\n          <div class=\"progress-bar\" id=\"progress-bar\"></div>\n        </div>\n      </div>\n\n      <div class=\"result\" id=\"hexagram-result\">\n        <h2>卦象结果</h2>\n        <div class=\"hexagram-lines\" id=\"hexagram-lines\"></div>\n        <div class=\"hexagram-name\" id=\"hexagram-name\"></div>\n        <div class=\"hexagram-text\" id=\"hexagram-text\"></div>\n        <div class=\"hexagram-interpretation\" id=\"hexagram-interpretation\"></div>\n      </div>\n    </div>\n  `;\n\n  // 3. 获取容器并创建Shadow Root\n  const widgetContainer = document.getElementById('hexagram-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  \n  // 4. 将HTML模板注入Shadow Root\n  shadowRoot.innerHTML = htmlTemplate;\n  \n  // 适配Anzhiyu深浅色主题\n  function applyTheme() {\n    // 检测Anzhiyu主题的亮色模式判断方式\n    const isAnzhiyuLight = document.documentElement.dataset.theme === \"light\" || document.body.classList.contains('light');\n    const style = document.createElement('style');\n    \n    if (isAnzhiyuLight) {\n      // Anzhiyu亮色模式\n      style.textContent = `\n        :host {\n          --bg-color: #f5f5f5;\n          --text-color: #333333;\n          --heading-color: #1a1a1a;\n          --border-color: #e0e0e0;\n          --intro-bg: #eaeaea;\n          --intro-text: #666666;\n          --primary-color: #007bff;\n          --primary-dark: #0056b3;\n          --reset-bg: #ddd;\n          --reset-text: #333333;\n          --reset-hover: #ccc;\n          --text-secondary: #666666;\n          --progress-bg: #ddd;\n          --changing-color: #d9534f;\n          --interpretation-bg: #eaeaea;\n        }\n      `;\n    } else {\n      // Anzhiyu深色模式\n      style.textContent = `\n        :host {\n          --bg-color: #1a1a1a;\n          --text-color: #f0f0f0;\n          --heading-color: #ffffff;\n          --border-color: #333333;\n          --intro-bg: #2d2d2d;\n          --intro-text: #bbbbbb;\n          --primary-color: #4dabf7;\n          --primary-dark: #3b82f6;\n          --reset-bg: #333333;\n          --reset-text: #e0e0e0;\n          --reset-hover: #444444;\n          --text-secondary: #aaaaaa;\n          --progress-bg: #333333;\n          --changing-color: #f87171;\n          --interpretation-bg: #2d2d2d;\n        }\n      `;\n    }\n    \n    // 清除已有的主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n  \n  // 5. 所有JavaScript逻辑都在这里，并且元素选择器作用于shadowRoot\n  // 修复首次加载问题：直接执行，不依赖DOMContentLoaded\n  function initApp() {\n    // 元素引用 (注意：使用 shadowRoot.querySelector)\n    const coins = shadowRoot.querySelectorAll('.coin');\n    const castBtn = shadowRoot.getElementById('cast-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const progressBar = shadowRoot.getElementById('progress-bar');\n    const progressText = shadowRoot.getElementById('progress-text');\n    const hexagramResult = shadowRoot.getElementById('hexagram-result');\n    const hexagramLines = shadowRoot.getElementById('hexagram-lines');\n    const hexagramName = shadowRoot.getElementById('hexagram-name');\n    const hexagramText = shadowRoot.getElementById('hexagram-text');\n    const hexagramInterpretation = shadowRoot.getElementById('hexagram-interpretation');\n    \n    let currentLine = 0;\n    const lines = [];\n    \n    // 扩展的卦象数据库（前12卦，完整版可扩展至64卦）\n    const hexagrams = [\n      { number: 1, name: \"乾为天\", text: \"元亨，利贞。\", interpretation: \"乾卦象征天，刚健中正。预示着事情会顺利发展，充满生机与希望，但需要坚守正道。乾卦六爻皆阳，象征事物发展的六个阶段，从潜龙勿用到飞龙在天，最终亢龙有悔，提示物极必反的道理。\" },\n      { number: 2, name: \"坤为地\", text: \"元亨，利牝马之贞。君子有攸往，先迷后得主，利西南得朋，东北丧朋。安贞吉。\", interpretation: \"坤卦象征地，柔顺厚德。预示着需要顺从形势，积蓄力量，以柔克刚，最终获得成功。坤卦强调厚德载物，包容万物，君子应效法大地，以深厚的德行承载万物。\" },\n      { number: 3, name: \"水雷屯\", text: \"元亨，利贞。勿用有攸往，利建侯。\", interpretation: \"屯卦象征初生与困难。如同草木萌芽，充满生机但脆弱，需要耐心培养，不宜贸然行动。此卦启示我们在事物初创阶段，虽有艰难险阻，但只要坚定信念，稳步前进，终能克服困难。\" },\n      { number: 4, name: \"山水蒙\", text: \"亨。匪我求童蒙，童蒙求我。初筮告，再三渎，渎则不告。利贞。\", interpretation: \"蒙卦象征启蒙。事物处于蒙昧阶段，需要教育和引导。应虚心学习，或耐心教导他人。此卦提醒我们，无论是学习还是教导，都应保持真诚恭敬的态度，才能获得真正的智慧。\" },\n      { number: 5, name: \"水天需\", text: \"有孚，光亨，贞吉。利涉大川。\", interpretation: \"需卦象征等待。时机尚未成熟，应耐心等待，保持诚信和中正，最终可以克服困难。等待并非消极懈怠，而是积蓄力量，审时度势，待时而动。\" },\n      { number: 6, name: \"天水讼\", text: \"有孚窒惕，中吉，终凶。利见大人，不利涉大川。\", interpretation: \"讼卦象征争执。预示着可能会有纠纷或诉讼，即使有理也应谨慎处理，避免事态扩大。此卦提醒我们，应尽量避免争执，如无法避免，则需保持公正，寻求合理解决之道。\" },\n      { number: 7, name: \"地水师\", text: \"贞，大人吉，无咎。师出以律，否臧凶。\", interpretation: \"师卦象征军队、战争。预示着可能面临挑战或竞争，需有严明的纪律和贤明的领导才能成功。此卦提醒我们，行事需有组织、有纪律，任用贤能，才能克服困难。\" },\n      { number: 8, name: \"水地比\", text: \"吉。原筮元永贞，无咎。不宁方来，后夫凶。\", interpretation: \"比卦象征亲密相依，团结互助。预示着人际关系和谐，能得到他人的支持与帮助。此卦启示我们，要善于与人合作，以诚相待，才能获得良好的人际关系和事业发展。\" },\n      { number: 9, name: \"风天小畜\", text: \"亨。密云不雨，自我西郊。\", interpretation: \"小畜卦象征积蓄力量。预示着目前力量尚不足，需要积蓄能量，等待时机。如同乌云密布却未降雨，时机未到，需耐心等待，同时做好准备。\" },\n      { number: 10, name: \"天泽履\", text: \"履虎尾，不咥人，亨。\", interpretation: \"履卦象征行走、实践。如同踩在老虎尾巴上而不被咬伤，预示着行事需谨慎小心，遵循正道，虽有风险但能化险为夷。此卦提醒我们，行事要合乎礼仪，谨慎行事。\" },\n      { number: 11, name: \"地天泰\", text: \"小往大来，吉，亨。\", interpretation: \"泰卦象征通达、太平。天地交泰，万物生长，预示着运势顺利，事业发展，人际关系和谐。此卦启示我们，当处于顺境时，更应保持谦逊，居安思危。\" },\n      { number: 12, name: \"天地否\", text: \"否之匪人，不利君子贞，大往小来。\", interpretation: \"否卦象征闭塞、不通。天地不交，万物不生，预示着运势不佳，困难重重。此卦提醒我们，当处于逆境时，应坚守正道，修身养性，等待时机转变。\" },\n      { number: 13, name: \"天火同人\", text: \"同人于野，亨。利涉大川，利君子贞。\", interpretation: \"同人卦象征同心协力。预示着只要团结一心，目标一致，就能克服困难，取得成功。此卦启示我们，要广结善缘，与志同道合者共同奋斗。\" },\n      { number: 14, name: \"火天大有\", text: \"元亨。\", interpretation: \"大有卦象征丰饶、富足。预示着事业兴旺，收获丰厚。此卦提醒我们，在富有之时更应保持谦逊，多行公益，才能保持长久的富足。\" },\n      { number: 15, name: \"地山谦\", text: \"亨，君子有终。\", interpretation: \"谦卦象征谦逊。预示着谦逊有礼的人终将获得好运和成功。此卦启示我们，无论何时何地，都应保持谦逊的态度，尊重他人，才能获得他人的尊重和支持。\" }\n    ];\n    \n    // 初始化主题\n    applyTheme();\n    \n    // 监听Anzhiyu主题变化\n    const htmlElement = document.documentElement;\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        // 监听html的data-theme属性变化或body的class变化\n        if ((mutation.target === htmlElement && mutation.attributeName === 'data-theme') ||\n            (mutation.target === document.body && mutation.attributeName === 'class')) {\n          applyTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的属性和body的class变化\n    observer.observe(htmlElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    castBtn.addEventListener('click', function() {\n      if (currentLine >= 6) return;\n      castBtn.disabled = true;\n      \n      coins.forEach(coin => coin.classList.add('shaking'));\n      \n      setTimeout(() => {\n        const results = [Math.floor(Math.random() * 2), Math.floor(Math.random() * 2), Math.floor(Math.random() * 2)];\n        \n        results.forEach((result, index) => {\n          if (result === 0) {\n            coins[index].classList.remove('tails');\n            coins[index].textContent = '●';\n          } else {\n            coins[index].classList.add('tails');\n            coins[index].textContent = '○';\n          }\n          coins[index].classList.remove('shaking');\n        });\n        \n        const value = results.reduce((sum, r) => sum + (r === 0 ? 3 : 2), 0);\n        const isYang = value === 7 || value === 9;\n        const isChanging = value === 6 || value === 9;\n        \n        lines.unshift({ isYang, isChanging });\n        \n        currentLine++;\n        progressBar.style.width = `${(currentLine / 6) * 100}%`;\n        progressText.textContent = `${currentLine}/6`;\n        \n        if (currentLine === 6) {\n          displayHexagram();\n        }\n        \n        castBtn.disabled = false;\n      }, 800);\n    });\n    \n    resetBtn.addEventListener('click', function() {\n      currentLine = 0;\n      lines.length = 0;\n      \n      coins.forEach(coin => {\n        coin.classList.remove('tails', 'shaking');\n        coin.textContent = '●';\n      });\n      \n      progressBar.style.width = '0%';\n      progressText.textContent = '0/6';\n      hexagramResult.style.display = 'none';\n    });\n    \n    function displayHexagram() {\n      hexagramLines.innerHTML = '';\n      \n      lines.forEach(line => {\n        const lineElement = document.createElement('div');\n        lineElement.className = `hexagram-line ${line.isChanging ? 'changing' : ''}`;\n        lineElement.textContent = line.isYang ? '—' : '--';\n        hexagramLines.appendChild(lineElement);\n      });\n      \n      // 更精准的卦象计算方法\n      let binaryValue = 0;\n      lines.forEach((line, index) => {\n        if (line.isYang) {\n          binaryValue += Math.pow(2, index);\n        }\n      });\n      const hexIndex = binaryValue % hexagrams.length;\n      const hex = hexagrams[hexIndex];\n      \n      hexagramName.textContent = `${hex.name} (第${hex.number}卦)`;\n      hexagramText.textContent = hex.text;\n      hexagramInterpretation.textContent = hex.interpretation;\n      \n      hexagramResult.style.display = 'block';\n      hexagramResult.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n  \n  // 立即初始化应用，解决首次加载问题\n  initApp();\n})();\n</script>\n","updated":"2025-09-26T10:41:08.900Z","path":"lunar/index.html","comments":1,"layout":"page","_id":"cmgu9560b002hg0fy4qih4tkz","content":"<h2 id=\"生成结果仅供参考\"><a href=\"#生成结果仅供参考\" class=\"headerlink\" title=\"生成结果仅供参考\"></a>生成结果仅供参考</h2><!-- 周易算卦 - Shadow DOM 隔离版 -->\n<div id=\"hexagram-widget\" style=\"width: 100%; max-width: 600px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM的内容将通过JavaScript注入到这里 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建模板字符串，包含所有HTML结构\n  const htmlTemplate = `\n    <style>\n      /* 2. 所有样式都写在这里，它们只对Shadow DOM内部有效 */\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        background: var(--bg-color, #ffffff);\n        color: var(--text-color, #333333);\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      h2 {\n        font-size: 1.5rem;\n        padding-bottom: 12px;\n        border-bottom: 1px solid var(--border-color, #f0f0f0);\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg, #f7f7f7);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--intro-text, #666);\n      }\n      \n      .coins {\n        display: flex;\n        justify-content: center;\n        margin-bottom: 24px;\n        gap: 16px;\n      }\n      \n      .coin {\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        background: #f0c14b;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        font-weight: bold;\n        box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        user-select: none;\n        transition: transform 0.2s ease;\n      }\n      \n      .coin.tails {\n        background: #e7e9ec;\n        color: #111;\n      }\n      \n      .coin.shaking {\n        animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n      }\n      \n      @keyframes shake {\n        10%, 90% { transform: translate3d(-1px, 0, 0) rotate(-3deg); }\n        20%, 80% { transform: translate3d(2px, 0, 0) rotate(3deg); }\n        30%, 50%, 70% { transform: translate3d(-3px, 0, 0) rotate(-5deg); }\n        40%, 60% { transform: translate3d(3px, 0, 0) rotate(5deg); }\n      }\n      \n      .buttons {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin-bottom: 24px;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n      \n      #cast-btn {\n        background: var(--primary-color, #007bff);\n        color: white;\n      }\n      \n      #cast-btn:hover {\n        background: var(--primary-dark, #0056b3);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #cast-btn:disabled {\n        background: #6c757d;\n        cursor: not-allowed;\n        transform: none;\n        box-shadow: none;\n      }\n      \n      #reset-btn {\n        background: var(--reset-bg, #f0f0f0);\n        color: var(--reset-text, #333);\n      }\n      \n      #reset-btn:hover {\n        background: var(--reset-hover, #e0e0e0);\n      }\n      \n      .progress {\n        margin-bottom: 24px;\n      }\n      \n      .progress-info {\n        display: flex;\n        justify-content: space-between;\n        font-size: 0.8rem;\n        margin-bottom: 6px;\n        color: var(--text-secondary, #666);\n      }\n      \n      .progress-bar-container {\n        height: 10px;\n        background: var(--progress-bg, #e9ecef);\n        border-radius: 5px;\n        overflow: hidden;\n      }\n      \n      .progress-bar {\n        height: 100%;\n        width: 0%;\n        background: var(--primary-color, #007bff);\n        transition: width 0.3s ease;\n      }\n      \n      .result {\n        display: none;\n        margin-top: 24px;\n        padding-top: 24px;\n        border-top: 1px solid var(--border-color, #eee);\n      }\n      \n      .hexagram-lines {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 20px;\n      }\n      \n      .hexagram-line {\n        font-size: 1.8rem;\n        width: 100%;\n        text-align: center;\n        transition: all 0.3s ease;\n      }\n      \n      .hexagram-line.changing {\n        color: var(--changing-color, #d9534f);\n        font-weight: bold;\n        transform: scale(1.05);\n      }\n      \n      .hexagram-name {\n        text-align: center;\n        font-size: 1.3rem;\n        font-weight: bold;\n        margin-bottom: 10px;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .hexagram-text {\n        text-align: center;\n        font-style: italic;\n        color: var(--text-secondary, #666);\n        margin-bottom: 16px;\n        padding: 0 12px;\n      }\n      \n      .hexagram-interpretation {\n        font-size: 0.95rem;\n        line-height: 1.7;\n        color: var(--text-color, #444);\n        background: var(--interpretation-bg, #fafafa);\n        padding: 16px;\n        border-radius: 8px;\n        box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>周易六爻占卜</h1>\n      \n      <div class=\"intro\">\n        点击下方\"摇一卦\"按钮开始，共需摇六次。\n      </div>\n\n      <div class=\"coins\">\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n      </div>\n\n      <div class=\"buttons\">\n        <button id=\"cast-btn\">摇一卦</button>\n        <button id=\"reset-btn\">重新开始</button>\n      </div>\n\n      <div class=\"progress\">\n        <div class=\"progress-info\">\n          <span>进度</span>\n          <span id=\"progress-text\">0/6</span>\n        </div>\n        <div class=\"progress-bar-container\">\n          <div class=\"progress-bar\" id=\"progress-bar\"></div>\n        </div>\n      </div>\n\n      <div class=\"result\" id=\"hexagram-result\">\n        <h2>卦象结果</h2>\n        <div class=\"hexagram-lines\" id=\"hexagram-lines\"></div>\n        <div class=\"hexagram-name\" id=\"hexagram-name\"></div>\n        <div class=\"hexagram-text\" id=\"hexagram-text\"></div>\n        <div class=\"hexagram-interpretation\" id=\"hexagram-interpretation\"></div>\n      </div>\n    </div>\n  `;\n\n  // 3. 获取容器并创建Shadow Root\n  const widgetContainer = document.getElementById('hexagram-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  \n  // 4. 将HTML模板注入Shadow Root\n  shadowRoot.innerHTML = htmlTemplate;\n  \n  // 适配Anzhiyu深浅色主题\n  function applyTheme() {\n    // 检测Anzhiyu主题的亮色模式判断方式\n    const isAnzhiyuLight = document.documentElement.dataset.theme === \"light\" || document.body.classList.contains('light');\n    const style = document.createElement('style');\n    \n    if (isAnzhiyuLight) {\n      // Anzhiyu亮色模式\n      style.textContent = `\n        :host {\n          --bg-color: #f5f5f5;\n          --text-color: #333333;\n          --heading-color: #1a1a1a;\n          --border-color: #e0e0e0;\n          --intro-bg: #eaeaea;\n          --intro-text: #666666;\n          --primary-color: #007bff;\n          --primary-dark: #0056b3;\n          --reset-bg: #ddd;\n          --reset-text: #333333;\n          --reset-hover: #ccc;\n          --text-secondary: #666666;\n          --progress-bg: #ddd;\n          --changing-color: #d9534f;\n          --interpretation-bg: #eaeaea;\n        }\n      `;\n    } else {\n      // Anzhiyu深色模式\n      style.textContent = `\n        :host {\n          --bg-color: #1a1a1a;\n          --text-color: #f0f0f0;\n          --heading-color: #ffffff;\n          --border-color: #333333;\n          --intro-bg: #2d2d2d;\n          --intro-text: #bbbbbb;\n          --primary-color: #4dabf7;\n          --primary-dark: #3b82f6;\n          --reset-bg: #333333;\n          --reset-text: #e0e0e0;\n          --reset-hover: #444444;\n          --text-secondary: #aaaaaa;\n          --progress-bg: #333333;\n          --changing-color: #f87171;\n          --interpretation-bg: #2d2d2d;\n        }\n      `;\n    }\n    \n    // 清除已有的主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n  \n  // 5. 所有JavaScript逻辑都在这里，并且元素选择器作用于shadowRoot\n  // 修复首次加载问题：直接执行，不依赖DOMContentLoaded\n  function initApp() {\n    // 元素引用 (注意：使用 shadowRoot.querySelector)\n    const coins = shadowRoot.querySelectorAll('.coin');\n    const castBtn = shadowRoot.getElementById('cast-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const progressBar = shadowRoot.getElementById('progress-bar');\n    const progressText = shadowRoot.getElementById('progress-text');\n    const hexagramResult = shadowRoot.getElementById('hexagram-result');\n    const hexagramLines = shadowRoot.getElementById('hexagram-lines');\n    const hexagramName = shadowRoot.getElementById('hexagram-name');\n    const hexagramText = shadowRoot.getElementById('hexagram-text');\n    const hexagramInterpretation = shadowRoot.getElementById('hexagram-interpretation');\n    \n    let currentLine = 0;\n    const lines = [];\n    \n    // 扩展的卦象数据库（前12卦，完整版可扩展至64卦）\n    const hexagrams = [\n      { number: 1, name: \"乾为天\", text: \"元亨，利贞。\", interpretation: \"乾卦象征天，刚健中正。预示着事情会顺利发展，充满生机与希望，但需要坚守正道。乾卦六爻皆阳，象征事物发展的六个阶段，从潜龙勿用到飞龙在天，最终亢龙有悔，提示物极必反的道理。\" },\n      { number: 2, name: \"坤为地\", text: \"元亨，利牝马之贞。君子有攸往，先迷后得主，利西南得朋，东北丧朋。安贞吉。\", interpretation: \"坤卦象征地，柔顺厚德。预示着需要顺从形势，积蓄力量，以柔克刚，最终获得成功。坤卦强调厚德载物，包容万物，君子应效法大地，以深厚的德行承载万物。\" },\n      { number: 3, name: \"水雷屯\", text: \"元亨，利贞。勿用有攸往，利建侯。\", interpretation: \"屯卦象征初生与困难。如同草木萌芽，充满生机但脆弱，需要耐心培养，不宜贸然行动。此卦启示我们在事物初创阶段，虽有艰难险阻，但只要坚定信念，稳步前进，终能克服困难。\" },\n      { number: 4, name: \"山水蒙\", text: \"亨。匪我求童蒙，童蒙求我。初筮告，再三渎，渎则不告。利贞。\", interpretation: \"蒙卦象征启蒙。事物处于蒙昧阶段，需要教育和引导。应虚心学习，或耐心教导他人。此卦提醒我们，无论是学习还是教导，都应保持真诚恭敬的态度，才能获得真正的智慧。\" },\n      { number: 5, name: \"水天需\", text: \"有孚，光亨，贞吉。利涉大川。\", interpretation: \"需卦象征等待。时机尚未成熟，应耐心等待，保持诚信和中正，最终可以克服困难。等待并非消极懈怠，而是积蓄力量，审时度势，待时而动。\" },\n      { number: 6, name: \"天水讼\", text: \"有孚窒惕，中吉，终凶。利见大人，不利涉大川。\", interpretation: \"讼卦象征争执。预示着可能会有纠纷或诉讼，即使有理也应谨慎处理，避免事态扩大。此卦提醒我们，应尽量避免争执，如无法避免，则需保持公正，寻求合理解决之道。\" },\n      { number: 7, name: \"地水师\", text: \"贞，大人吉，无咎。师出以律，否臧凶。\", interpretation: \"师卦象征军队、战争。预示着可能面临挑战或竞争，需有严明的纪律和贤明的领导才能成功。此卦提醒我们，行事需有组织、有纪律，任用贤能，才能克服困难。\" },\n      { number: 8, name: \"水地比\", text: \"吉。原筮元永贞，无咎。不宁方来，后夫凶。\", interpretation: \"比卦象征亲密相依，团结互助。预示着人际关系和谐，能得到他人的支持与帮助。此卦启示我们，要善于与人合作，以诚相待，才能获得良好的人际关系和事业发展。\" },\n      { number: 9, name: \"风天小畜\", text: \"亨。密云不雨，自我西郊。\", interpretation: \"小畜卦象征积蓄力量。预示着目前力量尚不足，需要积蓄能量，等待时机。如同乌云密布却未降雨，时机未到，需耐心等待，同时做好准备。\" },\n      { number: 10, name: \"天泽履\", text: \"履虎尾，不咥人，亨。\", interpretation: \"履卦象征行走、实践。如同踩在老虎尾巴上而不被咬伤，预示着行事需谨慎小心，遵循正道，虽有风险但能化险为夷。此卦提醒我们，行事要合乎礼仪，谨慎行事。\" },\n      { number: 11, name: \"地天泰\", text: \"小往大来，吉，亨。\", interpretation: \"泰卦象征通达、太平。天地交泰，万物生长，预示着运势顺利，事业发展，人际关系和谐。此卦启示我们，当处于顺境时，更应保持谦逊，居安思危。\" },\n      { number: 12, name: \"天地否\", text: \"否之匪人，不利君子贞，大往小来。\", interpretation: \"否卦象征闭塞、不通。天地不交，万物不生，预示着运势不佳，困难重重。此卦提醒我们，当处于逆境时，应坚守正道，修身养性，等待时机转变。\" },\n      { number: 13, name: \"天火同人\", text: \"同人于野，亨。利涉大川，利君子贞。\", interpretation: \"同人卦象征同心协力。预示着只要团结一心，目标一致，就能克服困难，取得成功。此卦启示我们，要广结善缘，与志同道合者共同奋斗。\" },\n      { number: 14, name: \"火天大有\", text: \"元亨。\", interpretation: \"大有卦象征丰饶、富足。预示着事业兴旺，收获丰厚。此卦提醒我们，在富有之时更应保持谦逊，多行公益，才能保持长久的富足。\" },\n      { number: 15, name: \"地山谦\", text: \"亨，君子有终。\", interpretation: \"谦卦象征谦逊。预示着谦逊有礼的人终将获得好运和成功。此卦启示我们，无论何时何地，都应保持谦逊的态度，尊重他人，才能获得他人的尊重和支持。\" }\n    ];\n    \n    // 初始化主题\n    applyTheme();\n    \n    // 监听Anzhiyu主题变化\n    const htmlElement = document.documentElement;\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        // 监听html的data-theme属性变化或body的class变化\n        if ((mutation.target === htmlElement && mutation.attributeName === 'data-theme') ||\n            (mutation.target === document.body && mutation.attributeName === 'class')) {\n          applyTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的属性和body的class变化\n    observer.observe(htmlElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    castBtn.addEventListener('click', function() {\n      if (currentLine >= 6) return;\n      castBtn.disabled = true;\n      \n      coins.forEach(coin => coin.classList.add('shaking'));\n      \n      setTimeout(() => {\n        const results = [Math.floor(Math.random() * 2), Math.floor(Math.random() * 2), Math.floor(Math.random() * 2)];\n        \n        results.forEach((result, index) => {\n          if (result === 0) {\n            coins[index].classList.remove('tails');\n            coins[index].textContent = '●';\n          } else {\n            coins[index].classList.add('tails');\n            coins[index].textContent = '○';\n          }\n          coins[index].classList.remove('shaking');\n        });\n        \n        const value = results.reduce((sum, r) => sum + (r === 0 ? 3 : 2), 0);\n        const isYang = value === 7 || value === 9;\n        const isChanging = value === 6 || value === 9;\n        \n        lines.unshift({ isYang, isChanging });\n        \n        currentLine++;\n        progressBar.style.width = `${(currentLine / 6) * 100}%`;\n        progressText.textContent = `${currentLine}/6`;\n        \n        if (currentLine === 6) {\n          displayHexagram();\n        }\n        \n        castBtn.disabled = false;\n      }, 800);\n    });\n    \n    resetBtn.addEventListener('click', function() {\n      currentLine = 0;\n      lines.length = 0;\n      \n      coins.forEach(coin => {\n        coin.classList.remove('tails', 'shaking');\n        coin.textContent = '●';\n      });\n      \n      progressBar.style.width = '0%';\n      progressText.textContent = '0/6';\n      hexagramResult.style.display = 'none';\n    });\n    \n    function displayHexagram() {\n      hexagramLines.innerHTML = '';\n      \n      lines.forEach(line => {\n        const lineElement = document.createElement('div');\n        lineElement.className = `hexagram-line ${line.isChanging ? 'changing' : ''}`;\n        lineElement.textContent = line.isYang ? '—' : '--';\n        hexagramLines.appendChild(lineElement);\n      });\n      \n      // 更精准的卦象计算方法\n      let binaryValue = 0;\n      lines.forEach((line, index) => {\n        if (line.isYang) {\n          binaryValue += Math.pow(2, index);\n        }\n      });\n      const hexIndex = binaryValue % hexagrams.length;\n      const hex = hexagrams[hexIndex];\n      \n      hexagramName.textContent = `${hex.name} (第${hex.number}卦)`;\n      hexagramText.textContent = hex.text;\n      hexagramInterpretation.textContent = hex.interpretation;\n      \n      hexagramResult.style.display = 'block';\n      hexagramResult.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n  \n  // 立即初始化应用，解决首次加载问题\n  initApp();\n})();\n</script>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<h2 id=\"生成结果仅供参考\"><a href=\"#生成结果仅供参考\" class=\"headerlink\" title=\"生成结果仅供参考\"></a>生成结果仅供参考</h2><!-- 周易算卦 - Shadow DOM 隔离版 -->\n<div id=\"hexagram-widget\" style=\"width: 100%; max-width: 600px; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.1);\">\n  <!-- Shadow DOM的内容将通过JavaScript注入到这里 -->\n</div>\n\n<script>\n(() => {\n  // 1. 创建模板字符串，包含所有HTML结构\n  const htmlTemplate = `\n    <style>\n      /* 2. 所有样式都写在这里，它们只对Shadow DOM内部有效 */\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n      \n      :host {\n        display: block;\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        background: var(--bg-color, #ffffff);\n        color: var(--text-color, #333333);\n        transition: background-color 0.3s ease, color 0.3s ease;\n      }\n      \n      .container {\n        padding: 24px;\n      }\n      \n      h1, h2 {\n        margin: 0 0 16px;\n        text-align: center;\n        font-weight: 600;\n      }\n      \n      h1 {\n        font-size: 1.8rem;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      h2 {\n        font-size: 1.5rem;\n        padding-bottom: 12px;\n        border-bottom: 1px solid var(--border-color, #f0f0f0);\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .intro {\n        margin-bottom: 24px;\n        padding: 12px;\n        background: var(--intro-bg, #f7f7f7);\n        border-radius: 8px;\n        font-size: 0.9rem;\n        text-align: center;\n        color: var(--intro-text, #666);\n      }\n      \n      .coins {\n        display: flex;\n        justify-content: center;\n        margin-bottom: 24px;\n        gap: 16px;\n      }\n      \n      .coin {\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        background: #f0c14b;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 24px;\n        font-weight: bold;\n        box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        user-select: none;\n        transition: transform 0.2s ease;\n      }\n      \n      .coin.tails {\n        background: #e7e9ec;\n        color: #111;\n      }\n      \n      .coin.shaking {\n        animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n      }\n      \n      @keyframes shake {\n        10%, 90% { transform: translate3d(-1px, 0, 0) rotate(-3deg); }\n        20%, 80% { transform: translate3d(2px, 0, 0) rotate(3deg); }\n        30%, 50%, 70% { transform: translate3d(-3px, 0, 0) rotate(-5deg); }\n        40%, 60% { transform: translate3d(3px, 0, 0) rotate(5deg); }\n      }\n      \n      .buttons {\n        display: flex;\n        justify-content: center;\n        gap: 12px;\n        margin-bottom: 24px;\n      }\n      \n      button {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 6px;\n        font-size: 1rem;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.2s ease;\n      }\n      \n      #cast-btn {\n        background: var(--primary-color, #007bff);\n        color: white;\n      }\n      \n      #cast-btn:hover {\n        background: var(--primary-dark, #0056b3);\n        transform: translateY(-2px);\n        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\n      }\n      \n      #cast-btn:disabled {\n        background: #6c757d;\n        cursor: not-allowed;\n        transform: none;\n        box-shadow: none;\n      }\n      \n      #reset-btn {\n        background: var(--reset-bg, #f0f0f0);\n        color: var(--reset-text, #333);\n      }\n      \n      #reset-btn:hover {\n        background: var(--reset-hover, #e0e0e0);\n      }\n      \n      .progress {\n        margin-bottom: 24px;\n      }\n      \n      .progress-info {\n        display: flex;\n        justify-content: space-between;\n        font-size: 0.8rem;\n        margin-bottom: 6px;\n        color: var(--text-secondary, #666);\n      }\n      \n      .progress-bar-container {\n        height: 10px;\n        background: var(--progress-bg, #e9ecef);\n        border-radius: 5px;\n        overflow: hidden;\n      }\n      \n      .progress-bar {\n        height: 100%;\n        width: 0%;\n        background: var(--primary-color, #007bff);\n        transition: width 0.3s ease;\n      }\n      \n      .result {\n        display: none;\n        margin-top: 24px;\n        padding-top: 24px;\n        border-top: 1px solid var(--border-color, #eee);\n      }\n      \n      .hexagram-lines {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 20px;\n      }\n      \n      .hexagram-line {\n        font-size: 1.8rem;\n        width: 100%;\n        text-align: center;\n        transition: all 0.3s ease;\n      }\n      \n      .hexagram-line.changing {\n        color: var(--changing-color, #d9534f);\n        font-weight: bold;\n        transform: scale(1.05);\n      }\n      \n      .hexagram-name {\n        text-align: center;\n        font-size: 1.3rem;\n        font-weight: bold;\n        margin-bottom: 10px;\n        color: var(--heading-color, #1a1a1a);\n      }\n      \n      .hexagram-text {\n        text-align: center;\n        font-style: italic;\n        color: var(--text-secondary, #666);\n        margin-bottom: 16px;\n        padding: 0 12px;\n      }\n      \n      .hexagram-interpretation {\n        font-size: 0.95rem;\n        line-height: 1.7;\n        color: var(--text-color, #444);\n        background: var(--interpretation-bg, #fafafa);\n        padding: 16px;\n        border-radius: 8px;\n        box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);\n      }\n    </style>\n\n    <div class=\"container\">\n      <h1>周易六爻占卜</h1>\n      \n      <div class=\"intro\">\n        点击下方\"摇一卦\"按钮开始，共需摇六次。\n      </div>\n\n      <div class=\"coins\">\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n        <div class=\"coin\">🪙</div>\n      </div>\n\n      <div class=\"buttons\">\n        <button id=\"cast-btn\">摇一卦</button>\n        <button id=\"reset-btn\">重新开始</button>\n      </div>\n\n      <div class=\"progress\">\n        <div class=\"progress-info\">\n          <span>进度</span>\n          <span id=\"progress-text\">0/6</span>\n        </div>\n        <div class=\"progress-bar-container\">\n          <div class=\"progress-bar\" id=\"progress-bar\"></div>\n        </div>\n      </div>\n\n      <div class=\"result\" id=\"hexagram-result\">\n        <h2>卦象结果</h2>\n        <div class=\"hexagram-lines\" id=\"hexagram-lines\"></div>\n        <div class=\"hexagram-name\" id=\"hexagram-name\"></div>\n        <div class=\"hexagram-text\" id=\"hexagram-text\"></div>\n        <div class=\"hexagram-interpretation\" id=\"hexagram-interpretation\"></div>\n      </div>\n    </div>\n  `;\n\n  // 3. 获取容器并创建Shadow Root\n  const widgetContainer = document.getElementById('hexagram-widget');\n  const shadowRoot = widgetContainer.attachShadow({ mode: 'closed' });\n  \n  // 4. 将HTML模板注入Shadow Root\n  shadowRoot.innerHTML = htmlTemplate;\n  \n  // 适配Anzhiyu深浅色主题\n  function applyTheme() {\n    // 检测Anzhiyu主题的亮色模式判断方式\n    const isAnzhiyuLight = document.documentElement.dataset.theme === \"light\" || document.body.classList.contains('light');\n    const style = document.createElement('style');\n    \n    if (isAnzhiyuLight) {\n      // Anzhiyu亮色模式\n      style.textContent = `\n        :host {\n          --bg-color: #f5f5f5;\n          --text-color: #333333;\n          --heading-color: #1a1a1a;\n          --border-color: #e0e0e0;\n          --intro-bg: #eaeaea;\n          --intro-text: #666666;\n          --primary-color: #007bff;\n          --primary-dark: #0056b3;\n          --reset-bg: #ddd;\n          --reset-text: #333333;\n          --reset-hover: #ccc;\n          --text-secondary: #666666;\n          --progress-bg: #ddd;\n          --changing-color: #d9534f;\n          --interpretation-bg: #eaeaea;\n        }\n      `;\n    } else {\n      // Anzhiyu深色模式\n      style.textContent = `\n        :host {\n          --bg-color: #1a1a1a;\n          --text-color: #f0f0f0;\n          --heading-color: #ffffff;\n          --border-color: #333333;\n          --intro-bg: #2d2d2d;\n          --intro-text: #bbbbbb;\n          --primary-color: #4dabf7;\n          --primary-dark: #3b82f6;\n          --reset-bg: #333333;\n          --reset-text: #e0e0e0;\n          --reset-hover: #444444;\n          --text-secondary: #aaaaaa;\n          --progress-bg: #333333;\n          --changing-color: #f87171;\n          --interpretation-bg: #2d2d2d;\n        }\n      `;\n    }\n    \n    // 清除已有的主题样式\n    const existingStyles = shadowRoot.querySelectorAll('style[data-theme]');\n    existingStyles.forEach(s => s.remove());\n    \n    style.setAttribute('data-theme', 'true');\n    shadowRoot.appendChild(style);\n  }\n  \n  // 5. 所有JavaScript逻辑都在这里，并且元素选择器作用于shadowRoot\n  // 修复首次加载问题：直接执行，不依赖DOMContentLoaded\n  function initApp() {\n    // 元素引用 (注意：使用 shadowRoot.querySelector)\n    const coins = shadowRoot.querySelectorAll('.coin');\n    const castBtn = shadowRoot.getElementById('cast-btn');\n    const resetBtn = shadowRoot.getElementById('reset-btn');\n    const progressBar = shadowRoot.getElementById('progress-bar');\n    const progressText = shadowRoot.getElementById('progress-text');\n    const hexagramResult = shadowRoot.getElementById('hexagram-result');\n    const hexagramLines = shadowRoot.getElementById('hexagram-lines');\n    const hexagramName = shadowRoot.getElementById('hexagram-name');\n    const hexagramText = shadowRoot.getElementById('hexagram-text');\n    const hexagramInterpretation = shadowRoot.getElementById('hexagram-interpretation');\n    \n    let currentLine = 0;\n    const lines = [];\n    \n    // 扩展的卦象数据库（前12卦，完整版可扩展至64卦）\n    const hexagrams = [\n      { number: 1, name: \"乾为天\", text: \"元亨，利贞。\", interpretation: \"乾卦象征天，刚健中正。预示着事情会顺利发展，充满生机与希望，但需要坚守正道。乾卦六爻皆阳，象征事物发展的六个阶段，从潜龙勿用到飞龙在天，最终亢龙有悔，提示物极必反的道理。\" },\n      { number: 2, name: \"坤为地\", text: \"元亨，利牝马之贞。君子有攸往，先迷后得主，利西南得朋，东北丧朋。安贞吉。\", interpretation: \"坤卦象征地，柔顺厚德。预示着需要顺从形势，积蓄力量，以柔克刚，最终获得成功。坤卦强调厚德载物，包容万物，君子应效法大地，以深厚的德行承载万物。\" },\n      { number: 3, name: \"水雷屯\", text: \"元亨，利贞。勿用有攸往，利建侯。\", interpretation: \"屯卦象征初生与困难。如同草木萌芽，充满生机但脆弱，需要耐心培养，不宜贸然行动。此卦启示我们在事物初创阶段，虽有艰难险阻，但只要坚定信念，稳步前进，终能克服困难。\" },\n      { number: 4, name: \"山水蒙\", text: \"亨。匪我求童蒙，童蒙求我。初筮告，再三渎，渎则不告。利贞。\", interpretation: \"蒙卦象征启蒙。事物处于蒙昧阶段，需要教育和引导。应虚心学习，或耐心教导他人。此卦提醒我们，无论是学习还是教导，都应保持真诚恭敬的态度，才能获得真正的智慧。\" },\n      { number: 5, name: \"水天需\", text: \"有孚，光亨，贞吉。利涉大川。\", interpretation: \"需卦象征等待。时机尚未成熟，应耐心等待，保持诚信和中正，最终可以克服困难。等待并非消极懈怠，而是积蓄力量，审时度势，待时而动。\" },\n      { number: 6, name: \"天水讼\", text: \"有孚窒惕，中吉，终凶。利见大人，不利涉大川。\", interpretation: \"讼卦象征争执。预示着可能会有纠纷或诉讼，即使有理也应谨慎处理，避免事态扩大。此卦提醒我们，应尽量避免争执，如无法避免，则需保持公正，寻求合理解决之道。\" },\n      { number: 7, name: \"地水师\", text: \"贞，大人吉，无咎。师出以律，否臧凶。\", interpretation: \"师卦象征军队、战争。预示着可能面临挑战或竞争，需有严明的纪律和贤明的领导才能成功。此卦提醒我们，行事需有组织、有纪律，任用贤能，才能克服困难。\" },\n      { number: 8, name: \"水地比\", text: \"吉。原筮元永贞，无咎。不宁方来，后夫凶。\", interpretation: \"比卦象征亲密相依，团结互助。预示着人际关系和谐，能得到他人的支持与帮助。此卦启示我们，要善于与人合作，以诚相待，才能获得良好的人际关系和事业发展。\" },\n      { number: 9, name: \"风天小畜\", text: \"亨。密云不雨，自我西郊。\", interpretation: \"小畜卦象征积蓄力量。预示着目前力量尚不足，需要积蓄能量，等待时机。如同乌云密布却未降雨，时机未到，需耐心等待，同时做好准备。\" },\n      { number: 10, name: \"天泽履\", text: \"履虎尾，不咥人，亨。\", interpretation: \"履卦象征行走、实践。如同踩在老虎尾巴上而不被咬伤，预示着行事需谨慎小心，遵循正道，虽有风险但能化险为夷。此卦提醒我们，行事要合乎礼仪，谨慎行事。\" },\n      { number: 11, name: \"地天泰\", text: \"小往大来，吉，亨。\", interpretation: \"泰卦象征通达、太平。天地交泰，万物生长，预示着运势顺利，事业发展，人际关系和谐。此卦启示我们，当处于顺境时，更应保持谦逊，居安思危。\" },\n      { number: 12, name: \"天地否\", text: \"否之匪人，不利君子贞，大往小来。\", interpretation: \"否卦象征闭塞、不通。天地不交，万物不生，预示着运势不佳，困难重重。此卦提醒我们，当处于逆境时，应坚守正道，修身养性，等待时机转变。\" },\n      { number: 13, name: \"天火同人\", text: \"同人于野，亨。利涉大川，利君子贞。\", interpretation: \"同人卦象征同心协力。预示着只要团结一心，目标一致，就能克服困难，取得成功。此卦启示我们，要广结善缘，与志同道合者共同奋斗。\" },\n      { number: 14, name: \"火天大有\", text: \"元亨。\", interpretation: \"大有卦象征丰饶、富足。预示着事业兴旺，收获丰厚。此卦提醒我们，在富有之时更应保持谦逊，多行公益，才能保持长久的富足。\" },\n      { number: 15, name: \"地山谦\", text: \"亨，君子有终。\", interpretation: \"谦卦象征谦逊。预示着谦逊有礼的人终将获得好运和成功。此卦启示我们，无论何时何地，都应保持谦逊的态度，尊重他人，才能获得他人的尊重和支持。\" }\n    ];\n    \n    // 初始化主题\n    applyTheme();\n    \n    // 监听Anzhiyu主题变化\n    const htmlElement = document.documentElement;\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        // 监听html的data-theme属性变化或body的class变化\n        if ((mutation.target === htmlElement && mutation.attributeName === 'data-theme') ||\n            (mutation.target === document.body && mutation.attributeName === 'class')) {\n          applyTheme();\n        }\n      });\n    });\n    \n    // 同时观察html的属性和body的class变化\n    observer.observe(htmlElement, { attributes: true });\n    observer.observe(document.body, { attributes: true });\n    \n    castBtn.addEventListener('click', function() {\n      if (currentLine >= 6) return;\n      castBtn.disabled = true;\n      \n      coins.forEach(coin => coin.classList.add('shaking'));\n      \n      setTimeout(() => {\n        const results = [Math.floor(Math.random() * 2), Math.floor(Math.random() * 2), Math.floor(Math.random() * 2)];\n        \n        results.forEach((result, index) => {\n          if (result === 0) {\n            coins[index].classList.remove('tails');\n            coins[index].textContent = '●';\n          } else {\n            coins[index].classList.add('tails');\n            coins[index].textContent = '○';\n          }\n          coins[index].classList.remove('shaking');\n        });\n        \n        const value = results.reduce((sum, r) => sum + (r === 0 ? 3 : 2), 0);\n        const isYang = value === 7 || value === 9;\n        const isChanging = value === 6 || value === 9;\n        \n        lines.unshift({ isYang, isChanging });\n        \n        currentLine++;\n        progressBar.style.width = `${(currentLine / 6) * 100}%`;\n        progressText.textContent = `${currentLine}/6`;\n        \n        if (currentLine === 6) {\n          displayHexagram();\n        }\n        \n        castBtn.disabled = false;\n      }, 800);\n    });\n    \n    resetBtn.addEventListener('click', function() {\n      currentLine = 0;\n      lines.length = 0;\n      \n      coins.forEach(coin => {\n        coin.classList.remove('tails', 'shaking');\n        coin.textContent = '●';\n      });\n      \n      progressBar.style.width = '0%';\n      progressText.textContent = '0/6';\n      hexagramResult.style.display = 'none';\n    });\n    \n    function displayHexagram() {\n      hexagramLines.innerHTML = '';\n      \n      lines.forEach(line => {\n        const lineElement = document.createElement('div');\n        lineElement.className = `hexagram-line ${line.isChanging ? 'changing' : ''}`;\n        lineElement.textContent = line.isYang ? '—' : '--';\n        hexagramLines.appendChild(lineElement);\n      });\n      \n      // 更精准的卦象计算方法\n      let binaryValue = 0;\n      lines.forEach((line, index) => {\n        if (line.isYang) {\n          binaryValue += Math.pow(2, index);\n        }\n      });\n      const hexIndex = binaryValue % hexagrams.length;\n      const hex = hexagrams[hexIndex];\n      \n      hexagramName.textContent = `${hex.name} (第${hex.number}卦)`;\n      hexagramText.textContent = hex.text;\n      hexagramInterpretation.textContent = hex.interpretation;\n      \n      hexagramResult.style.display = 'block';\n      hexagramResult.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n  \n  // 立即初始化应用，解决首次加载问题\n  initApp();\n})();\n</script>\n"},{"title":"音乐馆","date":"2024-04-24T13:41:30.000Z","type":"music","aplayer":true,"top_img":false,"comments":0,"aside":false,"_content":"","source":"music/index.md","raw":"---\ntitle: 音乐馆\ndate: 2024-04-24 21:41:30\ntype: music\naplayer: true\ntop_img: false\ncomments: false\naside: false\n---","updated":"2024-11-20T02:10:51.856Z","path":"music/index.html","layout":"page","_id":"cmgu9560c002mg0fy6ohs00rg","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"酥米的音乐歌单","date":"2024-02-16T15:10:25.000Z","_content":"\n{% meting \"941266753\" \"netease\" \"playlist\" \"theme:#3F51B5\" \"mutex:true\" \"preload:auto\" %}","source":"playlist/index.md","raw":"---\ntitle: 酥米的音乐歌单\ndate: 2024-02-16 23:10:25\n---\n\n{% meting \"941266753\" \"netease\" \"playlist\" \"theme:#3F51B5\" \"mutex:true\" \"preload:auto\" %}","updated":"2024-11-19T08:39:44.678Z","path":"playlist/index.html","comments":1,"layout":"page","_id":"cmgu9560e002qg0fy6rxv0ani","content":"\n    <div id=\"aplayer-TfUAWWGJ\" class=\"aplayer aplayer-tag-marker meting-tag-marker\" data-id=\"941266753\" data-server=\"netease\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"false\" data-mutex=\"true\" data-listmaxheight=\"340px\" data-preload=\"auto\" data-theme=\"#3F51B5\"></div>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"\n    <div id=\"aplayer-TfUAWWGJ\" class=\"aplayer aplayer-tag-marker meting-tag-marker\" data-id=\"941266753\" data-server=\"netease\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"false\" data-mutex=\"true\" data-listmaxheight=\"340px\" data-preload=\"auto\" data-theme=\"#3F51B5\"></div>"},{"title":"隐私政策","date":"2025-08-20T17:22:45.000Z","_content":"本站非常重视用户的隐私和个人信息保护。你在使用网站时，可能会收集和使用你的相关信息。通过《隐私政策》向你说明在你访问 www.sumi233.top 网站时，如何收集、使用、保存、共享和转让这些信息。\n\n# 最新更新时间\n协议最新更新时间为：2025-08-21\n\n# 一、在访问时如何收集和使用你的个人信息\n## 在访问时，收集访问信息的服务会收集不限于以下信息：\n\n**网络身份标识信息**（浏览器 UA、IP 地址）\n\n**设备信息** \n\n**操作方式** 浏览方式与时长、性能与网络加载情况。\n\n## 在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\n**百度统计工具** 会收集你的访问信息、访问操作过程\n\n**灵雀应用监控平台** 会收集你的访问操作过程和资源加载情况\n\n**Tianlicdn** 会收集你的访问信息\n\n**busuanzi 统计** 会收集你的访问信息\n\n**腾讯云Edge One** 会收集你的访问信息\n\n**腾讯 Codesign** 会收集你的访问信息\n\n**QQ 音乐** 会收集你的访问信息\n\n**网易云 音乐** 会收集你的访问信息\n\n**bilibili** 会收集你的访问信息\n\n## 在访问时，本人仅会处于以下目的，使用你的个人信息：\n\n用于网站的优化与文章分类，用户优化文章\n\n恶意访问识别，用于维护网站\n\n恶意攻击排查，用于维护网站\n\n网站点击情况监测，用于优化网站页面\n\n网站加载情况监测，用于优化网站性能\n\n用于网站搜索结果优化\n\n浏览数据的展示\n\n## 第三方信息获取方将您的数据用于以下用途：\n\n第三方可能会用于其他目的，详情请访问对应第三方服务提供的隐私协议。\n\n## 你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\n\n第三方部分为了抵抗攻击、使用不同节点 cdn 加速等需求会收集不限于以下信息\n\n| 类型 | 信息 |\n|---|---|\n|网络信息| |\n|IP地址\t| |\n|国家\t| |\n|省份\t||\n|城市\t| |\n|运营商\t| |\n|设备信息| |\n|设备\t| |\n\n此页面如果未能获取到信息并不代表无法读取上述信息，以实际情况为准。\n# 二、在评论时如何收集和使用你的个人信息\n评论使用的是无登陆系统的匿名评论系统，你可以自愿填写真实的、或者虚假的信息作为你评论的展示信息。\n\n鼓励你使用不易被人恶意识别的昵称进行评论，但是建议你填写真实的邮箱以便收到回复（邮箱信息不会被公开）。\n\n在你评论时，会额外收集你的个人信息。\n\n## 在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\ncravatar 会收集你的访问信息、评论填写的个人信息用于展示头像\n\n## 在访问时，本人仅会处于以下目的，收集并使用以下信息：\n- 评论时会记录你的 QQ 帐号（如果在邮箱位置填写 QQ 邮箱或 QQ 号），方便获取你的 QQ 头像。如果使用 QQ 邮箱但不想展示 QQ 头像，可以填写不含 QQ 号的 QQ 邮箱。（主动，存储）\n\n- 评论时会记录你的邮箱，当我回复后会通过邮件通知你（主动，存储，不会公开邮箱）\n\n- 评论时会记录你的网址，用于点击头像时快速进入你的网站（主动，存储）\n\n- 评论时会记录你的 IP 地址，作为反垃圾的用户判别依据（被动，存储，不会公开 IP，会公开 IP 所在城市）\n\n- 评论会记录你的浏览器代理，用作展示系统版本、浏览器版本方便展示你使用的设备，快速定位问题（被动，存储）\n\n# 三、如何使用-Cookies-和本地-LocalStorage-存储\n本站为实现无账号评论、深色模式切换，不蒜子的 uv 统计等功能，会在你的浏览器中进行本地存储，你可以随时清除浏览器中保存的所有 Cookies 以及 LocalStorage，不影响你的正常使用。\n\n本博客中的以下业务会在你的计算机上主动存储数据：\n\n### 内置服务\n\n**评论系统**\n\n**即刻短文**\n\n**鱼塘**\n\n**中控台**\n\n**胶囊音乐**\n\n### 第三方服务\n\n**百度统计**\n\n**busuanzi 统计**\n\n关于如何使用你的 Cookies，请访问 Cookies 政策。\n\n关于如何在 Chrome 中清除、启用和管理 Cookie。\n\n# 四、如何共享、转让你的个人信息\n本人不会与任何公司、组织和个人共享你的隐私信息\n\n本人不会将你的个人信息转让给任何公司、组织和个人\n\n第三方服务的共享、转让情况详见对应服务的隐私协议\n\n# 五、附属协议\n当监测到存在**恶意访问**、**恶意请求**、**恶意攻击**、**恶意评论**的行为时，为了防止增大受害范围，可能会临时将你的 ip 地址及访问信息短期内添加到黑名单，短期内禁止访问。\n\n此黑名单可能被公开，并共享给其他站点（主体并非本人）使用，包括但不限于：IP 地址、设备信息、地理位置。","source":"privacy/index.md","raw":"---\ntitle: 隐私政策\ndate: 2025-08-21 01:22:45\n---\n本站非常重视用户的隐私和个人信息保护。你在使用网站时，可能会收集和使用你的相关信息。通过《隐私政策》向你说明在你访问 www.sumi233.top 网站时，如何收集、使用、保存、共享和转让这些信息。\n\n# 最新更新时间\n协议最新更新时间为：2025-08-21\n\n# 一、在访问时如何收集和使用你的个人信息\n## 在访问时，收集访问信息的服务会收集不限于以下信息：\n\n**网络身份标识信息**（浏览器 UA、IP 地址）\n\n**设备信息** \n\n**操作方式** 浏览方式与时长、性能与网络加载情况。\n\n## 在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\n**百度统计工具** 会收集你的访问信息、访问操作过程\n\n**灵雀应用监控平台** 会收集你的访问操作过程和资源加载情况\n\n**Tianlicdn** 会收集你的访问信息\n\n**busuanzi 统计** 会收集你的访问信息\n\n**腾讯云Edge One** 会收集你的访问信息\n\n**腾讯 Codesign** 会收集你的访问信息\n\n**QQ 音乐** 会收集你的访问信息\n\n**网易云 音乐** 会收集你的访问信息\n\n**bilibili** 会收集你的访问信息\n\n## 在访问时，本人仅会处于以下目的，使用你的个人信息：\n\n用于网站的优化与文章分类，用户优化文章\n\n恶意访问识别，用于维护网站\n\n恶意攻击排查，用于维护网站\n\n网站点击情况监测，用于优化网站页面\n\n网站加载情况监测，用于优化网站性能\n\n用于网站搜索结果优化\n\n浏览数据的展示\n\n## 第三方信息获取方将您的数据用于以下用途：\n\n第三方可能会用于其他目的，详情请访问对应第三方服务提供的隐私协议。\n\n## 你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\n\n第三方部分为了抵抗攻击、使用不同节点 cdn 加速等需求会收集不限于以下信息\n\n| 类型 | 信息 |\n|---|---|\n|网络信息| |\n|IP地址\t| |\n|国家\t| |\n|省份\t||\n|城市\t| |\n|运营商\t| |\n|设备信息| |\n|设备\t| |\n\n此页面如果未能获取到信息并不代表无法读取上述信息，以实际情况为准。\n# 二、在评论时如何收集和使用你的个人信息\n评论使用的是无登陆系统的匿名评论系统，你可以自愿填写真实的、或者虚假的信息作为你评论的展示信息。\n\n鼓励你使用不易被人恶意识别的昵称进行评论，但是建议你填写真实的邮箱以便收到回复（邮箱信息不会被公开）。\n\n在你评论时，会额外收集你的个人信息。\n\n## 在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\ncravatar 会收集你的访问信息、评论填写的个人信息用于展示头像\n\n## 在访问时，本人仅会处于以下目的，收集并使用以下信息：\n- 评论时会记录你的 QQ 帐号（如果在邮箱位置填写 QQ 邮箱或 QQ 号），方便获取你的 QQ 头像。如果使用 QQ 邮箱但不想展示 QQ 头像，可以填写不含 QQ 号的 QQ 邮箱。（主动，存储）\n\n- 评论时会记录你的邮箱，当我回复后会通过邮件通知你（主动，存储，不会公开邮箱）\n\n- 评论时会记录你的网址，用于点击头像时快速进入你的网站（主动，存储）\n\n- 评论时会记录你的 IP 地址，作为反垃圾的用户判别依据（被动，存储，不会公开 IP，会公开 IP 所在城市）\n\n- 评论会记录你的浏览器代理，用作展示系统版本、浏览器版本方便展示你使用的设备，快速定位问题（被动，存储）\n\n# 三、如何使用-Cookies-和本地-LocalStorage-存储\n本站为实现无账号评论、深色模式切换，不蒜子的 uv 统计等功能，会在你的浏览器中进行本地存储，你可以随时清除浏览器中保存的所有 Cookies 以及 LocalStorage，不影响你的正常使用。\n\n本博客中的以下业务会在你的计算机上主动存储数据：\n\n### 内置服务\n\n**评论系统**\n\n**即刻短文**\n\n**鱼塘**\n\n**中控台**\n\n**胶囊音乐**\n\n### 第三方服务\n\n**百度统计**\n\n**busuanzi 统计**\n\n关于如何使用你的 Cookies，请访问 Cookies 政策。\n\n关于如何在 Chrome 中清除、启用和管理 Cookie。\n\n# 四、如何共享、转让你的个人信息\n本人不会与任何公司、组织和个人共享你的隐私信息\n\n本人不会将你的个人信息转让给任何公司、组织和个人\n\n第三方服务的共享、转让情况详见对应服务的隐私协议\n\n# 五、附属协议\n当监测到存在**恶意访问**、**恶意请求**、**恶意攻击**、**恶意评论**的行为时，为了防止增大受害范围，可能会临时将你的 ip 地址及访问信息短期内添加到黑名单，短期内禁止访问。\n\n此黑名单可能被公开，并共享给其他站点（主体并非本人）使用，包括但不限于：IP 地址、设备信息、地理位置。","updated":"2025-08-20T18:08:31.418Z","path":"privacy/index.html","comments":1,"layout":"page","_id":"cmgu9560g002vg0fy3821dps9","content":"<p>本站非常重视用户的隐私和个人信息保护。你在使用网站时，可能会收集和使用你的相关信息。通过《隐私政策》向你说明在你访问 <a href=\"http://www.sumi233.top/\">www.sumi233.top</a> 网站时，如何收集、使用、保存、共享和转让这些信息。</p>\n<h1 id=\"最新更新时间\"><a href=\"#最新更新时间\" class=\"headerlink\" title=\"最新更新时间\"></a>最新更新时间</h1><p>协议最新更新时间为：2025-08-21</p>\n<h1 id=\"一、在访问时如何收集和使用你的个人信息\"><a href=\"#一、在访问时如何收集和使用你的个人信息\" class=\"headerlink\" title=\"一、在访问时如何收集和使用你的个人信息\"></a>一、在访问时如何收集和使用你的个人信息</h1><h2 id=\"在访问时，收集访问信息的服务会收集不限于以下信息：\"><a href=\"#在访问时，收集访问信息的服务会收集不限于以下信息：\" class=\"headerlink\" title=\"在访问时，收集访问信息的服务会收集不限于以下信息：\"></a>在访问时，收集访问信息的服务会收集不限于以下信息：</h2><p><strong>网络身份标识信息</strong>（浏览器 UA、IP 地址）</p>\n<p><strong>设备信息</strong> </p>\n<p><strong>操作方式</strong> 浏览方式与时长、性能与网络加载情况。</p>\n<h2 id=\"在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\"><a href=\"#在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\" class=\"headerlink\" title=\"在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\"></a>在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：</h2><p><strong>百度统计工具</strong> 会收集你的访问信息、访问操作过程</p>\n<p><strong>灵雀应用监控平台</strong> 会收集你的访问操作过程和资源加载情况</p>\n<p><strong>Tianlicdn</strong> 会收集你的访问信息</p>\n<p><strong>busuanzi 统计</strong> 会收集你的访问信息</p>\n<p><strong>腾讯云Edge One</strong> 会收集你的访问信息</p>\n<p><strong>腾讯 Codesign</strong> 会收集你的访问信息</p>\n<p><strong>QQ 音乐</strong> 会收集你的访问信息</p>\n<p><strong>网易云 音乐</strong> 会收集你的访问信息</p>\n<p><strong>bilibili</strong> 会收集你的访问信息</p>\n<h2 id=\"在访问时，本人仅会处于以下目的，使用你的个人信息：\"><a href=\"#在访问时，本人仅会处于以下目的，使用你的个人信息：\" class=\"headerlink\" title=\"在访问时，本人仅会处于以下目的，使用你的个人信息：\"></a>在访问时，本人仅会处于以下目的，使用你的个人信息：</h2><p>用于网站的优化与文章分类，用户优化文章</p>\n<p>恶意访问识别，用于维护网站</p>\n<p>恶意攻击排查，用于维护网站</p>\n<p>网站点击情况监测，用于优化网站页面</p>\n<p>网站加载情况监测，用于优化网站性能</p>\n<p>用于网站搜索结果优化</p>\n<p>浏览数据的展示</p>\n<h2 id=\"第三方信息获取方将您的数据用于以下用途：\"><a href=\"#第三方信息获取方将您的数据用于以下用途：\" class=\"headerlink\" title=\"第三方信息获取方将您的数据用于以下用途：\"></a>第三方信息获取方将您的数据用于以下用途：</h2><p>第三方可能会用于其他目的，详情请访问对应第三方服务提供的隐私协议。</p>\n<h2 id=\"你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\"><a href=\"#你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\" class=\"headerlink\" title=\"你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\"></a>你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：</h2><p>第三方部分为了抵抗攻击、使用不同节点 cdn 加速等需求会收集不限于以下信息</p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>信息</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>网络信息</td>\n<td></td>\n</tr>\n<tr>\n<td>IP地址</td>\n<td></td>\n</tr>\n<tr>\n<td>国家</td>\n<td></td>\n</tr>\n<tr>\n<td>省份</td>\n<td></td>\n</tr>\n<tr>\n<td>城市</td>\n<td></td>\n</tr>\n<tr>\n<td>运营商</td>\n<td></td>\n</tr>\n<tr>\n<td>设备信息</td>\n<td></td>\n</tr>\n<tr>\n<td>设备</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>此页面如果未能获取到信息并不代表无法读取上述信息，以实际情况为准。</p>\n<h1 id=\"二、在评论时如何收集和使用你的个人信息\"><a href=\"#二、在评论时如何收集和使用你的个人信息\" class=\"headerlink\" title=\"二、在评论时如何收集和使用你的个人信息\"></a>二、在评论时如何收集和使用你的个人信息</h1><p>评论使用的是无登陆系统的匿名评论系统，你可以自愿填写真实的、或者虚假的信息作为你评论的展示信息。</p>\n<p>鼓励你使用不易被人恶意识别的昵称进行评论，但是建议你填写真实的邮箱以便收到回复（邮箱信息不会被公开）。</p>\n<p>在你评论时，会额外收集你的个人信息。</p>\n<h2 id=\"在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\"><a href=\"#在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\" class=\"headerlink\" title=\"在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\"></a>在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：</h2><p>cravatar 会收集你的访问信息、评论填写的个人信息用于展示头像</p>\n<h2 id=\"在访问时，本人仅会处于以下目的，收集并使用以下信息：\"><a href=\"#在访问时，本人仅会处于以下目的，收集并使用以下信息：\" class=\"headerlink\" title=\"在访问时，本人仅会处于以下目的，收集并使用以下信息：\"></a>在访问时，本人仅会处于以下目的，收集并使用以下信息：</h2><ul>\n<li><p>评论时会记录你的 QQ 帐号（如果在邮箱位置填写 QQ 邮箱或 QQ 号），方便获取你的 QQ 头像。如果使用 QQ 邮箱但不想展示 QQ 头像，可以填写不含 QQ 号的 QQ 邮箱。（主动，存储）</p>\n</li>\n<li><p>评论时会记录你的邮箱，当我回复后会通过邮件通知你（主动，存储，不会公开邮箱）</p>\n</li>\n<li><p>评论时会记录你的网址，用于点击头像时快速进入你的网站（主动，存储）</p>\n</li>\n<li><p>评论时会记录你的 IP 地址，作为反垃圾的用户判别依据（被动，存储，不会公开 IP，会公开 IP 所在城市）</p>\n</li>\n<li><p>评论会记录你的浏览器代理，用作展示系统版本、浏览器版本方便展示你使用的设备，快速定位问题（被动，存储）</p>\n</li>\n</ul>\n<h1 id=\"三、如何使用-Cookies-和本地-LocalStorage-存储\"><a href=\"#三、如何使用-Cookies-和本地-LocalStorage-存储\" class=\"headerlink\" title=\"三、如何使用-Cookies-和本地-LocalStorage-存储\"></a>三、如何使用-Cookies-和本地-LocalStorage-存储</h1><p>本站为实现无账号评论、深色模式切换，不蒜子的 uv 统计等功能，会在你的浏览器中进行本地存储，你可以随时清除浏览器中保存的所有 Cookies 以及 LocalStorage，不影响你的正常使用。</p>\n<p>本博客中的以下业务会在你的计算机上主动存储数据：</p>\n<h3 id=\"内置服务\"><a href=\"#内置服务\" class=\"headerlink\" title=\"内置服务\"></a>内置服务</h3><p><strong>评论系统</strong></p>\n<p><strong>即刻短文</strong></p>\n<p><strong>鱼塘</strong></p>\n<p><strong>中控台</strong></p>\n<p><strong>胶囊音乐</strong></p>\n<h3 id=\"第三方服务\"><a href=\"#第三方服务\" class=\"headerlink\" title=\"第三方服务\"></a>第三方服务</h3><p><strong>百度统计</strong></p>\n<p><strong>busuanzi 统计</strong></p>\n<p>关于如何使用你的 Cookies，请访问 Cookies 政策。</p>\n<p>关于如何在 Chrome 中清除、启用和管理 Cookie。</p>\n<h1 id=\"四、如何共享、转让你的个人信息\"><a href=\"#四、如何共享、转让你的个人信息\" class=\"headerlink\" title=\"四、如何共享、转让你的个人信息\"></a>四、如何共享、转让你的个人信息</h1><p>本人不会与任何公司、组织和个人共享你的隐私信息</p>\n<p>本人不会将你的个人信息转让给任何公司、组织和个人</p>\n<p>第三方服务的共享、转让情况详见对应服务的隐私协议</p>\n<h1 id=\"五、附属协议\"><a href=\"#五、附属协议\" class=\"headerlink\" title=\"五、附属协议\"></a>五、附属协议</h1><p>当监测到存在<strong>恶意访问</strong>、<strong>恶意请求</strong>、<strong>恶意攻击</strong>、<strong>恶意评论</strong>的行为时，为了防止增大受害范围，可能会临时将你的 ip 地址及访问信息短期内添加到黑名单，短期内禁止访问。</p>\n<p>此黑名单可能被公开，并共享给其他站点（主体并非本人）使用，包括但不限于：IP 地址、设备信息、地理位置。</p>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<p>本站非常重视用户的隐私和个人信息保护。你在使用网站时，可能会收集和使用你的相关信息。通过《隐私政策》向你说明在你访问 <a href=\"http://www.sumi233.top/\">www.sumi233.top</a> 网站时，如何收集、使用、保存、共享和转让这些信息。</p>\n<h1 id=\"最新更新时间\"><a href=\"#最新更新时间\" class=\"headerlink\" title=\"最新更新时间\"></a>最新更新时间</h1><p>协议最新更新时间为：2025-08-21</p>\n<h1 id=\"一、在访问时如何收集和使用你的个人信息\"><a href=\"#一、在访问时如何收集和使用你的个人信息\" class=\"headerlink\" title=\"一、在访问时如何收集和使用你的个人信息\"></a>一、在访问时如何收集和使用你的个人信息</h1><h2 id=\"在访问时，收集访问信息的服务会收集不限于以下信息：\"><a href=\"#在访问时，收集访问信息的服务会收集不限于以下信息：\" class=\"headerlink\" title=\"在访问时，收集访问信息的服务会收集不限于以下信息：\"></a>在访问时，收集访问信息的服务会收集不限于以下信息：</h2><p><strong>网络身份标识信息</strong>（浏览器 UA、IP 地址）</p>\n<p><strong>设备信息</strong> </p>\n<p><strong>操作方式</strong> 浏览方式与时长、性能与网络加载情况。</p>\n<h2 id=\"在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\"><a href=\"#在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\" class=\"headerlink\" title=\"在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：\"></a>在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：</h2><p><strong>百度统计工具</strong> 会收集你的访问信息、访问操作过程</p>\n<p><strong>灵雀应用监控平台</strong> 会收集你的访问操作过程和资源加载情况</p>\n<p><strong>Tianlicdn</strong> 会收集你的访问信息</p>\n<p><strong>busuanzi 统计</strong> 会收集你的访问信息</p>\n<p><strong>腾讯云Edge One</strong> 会收集你的访问信息</p>\n<p><strong>腾讯 Codesign</strong> 会收集你的访问信息</p>\n<p><strong>QQ 音乐</strong> 会收集你的访问信息</p>\n<p><strong>网易云 音乐</strong> 会收集你的访问信息</p>\n<p><strong>bilibili</strong> 会收集你的访问信息</p>\n<h2 id=\"在访问时，本人仅会处于以下目的，使用你的个人信息：\"><a href=\"#在访问时，本人仅会处于以下目的，使用你的个人信息：\" class=\"headerlink\" title=\"在访问时，本人仅会处于以下目的，使用你的个人信息：\"></a>在访问时，本人仅会处于以下目的，使用你的个人信息：</h2><p>用于网站的优化与文章分类，用户优化文章</p>\n<p>恶意访问识别，用于维护网站</p>\n<p>恶意攻击排查，用于维护网站</p>\n<p>网站点击情况监测，用于优化网站页面</p>\n<p>网站加载情况监测，用于优化网站性能</p>\n<p>用于网站搜索结果优化</p>\n<p>浏览数据的展示</p>\n<h2 id=\"第三方信息获取方将您的数据用于以下用途：\"><a href=\"#第三方信息获取方将您的数据用于以下用途：\" class=\"headerlink\" title=\"第三方信息获取方将您的数据用于以下用途：\"></a>第三方信息获取方将您的数据用于以下用途：</h2><p>第三方可能会用于其他目的，详情请访问对应第三方服务提供的隐私协议。</p>\n<h2 id=\"你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\"><a href=\"#你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\" class=\"headerlink\" title=\"你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：\"></a>你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：</h2><p>第三方部分为了抵抗攻击、使用不同节点 cdn 加速等需求会收集不限于以下信息</p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>信息</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>网络信息</td>\n<td></td>\n</tr>\n<tr>\n<td>IP地址</td>\n<td></td>\n</tr>\n<tr>\n<td>国家</td>\n<td></td>\n</tr>\n<tr>\n<td>省份</td>\n<td></td>\n</tr>\n<tr>\n<td>城市</td>\n<td></td>\n</tr>\n<tr>\n<td>运营商</td>\n<td></td>\n</tr>\n<tr>\n<td>设备信息</td>\n<td></td>\n</tr>\n<tr>\n<td>设备</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>此页面如果未能获取到信息并不代表无法读取上述信息，以实际情况为准。</p>\n<h1 id=\"二、在评论时如何收集和使用你的个人信息\"><a href=\"#二、在评论时如何收集和使用你的个人信息\" class=\"headerlink\" title=\"二、在评论时如何收集和使用你的个人信息\"></a>二、在评论时如何收集和使用你的个人信息</h1><p>评论使用的是无登陆系统的匿名评论系统，你可以自愿填写真实的、或者虚假的信息作为你评论的展示信息。</p>\n<p>鼓励你使用不易被人恶意识别的昵称进行评论，但是建议你填写真实的邮箱以便收到回复（邮箱信息不会被公开）。</p>\n<p>在你评论时，会额外收集你的个人信息。</p>\n<h2 id=\"在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\"><a href=\"#在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\" class=\"headerlink\" title=\"在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：\"></a>在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：</h2><p>cravatar 会收集你的访问信息、评论填写的个人信息用于展示头像</p>\n<h2 id=\"在访问时，本人仅会处于以下目的，收集并使用以下信息：\"><a href=\"#在访问时，本人仅会处于以下目的，收集并使用以下信息：\" class=\"headerlink\" title=\"在访问时，本人仅会处于以下目的，收集并使用以下信息：\"></a>在访问时，本人仅会处于以下目的，收集并使用以下信息：</h2><ul>\n<li><p>评论时会记录你的 QQ 帐号（如果在邮箱位置填写 QQ 邮箱或 QQ 号），方便获取你的 QQ 头像。如果使用 QQ 邮箱但不想展示 QQ 头像，可以填写不含 QQ 号的 QQ 邮箱。（主动，存储）</p>\n</li>\n<li><p>评论时会记录你的邮箱，当我回复后会通过邮件通知你（主动，存储，不会公开邮箱）</p>\n</li>\n<li><p>评论时会记录你的网址，用于点击头像时快速进入你的网站（主动，存储）</p>\n</li>\n<li><p>评论时会记录你的 IP 地址，作为反垃圾的用户判别依据（被动，存储，不会公开 IP，会公开 IP 所在城市）</p>\n</li>\n<li><p>评论会记录你的浏览器代理，用作展示系统版本、浏览器版本方便展示你使用的设备，快速定位问题（被动，存储）</p>\n</li>\n</ul>\n<h1 id=\"三、如何使用-Cookies-和本地-LocalStorage-存储\"><a href=\"#三、如何使用-Cookies-和本地-LocalStorage-存储\" class=\"headerlink\" title=\"三、如何使用-Cookies-和本地-LocalStorage-存储\"></a>三、如何使用-Cookies-和本地-LocalStorage-存储</h1><p>本站为实现无账号评论、深色模式切换，不蒜子的 uv 统计等功能，会在你的浏览器中进行本地存储，你可以随时清除浏览器中保存的所有 Cookies 以及 LocalStorage，不影响你的正常使用。</p>\n<p>本博客中的以下业务会在你的计算机上主动存储数据：</p>\n<h3 id=\"内置服务\"><a href=\"#内置服务\" class=\"headerlink\" title=\"内置服务\"></a>内置服务</h3><p><strong>评论系统</strong></p>\n<p><strong>即刻短文</strong></p>\n<p><strong>鱼塘</strong></p>\n<p><strong>中控台</strong></p>\n<p><strong>胶囊音乐</strong></p>\n<h3 id=\"第三方服务\"><a href=\"#第三方服务\" class=\"headerlink\" title=\"第三方服务\"></a>第三方服务</h3><p><strong>百度统计</strong></p>\n<p><strong>busuanzi 统计</strong></p>\n<p>关于如何使用你的 Cookies，请访问 Cookies 政策。</p>\n<p>关于如何在 Chrome 中清除、启用和管理 Cookie。</p>\n<h1 id=\"四、如何共享、转让你的个人信息\"><a href=\"#四、如何共享、转让你的个人信息\" class=\"headerlink\" title=\"四、如何共享、转让你的个人信息\"></a>四、如何共享、转让你的个人信息</h1><p>本人不会与任何公司、组织和个人共享你的隐私信息</p>\n<p>本人不会将你的个人信息转让给任何公司、组织和个人</p>\n<p>第三方服务的共享、转让情况详见对应服务的隐私协议</p>\n<h1 id=\"五、附属协议\"><a href=\"#五、附属协议\" class=\"headerlink\" title=\"五、附属协议\"></a>五、附属协议</h1><p>当监测到存在<strong>恶意访问</strong>、<strong>恶意请求</strong>、<strong>恶意攻击</strong>、<strong>恶意评论</strong>的行为时，为了防止增大受害范围，可能会临时将你的 ip 地址及访问信息短期内添加到黑名单，短期内禁止访问。</p>\n<p>此黑名单可能被公开，并共享给其他站点（主体并非本人）使用，包括但不限于：IP 地址、设备信息、地理位置。</p>\n"},{"title":"标签","date":"2024-02-16T11:13:18.000Z","type":"tags","orderby":"random","order":1,"_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2024-02-16 19:13:18\ntype: \"tags\"\norderby: random\norder: 1\n---\n","updated":"2024-02-16T11:14:51.000Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cmgu9560i002zg0fy9acvct7k","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"title":"博客日志","date":"2025-08-20T08:09:00.000Z","comments":1,"aside":false,"type":"update","_content":"\n{% timeline 2025,blue %}\n<!-- timeline 10-17 -->\n修复控制台显示的各种错误，提高网站无缓存启动速度，Cloudflare CDN TTL缓存设置为5分钟刷新一次\n<!-- endtimeline -->\n<!-- timeline 10-13 -->\n更换回cloudflare pages托管，并且配置缓存刷新功能，目前是两小时刷新一次\n<!-- endtimeline -->\n<!-- timeline 10-10 -->\n添加EdgeOne CDN缓存刷新功能，终于不用为了博客的修改刷新好几次啦\n<!-- endtimeline -->\n<!-- timeline 10-08 -->\n修复Tidio私信功能，现在可以使用啦~ 修改了网页导航，添加了网站检测页\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u10.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u11.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 09-24 -->\n友链页加入延迟测试功能，修复统一全局强调色（现为橙色），跳转页已实装，关于页面新增十年之约进度条，RSS与Atom订阅界面美化，本次更新为重大更新，请各位小伙伴们刷新2次以上或清理网页缓存以应用最新的更改\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u8.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u9.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u7.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u5.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u6.JPG)\n<!-- endtimeline -->\n\n<!-- timeline 09-18 -->\nhexo博客优化网站进入速度，精简字体大小，美化个人卡片背景，尝试添加跳转页面警告\n<!-- endtimeline -->\n\n<!-- timeline 09-12 -->\n由于hexo框架愈发臃肿，导致加载慢等问题，本站决定迁移至Astro+Fuwari框架，目前进度50%，目前两博客同时更新\n<!-- endtimeline -->\n\n<!-- timeline 09-09 -->\n移除无用功能Tidio私聊，本功能下线前已无法正常使用，遂移除。开启Twikoo评论懒加载。新增朋友圈功能（本想使用主题自带的功能的，但Vercel部署只能使用最新版，主题无法使用新版本的朋友圈后端，遂放弃，使用官方文档的Butterfly主题方案。目前运行良好）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/friendstest.JPG)\n<!-- endtimeline -->\n\n<!-- timeline 09-08 -->\n浏览器标题取消卖萌功能，使博客更简洁。修复51la统计不显示次数的问题。修复建站日期错乱的问题。\n<!-- endtimeline -->\n\n<!-- timeline 08-29 -->\n博客目录精简，缩为三层结构，更加方便seo优化搜索，目前文章中评论清空，其他页面评论正常\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123503.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123458.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-27 -->\n友链界面重新调整排版，新增了图标循环功能，添加了推荐地址板块。顶部导航按钮部分功能进行重命名调整。添加了追番功能。首页界面添加随机诗句功能。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202947.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202953.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203038.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203034.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203028.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-26 -->\n尝试添加百度主动提交收录网站api，应该是成功了，等过一天康康\n<!-- endtimeline -->\n\n<!-- timeline 08-21 -->\n更新了cookies协议、版权协议和隐私协议，添加了底部导航栏。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-21%20021006.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-20 -->\n更新日志功能上线啦！以后在这汇报blog更新情况啦！调整了部分页面的位置，添加了藏宝阁功能。\n<!-- endtimeline -->\n\n<!-- timeline 08-19 -->\n更新了Twikoo评论的邮箱提醒 ，填入邮箱时有回复时会在邮箱提醒您噢！修复了live2d不显示的问题，目前仅电脑端可以看到live2d\n<!-- endtimeline -->\n\n<!-- timeline 08-05 -->\n修复了sitemap和索引验证的问题，现在可以被三大搜索引擎索引到了！\n<!-- endtimeline -->\n\n<!-- timeline 08-03 -->\n超大更新！将博客迁至edgeone pages，国内浏览速度翻倍！图床更改cdn，加载更快!主页添加主图，打开了评论弹幕，侧边栏添加了steam控件，同时修复了侧边栏除夕的计算问题。添加了统计页面，添加并修复了sitemap索引，更换了twikoo评论系统！酥米本米最不偷懒的一次/doge\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u1.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u2.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u4.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-01 -->\n正在修复博客图床问题，博客部分已经正常，文章图片部分正在修复。之前的图床国内墙啦，现在更改为github图床+代理网页，大概率不会崩啦，图床地址：https://github.com/huang233893/blog-image-bed ；添加了ip定位、倒计时和AI总结功能，如果文章里面一直显示ai构思中，那就是酥米本米没有在文章设置AI总结/DOGE\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20231018.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20230941.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/img-github.png)\n<!-- endtimeline -->\n\n<!-- timeline 07-31 -->\n博客更换新域名啦！地址是：www.sumi233.top\n<!-- endtimeline -->\n\n<!-- timeline 07-30 -->\n博客复活啦！不过由于归档备份丢失，部分文章丢失，酥米正在补全拉！\n<!-- endtimeline -->\n\n\n{% endtimeline %}\n\n\n{% timeline 2024,blue %}\n\n<!-- timeline 11-22 -->\n添加了好多小功能，博客功能更完善了\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732237019613da5978f27621294f.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732236800160b802187d317a4ac5.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223677386300a1573248699c53.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223675497122e18b06ea8295e9.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322368514320f7a2fe87aedca4b.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322367133863e0a7331134044b4.png)\n<!-- endtimeline -->\n\n<!-- timeline 11-20 -->\n换上安知鱼的全新主题啦，好看了好多啊！\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(2).png)\n<!-- endtimeline -->\n\n<!-- timeline 11-09 -->\n总算把博客重新重构一遍了!\n<!-- endtimeline -->\n\n{% endtimeline %}","source":"update/index.md","raw":"---\ntitle: 博客日志\ndate: 2025-08-20 16:09:00\ncomments: true\naside: false\ntype: update\n---\n\n{% timeline 2025,blue %}\n<!-- timeline 10-17 -->\n修复控制台显示的各种错误，提高网站无缓存启动速度，Cloudflare CDN TTL缓存设置为5分钟刷新一次\n<!-- endtimeline -->\n<!-- timeline 10-13 -->\n更换回cloudflare pages托管，并且配置缓存刷新功能，目前是两小时刷新一次\n<!-- endtimeline -->\n<!-- timeline 10-10 -->\n添加EdgeOne CDN缓存刷新功能，终于不用为了博客的修改刷新好几次啦\n<!-- endtimeline -->\n<!-- timeline 10-08 -->\n修复Tidio私信功能，现在可以使用啦~ 修改了网页导航，添加了网站检测页\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u10.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u11.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 09-24 -->\n友链页加入延迟测试功能，修复统一全局强调色（现为橙色），跳转页已实装，关于页面新增十年之约进度条，RSS与Atom订阅界面美化，本次更新为重大更新，请各位小伙伴们刷新2次以上或清理网页缓存以应用最新的更改\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u8.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u9.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u7.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u5.JPG)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u6.JPG)\n<!-- endtimeline -->\n\n<!-- timeline 09-18 -->\nhexo博客优化网站进入速度，精简字体大小，美化个人卡片背景，尝试添加跳转页面警告\n<!-- endtimeline -->\n\n<!-- timeline 09-12 -->\n由于hexo框架愈发臃肿，导致加载慢等问题，本站决定迁移至Astro+Fuwari框架，目前进度50%，目前两博客同时更新\n<!-- endtimeline -->\n\n<!-- timeline 09-09 -->\n移除无用功能Tidio私聊，本功能下线前已无法正常使用，遂移除。开启Twikoo评论懒加载。新增朋友圈功能（本想使用主题自带的功能的，但Vercel部署只能使用最新版，主题无法使用新版本的朋友圈后端，遂放弃，使用官方文档的Butterfly主题方案。目前运行良好）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/friendstest.JPG)\n<!-- endtimeline -->\n\n<!-- timeline 09-08 -->\n浏览器标题取消卖萌功能，使博客更简洁。修复51la统计不显示次数的问题。修复建站日期错乱的问题。\n<!-- endtimeline -->\n\n<!-- timeline 08-29 -->\n博客目录精简，缩为三层结构，更加方便seo优化搜索，目前文章中评论清空，其他页面评论正常\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123503.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123458.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-27 -->\n友链界面重新调整排版，新增了图标循环功能，添加了推荐地址板块。顶部导航按钮部分功能进行重命名调整。添加了追番功能。首页界面添加随机诗句功能。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202947.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202953.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203038.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203034.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203028.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-26 -->\n尝试添加百度主动提交收录网站api，应该是成功了，等过一天康康\n<!-- endtimeline -->\n\n<!-- timeline 08-21 -->\n更新了cookies协议、版权协议和隐私协议，添加了底部导航栏。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-21%20021006.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-20 -->\n更新日志功能上线啦！以后在这汇报blog更新情况啦！调整了部分页面的位置，添加了藏宝阁功能。\n<!-- endtimeline -->\n\n<!-- timeline 08-19 -->\n更新了Twikoo评论的邮箱提醒 ，填入邮箱时有回复时会在邮箱提醒您噢！修复了live2d不显示的问题，目前仅电脑端可以看到live2d\n<!-- endtimeline -->\n\n<!-- timeline 08-05 -->\n修复了sitemap和索引验证的问题，现在可以被三大搜索引擎索引到了！\n<!-- endtimeline -->\n\n<!-- timeline 08-03 -->\n超大更新！将博客迁至edgeone pages，国内浏览速度翻倍！图床更改cdn，加载更快!主页添加主图，打开了评论弹幕，侧边栏添加了steam控件，同时修复了侧边栏除夕的计算问题。添加了统计页面，添加并修复了sitemap索引，更换了twikoo评论系统！酥米本米最不偷懒的一次/doge\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u1.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u2.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u4.jpg)\n<!-- endtimeline -->\n\n<!-- timeline 08-01 -->\n正在修复博客图床问题，博客部分已经正常，文章图片部分正在修复。之前的图床国内墙啦，现在更改为github图床+代理网页，大概率不会崩啦，图床地址：https://github.com/huang233893/blog-image-bed ；添加了ip定位、倒计时和AI总结功能，如果文章里面一直显示ai构思中，那就是酥米本米没有在文章设置AI总结/DOGE\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20231018.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20230941.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/img-github.png)\n<!-- endtimeline -->\n\n<!-- timeline 07-31 -->\n博客更换新域名啦！地址是：www.sumi233.top\n<!-- endtimeline -->\n\n<!-- timeline 07-30 -->\n博客复活啦！不过由于归档备份丢失，部分文章丢失，酥米正在补全拉！\n<!-- endtimeline -->\n\n\n{% endtimeline %}\n\n\n{% timeline 2024,blue %}\n\n<!-- timeline 11-22 -->\n添加了好多小功能，博客功能更完善了\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732237019613da5978f27621294f.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732236800160b802187d317a4ac5.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223677386300a1573248699c53.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223675497122e18b06ea8295e9.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322368514320f7a2fe87aedca4b.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322367133863e0a7331134044b4.png)\n<!-- endtimeline -->\n\n<!-- timeline 11-20 -->\n换上安知鱼的全新主题啦，好看了好多啊！\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(2).png)\n<!-- endtimeline -->\n\n<!-- timeline 11-09 -->\n总算把博客重新重构一遍了!\n<!-- endtimeline -->\n\n{% endtimeline %}","updated":"2025-10-17T02:33:43.759Z","path":"update/index.html","layout":"page","_id":"cmgu9560k0035g0fydf8w1dzg","content":"<div class=\"timeline blue\"><div class=\"timeline-item headline\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>2025</p>\n</div></div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-17</p>\n</div></div><div class=\"timeline-item-content\"><p>修复控制台显示的各种错误，提高网站无缓存启动速度，Cloudflare CDN TTL缓存设置为5分钟刷新一次</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-13</p>\n</div></div><div class=\"timeline-item-content\"><p>更换回cloudflare pages托管，并且配置缓存刷新功能，目前是两小时刷新一次</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-10</p>\n</div></div><div class=\"timeline-item-content\"><p>添加EdgeOne CDN缓存刷新功能，终于不用为了博客的修改刷新好几次啦</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-08</p>\n</div></div><div class=\"timeline-item-content\"><p>修复Tidio私信功能，现在可以使用啦~ 修改了网页导航，添加了网站检测页<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u10.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u11.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-24</p>\n</div></div><div class=\"timeline-item-content\"><p>友链页加入延迟测试功能，修复统一全局强调色（现为橙色），跳转页已实装，关于页面新增十年之约进度条，RSS与Atom订阅界面美化，本次更新为重大更新，请各位小伙伴们刷新2次以上或清理网页缓存以应用最新的更改<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u8.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u9.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u7.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u5.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u6.JPG\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-18</p>\n</div></div><div class=\"timeline-item-content\"><p>hexo博客优化网站进入速度，精简字体大小，美化个人卡片背景，尝试添加跳转页面警告</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-12</p>\n</div></div><div class=\"timeline-item-content\"><p>由于hexo框架愈发臃肿，导致加载慢等问题，本站决定迁移至Astro+Fuwari框架，目前进度50%，目前两博客同时更新</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-09</p>\n</div></div><div class=\"timeline-item-content\"><p>移除无用功能Tidio私聊，本功能下线前已无法正常使用，遂移除。开启Twikoo评论懒加载。新增朋友圈功能（本想使用主题自带的功能的，但Vercel部署只能使用最新版，主题无法使用新版本的朋友圈后端，遂放弃，使用官方文档的Butterfly主题方案。目前运行良好）<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/friendstest.JPG\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-08</p>\n</div></div><div class=\"timeline-item-content\"><p>浏览器标题取消卖萌功能，使博客更简洁。修复51la统计不显示次数的问题。修复建站日期错乱的问题。</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-29</p>\n</div></div><div class=\"timeline-item-content\"><p>博客目录精简，缩为三层结构，更加方便seo优化搜索，目前文章中评论清空，其他页面评论正常<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123503.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123458.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-27</p>\n</div></div><div class=\"timeline-item-content\"><p>友链界面重新调整排版，新增了图标循环功能，添加了推荐地址板块。顶部导航按钮部分功能进行重命名调整。添加了追番功能。首页界面添加随机诗句功能。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202947.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202953.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203038.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203034.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203028.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-26</p>\n</div></div><div class=\"timeline-item-content\"><p>尝试添加百度主动提交收录网站api，应该是成功了，等过一天康康</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-21</p>\n</div></div><div class=\"timeline-item-content\"><p>更新了cookies协议、版权协议和隐私协议，添加了底部导航栏。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-21%20021006.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-20</p>\n</div></div><div class=\"timeline-item-content\"><p>更新日志功能上线啦！以后在这汇报blog更新情况啦！调整了部分页面的位置，添加了藏宝阁功能。</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-19</p>\n</div></div><div class=\"timeline-item-content\"><p>更新了Twikoo评论的邮箱提醒 ，填入邮箱时有回复时会在邮箱提醒您噢！修复了live2d不显示的问题，目前仅电脑端可以看到live2d</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-05</p>\n</div></div><div class=\"timeline-item-content\"><p>修复了sitemap和索引验证的问题，现在可以被三大搜索引擎索引到了！</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-03</p>\n</div></div><div class=\"timeline-item-content\"><p>超大更新！将博客迁至edgeone pages，国内浏览速度翻倍！图床更改cdn，加载更快!主页添加主图，打开了评论弹幕，侧边栏添加了steam控件，同时修复了侧边栏除夕的计算问题。添加了统计页面，添加并修复了sitemap索引，更换了twikoo评论系统！酥米本米最不偷懒的一次&#x2F;doge<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u1.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u2.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u4.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-01</p>\n</div></div><div class=\"timeline-item-content\"><p>正在修复博客图床问题，博客部分已经正常，文章图片部分正在修复。之前的图床国内墙啦，现在更改为github图床+代理网页，大概率不会崩啦，图床地址：<a href=\"https://github.com/huang233893/blog-image-bed\">https://github.com/huang233893/blog-image-bed</a> ；添加了ip定位、倒计时和AI总结功能，如果文章里面一直显示ai构思中，那就是酥米本米没有在文章设置AI总结&#x2F;DOGE<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20231018.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20230941.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/img-github.png\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>07-31</p>\n</div></div><div class=\"timeline-item-content\"><p>博客更换新域名啦！地址是：<a href=\"http://www.sumi233.top/\">www.sumi233.top</a></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>07-30</p>\n</div></div><div class=\"timeline-item-content\"><p>博客复活啦！不过由于归档备份丢失，部分文章丢失，酥米正在补全拉！</p>\n</div></div></div>\n\n\n<div class=\"timeline blue\"><div class=\"timeline-item headline\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>2024</p>\n</div></div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>11-22</p>\n</div></div><div class=\"timeline-item-content\"><p>添加了好多小功能，博客功能更完善了<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732237019613da5978f27621294f.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732236800160b802187d317a4ac5.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223677386300a1573248699c53.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223675497122e18b06ea8295e9.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322368514320f7a2fe87aedca4b.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322367133863e0a7331134044b4.png\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>11-20</p>\n</div></div><div class=\"timeline-item-content\"><p>换上安知鱼的全新主题啦，好看了好多啊！<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(2).png\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>11-09</p>\n</div></div><div class=\"timeline-item-content\"><p>总算把博客重新重构一遍了!</p>\n</div></div></div>","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<div class=\"timeline blue\"><div class=\"timeline-item headline\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>2025</p>\n</div></div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-17</p>\n</div></div><div class=\"timeline-item-content\"><p>修复控制台显示的各种错误，提高网站无缓存启动速度，Cloudflare CDN TTL缓存设置为5分钟刷新一次</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-13</p>\n</div></div><div class=\"timeline-item-content\"><p>更换回cloudflare pages托管，并且配置缓存刷新功能，目前是两小时刷新一次</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-10</p>\n</div></div><div class=\"timeline-item-content\"><p>添加EdgeOne CDN缓存刷新功能，终于不用为了博客的修改刷新好几次啦</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>10-08</p>\n</div></div><div class=\"timeline-item-content\"><p>修复Tidio私信功能，现在可以使用啦~ 修改了网页导航，添加了网站检测页<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/tidio3.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u10.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u11.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-24</p>\n</div></div><div class=\"timeline-item-content\"><p>友链页加入延迟测试功能，修复统一全局强调色（现为橙色），跳转页已实装，关于页面新增十年之约进度条，RSS与Atom订阅界面美化，本次更新为重大更新，请各位小伙伴们刷新2次以上或清理网页缓存以应用最新的更改<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u8.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u9.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u7.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u5.JPG\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/u6.JPG\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-18</p>\n</div></div><div class=\"timeline-item-content\"><p>hexo博客优化网站进入速度，精简字体大小，美化个人卡片背景，尝试添加跳转页面警告</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-12</p>\n</div></div><div class=\"timeline-item-content\"><p>由于hexo框架愈发臃肿，导致加载慢等问题，本站决定迁移至Astro+Fuwari框架，目前进度50%，目前两博客同时更新</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-09</p>\n</div></div><div class=\"timeline-item-content\"><p>移除无用功能Tidio私聊，本功能下线前已无法正常使用，遂移除。开启Twikoo评论懒加载。新增朋友圈功能（本想使用主题自带的功能的，但Vercel部署只能使用最新版，主题无法使用新版本的朋友圈后端，遂放弃，使用官方文档的Butterfly主题方案。目前运行良好）<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/friendstest.JPG\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>09-08</p>\n</div></div><div class=\"timeline-item-content\"><p>浏览器标题取消卖萌功能，使博客更简洁。修复51la统计不显示次数的问题。修复建站日期错乱的问题。</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-29</p>\n</div></div><div class=\"timeline-item-content\"><p>博客目录精简，缩为三层结构，更加方便seo优化搜索，目前文章中评论清空，其他页面评论正常<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123503.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-29%20123458.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-27</p>\n</div></div><div class=\"timeline-item-content\"><p>友链界面重新调整排版，新增了图标循环功能，添加了推荐地址板块。顶部导航按钮部分功能进行重命名调整。添加了追番功能。首页界面添加随机诗句功能。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202947.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202953.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203038.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203034.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20203028.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-27%20202801.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-26</p>\n</div></div><div class=\"timeline-item-content\"><p>尝试添加百度主动提交收录网站api，应该是成功了，等过一天康康</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-21</p>\n</div></div><div class=\"timeline-item-content\"><p>更新了cookies协议、版权协议和隐私协议，添加了底部导航栏。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-21%20021006.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-20</p>\n</div></div><div class=\"timeline-item-content\"><p>更新日志功能上线啦！以后在这汇报blog更新情况啦！调整了部分页面的位置，添加了藏宝阁功能。</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-19</p>\n</div></div><div class=\"timeline-item-content\"><p>更新了Twikoo评论的邮箱提醒 ，填入邮箱时有回复时会在邮箱提醒您噢！修复了live2d不显示的问题，目前仅电脑端可以看到live2d</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-05</p>\n</div></div><div class=\"timeline-item-content\"><p>修复了sitemap和索引验证的问题，现在可以被三大搜索引擎索引到了！</p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-03</p>\n</div></div><div class=\"timeline-item-content\"><p>超大更新！将博客迁至edgeone pages，国内浏览速度翻倍！图床更改cdn，加载更快!主页添加主图，打开了评论弹幕，侧边栏添加了steam控件，同时修复了侧边栏除夕的计算问题。添加了统计页面，添加并修复了sitemap索引，更换了twikoo评论系统！酥米本米最不偷懒的一次&#x2F;doge<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u1.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u2.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/u4.jpg\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>08-01</p>\n</div></div><div class=\"timeline-item-content\"><p>正在修复博客图床问题，博客部分已经正常，文章图片部分正在修复。之前的图床国内墙啦，现在更改为github图床+代理网页，大概率不会崩啦，图床地址：<a href=\"https://github.com/huang233893/blog-image-bed\">https://github.com/huang233893/blog-image-bed</a> ；添加了ip定位、倒计时和AI总结功能，如果文章里面一直显示ai构思中，那就是酥米本米没有在文章设置AI总结&#x2F;DOGE<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20231018.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-01%20230941.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/img-github.png\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>07-31</p>\n</div></div><div class=\"timeline-item-content\"><p>博客更换新域名啦！地址是：<a href=\"http://www.sumi233.top/\">www.sumi233.top</a></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>07-30</p>\n</div></div><div class=\"timeline-item-content\"><p>博客复活啦！不过由于归档备份丢失，部分文章丢失，酥米正在补全拉！</p>\n</div></div></div>\n\n\n<div class=\"timeline blue\"><div class=\"timeline-item headline\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>2024</p>\n</div></div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>11-22</p>\n</div></div><div class=\"timeline-item-content\"><p>添加了好多小功能，博客功能更完善了<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732237019613da5978f27621294f.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/1732236800160b802187d317a4ac5.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223677386300a1573248699c53.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173223675497122e18b06ea8295e9.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322368514320f7a2fe87aedca4b.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/17322367133863e0a7331134044b4.png\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>11-20</p>\n</div></div><div class=\"timeline-item-content\"><p>换上安知鱼的全新主题啦，好看了好多啊！<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/link%20(2).png\"></p>\n</div></div><div class=\"timeline-item\"><div class=\"timeline-item-title\"><div class=\"item-circle\"><p>11-09</p>\n</div></div><div class=\"timeline-item-content\"><p>总算把博客重新重构一遍了!</p>\n</div></div></div>"},{"title":"酥米的壁纸","date":"2022-10-23T07:57:51.000Z","aside":false,"top_img":false,"type":"album_detail","_content":"","source":"wallpaper/index.md","raw":"---\ntitle: 酥米的壁纸\ndate: 2022-10-23 15:57:51\naside: false\ntop_img: false\ntype: \"album_detail\"\n---\n","updated":"2024-11-20T02:29:15.025Z","path":"wallpaper/index.html","comments":1,"layout":"page","_id":"cmgu9560m0039g0fyckwibpyh","content":"","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":""},{"_content":".bilibili {\n    position: relative;\n    width: 100%;\n}\n@media only screen and (max-width: 767px) {\n    .bilibili {height: 15em;max-width: 25em;}\n}\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n    .bilibili {height: 20em;max-width: 30em;}\n}\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n    .bilibili {height: 30em;max-width: 40em;}\n}\n@media only screen and (min-width: 1200px) {\n    .bilibili {height: 40em;max-width: 50em;}\n}\n","source":"custom/css/bilibili.css","raw":".bilibili {\n    position: relative;\n    width: 100%;\n}\n@media only screen and (max-width: 767px) {\n    .bilibili {height: 15em;max-width: 25em;}\n}\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n    .bilibili {height: 20em;max-width: 30em;}\n}\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n    .bilibili {height: 30em;max-width: 40em;}\n}\n@media only screen and (min-width: 1200px) {\n    .bilibili {height: 40em;max-width: 50em;}\n}\n","date":"2025-08-19T10:49:54.803Z","updated":"2025-08-19T10:49:54.803Z","path":"custom/css/bilibili.css","layout":"false","title":"","comments":1,"_id":"cmgu9560p003eg0fy2rrhftzi","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n.bilibili{position:relative;width:100%}@media only screen and (max-width:767px){.bilibili{height:15em;max-width:25em}}@media only screen and (min-width:768px) and (max-width:991px){.bilibili{height:20em;max-width:30em}}@media only screen and (min-width:992px) and (max-width:1199px){.bilibili{height:30em;max-width:40em}}@media only screen and (min-width:1200px){.bilibili{height:40em;max-width:50em}}\n/* rebuild by neat */"},{"_content":".pace {\n\t-webkit-pointer-events: none;\n\tpointer-events: none;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\tuser-select: none;\n}\n\n.pace-inactive {\n\tdisplay: none;\n}\n\n.pace .pace-progress {\n\tbackground: rgb(255, 165, 0);\n\tposition: fixed;\n\tz-index: 2000;\n\ttop: 0;\n\tright: 100%;\n\twidth: 100%;\n\theight: 2px;\n}\n\n.pace .pace-progress-inner {\n\tdisplay: block;\n\tposition: absolute;\n\tright: 0px;\n\twidth: 100px;\n\theight: 100%;\n\tbox-shadow: 0 0 10px rgb(255, 165, 0), 0 0 5px rgb(255, 165, 0);\n\topacity: 1.0;\n\t-webkit-transform: rotate(3deg) translate(0px, -4px);\n\t-moz-transform: rotate(3deg) translate(0px, -4px);\n\t-ms-transform: rotate(3deg) translate(0px, -4px);\n\t-o-transform: rotate(3deg) translate(0px, -4px);\n\ttransform: rotate(3deg) translate(0px, -4px);\n}\n\n.pace .pace-activity {\n\tdisplay: block;\n\tposition: fixed;\n\tz-index: 2000;\n\ttop: 15px;\n\tright: 15px;\n\twidth: 14px;\n\theight: 14px;\n\tborder: solid 2px transparent;\n\tborder-top-color: rgb(255, 165, 0);\n\tborder-left-color: rgb(225, 165, 0);\n\tborder-radius: 10px;\n\t-webkit-animation: pace-spinner 400ms linear infinite;\n\t-moz-animation: pace-spinner 400ms linear infinite;\n\t-ms-animation: pace-spinner 400ms linear infinite;\n\t-o-animation: pace-spinner 400ms linear infinite;\n\tanimation: pace-spinner 400ms linear infinite;\n}\n\n@-webkit-keyframes pace-spinner {\n\t0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@-moz-keyframes pace-spinner {\n\t0% { -moz-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -moz-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@-o-keyframes pace-spinner {\n\t0% { -o-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -o-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@-ms-keyframes pace-spinner {\n\t0% { -ms-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -ms-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@keyframes pace-spinner {\n\t0% { transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { transform: rotate(360deg); transform: rotate(360deg); }\n}","source":"custom/css/flash.css","raw":".pace {\n\t-webkit-pointer-events: none;\n\tpointer-events: none;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\tuser-select: none;\n}\n\n.pace-inactive {\n\tdisplay: none;\n}\n\n.pace .pace-progress {\n\tbackground: rgb(255, 165, 0);\n\tposition: fixed;\n\tz-index: 2000;\n\ttop: 0;\n\tright: 100%;\n\twidth: 100%;\n\theight: 2px;\n}\n\n.pace .pace-progress-inner {\n\tdisplay: block;\n\tposition: absolute;\n\tright: 0px;\n\twidth: 100px;\n\theight: 100%;\n\tbox-shadow: 0 0 10px rgb(255, 165, 0), 0 0 5px rgb(255, 165, 0);\n\topacity: 1.0;\n\t-webkit-transform: rotate(3deg) translate(0px, -4px);\n\t-moz-transform: rotate(3deg) translate(0px, -4px);\n\t-ms-transform: rotate(3deg) translate(0px, -4px);\n\t-o-transform: rotate(3deg) translate(0px, -4px);\n\ttransform: rotate(3deg) translate(0px, -4px);\n}\n\n.pace .pace-activity {\n\tdisplay: block;\n\tposition: fixed;\n\tz-index: 2000;\n\ttop: 15px;\n\tright: 15px;\n\twidth: 14px;\n\theight: 14px;\n\tborder: solid 2px transparent;\n\tborder-top-color: rgb(255, 165, 0);\n\tborder-left-color: rgb(225, 165, 0);\n\tborder-radius: 10px;\n\t-webkit-animation: pace-spinner 400ms linear infinite;\n\t-moz-animation: pace-spinner 400ms linear infinite;\n\t-ms-animation: pace-spinner 400ms linear infinite;\n\t-o-animation: pace-spinner 400ms linear infinite;\n\tanimation: pace-spinner 400ms linear infinite;\n}\n\n@-webkit-keyframes pace-spinner {\n\t0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@-moz-keyframes pace-spinner {\n\t0% { -moz-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -moz-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@-o-keyframes pace-spinner {\n\t0% { -o-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -o-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@-ms-keyframes pace-spinner {\n\t0% { -ms-transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { -ms-transform: rotate(360deg); transform: rotate(360deg); }\n}\n@keyframes pace-spinner {\n\t0% { transform: rotate(0deg); transform: rotate(0deg); }\n\t100% { transform: rotate(360deg); transform: rotate(360deg); }\n}","date":"2025-09-23T05:03:54.560Z","updated":"2025-09-23T05:03:54.560Z","path":"custom/css/flash.css","layout":"false","title":"","comments":1,"_id":"cmgu9560r003jg0fy8wpeg0x1","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:orange;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}.pace .pace-progress-inner{display:block;position:absolute;right:0;width:100px;height:100%;box-shadow:0 0 10px orange,0 0 5px orange;opacity:1;-webkit-transform:rotate(3deg) translate(0,-4px);-moz-transform:rotate(3deg) translate(0,-4px);-ms-transform:rotate(3deg) translate(0,-4px);-o-transform:rotate(3deg) translate(0,-4px);transform:rotate(3deg) translate(0,-4px)}.pace .pace-activity{display:block;position:fixed;z-index:2000;top:15px;right:15px;width:14px;height:14px;border:solid 2px transparent;border-top-color:orange;border-left-color:#e1a500;border-radius:10px;-webkit-animation:pace-spinner .4s linear infinite;-moz-animation:pace-spinner .4s linear infinite;-ms-animation:pace-spinner .4s linear infinite;-o-animation:pace-spinner .4s linear infinite;animation:pace-spinner .4s linear infinite}@-webkit-keyframes pace-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes pace-spinner{0%{-moz-transform:rotate(0);transform:rotate(0)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes pace-spinner{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes pace-spinner{0%{-ms-transform:rotate(0);transform:rotate(0)}100%{-ms-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes pace-spinner{0%{transform:rotate(0);transform:rotate(0)}100%{transform:rotate(360deg);transform:rotate(360deg)}}\n/* rebuild by neat */"},{"_content":".status-tag {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    padding: 0 3px;\n    border-radius: 6px 0 12px 0;\n    font-size: 10px;\n    color: #fff;\n    font-weight: 700;\n    transition: font-size .3s ease-out, opacity .3s ease-out;\n}\n\n.flink-list-item:hover .status-tag {\n    font-size: 0;\n    opacity: 0;\n}\n\n.status-tag-green { background-color: #599e0b; }\n.status-tag-light-yellow { background-color: #fed101; }\n.status-tag-dark-yellow { background-color: #f0b606; }\n.status-tag-red { background-color: #b90000; }\n","source":"custom/css/flink.css","raw":".status-tag {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    padding: 0 3px;\n    border-radius: 6px 0 12px 0;\n    font-size: 10px;\n    color: #fff;\n    font-weight: 700;\n    transition: font-size .3s ease-out, opacity .3s ease-out;\n}\n\n.flink-list-item:hover .status-tag {\n    font-size: 0;\n    opacity: 0;\n}\n\n.status-tag-green { background-color: #599e0b; }\n.status-tag-light-yellow { background-color: #fed101; }\n.status-tag-dark-yellow { background-color: #f0b606; }\n.status-tag-red { background-color: #b90000; }\n","date":"2025-09-23T19:23:13.476Z","updated":"2025-09-23T19:23:13.476Z","path":"custom/css/flink.css","layout":"false","title":"","comments":1,"_id":"cmgu9560u003og0fyhrmab2f8","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n.status-tag{position:absolute;bottom:0;right:0;padding:0 3px;border-radius:6px 0 12px 0;font-size:10px;color:#fff;font-weight:700;transition:font-size .3s ease-out,opacity .3s ease-out}.flink-list-item:hover .status-tag{font-size:0;opacity:0}.status-tag-green{background-color:#599e0b}.status-tag-light-yellow{background-color:#fed101}.status-tag-dark-yellow{background-color:#f0b606}.status-tag-red{background-color:#b90000}\n/* rebuild by neat */"},{"_content":"@font-face {\n    font-family: 'MiSans-Normal';\n    src: url('/custom/fonts/MiSans-Normal.woff2') format('woff2');   /* 提供 WOFF2 格式 */\n    font-weight: normal;\n    font-style: normal;\n    font-display: swap;\n}","source":"custom/css/font.css","raw":"@font-face {\n    font-family: 'MiSans-Normal';\n    src: url('/custom/fonts/MiSans-Normal.woff2') format('woff2');   /* 提供 WOFF2 格式 */\n    font-weight: normal;\n    font-style: normal;\n    font-display: swap;\n}","date":"2025-09-21T11:40:54.820Z","updated":"2025-09-21T11:40:54.820Z","path":"custom/css/font.css","layout":"false","title":"","comments":1,"_id":"cmgu9560w003tg0fy06eechgn","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n@font-face{font-family:MiSans-Normal;src:url(/custom/fonts/MiSans-Normal.woff2) format('woff2');font-weight:400;font-style:normal;font-display:swap}\n/* rebuild by neat */"},{"_content":"#recent-posts > .recent-post-item:not(a)::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 200%;\n  background: linear-gradient(to right, transparent, white, transparent);\n  transform: translateX(-200%);\n  transition: transform 0.5s linear;\n  z-index: 1;\n}\n#recent-posts > .recent-post-item:not(a):hover::before {\n  transform: translateX(100%) skewX(-60deg);\n}\n\n\n\n\n","source":"custom/css/home.css","raw":"#recent-posts > .recent-post-item:not(a)::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 200%;\n  background: linear-gradient(to right, transparent, white, transparent);\n  transform: translateX(-200%);\n  transition: transform 0.5s linear;\n  z-index: 1;\n}\n#recent-posts > .recent-post-item:not(a):hover::before {\n  transform: translateX(100%) skewX(-60deg);\n}\n\n\n\n\n","date":"2025-09-22T12:36:41.798Z","updated":"2025-09-22T12:36:41.798Z","path":"custom/css/home.css","layout":"false","title":"","comments":1,"_id":"cmgu95610003yg0fy1og4gh6t","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n#recent-posts>.recent-post-item:not(a)::before{content:\"\";position:absolute;top:0;left:0;width:100%;height:200%;background:linear-gradient(to right,transparent,#fff,transparent);transform:translateX(-200%);transition:transform .5s linear;z-index:1}#recent-posts>.recent-post-item:not(a):hover::before{transform:translateX(100%) skewX(-60deg)}\n/* rebuild by neat */"},{"_content":"/* 首页头图加载 */\n.pl-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  will-change: transform; /* 添加性能优化 */\n  animation: blur-to-clear 2s cubic-bezier(.62,.21,.25,1) 0s 1 normal backwards running, scale 1.5s cubic-bezier(.62,.21,.25,1) 0s 1 both;\n}\n.pl-img {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  opacity: 0;\n  transition: opacity 1s;\n}\n\n@keyframes blur-to-clear {\n  0% {\n    filter: blur(50px);\n    opacity: 1;\n  }\n  100% {\n    filter: blur(0);\n    opacity: 1;\n  }\n}\n\n@keyframes scale {\n  0% {\n    transform: scale(1.5) translateZ(0);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1) translateZ(0);\n    opacity: 1;\n  }\n}\n\n.pl-visible {\n  opacity: 1;\n}\n\n.pl-blur {\n  /* 小图锯齿多，增加高斯模糊 */\n  filter: blur(50px);\n}","source":"custom/css/loadbigimg.css","raw":"/* 首页头图加载 */\n.pl-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  will-change: transform; /* 添加性能优化 */\n  animation: blur-to-clear 2s cubic-bezier(.62,.21,.25,1) 0s 1 normal backwards running, scale 1.5s cubic-bezier(.62,.21,.25,1) 0s 1 both;\n}\n.pl-img {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  opacity: 0;\n  transition: opacity 1s;\n}\n\n@keyframes blur-to-clear {\n  0% {\n    filter: blur(50px);\n    opacity: 1;\n  }\n  100% {\n    filter: blur(0);\n    opacity: 1;\n  }\n}\n\n@keyframes scale {\n  0% {\n    transform: scale(1.5) translateZ(0);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1) translateZ(0);\n    opacity: 1;\n  }\n}\n\n.pl-visible {\n  opacity: 1;\n}\n\n.pl-blur {\n  /* 小图锯齿多，增加高斯模糊 */\n  filter: blur(50px);\n}","date":"2025-08-05T15:04:29.985Z","updated":"2025-08-03T06:24:48.978Z","path":"custom/css/loadbigimg.css","layout":"false","title":"","comments":1,"_id":"cmgu956160042g0fy9pzrezhp","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n.pl-container{width:100%;height:100%;position:relative;overflow:hidden;will-change:transform;animation:blur-to-clear 2s cubic-bezier(.62,.21,.25,1) 0s 1 normal backwards running,scale 1.5s cubic-bezier(.62,.21,.25,1) 0s 1 both}.pl-img{width:100%;height:100%;position:absolute;background-position:center;background-size:cover;background-repeat:no-repeat;opacity:0;transition:opacity 1s}@keyframes blur-to-clear{0%{filter:blur(50px);opacity:1}100%{filter:blur(0);opacity:1}}@keyframes scale{0%{transform:scale(1.5) translateZ(0);opacity:0}to{transform:scale(1) translateZ(0);opacity:1}}.pl-visible{opacity:1}.pl-blur{filter:blur(50px)}\n/* rebuild by neat */"},{"_content":".card-widget {\n    padding: 0px!important;     /* 原文padding: 10px!important;这样会导致微信卡css发生错误 */\n    max-height: calc(100vh - 100px);\n}\n\n.card-times a, .card-times div {\n    color: var(--efu-fontcolor);\n}\n\n#card-widget-calendar .item-content {\n    display: flex;\n}\n\n#calendar-area-left {\n    width: 45%;\n}\n\n#calendar-area-right {\n    width: 55%;\n}\n\n#calendar-area-left, #calendar-area-right {\n    height: 100%;\n    padding: 4px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n\n#calendar-main {\n    width: 100%;\n}\n\n#calendar-week {\n    height: 1.2rem;\n    font-size: 14px;\n    letter-spacing: 1px;\n    font-weight: 700;\n    align-items: center;\n    display: flex;\n}\n\n#calendar-date {\n    height: 3rem;\n    line-height: 1.3;\n    font-size: 64px;\n    letter-spacing: 3px;\n    color: var(--anzhiyu-main);\n    font-weight: 700;\n    align-items: center;\n    display: flex;\n    position: absolute;\n    top: calc(50% - 2.1rem);\n}\n\n#calendar-lunar, #calendar-solar {\n    height: 1rem;\n    font-size: 12px;\n    align-items: center;\n    display: flex;\n    position: absolute;\n}\n\n#calendar-solar {\n    bottom: 1.5rem;  /* 原文bottom: 2.1rem;这样会导致微信卡css发生错误 */\n}\n\n#calendar-lunar {\n    bottom: 0.5rem;   /* 原文bottom: 1rem;这样会导致微信卡css发生错误 */\n    color: var(--efu-secondtext);\n}\n\n#calendar-main a {\n    height: 1rem;\n    width: 1rem;\n    border-radius: 50%;\n    font-size: 12px;\n    line-height: 12px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#calendar-main a.now {\n    background: var(--anzhiyu-main);\n    color: var(--efu-card-bg);\n}\n\n#calendar-main .calendar-rh a {\n    color: var(--efu-secondtext);\n}\n\n.calendar-r0, .calendar-r1, .calendar-r2, .calendar-r3, .calendar-r4, .calendar-r5, .calendar-rh {\n    height: 1.2rem;\n    display: flex;\n}\n\n.calendar-d0, .calendar-d1, .calendar-d2, .calendar-d3, .calendar-d4, .calendar-d5, .calendar-d6 {\n    width: calc(100% / 7);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#card-widget-schedule .item-content {\n    display: flex;\n}\n\n#schedule-area-left, #schedule-area-right {\n    height: 100px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n#schedule-area-left {\n    width: 30%;\n}\n\n#schedule-area-right {\n    width: 70%;\n    padding: 0 5px;\n}\n\n.schedule-r0, .schedule-r1, .schedule-r2 {\n    height: 2rem;\n    width: 100%;\n    align-items: center;\n    display: flex;\n}\n\n.schedule-d0 {\n    width: 30px;\n    margin-right: 5px;\n    text-align: center;\n    font-size: 12px;\n}\n\n.schedule-d1 {\n    width: calc(100% - 35px);\n    height: 1.5rem;\n    align-items: center;\n    display: flex;\n}\n\nprogress::-webkit-progress-bar {\n    background: linear-gradient(to right, var(--anzhiyu-main-op-deep), var(--anzhiyu-main-op), var(--anzhiyu-main-op-light));\n    border-radius: 5px;\n    overflow: hidden;\n}\n\nprogress::-webkit-progress-value {\n    background: var(--anzhiyu-main);\n    border-radius: 5px;\n}\n\n.aside-span1, .aside-span2 {\n    height: 1rem;\n    font-size: 12px;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    position: absolute;\n}\n\n.aside-span1 {\n    margin-left: 5px;\n}\n\n.aside-span2 {\n    right: 20px;\n    color: var(--efu-secondtext);\n}\n\n.aside-span2 a {\n    margin: 0 3px;\n}\n\n#pBar_month, #pBar_week, #pBar_year {\n    width: 100%;\n    border-radius: 5px;\n    height: 100%;\n}\n\n#schedule-date, #schedule-days, #schedule-title {\n    display: flex;\n    align-items: center;\n}\n\n#schedule-title {\n    height: 25px;\n    line-height: 1;\n    font-size: 14px;\n    font-weight: 700;\n}\n\n#schedule-days {\n    height: 40px;\n    line-height: 1;\n    font-size: 30px;\n    font-weight: 900;\n    color: var(--anzhiyu-main);\n}\n\n#schedule-date {\n    height: 20px;\n    line-height: 1;\n    font-size: 12px;\n    color: var(--efu-secondtext);\n}","source":"custom/css/schedule.css","raw":".card-widget {\n    padding: 0px!important;     /* 原文padding: 10px!important;这样会导致微信卡css发生错误 */\n    max-height: calc(100vh - 100px);\n}\n\n.card-times a, .card-times div {\n    color: var(--efu-fontcolor);\n}\n\n#card-widget-calendar .item-content {\n    display: flex;\n}\n\n#calendar-area-left {\n    width: 45%;\n}\n\n#calendar-area-right {\n    width: 55%;\n}\n\n#calendar-area-left, #calendar-area-right {\n    height: 100%;\n    padding: 4px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n\n#calendar-main {\n    width: 100%;\n}\n\n#calendar-week {\n    height: 1.2rem;\n    font-size: 14px;\n    letter-spacing: 1px;\n    font-weight: 700;\n    align-items: center;\n    display: flex;\n}\n\n#calendar-date {\n    height: 3rem;\n    line-height: 1.3;\n    font-size: 64px;\n    letter-spacing: 3px;\n    color: var(--anzhiyu-main);\n    font-weight: 700;\n    align-items: center;\n    display: flex;\n    position: absolute;\n    top: calc(50% - 2.1rem);\n}\n\n#calendar-lunar, #calendar-solar {\n    height: 1rem;\n    font-size: 12px;\n    align-items: center;\n    display: flex;\n    position: absolute;\n}\n\n#calendar-solar {\n    bottom: 1.5rem;  /* 原文bottom: 2.1rem;这样会导致微信卡css发生错误 */\n}\n\n#calendar-lunar {\n    bottom: 0.5rem;   /* 原文bottom: 1rem;这样会导致微信卡css发生错误 */\n    color: var(--efu-secondtext);\n}\n\n#calendar-main a {\n    height: 1rem;\n    width: 1rem;\n    border-radius: 50%;\n    font-size: 12px;\n    line-height: 12px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#calendar-main a.now {\n    background: var(--anzhiyu-main);\n    color: var(--efu-card-bg);\n}\n\n#calendar-main .calendar-rh a {\n    color: var(--efu-secondtext);\n}\n\n.calendar-r0, .calendar-r1, .calendar-r2, .calendar-r3, .calendar-r4, .calendar-r5, .calendar-rh {\n    height: 1.2rem;\n    display: flex;\n}\n\n.calendar-d0, .calendar-d1, .calendar-d2, .calendar-d3, .calendar-d4, .calendar-d5, .calendar-d6 {\n    width: calc(100% / 7);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#card-widget-schedule .item-content {\n    display: flex;\n}\n\n#schedule-area-left, #schedule-area-right {\n    height: 100px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n#schedule-area-left {\n    width: 30%;\n}\n\n#schedule-area-right {\n    width: 70%;\n    padding: 0 5px;\n}\n\n.schedule-r0, .schedule-r1, .schedule-r2 {\n    height: 2rem;\n    width: 100%;\n    align-items: center;\n    display: flex;\n}\n\n.schedule-d0 {\n    width: 30px;\n    margin-right: 5px;\n    text-align: center;\n    font-size: 12px;\n}\n\n.schedule-d1 {\n    width: calc(100% - 35px);\n    height: 1.5rem;\n    align-items: center;\n    display: flex;\n}\n\nprogress::-webkit-progress-bar {\n    background: linear-gradient(to right, var(--anzhiyu-main-op-deep), var(--anzhiyu-main-op), var(--anzhiyu-main-op-light));\n    border-radius: 5px;\n    overflow: hidden;\n}\n\nprogress::-webkit-progress-value {\n    background: var(--anzhiyu-main);\n    border-radius: 5px;\n}\n\n.aside-span1, .aside-span2 {\n    height: 1rem;\n    font-size: 12px;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    position: absolute;\n}\n\n.aside-span1 {\n    margin-left: 5px;\n}\n\n.aside-span2 {\n    right: 20px;\n    color: var(--efu-secondtext);\n}\n\n.aside-span2 a {\n    margin: 0 3px;\n}\n\n#pBar_month, #pBar_week, #pBar_year {\n    width: 100%;\n    border-radius: 5px;\n    height: 100%;\n}\n\n#schedule-date, #schedule-days, #schedule-title {\n    display: flex;\n    align-items: center;\n}\n\n#schedule-title {\n    height: 25px;\n    line-height: 1;\n    font-size: 14px;\n    font-weight: 700;\n}\n\n#schedule-days {\n    height: 40px;\n    line-height: 1;\n    font-size: 30px;\n    font-weight: 900;\n    color: var(--anzhiyu-main);\n}\n\n#schedule-date {\n    height: 20px;\n    line-height: 1;\n    font-size: 12px;\n    color: var(--efu-secondtext);\n}","date":"2025-08-05T15:04:29.985Z","updated":"2025-08-01T09:55:05.690Z","path":"custom/css/schedule.css","layout":"false","title":"","comments":1,"_id":"cmgu956180046g0fy2mc7buu5","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n.card-widget{padding:0!important;max-height:calc(100vh - 100px)}.card-times a,.card-times div{color:var(--efu-fontcolor)}#card-widget-calendar .item-content{display:flex}#calendar-area-left{width:45%}#calendar-area-right{width:55%}#calendar-area-left,#calendar-area-right{height:100%;padding:4px;display:flex;flex-direction:column;align-items:center;justify-content:center}#calendar-main{width:100%}#calendar-week{height:1.2rem;font-size:14px;letter-spacing:1px;font-weight:700;align-items:center;display:flex}#calendar-date{height:3rem;line-height:1.3;font-size:64px;letter-spacing:3px;color:var(--anzhiyu-main);font-weight:700;align-items:center;display:flex;position:absolute;top:calc(50% - 2.1rem)}#calendar-lunar,#calendar-solar{height:1rem;font-size:12px;align-items:center;display:flex;position:absolute}#calendar-solar{bottom:1.5rem}#calendar-lunar{bottom:.5rem;color:var(--efu-secondtext)}#calendar-main a{height:1rem;width:1rem;border-radius:50%;font-size:12px;line-height:12px;display:flex;justify-content:center;align-items:center}#calendar-main a.now{background:var(--anzhiyu-main);color:var(--efu-card-bg)}#calendar-main .calendar-rh a{color:var(--efu-secondtext)}.calendar-r0,.calendar-r1,.calendar-r2,.calendar-r3,.calendar-r4,.calendar-r5,.calendar-rh{height:1.2rem;display:flex}.calendar-d0,.calendar-d1,.calendar-d2,.calendar-d3,.calendar-d4,.calendar-d5,.calendar-d6{width:calc(100% / 7);display:flex;justify-content:center;align-items:center}#card-widget-schedule .item-content{display:flex}#schedule-area-left,#schedule-area-right{height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center}#schedule-area-left{width:30%}#schedule-area-right{width:70%;padding:0 5px}.schedule-r0,.schedule-r1,.schedule-r2{height:2rem;width:100%;align-items:center;display:flex}.schedule-d0{width:30px;margin-right:5px;text-align:center;font-size:12px}.schedule-d1{width:calc(100% - 35px);height:1.5rem;align-items:center;display:flex}progress::-webkit-progress-bar{background:linear-gradient(to right,var(--anzhiyu-main-op-deep),var(--anzhiyu-main-op),var(--anzhiyu-main-op-light));border-radius:5px;overflow:hidden}progress::-webkit-progress-value{background:var(--anzhiyu-main);border-radius:5px}.aside-span1,.aside-span2{height:1rem;font-size:12px;z-index:1;display:flex;align-items:center;position:absolute}.aside-span1{margin-left:5px}.aside-span2{right:20px;color:var(--efu-secondtext)}.aside-span2 a{margin:0 3px}#pBar_month,#pBar_week,#pBar_year{width:100%;border-radius:5px;height:100%}#schedule-date,#schedule-days,#schedule-title{display:flex;align-items:center}#schedule-title{height:25px;line-height:1;font-size:14px;font-weight:700}#schedule-days{height:40px;line-height:1;font-size:30px;font-weight:900;color:var(--anzhiyu-main)}#schedule-date{height:20px;line-height:1;font-size:12px;color:var(--efu-secondtext)}\n/* rebuild by neat */"},{"_content":"/* 侧边栏头像卡片 */\n#aside-content>.card-widget.card-info::before {\n  background: url('https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/userbanner.jpg');\n  border: 0;\n  position: absolute;\n  background-size: 100% 100%;\n  -webkit-animation: Gradient 10s ease infinite;\n  -moz-animation: Gradient 10s ease infinite;\n  animation: Gradient 10s ease infinite !important;\n}","source":"custom/css/userbanner.css","raw":"/* 侧边栏头像卡片 */\n#aside-content>.card-widget.card-info::before {\n  background: url('https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/userbanner.jpg');\n  border: 0;\n  position: absolute;\n  background-size: 100% 100%;\n  -webkit-animation: Gradient 10s ease infinite;\n  -moz-animation: Gradient 10s ease infinite;\n  animation: Gradient 10s ease infinite !important;\n}","date":"2025-09-22T12:36:45.022Z","updated":"2025-09-22T12:36:45.022Z","path":"custom/css/userbanner.css","layout":"false","title":"","comments":1,"_id":"cmgu9561c004bg0fye1le8ypn","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n#aside-content>.card-widget.card-info::before{background:url(https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/userbanner.jpg);border:0;position:absolute;background-size:100% 100%;-webkit-animation:Gradient 10s ease infinite;-moz-animation:Gradient 10s ease infinite;animation:Gradient 10s ease infinite!important}\n/* rebuild by neat */"},{"_content":"#welcome-info {\n    overflow: hidden;\n    border-radius: 14px;\n    --kouseki-welcome-color: #49B1F5;\n    --kouseki-ip-color: #49B1F5;\n    --kouseki-gl-size: 16px!important;\n  }","source":"custom/css/welcome.css","raw":"#welcome-info {\n    overflow: hidden;\n    border-radius: 14px;\n    --kouseki-welcome-color: #49B1F5;\n    --kouseki-ip-color: #49B1F5;\n    --kouseki-gl-size: 16px!important;\n  }","date":"2025-08-05T15:04:29.985Z","updated":"2025-08-01T11:28:00.631Z","path":"custom/css/welcome.css","layout":"false","title":"","comments":1,"_id":"cmgu9561f004gg0fyekwx8q7k","content":"/* build time:Fri Oct 17 2025 10:51:19 GMT+0800 (中国标准时间)*/\n#welcome-info{overflow:hidden;border-radius:14px;--kouseki-welcome-color:#49B1F5;--kouseki-ip-color:#49B1F5;--kouseki-gl-size:16px!important}\n/* rebuild by neat */"},{"_content":"/**\n * 农历与阳历的转换，目前只能支持1900至2100的转换\n * User: conis<conis.yi@gmail.com>\n * Github: https://github.com/conis/chinese-lunar\n * Date: 1/29/13\n * Time: 9:58 上午\n *\n */\n(function() {\n\t/*\n\t 农历每一年，对应公历的数据\n\t 此数据来源于互联网，原作者不详细，在此感谢\n\t MAPPING[0][0]：每年闰月的月份，0表示不闰\n\t MAPPING[0][1, 13]：表示每月初一对应的阳历时间，前两个字符表示月，后两个字符表示月\n\t */\n\tvar MAPPING = [\n\t\t[8, \"0131\", \"0301\", \"0331\", \"0429\", \"0528\", \"0627\", \"0726\", \"0825\", \"0924\", \"1023\", \"1122\", \"1222\", \"1320\"], \t//1900\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1012\", \"1111\", \"1211\", \"1310\"], \t//1901\n\t\t[0, \"0208\", \"0310\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1002\", \"1031\", \"1130\", \"1230\"], \t//1902\n\t\t[5, \"0129\", \"0227\", \"0329\", \"0427\", \"0527\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1219\", \"1317\"], \t//1903\n\t\t[0, \"0216\", \"0317\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1107\", \"1207\", \"1306\"], \t//1904\n\t\t[0, \"0204\", \"0306\", \"0405\", \"0504\", \"0603\", \"0703\", \"0801\", \"0830\", \"0929\", \"1028\", \"1127\", \"1226\"], \t//1905\n\t\t[4, \"0125\", \"0223\", \"0325\", \"0424\", \"0523\", \"0622\", \"0721\", \"0820\", \"0918\", \"1018\", \"1116\", \"1216\", \"1314\"], \t//1906\n\t\t[0, \"0213\", \"0314\", \"0413\", \"0512\", \"0611\", \"0710\", \"0809\", \"0908\", \"1007\", \"1106\", \"1205\", \"1304\"], \t//1907\n\t\t[0, \"0202\", \"0303\", \"0401\", \"0430\", \"0530\", \"0629\", \"0728\", \"0827\", \"0925\", \"1025\", \"1124\", \"1223\"], \t//1908\n\t\t[2, \"0122\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0816\", \"0914\", \"1014\", \"1113\", \"1213\", \"1311\"], \t//1909\n\t\t[0, \"0210\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0904\", \"1003\", \"1102\", \"1202\", \"1301\"], \t//1910\n\t\t[6, \"0130\", \"0301\", \"0330\", \"0429\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1121\", \"1220\", \"1319\"], \t//1911\n\t\t[0, \"0218\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1209\", \"1307\"], \t//1912\n\t\t[0, \"0206\", \"0308\", \"0407\", \"0506\", \"0605\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//1913\n\t\t[5, \"0126\", \"0225\", \"0327\", \"0425\", \"0525\", \"0623\", \"0723\", \"0821\", \"0920\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//1914\n\t\t[0, \"0214\", \"0316\", \"0414\", \"0514\", \"0613\", \"0712\", \"0811\", \"0909\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//1915\n\t\t[0, \"0203\", \"0304\", \"0403\", \"0502\", \"0601\", \"0630\", \"0730\", \"0829\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//1916\n\t\t[2, \"0123\", \"0222\", \"0323\", \"0421\", \"0521\", \"0619\", \"0719\", \"0818\", \"0916\", \"1016\", \"1115\", \"1214\", \"1313\"], \t//1917\n\t\t[0, \"0211\", \"0313\", \"0411\", \"0510\", \"0609\", \"0708\", \"0807\", \"0905\", \"1005\", \"1104\", \"1203\", \"1302\"], \t//1918\n\t\t[7, \"0201\", \"0302\", \"0401\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1024\", \"1122\", \"1222\", \"1321\"], \t//1919\n\t\t[0, \"0220\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0912\", \"1012\", \"1110\", \"1210\", \"1309\"], \t//1920\n\t\t[0, \"0208\", \"0310\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//1921\n\t\t[5, \"0128\", \"0227\", \"0328\", \"0427\", \"0527\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//1922\n\t\t[0, \"0216\", \"0317\", \"0416\", \"0516\", \"0614\", \"0714\", \"0812\", \"0911\", \"1010\", \"1108\", \"1208\", \"1306\"], \t//1923\n\t\t[0, \"0205\", \"0305\", \"0404\", \"0504\", \"0602\", \"0702\", \"0801\", \"0830\", \"0929\", \"1028\", \"1127\", \"1226\"], \t//1924\n\t\t[4, \"0124\", \"0223\", \"0324\", \"0423\", \"0522\", \"0621\", \"0721\", \"0819\", \"0918\", \"1018\", \"1116\", \"1216\", \"1314\"], \t//1925\n\t\t[0, \"0213\", \"0314\", \"0412\", \"0512\", \"0610\", \"0710\", \"0808\", \"0907\", \"1007\", \"1105\", \"1205\", \"1304\"], \t//1926\n\t\t[0, \"0202\", \"0304\", \"0402\", \"0501\", \"0531\", \"0629\", \"0729\", \"0827\", \"0926\", \"1025\", \"1124\", \"1224\"], \t//1927\n\t\t[2, \"0123\", \"0221\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0815\", \"0914\", \"1013\", \"1112\", \"1212\", \"1311\"], \t//1928\n\t\t[0, \"0210\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1101\", \"1201\", \"1231\"], \t//1929\n\t\t[6, \"0130\", \"0228\", \"0330\", \"0429\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1319\"], \t//1930\n\t\t[0, \"0217\", \"0319\", \"0418\", \"0517\", \"0616\", \"0715\", \"0814\", \"0912\", \"1011\", \"1110\", \"1209\", \"1308\"], \t//1931\n\t\t[0, \"0206\", \"0307\", \"0406\", \"0506\", \"0604\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//1932\n\t\t[5, \"0126\", \"0224\", \"0326\", \"0425\", \"0524\", \"0623\", \"0722\", \"0821\", \"0920\", \"1019\", \"1118\", \"1217\", \"1315\"], \t//1933\n\t\t[0, \"0214\", \"0315\", \"0414\", \"0513\", \"0612\", \"0712\", \"0810\", \"0909\", \"1008\", \"1107\", \"1207\", \"1305\"], \t//1934\n\t\t[0, \"0204\", \"0305\", \"0403\", \"0503\", \"0601\", \"0701\", \"0730\", \"0829\", \"0928\", \"1027\", \"1126\", \"1226\"], \t//1935\n\t\t[3, \"0124\", \"0223\", \"0323\", \"0421\", \"0521\", \"0619\", \"0718\", \"0817\", \"0916\", \"1015\", \"1114\", \"1214\", \"1313\"], \t//1936\n\t\t[0, \"0211\", \"0313\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1302\"], \t//1937\n\t\t[7, \"0131\", \"0302\", \"0401\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1023\", \"1122\", \"1222\", \"1320\"], \t//1938\n\t\t[0, \"0219\", \"0321\", \"0420\", \"0519\", \"0617\", \"0717\", \"0815\", \"0913\", \"1013\", \"1111\", \"1211\", \"1309\"], \t//1939\n\t\t[0, \"0208\", \"0309\", \"0408\", \"0507\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//1940\n\t\t[6, \"0127\", \"0226\", \"0328\", \"0426\", \"0526\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//1941\n\t\t[0, \"0215\", \"0317\", \"0415\", \"0515\", \"0614\", \"0713\", \"0812\", \"0910\", \"1010\", \"1108\", \"1208\", \"1306\"], \t//1942\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0603\", \"0702\", \"0801\", \"0831\", \"0929\", \"1029\", \"1127\", \"1227\"], \t//1943\n\t\t[4, \"0125\", \"0224\", \"0324\", \"0423\", \"0522\", \"0621\", \"0720\", \"0819\", \"0917\", \"1017\", \"1116\", \"1215\", \"1314\"], \t//1944\n\t\t[0, \"0213\", \"0314\", \"0412\", \"0512\", \"0610\", \"0709\", \"0808\", \"0906\", \"1006\", \"1105\", \"1205\", \"1303\"], \t//1945\n\t\t[0, \"0202\", \"0304\", \"0402\", \"0501\", \"0531\", \"0629\", \"0728\", \"0827\", \"0925\", \"1025\", \"1124\", \"1223\"], \t//1946\n\t\t[2, \"0122\", \"0221\", \"0323\", \"0421\", \"0520\", \"0619\", \"0718\", \"0816\", \"0915\", \"1014\", \"1113\", \"1212\", \"1311\"], \t//1947\n\t\t[0, \"0210\", \"0311\", \"0409\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1101\", \"1201\", \"1230\"], \t//1948\n\t\t[7, \"0129\", \"0228\", \"0329\", \"0428\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1318\"], \t//1949\n\t\t[0, \"0217\", \"0318\", \"0417\", \"0517\", \"0615\", \"0715\", \"0814\", \"0912\", \"1011\", \"1110\", \"1209\", \"1308\"], \t//1950\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0506\", \"0605\", \"0704\", \"0803\", \"0901\", \"1001\", \"1030\", \"1129\", \"1228\"], \t//1951\n\t\t[5, \"0127\", \"0225\", \"0326\", \"0424\", \"0524\", \"0622\", \"0722\", \"0820\", \"0919\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//1952\n\t\t[0, \"0214\", \"0315\", \"0414\", \"0513\", \"0611\", \"0711\", \"0810\", \"0908\", \"1008\", \"1107\", \"1206\", \"1305\"], \t//1953\n\t\t[0, \"0203\", \"0305\", \"0403\", \"0503\", \"0601\", \"0630\", \"0730\", \"0828\", \"0927\", \"1027\", \"1126\", \"1225\"], \t//1954\n\t\t[3, \"0124\", \"0222\", \"0324\", \"0422\", \"0522\", \"0620\", \"0719\", \"0818\", \"0916\", \"1016\", \"1114\", \"1214\", \"1313\"], \t//1955\n\t\t[0, \"0212\", \"0312\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1301\"], \t//1956\n\t\t[8, \"0131\", \"0302\", \"0331\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1023\", \"1122\", \"1221\", \"1320\"], \t//1957\n\t\t[0, \"0218\", \"0320\", \"0419\", \"0519\", \"0617\", \"0717\", \"0815\", \"0913\", \"1013\", \"1111\", \"1211\", \"1309\"], \t//1958\n\t\t[0, \"0208\", \"0309\", \"0408\", \"0508\", \"0606\", \"0706\", \"0804\", \"0903\", \"1002\", \"1101\", \"1130\", \"1230\"], \t//1959\n\t\t[6, \"0128\", \"0227\", \"0327\", \"0426\", \"0525\", \"0624\", \"0724\", \"0822\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//1960\n\t\t[0, \"0215\", \"0317\", \"0415\", \"0515\", \"0613\", \"0713\", \"0811\", \"0910\", \"1010\", \"1108\", \"1208\", \"1306\"], \t//1961\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0602\", \"0702\", \"0731\", \"0830\", \"0929\", \"1028\", \"1127\", \"1227\"], \t//1962\n\t\t[4, \"0125\", \"0224\", \"0325\", \"0424\", \"0523\", \"0621\", \"0721\", \"0819\", \"0918\", \"1017\", \"1116\", \"1216\", \"1315\"], \t//1963\n\t\t[0, \"0213\", \"0314\", \"0412\", \"0512\", \"0610\", \"0709\", \"0808\", \"0906\", \"1006\", \"1104\", \"1204\", \"1303\"], \t//1964\n\t\t[0, \"0202\", \"0303\", \"0402\", \"0501\", \"0531\", \"0629\", \"0728\", \"0827\", \"0925\", \"1024\", \"1123\", \"1223\"], \t//1965\n\t\t[3, \"0121\", \"0220\", \"0322\", \"0421\", \"0520\", \"0619\", \"0718\", \"0816\", \"0915\", \"1014\", \"1112\", \"1212\", \"1311\"], \t//1966\n\t\t[0, \"0209\", \"0311\", \"0410\", \"0509\", \"0608\", \"0708\", \"0806\", \"0904\", \"1004\", \"1102\", \"1202\", \"1231\"], \t//1967\n\t\t[7, \"0130\", \"0228\", \"0329\", \"0427\", \"0527\", \"0626\", \"0725\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1318\"], \t//1968\n\t\t[0, \"0217\", \"0318\", \"0417\", \"0516\", \"0615\", \"0714\", \"0813\", \"0912\", \"1011\", \"1110\", \"1209\", \"1308\"], \t//1969\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0505\", \"0604\", \"0703\", \"0802\", \"0901\", \"0930\", \"1030\", \"1129\", \"1228\"], \t//1970\n\t\t[5, \"0127\", \"0225\", \"0327\", \"0425\", \"0524\", \"0623\", \"0722\", \"0821\", \"0919\", \"1019\", \"1118\", \"1218\", \"1316\"], \t//1971\n\t\t[0, \"0215\", \"0315\", \"0414\", \"0513\", \"0611\", \"0711\", \"0809\", \"0908\", \"1007\", \"1106\", \"1206\", \"1304\"], \t//1972\n\t\t[0, \"0203\", \"0305\", \"0403\", \"0503\", \"0601\", \"0630\", \"0730\", \"0828\", \"0926\", \"1026\", \"1125\", \"1224\"], \t//1973\n\t\t[4, \"0123\", \"0222\", \"0324\", \"0422\", \"0522\", \"0620\", \"0719\", \"0818\", \"0916\", \"1015\", \"1114\", \"1214\", \"1312\"], \t//1974\n\t\t[0, \"0211\", \"0313\", \"0412\", \"0511\", \"0610\", \"0709\", \"0807\", \"0906\", \"1005\", \"1103\", \"1203\", \"1301\"], \t//1975\n\t\t[8, \"0131\", \"0301\", \"0331\", \"0429\", \"0529\", \"0627\", \"0727\", \"0825\", \"0924\", \"1023\", \"1121\", \"1221\", \"1319\"], \t//1976\n\t\t[0, \"0218\", \"0320\", \"0418\", \"0518\", \"0617\", \"0716\", \"0815\", \"0913\", \"1013\", \"1111\", \"1211\", \"1309\"], \t//1977\n\t\t[0, \"0207\", \"0309\", \"0407\", \"0507\", \"0606\", \"0705\", \"0804\", \"0902\", \"1002\", \"1101\", \"1130\", \"1230\"], \t//1978\n\t\t[6, \"0128\", \"0227\", \"0328\", \"0426\", \"0526\", \"0624\", \"0724\", \"0823\", \"0921\", \"1021\", \"1120\", \"1219\", \"1318\"], \t//1979\n\t\t[0, \"0216\", \"0317\", \"0415\", \"0514\", \"0613\", \"0712\", \"0811\", \"0909\", \"1009\", \"1108\", \"1207\", \"1306\"], \t//1980\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0602\", \"0702\", \"0731\", \"0829\", \"0928\", \"1028\", \"1126\", \"1226\"], \t//1981\n\t\t[4, \"0125\", \"0224\", \"0325\", \"0424\", \"0523\", \"0621\", \"0721\", \"0819\", \"0917\", \"1017\", \"1115\", \"1215\", \"1314\"], \t//1982\n\t\t[0, \"0213\", \"0315\", \"0413\", \"0513\", \"0611\", \"0710\", \"0809\", \"0907\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//1983\n\t\t[10, \"0202\", \"0303\", \"0401\", \"0501\", \"0531\", \"0629\", \"0728\", \"0827\", \"0925\", \"1024\", \"1123\", \"1222\", \"1321\"], \t//1984\n\t\t[0, \"0220\", \"0321\", \"0420\", \"0520\", \"0618\", \"0718\", \"0816\", \"0915\", \"1014\", \"1112\", \"1212\", \"1310\"], \t//1985\n\t\t[0, \"0209\", \"0310\", \"0409\", \"0509\", \"0607\", \"0707\", \"0806\", \"0904\", \"1004\", \"1102\", \"1202\", \"1231\"], \t//1986\n\t\t[6, \"0129\", \"0228\", \"0329\", \"0428\", \"0527\", \"0626\", \"0726\", \"0824\", \"0923\", \"1023\", \"1121\", \"1221\", \"1319\"], \t//1987\n\t\t[0, \"0217\", \"0318\", \"0416\", \"0516\", \"0614\", \"0714\", \"0812\", \"0911\", \"1011\", \"1109\", \"1209\", \"1308\"], \t//1988\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0505\", \"0604\", \"0703\", \"0802\", \"0831\", \"0930\", \"1029\", \"1128\", \"1228\"], \t//1989\n\t\t[5, \"0127\", \"0225\", \"0327\", \"0425\", \"0524\", \"0623\", \"0722\", \"0820\", \"0919\", \"1018\", \"1117\", \"1217\", \"1316\"], \t//1990\n\t\t[0, \"0215\", \"0316\", \"0415\", \"0514\", \"0612\", \"0712\", \"0810\", \"0908\", \"1008\", \"1106\", \"1206\", \"1305\"], \t//1991\n\t\t[0, \"0204\", \"0304\", \"0403\", \"0503\", \"0601\", \"0630\", \"0730\", \"0828\", \"0926\", \"1026\", \"1124\", \"1224\"], \t//1992\n\t\t[3, \"0123\", \"0221\", \"0323\", \"0422\", \"0521\", \"0620\", \"0719\", \"0818\", \"0916\", \"1015\", \"1114\", \"1213\", \"1312\"], \t//1993\n\t\t[0, \"0210\", \"0312\", \"0411\", \"0511\", \"0609\", \"0709\", \"0807\", \"0906\", \"1005\", \"1103\", \"1203\", \"1301\"], \t//1994\n\t\t[8, \"0131\", \"0301\", \"0331\", \"0430\", \"0529\", \"0628\", \"0727\", \"0826\", \"0925\", \"1024\", \"1122\", \"1222\", \"1320\"], \t//1995\n\t\t[0, \"0219\", \"0319\", \"0418\", \"0517\", \"0616\", \"0715\", \"0814\", \"0912\", \"1012\", \"1111\", \"1211\", \"1309\"], \t//1996\n\t\t[0, \"0207\", \"0309\", \"0407\", \"0507\", \"0605\", \"0705\", \"0803\", \"0902\", \"1002\", \"1031\", \"1130\", \"1230\"], \t//1997\n\t\t[5, \"0128\", \"0227\", \"0328\", \"0426\", \"0526\", \"0624\", \"0723\", \"0822\", \"0921\", \"1020\", \"1119\", \"1219\", \"1317\"], \t//1998\n\t\t[0, \"0216\", \"0318\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1108\", \"1208\", \"1307\"], \t//1999\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0602\", \"0702\", \"0731\", \"0829\", \"0928\", \"1027\", \"1126\", \"1226\"], \t//2000\n\t\t[4, \"0124\", \"0223\", \"0325\", \"0423\", \"0523\", \"0621\", \"0721\", \"0819\", \"0917\", \"1017\", \"1115\", \"1215\", \"1313\"], \t//2001\n\t\t[0, \"0212\", \"0314\", \"0413\", \"0512\", \"0611\", \"0710\", \"0809\", \"0907\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//2002\n\t\t[0, \"0201\", \"0303\", \"0402\", \"0501\", \"0531\", \"0630\", \"0729\", \"0828\", \"0926\", \"1025\", \"1124\", \"1223\"], \t//2003\n\t\t[2, \"0122\", \"0220\", \"0321\", \"0419\", \"0519\", \"0618\", \"0717\", \"0816\", \"0914\", \"1014\", \"1112\", \"1212\", \"1310\"], \t//2004\n\t\t[0, \"0209\", \"0310\", \"0409\", \"0508\", \"0607\", \"0706\", \"0805\", \"0904\", \"1003\", \"1102\", \"1201\", \"1231\"], \t//2005\n\t\t[7, \"0129\", \"0228\", \"0329\", \"0428\", \"0527\", \"0626\", \"0725\", \"0824\", \"0922\", \"1022\", \"1121\", \"1220\", \"1319\"], \t//2006\n\t\t[0, \"0218\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1011\", \"1110\", \"1210\", \"1308\"], \t//2007\n\t\t[0, \"0207\", \"0308\", \"0406\", \"0505\", \"0604\", \"0703\", \"0801\", \"0831\", \"0929\", \"1029\", \"1128\", \"1227\"], \t//2008\n\t\t[5, \"0126\", \"0225\", \"0327\", \"0425\", \"0524\", \"0623\", \"0722\", \"0820\", \"0919\", \"1018\", \"1117\", \"1216\", \"1315\"], \t//2009\n\t\t[0, \"0214\", \"0316\", \"0414\", \"0514\", \"0612\", \"0712\", \"0810\", \"0908\", \"1008\", \"1106\", \"1206\", \"1304\"], \t//2010\n\t\t[0, \"0203\", \"0305\", \"0403\", \"0503\", \"0602\", \"0701\", \"0731\", \"0829\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2011\n\t\t[4, \"0123\", \"0222\", \"0322\", \"0421\", \"0521\", \"0619\", \"0719\", \"0817\", \"0916\", \"1015\", \"1114\", \"1213\", \"1312\"], \t//2012\n\t\t[0, \"0210\", \"0312\", \"0410\", \"0510\", \"0608\", \"0708\", \"0807\", \"0905\", \"1005\", \"1103\", \"1203\", \"1301\"], \t//2013\n\t\t[9, \"0131\", \"0301\", \"0331\", \"0429\", \"0529\", \"0627\", \"0727\", \"0825\", \"0924\", \"1024\", \"1122\", \"1222\", \"1320\"], \t//2014\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1013\", \"1112\", \"1211\", \"1310\"], \t//2015\n\t\t[0, \"0208\", \"0309\", \"0407\", \"0507\", \"0605\", \"0704\", \"0803\", \"0901\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//2016\n\t\t[6, \"0128\", \"0226\", \"0328\", \"0426\", \"0526\", \"0624\", \"0723\", \"0822\", \"0920\", \"1020\", \"1118\", \"1218\", \"1317\"], \t//2017\n\t\t[0, \"0216\", \"0317\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1108\", \"1207\", \"1306\"], \t//2018\n\t\t[0, \"0205\", \"0307\", \"0405\", \"0505\", \"0603\", \"0703\", \"0801\", \"0830\", \"0929\", \"1028\", \"1126\", \"1226\"], \t//2019\n\t\t[4, \"0125\", \"0223\", \"0324\", \"0423\", \"0523\", \"0621\", \"0721\", \"0819\", \"0917\", \"1017\", \"1115\", \"1215\", \"1313\"], \t//2020\n\t\t[0, \"0212\", \"0313\", \"0412\", \"0512\", \"0610\", \"0710\", \"0808\", \"0907\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//2021\n\t\t[0, \"0201\", \"0303\", \"0401\", \"0501\", \"0530\", \"0629\", \"0729\", \"0827\", \"0926\", \"1025\", \"1124\", \"1223\"], \t//2022\n\t\t[2, \"0122\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0718\", \"0816\", \"0915\", \"1015\", \"1113\", \"1213\", \"1311\"], \t//2023\n\t\t[0, \"0210\", \"0310\", \"0409\", \"0508\", \"0606\", \"0706\", \"0804\", \"0903\", \"1003\", \"1101\", \"1201\", \"1231\"], \t//2024\n\t\t[6, \"0129\", \"0228\", \"0329\", \"0428\", \"0527\", \"0625\", \"0725\", \"0823\", \"0922\", \"1021\", \"1120\", \"1220\", \"1319\"], \t//2025\n\t\t[0, \"0217\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1209\", \"1308\"], \t//2026\n\t\t[0, \"0206\", \"0308\", \"0407\", \"0506\", \"0605\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1228\"], \t//2027\n\t\t[5, \"0126\", \"0225\", \"0326\", \"0425\", \"0524\", \"0623\", \"0722\", \"0820\", \"0919\", \"1018\", \"1116\", \"1216\", \"1315\"], \t//2028\n\t\t[0, \"0213\", \"0315\", \"0414\", \"0513\", \"0612\", \"0711\", \"0810\", \"0908\", \"1008\", \"1106\", \"1205\", \"1304\"], \t//2029\n\t\t[0, \"0203\", \"0304\", \"0403\", \"0502\", \"0601\", \"0701\", \"0730\", \"0829\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2030\n\t\t[3, \"0123\", \"0221\", \"0323\", \"0422\", \"0521\", \"0620\", \"0719\", \"0818\", \"0917\", \"1016\", \"1115\", \"1214\", \"1313\"], \t//2031\n\t\t[0, \"0211\", \"0312\", \"0410\", \"0509\", \"0608\", \"0707\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1301\"], \t//2032\n\t\t[7, \"0131\", \"0301\", \"0331\", \"0429\", \"0528\", \"0627\", \"0726\", \"0825\", \"0923\", \"1023\", \"1122\", \"1222\", \"1320\"], \t//2033\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1012\", \"1111\", \"1211\", \"1309\"], \t//2034\n\t\t[0, \"0208\", \"0310\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1130\", \"1229\"], \t//2035\n\t\t[6, \"0128\", \"0227\", \"0328\", \"0426\", \"0526\", \"0624\", \"0723\", \"0822\", \"0920\", \"1019\", \"1118\", \"1217\", \"1316\"], \t//2036\n\t\t[0, \"0215\", \"0317\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//2037\n\t\t[0, \"0204\", \"0306\", \"0405\", \"0504\", \"0603\", \"0702\", \"0801\", \"0830\", \"0929\", \"1028\", \"1126\", \"1226\"], \t//2038\n\t\t[5, \"0124\", \"0223\", \"0325\", \"0423\", \"0523\", \"0622\", \"0721\", \"0820\", \"0918\", \"1018\", \"1116\", \"1216\", \"1314\"], \t//2039\n\t\t[0, \"0212\", \"0313\", \"0411\", \"0511\", \"0610\", \"0709\", \"0808\", \"0906\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//2040\n\t\t[0, \"0201\", \"0302\", \"0401\", \"0430\", \"0530\", \"0628\", \"0728\", \"0827\", \"0925\", \"1025\", \"1124\", \"1223\"], \t//2041\n\t\t[2, \"0122\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0816\", \"0914\", \"1014\", \"1113\", \"1212\", \"1311\"], \t//2042\n\t\t[0, \"0210\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1102\", \"1201\", \"1231\"], \t//2043\n\t\t[7, \"0130\", \"0229\", \"0329\", \"0428\", \"0527\", \"0625\", \"0725\", \"0823\", \"0921\", \"1021\", \"1119\", \"1219\", \"1318\"], \t//2044\n\t\t[0, \"0217\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1208\", \"1307\"], \t//2045\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0506\", \"0604\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//2046\n\t\t[5, \"0126\", \"0225\", \"0326\", \"0425\", \"0525\", \"0623\", \"0723\", \"0821\", \"0920\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//2047\n\t\t[0, \"0214\", \"0314\", \"0413\", \"0513\", \"0611\", \"0711\", \"0810\", \"0908\", \"1008\", \"1106\", \"1205\", \"1304\"], \t//2048\n\t\t[0, \"0202\", \"0304\", \"0402\", \"0502\", \"0531\", \"0630\", \"0730\", \"0828\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2049\n\t\t[3, \"0123\", \"0221\", \"0323\", \"0421\", \"0521\", \"0619\", \"0719\", \"0817\", \"0916\", \"1016\", \"1114\", \"1214\", \"1313\"], \t//2050\n\t\t[0, \"0211\", \"0313\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1005\", \"1103\", \"1203\", \"1302\"], \t//2051\n\t\t[8, \"0201\", \"0301\", \"0331\", \"0429\", \"0528\", \"0627\", \"0726\", \"0824\", \"0923\", \"1022\", \"1121\", \"1221\", \"1320\"], \t//2052\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0912\", \"1012\", \"1110\", \"1210\", \"1309\"], \t//2053\n\t\t[0, \"0208\", \"0309\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//2054\n\t\t[6, \"0128\", \"0226\", \"0328\", \"0427\", \"0526\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//2055\n\t\t[0, \"0215\", \"0316\", \"0415\", \"0515\", \"0613\", \"0713\", \"0811\", \"0910\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//2056\n\t\t[0, \"0204\", \"0305\", \"0404\", \"0504\", \"0602\", \"0702\", \"0731\", \"0830\", \"0929\", \"1028\", \"1126\", \"1226\"], \t//2057\n\t\t[4, \"0124\", \"0223\", \"0324\", \"0423\", \"0522\", \"0621\", \"0720\", \"0819\", \"0918\", \"1017\", \"1116\", \"1216\", \"1314\"], \t//2058\n\t\t[0, \"0212\", \"0314\", \"0412\", \"0512\", \"0610\", \"0710\", \"0808\", \"0907\", \"1006\", \"1105\", \"1205\", \"1304\"], \t//2059\n\t\t[0, \"0202\", \"0303\", \"0401\", \"0501\", \"0530\", \"0628\", \"0727\", \"0826\", \"0924\", \"1024\", \"1123\", \"1223\"], \t//2060\n\t\t[3, \"0121\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0815\", \"0914\", \"1013\", \"1112\", \"1212\", \"1311\"], \t//2061\n\t\t[0, \"0209\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1101\", \"1201\", \"1231\"], \t//2062\n\t\t[7, \"0129\", \"0228\", \"0330\", \"0428\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1318\"], \t//2063\n\t\t[0, \"0217\", \"0318\", \"0417\", \"0516\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1208\", \"1307\"], \t//2064\n\t\t[0, \"0205\", \"0307\", \"0406\", \"0505\", \"0604\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//2065\n\t\t[5, \"0126\", \"0224\", \"0326\", \"0424\", \"0524\", \"0623\", \"0722\", \"0821\", \"0919\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//2066\n\t\t[0, \"0214\", \"0315\", \"0414\", \"0513\", \"0612\", \"0711\", \"0810\", \"0909\", \"1008\", \"1107\", \"1206\", \"1305\"], \t//2067\n\t\t[0, \"0203\", \"0304\", \"0402\", \"0502\", \"0531\", \"0629\", \"0729\", \"0828\", \"0926\", \"1026\", \"1125\", \"1224\"], \t//2068\n\t\t[4, \"0123\", \"0221\", \"0323\", \"0421\", \"0521\", \"0619\", \"0718\", \"0817\", \"0915\", \"1015\", \"1114\", \"1214\", \"1312\"], \t//2069\n\t\t[0, \"0211\", \"0312\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1301\"], \t//2070\n\t\t[8, \"0131\", \"0302\", \"0331\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1023\", \"1122\", \"1221\", \"1320\"], \t//2071\n\t\t[0, \"0219\", \"0320\", \"0418\", \"0518\", \"0616\", \"0716\", \"0814\", \"0912\", \"1012\", \"1110\", \"1210\", \"1308\"], \t//2072\n\t\t[0, \"0207\", \"0309\", \"0407\", \"0507\", \"0605\", \"0704\", \"0803\", \"0901\", \"0930\", \"1030\", \"1128\", \"1228\"], \t//2073\n\t\t[6, \"0126\", \"0225\", \"0326\", \"0425\", \"0525\", \"0623\", \"0723\", \"0821\", \"0920\", \"1019\", \"1118\", \"1217\", \"1316\"], \t//2074\n\t\t[0, \"0214\", \"0316\", \"0414\", \"0514\", \"0612\", \"0712\", \"0811\", \"0909\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//2075\n\t\t[0, \"0204\", \"0304\", \"0403\", \"0502\", \"0601\", \"0630\", \"0730\", \"0828\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2076\n\t\t[0, \"0123\", \"0222\", \"0323\", \"0422\", \"0521\", \"0620\", \"0719\", \"0818\", \"0917\", \"1017\", \"1115\", \"1215\"], \t//2077\n\t\t[0, \"0113\", \"0212\", \"0313\", \"0412\", \"0511\", \"0609\", \"0709\", \"0807\", \"0906\", \"1006\", \"1104\", \"1204\"], \t//2078\n\t\t[0, \"0103\", \"0201\", \"0303\", \"0401\", \"0501\", \"0530\", \"0628\", \"0728\", \"0826\", \"0925\", \"1024\", \"1123\"], \t//2079\n\t\t[3, \"1223\", \"0122\", \"0220\", \"0321\", \"0419\", \"0519\", \"0617\", \"0716\", \"0815\", \"0913\", \"1012\", \"1111\", \"1211\"], \t//2080\n\t\t[0, \"0110\", \"0208\", \"0310\", \"0409\", \"0508\", \"0607\", \"0706\", \"0804\", \"0903\", \"1002\", \"1031\", \"1130\"], \t//2081\n\t\t[7, \"1230\", \"0128\", \"0227\", \"0329\", \"0428\", \"0527\", \"0625\", \"0725\", \"0823\", \"0922\", \"1021\", \"1119\", \"1219\"], \t//2082\n\t\t[0, \"0118\", \"0216\", \"0318\", \"0417\", \"0516\", \"0615\", \"0714\", \"0813\", \"0911\", \"1011\", \"1109\", \"1209\"], \t//2083\n\t\t[0, \"0107\", \"0206\", \"0306\", \"0405\", \"0504\", \"0603\", \"0703\", \"0801\", \"0831\", \"0929\", \"1029\", \"1127\"], \t//2084\n\t\t[5, \"1227\", \"0125\", \"0224\", \"0325\", \"0423\", \"0523\", \"0622\", \"0721\", \"0820\", \"0919\", \"1018\", \"1117\", \"1216\"], \t//2085\n\t\t[0, \"0115\", \"0213\", \"0315\", \"0413\", \"0512\", \"0611\", \"0710\", \"0809\", \"0908\", \"1007\", \"1106\", \"1206\"], \t//2086\n\t\t[0, \"0104\", \"0203\", \"0304\", \"0403\", \"0502\", \"0531\", \"0630\", \"0729\", \"0828\", \"0926\", \"1026\", \"1125\"], \t//2087\n\t\t[4, \"1225\", \"0123\", \"0222\", \"0322\", \"0421\", \"0520\", \"0618\", \"0718\", \"0816\", \"0914\", \"1014\", \"1113\", \"1213\"], \t//2088\n\t\t[0, \"0111\", \"0210\", \"0312\", \"0410\", \"0510\", \"0608\", \"0707\", \"0806\", \"0904\", \"1003\", \"1102\", \"1202\"], \t//2089\n\t\t[8, \"1231\", \"0130\", \"0301\", \"0331\", \"0429\", \"0529\", \"0627\", \"0726\", \"0825\", \"0923\", \"1022\", \"1121\", \"1221\"], \t//2090\n\t\t[0, \"0119\", \"0218\", \"0320\", \"0418\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1012\", \"1110\", \"1210\"], \t//2091\n\t\t[0, \"0108\", \"0207\", \"0308\", \"0406\", \"0506\", \"0605\", \"0704\", \"0803\", \"0901\", \"1001\", \"1030\", \"1129\"], \t//2092\n\t\t[6, \"1228\", \"0126\", \"0225\", \"0327\", \"0425\", \"0525\", \"0623\", \"0723\", \"0822\", \"0920\", \"1020\", \"1118\", \"1218\"], \t//2093\n\t\t[0, \"0116\", \"0214\", \"0316\", \"0414\", \"0514\", \"0612\", \"0712\", \"0811\", \"0909\", \"1009\", \"1108\", \"1207\"], \t//2094\n\t\t[0, \"0106\", \"0204\", \"0306\", \"0404\", \"0503\", \"0602\", \"0701\", \"0731\", \"0829\", \"0928\", \"1028\", \"1127\"], \t//2095\n\t\t[4, \"1226\", \"0125\", \"0223\", \"0324\", \"0422\", \"0521\", \"0620\", \"0719\", \"0817\", \"0916\", \"1016\", \"1115\", \"1214\"], \t//2096\n\t\t[0, \"0113\", \"0212\", \"0313\", \"0412\", \"0511\", \"0609\", \"0709\", \"0807\", \"0905\", \"1005\", \"1104\", \"1203\"], \t//2097\n\t\t[0, \"0102\", \"0201\", \"0303\", \"0401\", \"0501\", \"0530\", \"0628\", \"0727\", \"0826\", \"0924\", \"1024\", \"1122\"], \t//2098\n\t\t[2, \"1222\", \"0121\", \"0220\", \"0321\", \"0420\", \"0520\", \"0618\", \"0717\", \"0816\", \"0914\", \"1013\", \"1112\", \"1211\"] \t//2099\n\t];\n\tvar MINYEAR = 1900;\n\tvar _chineseLunar = {};\n\n\t/*\n\t * 分析日期表达式，并提取其中的单位和数值\n\t */\n\tvar _expression = function(expr) {\n\t\tvar list = expr.match(/[+-]?\\d+((ms)|[yMdhmsw])/g);\n\t\tvar result = [];\n\t\tfor(var i = 0; i < list.length; i++){\n\t\t\t//提取单位和数值\n\t\t\tif (/([+-])(\\d+)(.+)/.test(list[i])) {\n\t\t\t\tvar val = parseInt(RegExp.$2);\n\t\t\t\tif(RegExp.$1 === \"-\") val = -val;\n\n\t\t\t\tresult.push({\n\t\t\t\t\tvalue: val,\n\t\t\t\t\tunit: RegExp.$3\n\t\t\t\t});\n\t\t\t};\n\t\t\treturn result;\n\t\t};\n\t};\n\n\t//计算公历两个日期之差\n\tvar _solarDiff = function(left, right, interval) {\n\t\tvar span = left.getTime() - right.getTime(); //相差毫秒\n\t\tswitch (interval) {\n\t\t\tcase \"y\": return parseInt(left.getFullYear() - right.getFullYear());\n\t\t\tcase \"M\": return parseInt((left.getFullYear() - right.getFullYear()) * 12 + (left.getMonth() - right.getMonth()));\n\t\t\tcase \"d\": return Math.ceil(span / 1000 / 60 / 60 / 24);\n\t\t\tcase \"w\": return Math.floor(span / 1000 / 60 / 60 / 24 / 7);\n\t\t\tcase \"h\": return Math.floor(span / 1000 / 60 / 60);\n\t\t\tcase \"m\": return Math.floor(span / 1000 / 60);\n\t\t\tcase \"s\": return Math.floor(span / 1000);\n\t\t\tcase \"ms\": return parseInt(span);\n\t\t}\n\t}\n\n\t//_solarAdd(date, '5d-6m');\n\tvar _solarAdd = function(date, expr){\n\n\t};\n\n\t/*\n\t 找到农历\n\t isPerYear，是否为农历前一年的对应数据\n\t */\n\tvar _findLunar = function(solar, index, minMonth, maxMonth, isPreYear) {\n\t\t//取得映射的数据\n\t\tvar mapping = MAPPING[index];\n\t\tif (!mapping) return false;\n\n\t\tvar year = solar.getFullYear()\n\t\t\t, month = solar.getMonth() + 1\n\t\t\t, date = solar.getDate();\n\t\tvar lunarYear = year;\n\t\tvar lunarMonth, find, solarMonth;\n\n\t\t//查找农历\n\t\tfor (var i = mapping.length - 1; i > 0; i--) {\n\t\t\tlunarMonth = i;\n\t\t\t//取对应的农历月与天\n\t\t\tvar segMonth = Number(mapping[i].substring(0, 2));\n\t\t\tvar segDay = Number(mapping[i].substring(2, 4));\n\n\t\t\tsolarMonth = isPreYear && segMonth > 12 ? segMonth - 12 : segMonth;\n\t\t\tfind = solarMonth < month || (solarMonth == month && segDay <= date) ||\n\t\t\t\t((segMonth <= minMonth || segMonth >= maxMonth) && isPreYear);\n\t\t\tif ((solarMonth == 12 && solarMonth > month && i == 1)) {\n\t\t\t\tfind = true;\n\t\t\t\tyear--;\n\t\t\t};\n\t\t\tif (find) break;\n\t\t}\n\n\t\t//如果找到，则赋值\n\t\tif(!find) return false;\n\t\t//取前一年\n\t\tif (isPreYear && segMonth == 12) year = year - 1;\n\t\tlunarYear = isPreYear ? lunarYear - 1 : lunarYear;\n\t\treturn {\n\t\t\tyear: year,\n\t\t\tmonth: solarMonth,\n\t\t\tday: segDay,\n\t\t\tlunarYear: lunarYear,\n\t\t\tlunarMonth: lunarMonth,\n\t\t\tleapMonth: mapping[0]\t\t\t//闰月\n\t\t};\n\t};\n\n\t//日期累加\n\tvar _dateAdd = function(lunar, value, unit){\n\t\tif(unit == 'M'){\n\t\t\treturn _chineseLunar.monthAdd(lunar, value);\n\t\t}else{\n\t\t\t//转换为阳历，计算完再转为农历\n\t\t\tvar solar = _chineseLunar.lunarToSolar(lunar);\n\t\t\tsolar = _solarAdd(solar, value, unit);\n\t\t\treturn _chineseLunar.solarToLunar(solar);\n\t\t};\n\t};\n\n\t/*\n\t 农历相加\n\t */\n\t_chineseLunar.dateAdd = function(lunar, expr) {\n\t\t//分析表达式\n\t\tvar list = _expression(expr);\n\n\t\tfor(var i = 0; i < list.length; i ++){\n\t\t\tlunar = _dateAdd(lunar, list[i]);\n\t\t};\n\t\treturn lunar;\n\t};\n\n\t/*\n\t 计算两个农历时间的差值，主要计算月份之间的差，其它和公历是一样的\n\t */\n\t_chineseLunar.dateDiff = function(lunar1, lunar2, expr) {\n\t\t//计算农历月份差值\n\t\tif(expr == \"M\"){\n\t\t\treturn _chineseLunar.monthDiff(lunar1, lunar2);\n\t\t};\n\n\t\t//先转成公历，除了月份，其它的都可以按公历计算\n\t\tvar solar1 = _chineseLunar.lunarToSolar(lunar1);\n\t\tvar solar2 = _chineseLunar.lunarToSolar(lunar2);\n\t\t//再把农历转到公历\n\t\treturn _solarDiff(solar2, solar1, expr);\n\t};\n\n\t/*\n\t 农历月份相加\n\t */\n\t_chineseLunar.monthAdd = function(lunar, inc) {\n\t\t//如果是Date，则转换为农历\n\t\tif (lunar instanceof Date) lunar = _chineseLunar.solarToLunar(lunar);\n\t\tif (inc == 0) return lunar;\n\n\t\tvar year = lunar.year, count;\n\t\tvar month = lunar.month;\n\t\tif(lunar.leap ||\n\t\t\t(lunar.leapMonth > 0 && lunar.month > lunar.leapMonth)) month++;\n\n\t\tvar run = true;\n\t\tdo {\n\t\t\t//计算当前年有多少个月\n\t\t\tcount = _chineseLunar.monthsOfYear(year);\n\t\t\tinc = inc + month - count;\n\t\t\tif (inc <= 0) {\n\t\t\t\trun = false;\n\t\t\t\tmonth = year == lunar.year ? count + inc : count + inc - month;\n\t\t\t}else {\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\t\t} while (run);\n\n\t\t//获取最后的结果年的闰月是哪一个月\n\t\tvar leapMonth = _chineseLunar.leapMonthOfYear(year);\n\t\tvar leap = false;\n\t\t//如果闰月大于农历月，则月份减1\n\t\tif (leapMonth > 0 && month > leapMonth) {\n\t\t\tmonth--;\n\t\t\t//如果减完后月份和闰月相等，表示是闰月\n\t\t\tleap = month == leapMonth;\n\t\t}\n\n\t\treturn {\n\t\t\tyear: year,\n\t\t\tmonth: month,\n\t\t\tleap: leap,\n\t\t\tleapMonth: leapMonth\n\t\t};\n\t};\n\n\t/*\n\t * 返回两段日期的农历差了多少个月，因为有闰月，所以和公历不一样\n\t * date1和date2允许为公历\n\t */\n\t_chineseLunar.monthDiff = function(lunar1, lunar2) {\n\t\t//如果是公历的日期格式，则转换为农历\n\t\tvar count = 0;\n\n\t\t//如果数据类型是日期，则转换为农历\n\t\tif (lunar1 instanceof Date) lunar1 = _chineseLunar.solarToLunar(lunar1);\n\t\tif (lunar2 instanceof Date) lunar2 = _chineseLunar.solarToLunar(lunar2);\n\n\t\t//两个日期是同一年\n\t\tif (lunar1.year == lunar2.year) {\n\t\t\tcount = lunar2.month - lunar1.month;\n\t\t\t//中间有闰月的存在，计数器加一\n\t\t\tif (lunar1.leapMonth >= lunar1.month && lunar1.leapMonth <= lunar2.month) count++;\n\t\t} else {\n\t\t\t//计算首年，如果当前的闰月大于当前月，或者当前年有闰月且当前月等于闰月，但当前月又不是闰月，则要多添加一个月\n\t\t\tcount = 12;\n\t\t\tif(lunar1.leapMonth > lunar1.month ||\n\t\t\t\t(lunar1.leapMonth == lunar1.month && !lunar1.isLeaMonth)) count += 1;\n\t\t\tcount  -= lunar1.month;\n\n\t\t\t//计算两年之间中间的年月份\n\t\t\tvar year = lunar1.year + 1;\n\t\t\tfor (var i = year; i < lunar2.year; i++) {\n\t\t\t\tcount += _chineseLunar.monthsOfYear(year++);\n\t\t\t}\n\t\t\t//计算最后一年\n\t\t\tcount += lunar2.month;\n\t\t\tif (lunar2.isLeapMonth || lunar2.month < lunar2.leapMonth) count++;\n\t\t};\n\t\treturn count;\n\t};\n\n\t/*\n\t * 计算某年某月一个有多少天\n\t * daysOfMonth({}) 或者 daysOfMonth(year, month, leap);\n\t */\n\t_chineseLunar.daysOfMonth = function(year, month, leap) {\n\t\tif (typeof (year) == \"object\") {\n\t\t\tmonth = year.month;\n\t\t\tleap = year.leap;\n\t\t\tyear = year.year;\n\t\t};\n\n\t\tvar date1 = _chineseLunar.lunarToSolar(year, month, 1, leap);\n\t\tvar leapMonth = _chineseLunar.leapMonthOfYear(year);\n\t\tif (leapMonth == month && !leap) {\n\t\t\t//如果是闰月和当前一月一至，且当前月不是闰月，说明下一个月是闰月，例如2009年5月，这一年闰5月，如果传过来的不是闰月，那么下一个月就是闰月\n\t\t\tleap = true;\n\t\t} else if (month == 12) {\n\t\t\t//农历的最后一个月\n\t\t\tyear++;\n\t\t\tmonth = 1;\n\t\t} else {\n\t\t\tleap = false;\n\t\t\tmonth++;\n\t\t};\n\n\t\tvar date2 = _chineseLunar.lunarToSolar(year, month, 1, leap);\n\t\treturn _chineseLunar.dateDiff(date2, date1, \"d\");\n\n\t};\n\n\t//获取农历某一年有多少个月\n\t_chineseLunar.monthsOfYear = function(year) {\n\t\treturn MAPPING[year - MINYEAR].length - 1;\n\t};\n\n\t//获取农历某年的闰月是几月，\n\t_chineseLunar.leapMonthOfYear = function(year) {\n\t\tvar info = MAPPING[year - MINYEAR];\n\t\treturn info ? info[0] : 0;\n\t};\n\n\t/*\n\t 农历转阳历\n\t lunarToSolar({})，或者lunarToSolar(year, month, day, leap)\n\t */\n\t_chineseLunar.lunarToSolar = function(year, month, day, leap) {\n\t\tvar arg0 = arguments[0];\n\n\t\t//第一个参数是对象\n\t\tif (typeof (arg0) == \"object\" && arguments.length == 1) {\n\t\t\tyear = arg0.year;\n\t\t\tmonth = arg0.month;\n\t\t\tday = arg0.day;\n\t\t\tleap = arg0.leap;\n\t\t};\n\n\t\t//根据偏移量取得映射数据\n\t\tvar offset = year - MINYEAR;\n\t\t//所查询的日期超出范围\n\t\tif (offset < 0 || offset > MAPPING.length){\n\t\t\tthrow new Error('Specified date range is invalid.');\n\t\t};\n\n\t\t//取得润月是哪一个月\n\t\tvar leapMonth = MAPPING[offset][0];\n\t\t//如果isLeap=true，并且当前月份就是闰月，或者本月有闰月，且当前月份大于闰月，则月份需要加1\n\t\tif ((leap && month == leapMonth) ||\n\t\t\t(leapMonth > 0 && month > leapMonth)){\n\t\t\tmonth += 1;\n\t\t};\n\n\t\t//取出对应到某个月的片断\n\t\tvar segment = MAPPING[offset][month]; \t\t//农历第一天对应公历的具体天\n\t\tvar mapMonth = Number(segment.substring(0, 2))\n\t\tvar mapDate = Number(segment.substring(2, 4));\n\n\t\tif (mapMonth > 12) {\n\t\t\tyear += 1;\n\t\t\tmapMonth -= 12;\n\t\t};\n\n\t\tvar solar = new Date(year, mapMonth - 1, mapDate);\n\t\tvar time = solar.getTime() + ((day - 1) * 24 * 60 * 60 * 1000);\n\t\treturn new Date(time);\n\t};\n\n\t/*\n\t 公历转农历\n\t 1.查找对应农历初一是哪一天\n\t 2.将农历初一转换为公历\n\t 3.计入偏移量\n\t */\n\t_chineseLunar.solarToLunar = function(solar, format) {\n\t\tvar offset = solar.getFullYear() - MINYEAR;\n\t\t//超出范围\n\t\tif(offset <= 0 || offset >= MAPPING.length){\n\t\t\tthrow new Error('Specified date range is invalid.');\n\t\t};\n\n\t\t//查找范围内的农历数据\n\t\tvar data = _findLunar(solar, offset, 0, 13, false);\n\t\t//如果没有找到，则找前一年的，因为农历在公历之前，并且不会超过一年，查一年就可以了\n\t\tdata = data || _findLunar(solar, offset - 1, 12, 99, true);\n\n\t\t//还是没有找到，表示超出范围\n\t\tif (!data) return false;\n\n\t\t//农历初一对应公历的哪一天\n\t\tvar firstDay = new Date(data.year, data.month - 1, data.day);\n\t\tvar day = _solarDiff(solar, firstDay, \"d\") + 1;\n\n\t\t//返回的农历结果\n\t\tvar result = {\n\t\t\tleap: data.leapMonth > 0 && data.leapMonth + 1 == data.lunarMonth,\n\t\t\tyear: data.lunarYear,\n\t\t\tmonth: data.leapMonth > 0 && data.lunarMonth > data.leapMonth ? data.lunarMonth - 1 : data.lunarMonth,\n\t\t\tday: day,\n\t\t\tleapMonth: data.leapMonth\n\t\t};\n\n\t\t//判断是否要格式化结果\n\t\treturn (format && result) ? _chineseLunar.format(result, format) : result;\n\t};\n\n\t//获取中国传统干支的名称\n\t_chineseLunar.traditionalYearName = function(year) {\n\t\tvar Gan = \"甲乙丙丁戊己庚辛壬癸\".split(\"\");\n\t\tvar Zhi = \"子丑寅卯辰巳午未申酉戌亥\".split(\"\");\n\t\tyear = year - MINYEAR + 36;\n\t\treturn (Gan[year % 10] + Zhi[year % 12] + \"年\");\n\t};\n\n\t//获取中文的年\n\t_chineseLunar.yearName = function(year) {\n\t\tvar cnStr = '〇,一,二,三,四,五,六,七,八,九'.split(\",\");\n\t\tvar cYear = year.toString();\n\t\tvar result = '';\n\t\tfor (var i = 0; i < cYear.length; i++) {\n\t\t\tresult += cnStr[parseInt(cYear.charAt(i))];\n\t\t}\n\t\treturn result + '年';\n\t};\n\n\t//获取中国的生肖\n\t_chineseLunar.animalName = function(year) {\n\t\treturn \"鼠牛虎兔龙蛇马羊猴鸡狗猪\".split(\"\")[(year - 4) % 12];\n\t};\n\n\t//获取农历月的名称\n\t_chineseLunar.monthName = function(month, traditional, leap) {\n\t\tvar monthName = \"正,二,三,四,五,六,七,八,九,十,十一,十二\".split(\",\");\n\t\tif (traditional) { monthName[11] = \"腊\" }\n\t\treturn (leap ? \"闰\" : \"\") + monthName[month - 1] + \"月\";\n\t};\n\n\t//获取农历传统天的名称\n\t_chineseLunar.dayName = function(lunar) {\n\t\tswitch (lunar) {\n\t\t\tcase 10: return '初十';\n\t\t\tcase 20: return '二十';\n\t\t\tcase 30: return '三十';\n\t\t\tdefault: return (\"初十廿卅\".split(\"\")[Math.floor(lunar / 10)] +\n\t\t\t\t\"一二三四五六七八九十\".split(\"\")[(lunar - 1) % 10]) || lunar;\n\t\t}\n\t};\n\n\t//格式化农历日期，date是农历的日期\n\t_chineseLunar.format = function(lunar, expr) {\n\t\treturn expr.replace(/[TAYyMmdD]/g, function(m, i) {\n\t\t\tswitch (m) {\n\t\t\t\t//获取传统的年\n\t\t\t\tcase \"T\": return _chineseLunar.traditionalYearName(lunar.year);\n\t\t\t\t//获取生肖\n\t\t\t\tcase \"A\": return _chineseLunar.animalName(lunar.year);\n\t\t\t\t//获取中文的年\n\t\t\t\tcase \"Y\": return _chineseLunar.yearName(lunar.year);\n\t\t\t\t//获取数字年\n\t\t\t\tcase \"y\": return lunar.year;\n\t\t\t\t//获取月份\n\t\t\t\tcase \"m\": return _chineseLunar.monthName(lunar.month, false, lunar.leap);\n\t\t\t\t//获取传统的月\n\t\t\t\tcase \"M\": return _chineseLunar.monthName(lunar.month, true, lunar.leap);\n\t\t\t\t//获取天\n\t\t\t\tcase \"d\": return _chineseLunar.dayName(lunar.day);\n\t\t\t\t//如果是初一，则显示月，而不是显示\n\t\t\t\tcase \"D\":\n\t\t\t\t\tif(lunar.day == 1){\n\t\t\t\t\t\treturn _chineseLunar.monthName(lunar.month, false, lunar.leap);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn _chineseLunar.dayName(lunar.day);\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t};\n\n\n\tif (typeof define === 'function'){\n\t\tdefine (function (){\n\t\t\treturn _chineseLunar;\n\t\t});\n\t}else if(typeof exports === 'object'){\n\t\tmodule.exports = _chineseLunar;\n\t}else{\n\t\twindow.chineseLunar = _chineseLunar;\n\t};\n})();","source":"custom/js/chineselunar.js","raw":"/**\n * 农历与阳历的转换，目前只能支持1900至2100的转换\n * User: conis<conis.yi@gmail.com>\n * Github: https://github.com/conis/chinese-lunar\n * Date: 1/29/13\n * Time: 9:58 上午\n *\n */\n(function() {\n\t/*\n\t 农历每一年，对应公历的数据\n\t 此数据来源于互联网，原作者不详细，在此感谢\n\t MAPPING[0][0]：每年闰月的月份，0表示不闰\n\t MAPPING[0][1, 13]：表示每月初一对应的阳历时间，前两个字符表示月，后两个字符表示月\n\t */\n\tvar MAPPING = [\n\t\t[8, \"0131\", \"0301\", \"0331\", \"0429\", \"0528\", \"0627\", \"0726\", \"0825\", \"0924\", \"1023\", \"1122\", \"1222\", \"1320\"], \t//1900\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1012\", \"1111\", \"1211\", \"1310\"], \t//1901\n\t\t[0, \"0208\", \"0310\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1002\", \"1031\", \"1130\", \"1230\"], \t//1902\n\t\t[5, \"0129\", \"0227\", \"0329\", \"0427\", \"0527\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1219\", \"1317\"], \t//1903\n\t\t[0, \"0216\", \"0317\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1107\", \"1207\", \"1306\"], \t//1904\n\t\t[0, \"0204\", \"0306\", \"0405\", \"0504\", \"0603\", \"0703\", \"0801\", \"0830\", \"0929\", \"1028\", \"1127\", \"1226\"], \t//1905\n\t\t[4, \"0125\", \"0223\", \"0325\", \"0424\", \"0523\", \"0622\", \"0721\", \"0820\", \"0918\", \"1018\", \"1116\", \"1216\", \"1314\"], \t//1906\n\t\t[0, \"0213\", \"0314\", \"0413\", \"0512\", \"0611\", \"0710\", \"0809\", \"0908\", \"1007\", \"1106\", \"1205\", \"1304\"], \t//1907\n\t\t[0, \"0202\", \"0303\", \"0401\", \"0430\", \"0530\", \"0629\", \"0728\", \"0827\", \"0925\", \"1025\", \"1124\", \"1223\"], \t//1908\n\t\t[2, \"0122\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0816\", \"0914\", \"1014\", \"1113\", \"1213\", \"1311\"], \t//1909\n\t\t[0, \"0210\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0904\", \"1003\", \"1102\", \"1202\", \"1301\"], \t//1910\n\t\t[6, \"0130\", \"0301\", \"0330\", \"0429\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1121\", \"1220\", \"1319\"], \t//1911\n\t\t[0, \"0218\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1209\", \"1307\"], \t//1912\n\t\t[0, \"0206\", \"0308\", \"0407\", \"0506\", \"0605\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//1913\n\t\t[5, \"0126\", \"0225\", \"0327\", \"0425\", \"0525\", \"0623\", \"0723\", \"0821\", \"0920\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//1914\n\t\t[0, \"0214\", \"0316\", \"0414\", \"0514\", \"0613\", \"0712\", \"0811\", \"0909\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//1915\n\t\t[0, \"0203\", \"0304\", \"0403\", \"0502\", \"0601\", \"0630\", \"0730\", \"0829\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//1916\n\t\t[2, \"0123\", \"0222\", \"0323\", \"0421\", \"0521\", \"0619\", \"0719\", \"0818\", \"0916\", \"1016\", \"1115\", \"1214\", \"1313\"], \t//1917\n\t\t[0, \"0211\", \"0313\", \"0411\", \"0510\", \"0609\", \"0708\", \"0807\", \"0905\", \"1005\", \"1104\", \"1203\", \"1302\"], \t//1918\n\t\t[7, \"0201\", \"0302\", \"0401\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1024\", \"1122\", \"1222\", \"1321\"], \t//1919\n\t\t[0, \"0220\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0912\", \"1012\", \"1110\", \"1210\", \"1309\"], \t//1920\n\t\t[0, \"0208\", \"0310\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//1921\n\t\t[5, \"0128\", \"0227\", \"0328\", \"0427\", \"0527\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//1922\n\t\t[0, \"0216\", \"0317\", \"0416\", \"0516\", \"0614\", \"0714\", \"0812\", \"0911\", \"1010\", \"1108\", \"1208\", \"1306\"], \t//1923\n\t\t[0, \"0205\", \"0305\", \"0404\", \"0504\", \"0602\", \"0702\", \"0801\", \"0830\", \"0929\", \"1028\", \"1127\", \"1226\"], \t//1924\n\t\t[4, \"0124\", \"0223\", \"0324\", \"0423\", \"0522\", \"0621\", \"0721\", \"0819\", \"0918\", \"1018\", \"1116\", \"1216\", \"1314\"], \t//1925\n\t\t[0, \"0213\", \"0314\", \"0412\", \"0512\", \"0610\", \"0710\", \"0808\", \"0907\", \"1007\", \"1105\", \"1205\", \"1304\"], \t//1926\n\t\t[0, \"0202\", \"0304\", \"0402\", \"0501\", \"0531\", \"0629\", \"0729\", \"0827\", \"0926\", \"1025\", \"1124\", \"1224\"], \t//1927\n\t\t[2, \"0123\", \"0221\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0815\", \"0914\", \"1013\", \"1112\", \"1212\", \"1311\"], \t//1928\n\t\t[0, \"0210\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1101\", \"1201\", \"1231\"], \t//1929\n\t\t[6, \"0130\", \"0228\", \"0330\", \"0429\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1319\"], \t//1930\n\t\t[0, \"0217\", \"0319\", \"0418\", \"0517\", \"0616\", \"0715\", \"0814\", \"0912\", \"1011\", \"1110\", \"1209\", \"1308\"], \t//1931\n\t\t[0, \"0206\", \"0307\", \"0406\", \"0506\", \"0604\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//1932\n\t\t[5, \"0126\", \"0224\", \"0326\", \"0425\", \"0524\", \"0623\", \"0722\", \"0821\", \"0920\", \"1019\", \"1118\", \"1217\", \"1315\"], \t//1933\n\t\t[0, \"0214\", \"0315\", \"0414\", \"0513\", \"0612\", \"0712\", \"0810\", \"0909\", \"1008\", \"1107\", \"1207\", \"1305\"], \t//1934\n\t\t[0, \"0204\", \"0305\", \"0403\", \"0503\", \"0601\", \"0701\", \"0730\", \"0829\", \"0928\", \"1027\", \"1126\", \"1226\"], \t//1935\n\t\t[3, \"0124\", \"0223\", \"0323\", \"0421\", \"0521\", \"0619\", \"0718\", \"0817\", \"0916\", \"1015\", \"1114\", \"1214\", \"1313\"], \t//1936\n\t\t[0, \"0211\", \"0313\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1302\"], \t//1937\n\t\t[7, \"0131\", \"0302\", \"0401\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1023\", \"1122\", \"1222\", \"1320\"], \t//1938\n\t\t[0, \"0219\", \"0321\", \"0420\", \"0519\", \"0617\", \"0717\", \"0815\", \"0913\", \"1013\", \"1111\", \"1211\", \"1309\"], \t//1939\n\t\t[0, \"0208\", \"0309\", \"0408\", \"0507\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//1940\n\t\t[6, \"0127\", \"0226\", \"0328\", \"0426\", \"0526\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//1941\n\t\t[0, \"0215\", \"0317\", \"0415\", \"0515\", \"0614\", \"0713\", \"0812\", \"0910\", \"1010\", \"1108\", \"1208\", \"1306\"], \t//1942\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0603\", \"0702\", \"0801\", \"0831\", \"0929\", \"1029\", \"1127\", \"1227\"], \t//1943\n\t\t[4, \"0125\", \"0224\", \"0324\", \"0423\", \"0522\", \"0621\", \"0720\", \"0819\", \"0917\", \"1017\", \"1116\", \"1215\", \"1314\"], \t//1944\n\t\t[0, \"0213\", \"0314\", \"0412\", \"0512\", \"0610\", \"0709\", \"0808\", \"0906\", \"1006\", \"1105\", \"1205\", \"1303\"], \t//1945\n\t\t[0, \"0202\", \"0304\", \"0402\", \"0501\", \"0531\", \"0629\", \"0728\", \"0827\", \"0925\", \"1025\", \"1124\", \"1223\"], \t//1946\n\t\t[2, \"0122\", \"0221\", \"0323\", \"0421\", \"0520\", \"0619\", \"0718\", \"0816\", \"0915\", \"1014\", \"1113\", \"1212\", \"1311\"], \t//1947\n\t\t[0, \"0210\", \"0311\", \"0409\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1101\", \"1201\", \"1230\"], \t//1948\n\t\t[7, \"0129\", \"0228\", \"0329\", \"0428\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1318\"], \t//1949\n\t\t[0, \"0217\", \"0318\", \"0417\", \"0517\", \"0615\", \"0715\", \"0814\", \"0912\", \"1011\", \"1110\", \"1209\", \"1308\"], \t//1950\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0506\", \"0605\", \"0704\", \"0803\", \"0901\", \"1001\", \"1030\", \"1129\", \"1228\"], \t//1951\n\t\t[5, \"0127\", \"0225\", \"0326\", \"0424\", \"0524\", \"0622\", \"0722\", \"0820\", \"0919\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//1952\n\t\t[0, \"0214\", \"0315\", \"0414\", \"0513\", \"0611\", \"0711\", \"0810\", \"0908\", \"1008\", \"1107\", \"1206\", \"1305\"], \t//1953\n\t\t[0, \"0203\", \"0305\", \"0403\", \"0503\", \"0601\", \"0630\", \"0730\", \"0828\", \"0927\", \"1027\", \"1126\", \"1225\"], \t//1954\n\t\t[3, \"0124\", \"0222\", \"0324\", \"0422\", \"0522\", \"0620\", \"0719\", \"0818\", \"0916\", \"1016\", \"1114\", \"1214\", \"1313\"], \t//1955\n\t\t[0, \"0212\", \"0312\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1301\"], \t//1956\n\t\t[8, \"0131\", \"0302\", \"0331\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1023\", \"1122\", \"1221\", \"1320\"], \t//1957\n\t\t[0, \"0218\", \"0320\", \"0419\", \"0519\", \"0617\", \"0717\", \"0815\", \"0913\", \"1013\", \"1111\", \"1211\", \"1309\"], \t//1958\n\t\t[0, \"0208\", \"0309\", \"0408\", \"0508\", \"0606\", \"0706\", \"0804\", \"0903\", \"1002\", \"1101\", \"1130\", \"1230\"], \t//1959\n\t\t[6, \"0128\", \"0227\", \"0327\", \"0426\", \"0525\", \"0624\", \"0724\", \"0822\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//1960\n\t\t[0, \"0215\", \"0317\", \"0415\", \"0515\", \"0613\", \"0713\", \"0811\", \"0910\", \"1010\", \"1108\", \"1208\", \"1306\"], \t//1961\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0602\", \"0702\", \"0731\", \"0830\", \"0929\", \"1028\", \"1127\", \"1227\"], \t//1962\n\t\t[4, \"0125\", \"0224\", \"0325\", \"0424\", \"0523\", \"0621\", \"0721\", \"0819\", \"0918\", \"1017\", \"1116\", \"1216\", \"1315\"], \t//1963\n\t\t[0, \"0213\", \"0314\", \"0412\", \"0512\", \"0610\", \"0709\", \"0808\", \"0906\", \"1006\", \"1104\", \"1204\", \"1303\"], \t//1964\n\t\t[0, \"0202\", \"0303\", \"0402\", \"0501\", \"0531\", \"0629\", \"0728\", \"0827\", \"0925\", \"1024\", \"1123\", \"1223\"], \t//1965\n\t\t[3, \"0121\", \"0220\", \"0322\", \"0421\", \"0520\", \"0619\", \"0718\", \"0816\", \"0915\", \"1014\", \"1112\", \"1212\", \"1311\"], \t//1966\n\t\t[0, \"0209\", \"0311\", \"0410\", \"0509\", \"0608\", \"0708\", \"0806\", \"0904\", \"1004\", \"1102\", \"1202\", \"1231\"], \t//1967\n\t\t[7, \"0130\", \"0228\", \"0329\", \"0427\", \"0527\", \"0626\", \"0725\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1318\"], \t//1968\n\t\t[0, \"0217\", \"0318\", \"0417\", \"0516\", \"0615\", \"0714\", \"0813\", \"0912\", \"1011\", \"1110\", \"1209\", \"1308\"], \t//1969\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0505\", \"0604\", \"0703\", \"0802\", \"0901\", \"0930\", \"1030\", \"1129\", \"1228\"], \t//1970\n\t\t[5, \"0127\", \"0225\", \"0327\", \"0425\", \"0524\", \"0623\", \"0722\", \"0821\", \"0919\", \"1019\", \"1118\", \"1218\", \"1316\"], \t//1971\n\t\t[0, \"0215\", \"0315\", \"0414\", \"0513\", \"0611\", \"0711\", \"0809\", \"0908\", \"1007\", \"1106\", \"1206\", \"1304\"], \t//1972\n\t\t[0, \"0203\", \"0305\", \"0403\", \"0503\", \"0601\", \"0630\", \"0730\", \"0828\", \"0926\", \"1026\", \"1125\", \"1224\"], \t//1973\n\t\t[4, \"0123\", \"0222\", \"0324\", \"0422\", \"0522\", \"0620\", \"0719\", \"0818\", \"0916\", \"1015\", \"1114\", \"1214\", \"1312\"], \t//1974\n\t\t[0, \"0211\", \"0313\", \"0412\", \"0511\", \"0610\", \"0709\", \"0807\", \"0906\", \"1005\", \"1103\", \"1203\", \"1301\"], \t//1975\n\t\t[8, \"0131\", \"0301\", \"0331\", \"0429\", \"0529\", \"0627\", \"0727\", \"0825\", \"0924\", \"1023\", \"1121\", \"1221\", \"1319\"], \t//1976\n\t\t[0, \"0218\", \"0320\", \"0418\", \"0518\", \"0617\", \"0716\", \"0815\", \"0913\", \"1013\", \"1111\", \"1211\", \"1309\"], \t//1977\n\t\t[0, \"0207\", \"0309\", \"0407\", \"0507\", \"0606\", \"0705\", \"0804\", \"0902\", \"1002\", \"1101\", \"1130\", \"1230\"], \t//1978\n\t\t[6, \"0128\", \"0227\", \"0328\", \"0426\", \"0526\", \"0624\", \"0724\", \"0823\", \"0921\", \"1021\", \"1120\", \"1219\", \"1318\"], \t//1979\n\t\t[0, \"0216\", \"0317\", \"0415\", \"0514\", \"0613\", \"0712\", \"0811\", \"0909\", \"1009\", \"1108\", \"1207\", \"1306\"], \t//1980\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0602\", \"0702\", \"0731\", \"0829\", \"0928\", \"1028\", \"1126\", \"1226\"], \t//1981\n\t\t[4, \"0125\", \"0224\", \"0325\", \"0424\", \"0523\", \"0621\", \"0721\", \"0819\", \"0917\", \"1017\", \"1115\", \"1215\", \"1314\"], \t//1982\n\t\t[0, \"0213\", \"0315\", \"0413\", \"0513\", \"0611\", \"0710\", \"0809\", \"0907\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//1983\n\t\t[10, \"0202\", \"0303\", \"0401\", \"0501\", \"0531\", \"0629\", \"0728\", \"0827\", \"0925\", \"1024\", \"1123\", \"1222\", \"1321\"], \t//1984\n\t\t[0, \"0220\", \"0321\", \"0420\", \"0520\", \"0618\", \"0718\", \"0816\", \"0915\", \"1014\", \"1112\", \"1212\", \"1310\"], \t//1985\n\t\t[0, \"0209\", \"0310\", \"0409\", \"0509\", \"0607\", \"0707\", \"0806\", \"0904\", \"1004\", \"1102\", \"1202\", \"1231\"], \t//1986\n\t\t[6, \"0129\", \"0228\", \"0329\", \"0428\", \"0527\", \"0626\", \"0726\", \"0824\", \"0923\", \"1023\", \"1121\", \"1221\", \"1319\"], \t//1987\n\t\t[0, \"0217\", \"0318\", \"0416\", \"0516\", \"0614\", \"0714\", \"0812\", \"0911\", \"1011\", \"1109\", \"1209\", \"1308\"], \t//1988\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0505\", \"0604\", \"0703\", \"0802\", \"0831\", \"0930\", \"1029\", \"1128\", \"1228\"], \t//1989\n\t\t[5, \"0127\", \"0225\", \"0327\", \"0425\", \"0524\", \"0623\", \"0722\", \"0820\", \"0919\", \"1018\", \"1117\", \"1217\", \"1316\"], \t//1990\n\t\t[0, \"0215\", \"0316\", \"0415\", \"0514\", \"0612\", \"0712\", \"0810\", \"0908\", \"1008\", \"1106\", \"1206\", \"1305\"], \t//1991\n\t\t[0, \"0204\", \"0304\", \"0403\", \"0503\", \"0601\", \"0630\", \"0730\", \"0828\", \"0926\", \"1026\", \"1124\", \"1224\"], \t//1992\n\t\t[3, \"0123\", \"0221\", \"0323\", \"0422\", \"0521\", \"0620\", \"0719\", \"0818\", \"0916\", \"1015\", \"1114\", \"1213\", \"1312\"], \t//1993\n\t\t[0, \"0210\", \"0312\", \"0411\", \"0511\", \"0609\", \"0709\", \"0807\", \"0906\", \"1005\", \"1103\", \"1203\", \"1301\"], \t//1994\n\t\t[8, \"0131\", \"0301\", \"0331\", \"0430\", \"0529\", \"0628\", \"0727\", \"0826\", \"0925\", \"1024\", \"1122\", \"1222\", \"1320\"], \t//1995\n\t\t[0, \"0219\", \"0319\", \"0418\", \"0517\", \"0616\", \"0715\", \"0814\", \"0912\", \"1012\", \"1111\", \"1211\", \"1309\"], \t//1996\n\t\t[0, \"0207\", \"0309\", \"0407\", \"0507\", \"0605\", \"0705\", \"0803\", \"0902\", \"1002\", \"1031\", \"1130\", \"1230\"], \t//1997\n\t\t[5, \"0128\", \"0227\", \"0328\", \"0426\", \"0526\", \"0624\", \"0723\", \"0822\", \"0921\", \"1020\", \"1119\", \"1219\", \"1317\"], \t//1998\n\t\t[0, \"0216\", \"0318\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1108\", \"1208\", \"1307\"], \t//1999\n\t\t[0, \"0205\", \"0306\", \"0405\", \"0504\", \"0602\", \"0702\", \"0731\", \"0829\", \"0928\", \"1027\", \"1126\", \"1226\"], \t//2000\n\t\t[4, \"0124\", \"0223\", \"0325\", \"0423\", \"0523\", \"0621\", \"0721\", \"0819\", \"0917\", \"1017\", \"1115\", \"1215\", \"1313\"], \t//2001\n\t\t[0, \"0212\", \"0314\", \"0413\", \"0512\", \"0611\", \"0710\", \"0809\", \"0907\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//2002\n\t\t[0, \"0201\", \"0303\", \"0402\", \"0501\", \"0531\", \"0630\", \"0729\", \"0828\", \"0926\", \"1025\", \"1124\", \"1223\"], \t//2003\n\t\t[2, \"0122\", \"0220\", \"0321\", \"0419\", \"0519\", \"0618\", \"0717\", \"0816\", \"0914\", \"1014\", \"1112\", \"1212\", \"1310\"], \t//2004\n\t\t[0, \"0209\", \"0310\", \"0409\", \"0508\", \"0607\", \"0706\", \"0805\", \"0904\", \"1003\", \"1102\", \"1201\", \"1231\"], \t//2005\n\t\t[7, \"0129\", \"0228\", \"0329\", \"0428\", \"0527\", \"0626\", \"0725\", \"0824\", \"0922\", \"1022\", \"1121\", \"1220\", \"1319\"], \t//2006\n\t\t[0, \"0218\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1011\", \"1110\", \"1210\", \"1308\"], \t//2007\n\t\t[0, \"0207\", \"0308\", \"0406\", \"0505\", \"0604\", \"0703\", \"0801\", \"0831\", \"0929\", \"1029\", \"1128\", \"1227\"], \t//2008\n\t\t[5, \"0126\", \"0225\", \"0327\", \"0425\", \"0524\", \"0623\", \"0722\", \"0820\", \"0919\", \"1018\", \"1117\", \"1216\", \"1315\"], \t//2009\n\t\t[0, \"0214\", \"0316\", \"0414\", \"0514\", \"0612\", \"0712\", \"0810\", \"0908\", \"1008\", \"1106\", \"1206\", \"1304\"], \t//2010\n\t\t[0, \"0203\", \"0305\", \"0403\", \"0503\", \"0602\", \"0701\", \"0731\", \"0829\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2011\n\t\t[4, \"0123\", \"0222\", \"0322\", \"0421\", \"0521\", \"0619\", \"0719\", \"0817\", \"0916\", \"1015\", \"1114\", \"1213\", \"1312\"], \t//2012\n\t\t[0, \"0210\", \"0312\", \"0410\", \"0510\", \"0608\", \"0708\", \"0807\", \"0905\", \"1005\", \"1103\", \"1203\", \"1301\"], \t//2013\n\t\t[9, \"0131\", \"0301\", \"0331\", \"0429\", \"0529\", \"0627\", \"0727\", \"0825\", \"0924\", \"1024\", \"1122\", \"1222\", \"1320\"], \t//2014\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1013\", \"1112\", \"1211\", \"1310\"], \t//2015\n\t\t[0, \"0208\", \"0309\", \"0407\", \"0507\", \"0605\", \"0704\", \"0803\", \"0901\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//2016\n\t\t[6, \"0128\", \"0226\", \"0328\", \"0426\", \"0526\", \"0624\", \"0723\", \"0822\", \"0920\", \"1020\", \"1118\", \"1218\", \"1317\"], \t//2017\n\t\t[0, \"0216\", \"0317\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1108\", \"1207\", \"1306\"], \t//2018\n\t\t[0, \"0205\", \"0307\", \"0405\", \"0505\", \"0603\", \"0703\", \"0801\", \"0830\", \"0929\", \"1028\", \"1126\", \"1226\"], \t//2019\n\t\t[4, \"0125\", \"0223\", \"0324\", \"0423\", \"0523\", \"0621\", \"0721\", \"0819\", \"0917\", \"1017\", \"1115\", \"1215\", \"1313\"], \t//2020\n\t\t[0, \"0212\", \"0313\", \"0412\", \"0512\", \"0610\", \"0710\", \"0808\", \"0907\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//2021\n\t\t[0, \"0201\", \"0303\", \"0401\", \"0501\", \"0530\", \"0629\", \"0729\", \"0827\", \"0926\", \"1025\", \"1124\", \"1223\"], \t//2022\n\t\t[2, \"0122\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0718\", \"0816\", \"0915\", \"1015\", \"1113\", \"1213\", \"1311\"], \t//2023\n\t\t[0, \"0210\", \"0310\", \"0409\", \"0508\", \"0606\", \"0706\", \"0804\", \"0903\", \"1003\", \"1101\", \"1201\", \"1231\"], \t//2024\n\t\t[6, \"0129\", \"0228\", \"0329\", \"0428\", \"0527\", \"0625\", \"0725\", \"0823\", \"0922\", \"1021\", \"1120\", \"1220\", \"1319\"], \t//2025\n\t\t[0, \"0217\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1209\", \"1308\"], \t//2026\n\t\t[0, \"0206\", \"0308\", \"0407\", \"0506\", \"0605\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1228\"], \t//2027\n\t\t[5, \"0126\", \"0225\", \"0326\", \"0425\", \"0524\", \"0623\", \"0722\", \"0820\", \"0919\", \"1018\", \"1116\", \"1216\", \"1315\"], \t//2028\n\t\t[0, \"0213\", \"0315\", \"0414\", \"0513\", \"0612\", \"0711\", \"0810\", \"0908\", \"1008\", \"1106\", \"1205\", \"1304\"], \t//2029\n\t\t[0, \"0203\", \"0304\", \"0403\", \"0502\", \"0601\", \"0701\", \"0730\", \"0829\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2030\n\t\t[3, \"0123\", \"0221\", \"0323\", \"0422\", \"0521\", \"0620\", \"0719\", \"0818\", \"0917\", \"1016\", \"1115\", \"1214\", \"1313\"], \t//2031\n\t\t[0, \"0211\", \"0312\", \"0410\", \"0509\", \"0608\", \"0707\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1301\"], \t//2032\n\t\t[7, \"0131\", \"0301\", \"0331\", \"0429\", \"0528\", \"0627\", \"0726\", \"0825\", \"0923\", \"1023\", \"1122\", \"1222\", \"1320\"], \t//2033\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1012\", \"1111\", \"1211\", \"1309\"], \t//2034\n\t\t[0, \"0208\", \"0310\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1130\", \"1229\"], \t//2035\n\t\t[6, \"0128\", \"0227\", \"0328\", \"0426\", \"0526\", \"0624\", \"0723\", \"0822\", \"0920\", \"1019\", \"1118\", \"1217\", \"1316\"], \t//2036\n\t\t[0, \"0215\", \"0317\", \"0416\", \"0515\", \"0614\", \"0713\", \"0811\", \"0910\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//2037\n\t\t[0, \"0204\", \"0306\", \"0405\", \"0504\", \"0603\", \"0702\", \"0801\", \"0830\", \"0929\", \"1028\", \"1126\", \"1226\"], \t//2038\n\t\t[5, \"0124\", \"0223\", \"0325\", \"0423\", \"0523\", \"0622\", \"0721\", \"0820\", \"0918\", \"1018\", \"1116\", \"1216\", \"1314\"], \t//2039\n\t\t[0, \"0212\", \"0313\", \"0411\", \"0511\", \"0610\", \"0709\", \"0808\", \"0906\", \"1006\", \"1105\", \"1204\", \"1303\"], \t//2040\n\t\t[0, \"0201\", \"0302\", \"0401\", \"0430\", \"0530\", \"0628\", \"0728\", \"0827\", \"0925\", \"1025\", \"1124\", \"1223\"], \t//2041\n\t\t[2, \"0122\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0816\", \"0914\", \"1014\", \"1113\", \"1212\", \"1311\"], \t//2042\n\t\t[0, \"0210\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1102\", \"1201\", \"1231\"], \t//2043\n\t\t[7, \"0130\", \"0229\", \"0329\", \"0428\", \"0527\", \"0625\", \"0725\", \"0823\", \"0921\", \"1021\", \"1119\", \"1219\", \"1318\"], \t//2044\n\t\t[0, \"0217\", \"0319\", \"0417\", \"0517\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1208\", \"1307\"], \t//2045\n\t\t[0, \"0206\", \"0308\", \"0406\", \"0506\", \"0604\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//2046\n\t\t[5, \"0126\", \"0225\", \"0326\", \"0425\", \"0525\", \"0623\", \"0723\", \"0821\", \"0920\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//2047\n\t\t[0, \"0214\", \"0314\", \"0413\", \"0513\", \"0611\", \"0711\", \"0810\", \"0908\", \"1008\", \"1106\", \"1205\", \"1304\"], \t//2048\n\t\t[0, \"0202\", \"0304\", \"0402\", \"0502\", \"0531\", \"0630\", \"0730\", \"0828\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2049\n\t\t[3, \"0123\", \"0221\", \"0323\", \"0421\", \"0521\", \"0619\", \"0719\", \"0817\", \"0916\", \"1016\", \"1114\", \"1214\", \"1313\"], \t//2050\n\t\t[0, \"0211\", \"0313\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1005\", \"1103\", \"1203\", \"1302\"], \t//2051\n\t\t[8, \"0201\", \"0301\", \"0331\", \"0429\", \"0528\", \"0627\", \"0726\", \"0824\", \"0923\", \"1022\", \"1121\", \"1221\", \"1320\"], \t//2052\n\t\t[0, \"0219\", \"0320\", \"0419\", \"0518\", \"0616\", \"0716\", \"0814\", \"0912\", \"1012\", \"1110\", \"1210\", \"1309\"], \t//2053\n\t\t[0, \"0208\", \"0309\", \"0408\", \"0508\", \"0606\", \"0705\", \"0804\", \"0902\", \"1001\", \"1031\", \"1129\", \"1229\"], \t//2054\n\t\t[6, \"0128\", \"0226\", \"0328\", \"0427\", \"0526\", \"0625\", \"0724\", \"0823\", \"0921\", \"1020\", \"1119\", \"1218\", \"1317\"], \t//2055\n\t\t[0, \"0215\", \"0316\", \"0415\", \"0515\", \"0613\", \"0713\", \"0811\", \"0910\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//2056\n\t\t[0, \"0204\", \"0305\", \"0404\", \"0504\", \"0602\", \"0702\", \"0731\", \"0830\", \"0929\", \"1028\", \"1126\", \"1226\"], \t//2057\n\t\t[4, \"0124\", \"0223\", \"0324\", \"0423\", \"0522\", \"0621\", \"0720\", \"0819\", \"0918\", \"1017\", \"1116\", \"1216\", \"1314\"], \t//2058\n\t\t[0, \"0212\", \"0314\", \"0412\", \"0512\", \"0610\", \"0710\", \"0808\", \"0907\", \"1006\", \"1105\", \"1205\", \"1304\"], \t//2059\n\t\t[0, \"0202\", \"0303\", \"0401\", \"0501\", \"0530\", \"0628\", \"0727\", \"0826\", \"0924\", \"1024\", \"1123\", \"1223\"], \t//2060\n\t\t[3, \"0121\", \"0220\", \"0322\", \"0420\", \"0519\", \"0618\", \"0717\", \"0815\", \"0914\", \"1013\", \"1112\", \"1212\", \"1311\"], \t//2061\n\t\t[0, \"0209\", \"0311\", \"0410\", \"0509\", \"0607\", \"0707\", \"0805\", \"0903\", \"1003\", \"1101\", \"1201\", \"1231\"], \t//2062\n\t\t[7, \"0129\", \"0228\", \"0330\", \"0428\", \"0528\", \"0626\", \"0726\", \"0824\", \"0922\", \"1022\", \"1120\", \"1220\", \"1318\"], \t//2063\n\t\t[0, \"0217\", \"0318\", \"0417\", \"0516\", \"0615\", \"0714\", \"0813\", \"0911\", \"1010\", \"1109\", \"1208\", \"1307\"], \t//2064\n\t\t[0, \"0205\", \"0307\", \"0406\", \"0505\", \"0604\", \"0704\", \"0802\", \"0901\", \"0930\", \"1029\", \"1128\", \"1227\"], \t//2065\n\t\t[5, \"0126\", \"0224\", \"0326\", \"0424\", \"0524\", \"0623\", \"0722\", \"0821\", \"0919\", \"1019\", \"1117\", \"1217\", \"1315\"], \t//2066\n\t\t[0, \"0214\", \"0315\", \"0414\", \"0513\", \"0612\", \"0711\", \"0810\", \"0909\", \"1008\", \"1107\", \"1206\", \"1305\"], \t//2067\n\t\t[0, \"0203\", \"0304\", \"0402\", \"0502\", \"0531\", \"0629\", \"0729\", \"0828\", \"0926\", \"1026\", \"1125\", \"1224\"], \t//2068\n\t\t[4, \"0123\", \"0221\", \"0323\", \"0421\", \"0521\", \"0619\", \"0718\", \"0817\", \"0915\", \"1015\", \"1114\", \"1214\", \"1312\"], \t//2069\n\t\t[0, \"0211\", \"0312\", \"0411\", \"0510\", \"0609\", \"0708\", \"0806\", \"0905\", \"1004\", \"1103\", \"1203\", \"1301\"], \t//2070\n\t\t[8, \"0131\", \"0302\", \"0331\", \"0430\", \"0529\", \"0628\", \"0727\", \"0825\", \"0924\", \"1023\", \"1122\", \"1221\", \"1320\"], \t//2071\n\t\t[0, \"0219\", \"0320\", \"0418\", \"0518\", \"0616\", \"0716\", \"0814\", \"0912\", \"1012\", \"1110\", \"1210\", \"1308\"], \t//2072\n\t\t[0, \"0207\", \"0309\", \"0407\", \"0507\", \"0605\", \"0704\", \"0803\", \"0901\", \"0930\", \"1030\", \"1128\", \"1228\"], \t//2073\n\t\t[6, \"0126\", \"0225\", \"0326\", \"0425\", \"0525\", \"0623\", \"0723\", \"0821\", \"0920\", \"1019\", \"1118\", \"1217\", \"1316\"], \t//2074\n\t\t[0, \"0214\", \"0316\", \"0414\", \"0514\", \"0612\", \"0712\", \"0811\", \"0909\", \"1009\", \"1107\", \"1207\", \"1305\"], \t//2075\n\t\t[0, \"0204\", \"0304\", \"0403\", \"0502\", \"0601\", \"0630\", \"0730\", \"0828\", \"0927\", \"1027\", \"1125\", \"1225\"], \t//2076\n\t\t[0, \"0123\", \"0222\", \"0323\", \"0422\", \"0521\", \"0620\", \"0719\", \"0818\", \"0917\", \"1017\", \"1115\", \"1215\"], \t//2077\n\t\t[0, \"0113\", \"0212\", \"0313\", \"0412\", \"0511\", \"0609\", \"0709\", \"0807\", \"0906\", \"1006\", \"1104\", \"1204\"], \t//2078\n\t\t[0, \"0103\", \"0201\", \"0303\", \"0401\", \"0501\", \"0530\", \"0628\", \"0728\", \"0826\", \"0925\", \"1024\", \"1123\"], \t//2079\n\t\t[3, \"1223\", \"0122\", \"0220\", \"0321\", \"0419\", \"0519\", \"0617\", \"0716\", \"0815\", \"0913\", \"1012\", \"1111\", \"1211\"], \t//2080\n\t\t[0, \"0110\", \"0208\", \"0310\", \"0409\", \"0508\", \"0607\", \"0706\", \"0804\", \"0903\", \"1002\", \"1031\", \"1130\"], \t//2081\n\t\t[7, \"1230\", \"0128\", \"0227\", \"0329\", \"0428\", \"0527\", \"0625\", \"0725\", \"0823\", \"0922\", \"1021\", \"1119\", \"1219\"], \t//2082\n\t\t[0, \"0118\", \"0216\", \"0318\", \"0417\", \"0516\", \"0615\", \"0714\", \"0813\", \"0911\", \"1011\", \"1109\", \"1209\"], \t//2083\n\t\t[0, \"0107\", \"0206\", \"0306\", \"0405\", \"0504\", \"0603\", \"0703\", \"0801\", \"0831\", \"0929\", \"1029\", \"1127\"], \t//2084\n\t\t[5, \"1227\", \"0125\", \"0224\", \"0325\", \"0423\", \"0523\", \"0622\", \"0721\", \"0820\", \"0919\", \"1018\", \"1117\", \"1216\"], \t//2085\n\t\t[0, \"0115\", \"0213\", \"0315\", \"0413\", \"0512\", \"0611\", \"0710\", \"0809\", \"0908\", \"1007\", \"1106\", \"1206\"], \t//2086\n\t\t[0, \"0104\", \"0203\", \"0304\", \"0403\", \"0502\", \"0531\", \"0630\", \"0729\", \"0828\", \"0926\", \"1026\", \"1125\"], \t//2087\n\t\t[4, \"1225\", \"0123\", \"0222\", \"0322\", \"0421\", \"0520\", \"0618\", \"0718\", \"0816\", \"0914\", \"1014\", \"1113\", \"1213\"], \t//2088\n\t\t[0, \"0111\", \"0210\", \"0312\", \"0410\", \"0510\", \"0608\", \"0707\", \"0806\", \"0904\", \"1003\", \"1102\", \"1202\"], \t//2089\n\t\t[8, \"1231\", \"0130\", \"0301\", \"0331\", \"0429\", \"0529\", \"0627\", \"0726\", \"0825\", \"0923\", \"1022\", \"1121\", \"1221\"], \t//2090\n\t\t[0, \"0119\", \"0218\", \"0320\", \"0418\", \"0518\", \"0616\", \"0716\", \"0814\", \"0913\", \"1012\", \"1110\", \"1210\"], \t//2091\n\t\t[0, \"0108\", \"0207\", \"0308\", \"0406\", \"0506\", \"0605\", \"0704\", \"0803\", \"0901\", \"1001\", \"1030\", \"1129\"], \t//2092\n\t\t[6, \"1228\", \"0126\", \"0225\", \"0327\", \"0425\", \"0525\", \"0623\", \"0723\", \"0822\", \"0920\", \"1020\", \"1118\", \"1218\"], \t//2093\n\t\t[0, \"0116\", \"0214\", \"0316\", \"0414\", \"0514\", \"0612\", \"0712\", \"0811\", \"0909\", \"1009\", \"1108\", \"1207\"], \t//2094\n\t\t[0, \"0106\", \"0204\", \"0306\", \"0404\", \"0503\", \"0602\", \"0701\", \"0731\", \"0829\", \"0928\", \"1028\", \"1127\"], \t//2095\n\t\t[4, \"1226\", \"0125\", \"0223\", \"0324\", \"0422\", \"0521\", \"0620\", \"0719\", \"0817\", \"0916\", \"1016\", \"1115\", \"1214\"], \t//2096\n\t\t[0, \"0113\", \"0212\", \"0313\", \"0412\", \"0511\", \"0609\", \"0709\", \"0807\", \"0905\", \"1005\", \"1104\", \"1203\"], \t//2097\n\t\t[0, \"0102\", \"0201\", \"0303\", \"0401\", \"0501\", \"0530\", \"0628\", \"0727\", \"0826\", \"0924\", \"1024\", \"1122\"], \t//2098\n\t\t[2, \"1222\", \"0121\", \"0220\", \"0321\", \"0420\", \"0520\", \"0618\", \"0717\", \"0816\", \"0914\", \"1013\", \"1112\", \"1211\"] \t//2099\n\t];\n\tvar MINYEAR = 1900;\n\tvar _chineseLunar = {};\n\n\t/*\n\t * 分析日期表达式，并提取其中的单位和数值\n\t */\n\tvar _expression = function(expr) {\n\t\tvar list = expr.match(/[+-]?\\d+((ms)|[yMdhmsw])/g);\n\t\tvar result = [];\n\t\tfor(var i = 0; i < list.length; i++){\n\t\t\t//提取单位和数值\n\t\t\tif (/([+-])(\\d+)(.+)/.test(list[i])) {\n\t\t\t\tvar val = parseInt(RegExp.$2);\n\t\t\t\tif(RegExp.$1 === \"-\") val = -val;\n\n\t\t\t\tresult.push({\n\t\t\t\t\tvalue: val,\n\t\t\t\t\tunit: RegExp.$3\n\t\t\t\t});\n\t\t\t};\n\t\t\treturn result;\n\t\t};\n\t};\n\n\t//计算公历两个日期之差\n\tvar _solarDiff = function(left, right, interval) {\n\t\tvar span = left.getTime() - right.getTime(); //相差毫秒\n\t\tswitch (interval) {\n\t\t\tcase \"y\": return parseInt(left.getFullYear() - right.getFullYear());\n\t\t\tcase \"M\": return parseInt((left.getFullYear() - right.getFullYear()) * 12 + (left.getMonth() - right.getMonth()));\n\t\t\tcase \"d\": return Math.ceil(span / 1000 / 60 / 60 / 24);\n\t\t\tcase \"w\": return Math.floor(span / 1000 / 60 / 60 / 24 / 7);\n\t\t\tcase \"h\": return Math.floor(span / 1000 / 60 / 60);\n\t\t\tcase \"m\": return Math.floor(span / 1000 / 60);\n\t\t\tcase \"s\": return Math.floor(span / 1000);\n\t\t\tcase \"ms\": return parseInt(span);\n\t\t}\n\t}\n\n\t//_solarAdd(date, '5d-6m');\n\tvar _solarAdd = function(date, expr){\n\n\t};\n\n\t/*\n\t 找到农历\n\t isPerYear，是否为农历前一年的对应数据\n\t */\n\tvar _findLunar = function(solar, index, minMonth, maxMonth, isPreYear) {\n\t\t//取得映射的数据\n\t\tvar mapping = MAPPING[index];\n\t\tif (!mapping) return false;\n\n\t\tvar year = solar.getFullYear()\n\t\t\t, month = solar.getMonth() + 1\n\t\t\t, date = solar.getDate();\n\t\tvar lunarYear = year;\n\t\tvar lunarMonth, find, solarMonth;\n\n\t\t//查找农历\n\t\tfor (var i = mapping.length - 1; i > 0; i--) {\n\t\t\tlunarMonth = i;\n\t\t\t//取对应的农历月与天\n\t\t\tvar segMonth = Number(mapping[i].substring(0, 2));\n\t\t\tvar segDay = Number(mapping[i].substring(2, 4));\n\n\t\t\tsolarMonth = isPreYear && segMonth > 12 ? segMonth - 12 : segMonth;\n\t\t\tfind = solarMonth < month || (solarMonth == month && segDay <= date) ||\n\t\t\t\t((segMonth <= minMonth || segMonth >= maxMonth) && isPreYear);\n\t\t\tif ((solarMonth == 12 && solarMonth > month && i == 1)) {\n\t\t\t\tfind = true;\n\t\t\t\tyear--;\n\t\t\t};\n\t\t\tif (find) break;\n\t\t}\n\n\t\t//如果找到，则赋值\n\t\tif(!find) return false;\n\t\t//取前一年\n\t\tif (isPreYear && segMonth == 12) year = year - 1;\n\t\tlunarYear = isPreYear ? lunarYear - 1 : lunarYear;\n\t\treturn {\n\t\t\tyear: year,\n\t\t\tmonth: solarMonth,\n\t\t\tday: segDay,\n\t\t\tlunarYear: lunarYear,\n\t\t\tlunarMonth: lunarMonth,\n\t\t\tleapMonth: mapping[0]\t\t\t//闰月\n\t\t};\n\t};\n\n\t//日期累加\n\tvar _dateAdd = function(lunar, value, unit){\n\t\tif(unit == 'M'){\n\t\t\treturn _chineseLunar.monthAdd(lunar, value);\n\t\t}else{\n\t\t\t//转换为阳历，计算完再转为农历\n\t\t\tvar solar = _chineseLunar.lunarToSolar(lunar);\n\t\t\tsolar = _solarAdd(solar, value, unit);\n\t\t\treturn _chineseLunar.solarToLunar(solar);\n\t\t};\n\t};\n\n\t/*\n\t 农历相加\n\t */\n\t_chineseLunar.dateAdd = function(lunar, expr) {\n\t\t//分析表达式\n\t\tvar list = _expression(expr);\n\n\t\tfor(var i = 0; i < list.length; i ++){\n\t\t\tlunar = _dateAdd(lunar, list[i]);\n\t\t};\n\t\treturn lunar;\n\t};\n\n\t/*\n\t 计算两个农历时间的差值，主要计算月份之间的差，其它和公历是一样的\n\t */\n\t_chineseLunar.dateDiff = function(lunar1, lunar2, expr) {\n\t\t//计算农历月份差值\n\t\tif(expr == \"M\"){\n\t\t\treturn _chineseLunar.monthDiff(lunar1, lunar2);\n\t\t};\n\n\t\t//先转成公历，除了月份，其它的都可以按公历计算\n\t\tvar solar1 = _chineseLunar.lunarToSolar(lunar1);\n\t\tvar solar2 = _chineseLunar.lunarToSolar(lunar2);\n\t\t//再把农历转到公历\n\t\treturn _solarDiff(solar2, solar1, expr);\n\t};\n\n\t/*\n\t 农历月份相加\n\t */\n\t_chineseLunar.monthAdd = function(lunar, inc) {\n\t\t//如果是Date，则转换为农历\n\t\tif (lunar instanceof Date) lunar = _chineseLunar.solarToLunar(lunar);\n\t\tif (inc == 0) return lunar;\n\n\t\tvar year = lunar.year, count;\n\t\tvar month = lunar.month;\n\t\tif(lunar.leap ||\n\t\t\t(lunar.leapMonth > 0 && lunar.month > lunar.leapMonth)) month++;\n\n\t\tvar run = true;\n\t\tdo {\n\t\t\t//计算当前年有多少个月\n\t\t\tcount = _chineseLunar.monthsOfYear(year);\n\t\t\tinc = inc + month - count;\n\t\t\tif (inc <= 0) {\n\t\t\t\trun = false;\n\t\t\t\tmonth = year == lunar.year ? count + inc : count + inc - month;\n\t\t\t}else {\n\t\t\t\tyear++;\n\t\t\t\tmonth = 1;\n\t\t\t}\n\t\t} while (run);\n\n\t\t//获取最后的结果年的闰月是哪一个月\n\t\tvar leapMonth = _chineseLunar.leapMonthOfYear(year);\n\t\tvar leap = false;\n\t\t//如果闰月大于农历月，则月份减1\n\t\tif (leapMonth > 0 && month > leapMonth) {\n\t\t\tmonth--;\n\t\t\t//如果减完后月份和闰月相等，表示是闰月\n\t\t\tleap = month == leapMonth;\n\t\t}\n\n\t\treturn {\n\t\t\tyear: year,\n\t\t\tmonth: month,\n\t\t\tleap: leap,\n\t\t\tleapMonth: leapMonth\n\t\t};\n\t};\n\n\t/*\n\t * 返回两段日期的农历差了多少个月，因为有闰月，所以和公历不一样\n\t * date1和date2允许为公历\n\t */\n\t_chineseLunar.monthDiff = function(lunar1, lunar2) {\n\t\t//如果是公历的日期格式，则转换为农历\n\t\tvar count = 0;\n\n\t\t//如果数据类型是日期，则转换为农历\n\t\tif (lunar1 instanceof Date) lunar1 = _chineseLunar.solarToLunar(lunar1);\n\t\tif (lunar2 instanceof Date) lunar2 = _chineseLunar.solarToLunar(lunar2);\n\n\t\t//两个日期是同一年\n\t\tif (lunar1.year == lunar2.year) {\n\t\t\tcount = lunar2.month - lunar1.month;\n\t\t\t//中间有闰月的存在，计数器加一\n\t\t\tif (lunar1.leapMonth >= lunar1.month && lunar1.leapMonth <= lunar2.month) count++;\n\t\t} else {\n\t\t\t//计算首年，如果当前的闰月大于当前月，或者当前年有闰月且当前月等于闰月，但当前月又不是闰月，则要多添加一个月\n\t\t\tcount = 12;\n\t\t\tif(lunar1.leapMonth > lunar1.month ||\n\t\t\t\t(lunar1.leapMonth == lunar1.month && !lunar1.isLeaMonth)) count += 1;\n\t\t\tcount  -= lunar1.month;\n\n\t\t\t//计算两年之间中间的年月份\n\t\t\tvar year = lunar1.year + 1;\n\t\t\tfor (var i = year; i < lunar2.year; i++) {\n\t\t\t\tcount += _chineseLunar.monthsOfYear(year++);\n\t\t\t}\n\t\t\t//计算最后一年\n\t\t\tcount += lunar2.month;\n\t\t\tif (lunar2.isLeapMonth || lunar2.month < lunar2.leapMonth) count++;\n\t\t};\n\t\treturn count;\n\t};\n\n\t/*\n\t * 计算某年某月一个有多少天\n\t * daysOfMonth({}) 或者 daysOfMonth(year, month, leap);\n\t */\n\t_chineseLunar.daysOfMonth = function(year, month, leap) {\n\t\tif (typeof (year) == \"object\") {\n\t\t\tmonth = year.month;\n\t\t\tleap = year.leap;\n\t\t\tyear = year.year;\n\t\t};\n\n\t\tvar date1 = _chineseLunar.lunarToSolar(year, month, 1, leap);\n\t\tvar leapMonth = _chineseLunar.leapMonthOfYear(year);\n\t\tif (leapMonth == month && !leap) {\n\t\t\t//如果是闰月和当前一月一至，且当前月不是闰月，说明下一个月是闰月，例如2009年5月，这一年闰5月，如果传过来的不是闰月，那么下一个月就是闰月\n\t\t\tleap = true;\n\t\t} else if (month == 12) {\n\t\t\t//农历的最后一个月\n\t\t\tyear++;\n\t\t\tmonth = 1;\n\t\t} else {\n\t\t\tleap = false;\n\t\t\tmonth++;\n\t\t};\n\n\t\tvar date2 = _chineseLunar.lunarToSolar(year, month, 1, leap);\n\t\treturn _chineseLunar.dateDiff(date2, date1, \"d\");\n\n\t};\n\n\t//获取农历某一年有多少个月\n\t_chineseLunar.monthsOfYear = function(year) {\n\t\treturn MAPPING[year - MINYEAR].length - 1;\n\t};\n\n\t//获取农历某年的闰月是几月，\n\t_chineseLunar.leapMonthOfYear = function(year) {\n\t\tvar info = MAPPING[year - MINYEAR];\n\t\treturn info ? info[0] : 0;\n\t};\n\n\t/*\n\t 农历转阳历\n\t lunarToSolar({})，或者lunarToSolar(year, month, day, leap)\n\t */\n\t_chineseLunar.lunarToSolar = function(year, month, day, leap) {\n\t\tvar arg0 = arguments[0];\n\n\t\t//第一个参数是对象\n\t\tif (typeof (arg0) == \"object\" && arguments.length == 1) {\n\t\t\tyear = arg0.year;\n\t\t\tmonth = arg0.month;\n\t\t\tday = arg0.day;\n\t\t\tleap = arg0.leap;\n\t\t};\n\n\t\t//根据偏移量取得映射数据\n\t\tvar offset = year - MINYEAR;\n\t\t//所查询的日期超出范围\n\t\tif (offset < 0 || offset > MAPPING.length){\n\t\t\tthrow new Error('Specified date range is invalid.');\n\t\t};\n\n\t\t//取得润月是哪一个月\n\t\tvar leapMonth = MAPPING[offset][0];\n\t\t//如果isLeap=true，并且当前月份就是闰月，或者本月有闰月，且当前月份大于闰月，则月份需要加1\n\t\tif ((leap && month == leapMonth) ||\n\t\t\t(leapMonth > 0 && month > leapMonth)){\n\t\t\tmonth += 1;\n\t\t};\n\n\t\t//取出对应到某个月的片断\n\t\tvar segment = MAPPING[offset][month]; \t\t//农历第一天对应公历的具体天\n\t\tvar mapMonth = Number(segment.substring(0, 2))\n\t\tvar mapDate = Number(segment.substring(2, 4));\n\n\t\tif (mapMonth > 12) {\n\t\t\tyear += 1;\n\t\t\tmapMonth -= 12;\n\t\t};\n\n\t\tvar solar = new Date(year, mapMonth - 1, mapDate);\n\t\tvar time = solar.getTime() + ((day - 1) * 24 * 60 * 60 * 1000);\n\t\treturn new Date(time);\n\t};\n\n\t/*\n\t 公历转农历\n\t 1.查找对应农历初一是哪一天\n\t 2.将农历初一转换为公历\n\t 3.计入偏移量\n\t */\n\t_chineseLunar.solarToLunar = function(solar, format) {\n\t\tvar offset = solar.getFullYear() - MINYEAR;\n\t\t//超出范围\n\t\tif(offset <= 0 || offset >= MAPPING.length){\n\t\t\tthrow new Error('Specified date range is invalid.');\n\t\t};\n\n\t\t//查找范围内的农历数据\n\t\tvar data = _findLunar(solar, offset, 0, 13, false);\n\t\t//如果没有找到，则找前一年的，因为农历在公历之前，并且不会超过一年，查一年就可以了\n\t\tdata = data || _findLunar(solar, offset - 1, 12, 99, true);\n\n\t\t//还是没有找到，表示超出范围\n\t\tif (!data) return false;\n\n\t\t//农历初一对应公历的哪一天\n\t\tvar firstDay = new Date(data.year, data.month - 1, data.day);\n\t\tvar day = _solarDiff(solar, firstDay, \"d\") + 1;\n\n\t\t//返回的农历结果\n\t\tvar result = {\n\t\t\tleap: data.leapMonth > 0 && data.leapMonth + 1 == data.lunarMonth,\n\t\t\tyear: data.lunarYear,\n\t\t\tmonth: data.leapMonth > 0 && data.lunarMonth > data.leapMonth ? data.lunarMonth - 1 : data.lunarMonth,\n\t\t\tday: day,\n\t\t\tleapMonth: data.leapMonth\n\t\t};\n\n\t\t//判断是否要格式化结果\n\t\treturn (format && result) ? _chineseLunar.format(result, format) : result;\n\t};\n\n\t//获取中国传统干支的名称\n\t_chineseLunar.traditionalYearName = function(year) {\n\t\tvar Gan = \"甲乙丙丁戊己庚辛壬癸\".split(\"\");\n\t\tvar Zhi = \"子丑寅卯辰巳午未申酉戌亥\".split(\"\");\n\t\tyear = year - MINYEAR + 36;\n\t\treturn (Gan[year % 10] + Zhi[year % 12] + \"年\");\n\t};\n\n\t//获取中文的年\n\t_chineseLunar.yearName = function(year) {\n\t\tvar cnStr = '〇,一,二,三,四,五,六,七,八,九'.split(\",\");\n\t\tvar cYear = year.toString();\n\t\tvar result = '';\n\t\tfor (var i = 0; i < cYear.length; i++) {\n\t\t\tresult += cnStr[parseInt(cYear.charAt(i))];\n\t\t}\n\t\treturn result + '年';\n\t};\n\n\t//获取中国的生肖\n\t_chineseLunar.animalName = function(year) {\n\t\treturn \"鼠牛虎兔龙蛇马羊猴鸡狗猪\".split(\"\")[(year - 4) % 12];\n\t};\n\n\t//获取农历月的名称\n\t_chineseLunar.monthName = function(month, traditional, leap) {\n\t\tvar monthName = \"正,二,三,四,五,六,七,八,九,十,十一,十二\".split(\",\");\n\t\tif (traditional) { monthName[11] = \"腊\" }\n\t\treturn (leap ? \"闰\" : \"\") + monthName[month - 1] + \"月\";\n\t};\n\n\t//获取农历传统天的名称\n\t_chineseLunar.dayName = function(lunar) {\n\t\tswitch (lunar) {\n\t\t\tcase 10: return '初十';\n\t\t\tcase 20: return '二十';\n\t\t\tcase 30: return '三十';\n\t\t\tdefault: return (\"初十廿卅\".split(\"\")[Math.floor(lunar / 10)] +\n\t\t\t\t\"一二三四五六七八九十\".split(\"\")[(lunar - 1) % 10]) || lunar;\n\t\t}\n\t};\n\n\t//格式化农历日期，date是农历的日期\n\t_chineseLunar.format = function(lunar, expr) {\n\t\treturn expr.replace(/[TAYyMmdD]/g, function(m, i) {\n\t\t\tswitch (m) {\n\t\t\t\t//获取传统的年\n\t\t\t\tcase \"T\": return _chineseLunar.traditionalYearName(lunar.year);\n\t\t\t\t//获取生肖\n\t\t\t\tcase \"A\": return _chineseLunar.animalName(lunar.year);\n\t\t\t\t//获取中文的年\n\t\t\t\tcase \"Y\": return _chineseLunar.yearName(lunar.year);\n\t\t\t\t//获取数字年\n\t\t\t\tcase \"y\": return lunar.year;\n\t\t\t\t//获取月份\n\t\t\t\tcase \"m\": return _chineseLunar.monthName(lunar.month, false, lunar.leap);\n\t\t\t\t//获取传统的月\n\t\t\t\tcase \"M\": return _chineseLunar.monthName(lunar.month, true, lunar.leap);\n\t\t\t\t//获取天\n\t\t\t\tcase \"d\": return _chineseLunar.dayName(lunar.day);\n\t\t\t\t//如果是初一，则显示月，而不是显示\n\t\t\t\tcase \"D\":\n\t\t\t\t\tif(lunar.day == 1){\n\t\t\t\t\t\treturn _chineseLunar.monthName(lunar.month, false, lunar.leap);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn _chineseLunar.dayName(lunar.day);\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t};\n\n\n\tif (typeof define === 'function'){\n\t\tdefine (function (){\n\t\t\treturn _chineseLunar;\n\t\t});\n\t}else if(typeof exports === 'object'){\n\t\tmodule.exports = _chineseLunar;\n\t}else{\n\t\twindow.chineseLunar = _chineseLunar;\n\t};\n})();","date":"2025-08-05T15:04:29.985Z","updated":"2025-08-01T09:56:05.203Z","path":"custom/js/chineselunar.js","layout":"false","title":"","comments":1,"_id":"cmgu9561h004lg0fy69drb2f7","content":"(()=>{function n(e,t,r){var a=e.getTime()-t.getTime();switch(r){case\"y\":return parseInt(e.getFullYear()-t.getFullYear());case\"M\":return parseInt(12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth()));case\"d\":return Math.ceil(a/1e3/60/60/24);case\"w\":return Math.floor(a/1e3/60/60/24/7);case\"h\":return Math.floor(a/1e3/60/60);case\"m\":return Math.floor(a/1e3/60);case\"s\":return Math.floor(a/1e3);case\"ms\":return parseInt(a)}}function o(e,t,r,a,n){var o=d[t];if(!o)return!1;for(var u=e.getFullYear(),l=e.getMonth()+1,h=e.getDate(),t=u,i=o.length-1;0<i;i--){var s,f=i,m=Number(o[i].substring(0,2)),c=Number(o[i].substring(2,4)),p=(s=n&&12<m?m-12:m)<l||s==l&&c<=h||(m<=r||a<=m)&&n;if(12==s&&l<s&&1==i&&(p=!0,u--),p)break}return!!p&&(n&&12==m&&(u-=1),{year:u,month:s,day:c,lunarYear:n?t-1:t,lunarMonth:f,leapMonth:o[0]})}var d=[[8,\"0131\",\"0301\",\"0331\",\"0429\",\"0528\",\"0627\",\"0726\",\"0825\",\"0924\",\"1023\",\"1122\",\"1222\",\"1320\"],[0,\"0219\",\"0320\",\"0419\",\"0518\",\"0616\",\"0716\",\"0814\",\"0913\",\"1012\",\"1111\",\"1211\",\"1310\"],[0,\"0208\",\"0310\",\"0408\",\"0508\",\"0606\",\"0705\",\"0804\",\"0902\",\"1002\",\"1031\",\"1130\",\"1230\"],[5,\"0129\",\"0227\",\"0329\",\"0427\",\"0527\",\"0625\",\"0724\",\"0823\",\"0921\",\"1020\",\"1119\",\"1219\",\"1317\"],[0,\"0216\",\"0317\",\"0416\",\"0515\",\"0614\",\"0713\",\"0811\",\"0910\",\"1009\",\"1107\",\"1207\",\"1306\"],[0,\"0204\",\"0306\",\"0405\",\"0504\",\"0603\",\"0703\",\"0801\",\"0830\",\"0929\",\"1028\",\"1127\",\"1226\"],[4,\"0125\",\"0223\",\"0325\",\"0424\",\"0523\",\"0622\",\"0721\",\"0820\",\"0918\",\"1018\",\"1116\",\"1216\",\"1314\"],[0,\"0213\",\"0314\",\"0413\",\"0512\",\"0611\",\"0710\",\"0809\",\"0908\",\"1007\",\"1106\",\"1205\",\"1304\"],[0,\"0202\",\"0303\",\"0401\",\"0430\",\"0530\",\"0629\",\"0728\",\"0827\",\"0925\",\"1025\",\"1124\",\"1223\"],[2,\"0122\",\"0220\",\"0322\",\"0420\",\"0519\",\"0618\",\"0717\",\"0816\",\"0914\",\"1014\",\"1113\",\"1213\",\"1311\"],[0,\"0210\",\"0311\",\"0410\",\"0509\",\"0607\",\"0707\",\"0805\",\"0904\",\"1003\",\"1102\",\"1202\",\"1301\"],[6,\"0130\",\"0301\",\"0330\",\"0429\",\"0528\",\"0626\",\"0726\",\"0824\",\"0922\",\"1022\",\"1121\",\"1220\",\"1319\"],[0,\"0218\",\"0319\",\"0417\",\"0517\",\"0615\",\"0714\",\"0813\",\"0911\",\"1010\",\"1109\",\"1209\",\"1307\"],[0,\"0206\",\"0308\",\"0407\",\"0506\",\"0605\",\"0704\",\"0802\",\"0901\",\"0930\",\"1029\",\"1128\",\"1227\"],[5,\"0126\",\"0225\",\"0327\",\"0425\",\"0525\",\"0623\",\"0723\",\"0821\",\"0920\",\"1019\",\"1117\",\"1217\",\"1315\"],[0,\"0214\",\"0316\",\"0414\",\"0514\",\"0613\",\"0712\",\"0811\",\"0909\",\"1009\",\"1107\",\"1207\",\"1305\"],[0,\"0203\",\"0304\",\"0403\",\"0502\",\"0601\",\"0630\",\"0730\",\"0829\",\"0927\",\"1027\",\"1125\",\"1225\"],[2,\"0123\",\"0222\",\"0323\",\"0421\",\"0521\",\"0619\",\"0719\",\"0818\",\"0916\",\"1016\",\"1115\",\"1214\",\"1313\"],[0,\"0211\",\"0313\",\"0411\",\"0510\",\"0609\",\"0708\",\"0807\",\"0905\",\"1005\",\"1104\",\"1203\",\"1302\"],[7,\"0201\",\"0302\",\"0401\",\"0430\",\"0529\",\"0628\",\"0727\",\"0825\",\"0924\",\"1024\",\"1122\",\"1222\",\"1321\"],[0,\"0220\",\"0320\",\"0419\",\"0518\",\"0616\",\"0716\",\"0814\",\"0912\",\"1012\",\"1110\",\"1210\",\"1309\"],[0,\"0208\",\"0310\",\"0408\",\"0508\",\"0606\",\"0705\",\"0804\",\"0902\",\"1001\",\"1031\",\"1129\",\"1229\"],[5,\"0128\",\"0227\",\"0328\",\"0427\",\"0527\",\"0625\",\"0724\",\"0823\",\"0921\",\"1020\",\"1119\",\"1218\",\"1317\"],[0,\"0216\",\"0317\",\"0416\",\"0516\",\"0614\",\"0714\",\"0812\",\"0911\",\"1010\",\"1108\",\"1208\",\"1306\"],[0,\"0205\",\"0305\",\"0404\",\"0504\",\"0602\",\"0702\",\"0801\",\"0830\",\"0929\",\"1028\",\"1127\",\"1226\"],[4,\"0124\",\"0223\",\"0324\",\"0423\",\"0522\",\"0621\",\"0721\",\"0819\",\"0918\",\"1018\",\"1116\",\"1216\",\"1314\"],[0,\"0213\",\"0314\",\"0412\",\"0512\",\"0610\",\"0710\",\"0808\",\"0907\",\"1007\",\"1105\",\"1205\",\"1304\"],[0,\"0202\",\"0304\",\"0402\",\"0501\",\"0531\",\"0629\",\"0729\",\"0827\",\"0926\",\"1025\",\"1124\",\"1224\"],[2,\"0123\",\"0221\",\"0322\",\"0420\",\"0519\",\"0618\",\"0717\",\"0815\",\"0914\",\"1013\",\"1112\",\"1212\",\"1311\"],[0,\"0210\",\"0311\",\"0410\",\"0509\",\"0607\",\"0707\",\"0805\",\"0903\",\"1003\",\"1101\",\"1201\",\"1231\"],[6,\"0130\",\"0228\",\"0330\",\"0429\",\"0528\",\"0626\",\"0726\",\"0824\",\"0922\",\"1022\",\"1120\",\"1220\",\"1319\"],[0,\"0217\",\"0319\",\"0418\",\"0517\",\"0616\",\"0715\",\"0814\",\"0912\",\"1011\",\"1110\",\"1209\",\"1308\"],[0,\"0206\",\"0307\",\"0406\",\"0506\",\"0604\",\"0704\",\"0802\",\"0901\",\"0930\",\"1029\",\"1128\",\"1227\"],[5,\"0126\",\"0224\",\"0326\",\"0425\",\"0524\",\"0623\",\"0722\",\"0821\",\"0920\",\"1019\",\"1118\",\"1217\",\"1315\"],[0,\"0214\",\"0315\",\"0414\",\"0513\",\"0612\",\"0712\",\"0810\",\"0909\",\"1008\",\"1107\",\"1207\",\"1305\"],[0,\"0204\",\"0305\",\"0403\",\"0503\",\"0601\",\"0701\",\"0730\",\"0829\",\"0928\",\"1027\",\"1126\",\"1226\"],[3,\"0124\",\"0223\",\"0323\",\"0421\",\"0521\",\"0619\",\"0718\",\"0817\",\"0916\",\"1015\",\"1114\",\"1214\",\"1313\"],[0,\"0211\",\"0313\",\"0411\",\"0510\",\"0609\",\"0708\",\"0806\",\"0905\",\"1004\",\"1103\",\"1203\",\"1302\"],[7,\"0131\",\"0302\",\"0401\",\"0430\",\"0529\",\"0628\",\"0727\",\"0825\",\"0924\",\"1023\",\"1122\",\"1222\",\"1320\"],[0,\"0219\",\"0321\",\"0420\",\"0519\",\"0617\",\"0717\",\"0815\",\"0913\",\"1013\",\"1111\",\"1211\",\"1309\"],[0,\"0208\",\"0309\",\"0408\",\"0507\",\"0606\",\"0705\",\"0804\",\"0902\",\"1001\",\"1031\",\"1129\",\"1229\"],[6,\"0127\",\"0226\",\"0328\",\"0426\",\"0526\",\"0625\",\"0724\",\"0823\",\"0921\",\"1020\",\"1119\",\"1218\",\"1317\"],[0,\"0215\",\"0317\",\"0415\",\"0515\",\"0614\",\"0713\",\"0812\",\"0910\",\"1010\",\"1108\",\"1208\",\"1306\"],[0,\"0205\",\"0306\",\"0405\",\"0504\",\"0603\",\"0702\",\"0801\",\"0831\",\"0929\",\"1029\",\"1127\",\"1227\"],[4,\"0125\",\"0224\",\"0324\",\"0423\",\"0522\",\"0621\",\"0720\",\"0819\",\"0917\",\"1017\",\"1116\",\"1215\",\"1314\"],[0,\"0213\",\"0314\",\"0412\",\"0512\",\"0610\",\"0709\",\"0808\",\"0906\",\"1006\",\"1105\",\"1205\",\"1303\"],[0,\"0202\",\"0304\",\"0402\",\"0501\",\"0531\",\"0629\",\"0728\",\"0827\",\"0925\",\"1025\",\"1124\",\"1223\"],[2,\"0122\",\"0221\",\"0323\",\"0421\",\"0520\",\"0619\",\"0718\",\"0816\",\"0915\",\"1014\",\"1113\",\"1212\",\"1311\"],[0,\"0210\",\"0311\",\"0409\",\"0509\",\"0607\",\"0707\",\"0805\",\"0903\",\"1003\",\"1101\",\"1201\",\"1230\"],[7,\"0129\",\"0228\",\"0329\",\"0428\",\"0528\",\"0626\",\"0726\",\"0824\",\"0922\",\"1022\",\"1120\",\"1220\",\"1318\"],[0,\"0217\",\"0318\",\"0417\",\"0517\",\"0615\",\"0715\",\"0814\",\"0912\",\"1011\",\"1110\",\"1209\",\"1308\"],[0,\"0206\",\"0308\",\"0406\",\"0506\",\"0605\",\"0704\",\"0803\",\"0901\",\"1001\",\"1030\",\"1129\",\"1228\"],[5,\"0127\",\"0225\",\"0326\",\"0424\",\"0524\",\"0622\",\"0722\",\"0820\",\"0919\",\"1019\",\"1117\",\"1217\",\"1315\"],[0,\"0214\",\"0315\",\"0414\",\"0513\",\"0611\",\"0711\",\"0810\",\"0908\",\"1008\",\"1107\",\"1206\",\"1305\"],[0,\"0203\",\"0305\",\"0403\",\"0503\",\"0601\",\"0630\",\"0730\",\"0828\",\"0927\",\"1027\",\"1126\",\"1225\"],[3,\"0124\",\"0222\",\"0324\",\"0422\",\"0522\",\"0620\",\"0719\",\"0818\",\"0916\",\"1016\",\"1114\",\"1214\",\"1313\"],[0,\"0212\",\"0312\",\"0411\",\"0510\",\"0609\",\"0708\",\"0806\",\"0905\",\"1004\",\"1103\",\"1203\",\"1301\"],[8,\"0131\",\"0302\",\"0331\",\"0430\",\"0529\",\"0628\",\"0727\",\"0825\",\"0924\",\"1023\",\"1122\",\"1221\",\"1320\"],[0,\"0218\",\"0320\",\"0419\",\"0519\",\"0617\",\"0717\",\"0815\",\"0913\",\"1013\",\"1111\",\"1211\",\"1309\"],[0,\"0208\",\"0309\",\"0408\",\"0508\",\"0606\",\"0706\",\"0804\",\"0903\",\"1002\",\"1101\",\"1130\",\"1230\"],[6,\"0128\",\"0227\",\"0327\",\"0426\",\"0525\",\"0624\",\"0724\",\"0822\",\"0921\",\"1020\",\"1119\",\"1218\",\"1317\"],[0,\"0215\",\"0317\",\"0415\",\"0515\",\"0613\",\"0713\",\"0811\",\"0910\",\"1010\",\"1108\",\"1208\",\"1306\"],[0,\"0205\",\"0306\",\"0405\",\"0504\",\"0602\",\"0702\",\"0731\",\"0830\",\"0929\",\"1028\",\"1127\",\"1227\"],[4,\"0125\",\"0224\",\"0325\",\"0424\",\"0523\",\"0621\",\"0721\",\"0819\",\"0918\",\"1017\",\"1116\",\"1216\",\"1315\"],[0,\"0213\",\"0314\",\"0412\",\"0512\",\"0610\",\"0709\",\"0808\",\"0906\",\"1006\",\"1104\",\"1204\",\"1303\"],[0,\"0202\",\"0303\",\"0402\",\"0501\",\"0531\",\"0629\",\"0728\",\"0827\",\"0925\",\"1024\",\"1123\",\"1223\"],[3,\"0121\",\"0220\",\"0322\",\"0421\",\"0520\",\"0619\",\"0718\",\"0816\",\"0915\",\"1014\",\"1112\",\"1212\",\"1311\"],[0,\"0209\",\"0311\",\"0410\",\"0509\",\"0608\",\"0708\",\"0806\",\"0904\",\"1004\",\"1102\",\"1202\",\"1231\"],[7,\"0130\",\"0228\",\"0329\",\"0427\",\"0527\",\"0626\",\"0725\",\"0824\",\"0922\",\"1022\",\"1120\",\"1220\",\"1318\"],[0,\"0217\",\"0318\",\"0417\",\"0516\",\"0615\",\"0714\",\"0813\",\"0912\",\"1011\",\"1110\",\"1209\",\"1308\"],[0,\"0206\",\"0308\",\"0406\",\"0505\",\"0604\",\"0703\",\"0802\",\"0901\",\"0930\",\"1030\",\"1129\",\"1228\"],[5,\"0127\",\"0225\",\"0327\",\"0425\",\"0524\",\"0623\",\"0722\",\"0821\",\"0919\",\"1019\",\"1118\",\"1218\",\"1316\"],[0,\"0215\",\"0315\",\"0414\",\"0513\",\"0611\",\"0711\",\"0809\",\"0908\",\"1007\",\"1106\",\"1206\",\"1304\"],[0,\"0203\",\"0305\",\"0403\",\"0503\",\"0601\",\"0630\",\"0730\",\"0828\",\"0926\",\"1026\",\"1125\",\"1224\"],[4,\"0123\",\"0222\",\"0324\",\"0422\",\"0522\",\"0620\",\"0719\",\"0818\",\"0916\",\"1015\",\"1114\",\"1214\",\"1312\"],[0,\"0211\",\"0313\",\"0412\",\"0511\",\"0610\",\"0709\",\"0807\",\"0906\",\"1005\",\"1103\",\"1203\",\"1301\"],[8,\"0131\",\"0301\",\"0331\",\"0429\",\"0529\",\"0627\",\"0727\",\"0825\",\"0924\",\"1023\",\"1121\",\"1221\",\"1319\"],[0,\"0218\",\"0320\",\"0418\",\"0518\",\"0617\",\"0716\",\"0815\",\"0913\",\"1013\",\"1111\",\"1211\",\"1309\"],[0,\"0207\",\"0309\",\"0407\",\"0507\",\"0606\",\"0705\",\"0804\",\"0902\",\"1002\",\"1101\",\"1130\",\"1230\"],[6,\"0128\",\"0227\",\"0328\",\"0426\",\"0526\",\"0624\",\"0724\",\"0823\",\"0921\",\"1021\",\"1120\",\"1219\",\"1318\"],[0,\"0216\",\"0317\",\"0415\",\"0514\",\"0613\",\"0712\",\"0811\",\"0909\",\"1009\",\"1108\",\"1207\",\"1306\"],[0,\"0205\",\"0306\",\"0405\",\"0504\",\"0602\",\"0702\",\"0731\",\"0829\",\"0928\",\"1028\",\"1126\",\"1226\"],[4,\"0125\",\"0224\",\"0325\",\"0424\",\"0523\",\"0621\",\"0721\",\"0819\",\"0917\",\"1017\",\"1115\",\"1215\",\"1314\"],[0,\"0213\",\"0315\",\"0413\",\"0513\",\"0611\",\"0710\",\"0809\",\"0907\",\"1006\",\"1105\",\"1204\",\"1303\"],[10,\"0202\",\"0303\",\"0401\",\"0501\",\"0531\",\"0629\",\"0728\",\"0827\",\"0925\",\"1024\",\"1123\",\"1222\",\"1321\"],[0,\"0220\",\"0321\",\"0420\",\"0520\",\"0618\",\"0718\",\"0816\",\"0915\",\"1014\",\"1112\",\"1212\",\"1310\"],[0,\"0209\",\"0310\",\"0409\",\"0509\",\"0607\",\"0707\",\"0806\",\"0904\",\"1004\",\"1102\",\"1202\",\"1231\"],[6,\"0129\",\"0228\",\"0329\",\"0428\",\"0527\",\"0626\",\"0726\",\"0824\",\"0923\",\"1023\",\"1121\",\"1221\",\"1319\"],[0,\"0217\",\"0318\",\"0416\",\"0516\",\"0614\",\"0714\",\"0812\",\"0911\",\"1011\",\"1109\",\"1209\",\"1308\"],[0,\"0206\",\"0308\",\"0406\",\"0505\",\"0604\",\"0703\",\"0802\",\"0831\",\"0930\",\"1029\",\"1128\",\"1228\"],[5,\"0127\",\"0225\",\"0327\",\"0425\",\"0524\",\"0623\",\"0722\",\"0820\",\"0919\",\"1018\",\"1117\",\"1217\",\"1316\"],[0,\"0215\",\"0316\",\"0415\",\"0514\",\"0612\",\"0712\",\"0810\",\"0908\",\"1008\",\"1106\",\"1206\",\"1305\"],[0,\"0204\",\"0304\",\"0403\",\"0503\",\"0601\",\"0630\",\"0730\",\"0828\",\"0926\",\"1026\",\"1124\",\"1224\"],[3,\"0123\",\"0221\",\"0323\",\"0422\",\"0521\",\"0620\",\"0719\",\"0818\",\"0916\",\"1015\",\"1114\",\"1213\",\"1312\"],[0,\"0210\",\"0312\",\"0411\",\"0511\",\"0609\",\"0709\",\"0807\",\"0906\",\"1005\",\"1103\",\"1203\",\"1301\"],[8,\"0131\",\"0301\",\"0331\",\"0430\",\"0529\",\"0628\",\"0727\",\"0826\",\"0925\",\"1024\",\"1122\",\"1222\",\"1320\"],[0,\"0219\",\"0319\",\"0418\",\"0517\",\"0616\",\"0715\",\"0814\",\"0912\",\"1012\",\"1111\",\"1211\",\"1309\"],[0,\"0207\",\"0309\",\"0407\",\"0507\",\"0605\",\"0705\",\"0803\",\"0902\",\"1002\",\"1031\",\"1130\",\"1230\"],[5,\"0128\",\"0227\",\"0328\",\"0426\",\"0526\",\"0624\",\"0723\",\"0822\",\"0921\",\"1020\",\"1119\",\"1219\",\"1317\"],[0,\"0216\",\"0318\",\"0416\",\"0515\",\"0614\",\"0713\",\"0811\",\"0910\",\"1009\",\"1108\",\"1208\",\"1307\"],[0,\"0205\",\"0306\",\"0405\",\"0504\",\"0602\",\"0702\",\"0731\",\"0829\",\"0928\",\"1027\",\"1126\",\"1226\"],[4,\"0124\",\"0223\",\"0325\",\"0423\",\"0523\",\"0621\",\"0721\",\"0819\",\"0917\",\"1017\",\"1115\",\"1215\",\"1313\"],[0,\"0212\",\"0314\",\"0413\",\"0512\",\"0611\",\"0710\",\"0809\",\"0907\",\"1006\",\"1105\",\"1204\",\"1303\"],[0,\"0201\",\"0303\",\"0402\",\"0501\",\"0531\",\"0630\",\"0729\",\"0828\",\"0926\",\"1025\",\"1124\",\"1223\"],[2,\"0122\",\"0220\",\"0321\",\"0419\",\"0519\",\"0618\",\"0717\",\"0816\",\"0914\",\"1014\",\"1112\",\"1212\",\"1310\"],[0,\"0209\",\"0310\",\"0409\",\"0508\",\"0607\",\"0706\",\"0805\",\"0904\",\"1003\",\"1102\",\"1201\",\"1231\"],[7,\"0129\",\"0228\",\"0329\",\"0428\",\"0527\",\"0626\",\"0725\",\"0824\",\"0922\",\"1022\",\"1121\",\"1220\",\"1319\"],[0,\"0218\",\"0319\",\"0417\",\"0517\",\"0615\",\"0714\",\"0813\",\"0911\",\"1011\",\"1110\",\"1210\",\"1308\"],[0,\"0207\",\"0308\",\"0406\",\"0505\",\"0604\",\"0703\",\"0801\",\"0831\",\"0929\",\"1029\",\"1128\",\"1227\"],[5,\"0126\",\"0225\",\"0327\",\"0425\",\"0524\",\"0623\",\"0722\",\"0820\",\"0919\",\"1018\",\"1117\",\"1216\",\"1315\"],[0,\"0214\",\"0316\",\"0414\",\"0514\",\"0612\",\"0712\",\"0810\",\"0908\",\"1008\",\"1106\",\"1206\",\"1304\"],[0,\"0203\",\"0305\",\"0403\",\"0503\",\"0602\",\"0701\",\"0731\",\"0829\",\"0927\",\"1027\",\"1125\",\"1225\"],[4,\"0123\",\"0222\",\"0322\",\"0421\",\"0521\",\"0619\",\"0719\",\"0817\",\"0916\",\"1015\",\"1114\",\"1213\",\"1312\"],[0,\"0210\",\"0312\",\"0410\",\"0510\",\"0608\",\"0708\",\"0807\",\"0905\",\"1005\",\"1103\",\"1203\",\"1301\"],[9,\"0131\",\"0301\",\"0331\",\"0429\",\"0529\",\"0627\",\"0727\",\"0825\",\"0924\",\"1024\",\"1122\",\"1222\",\"1320\"],[0,\"0219\",\"0320\",\"0419\",\"0518\",\"0616\",\"0716\",\"0814\",\"0913\",\"1013\",\"1112\",\"1211\",\"1310\"],[0,\"0208\",\"0309\",\"0407\",\"0507\",\"0605\",\"0704\",\"0803\",\"0901\",\"1001\",\"1031\",\"1129\",\"1229\"],[6,\"0128\",\"0226\",\"0328\",\"0426\",\"0526\",\"0624\",\"0723\",\"0822\",\"0920\",\"1020\",\"1118\",\"1218\",\"1317\"],[0,\"0216\",\"0317\",\"0416\",\"0515\",\"0614\",\"0713\",\"0811\",\"0910\",\"1009\",\"1108\",\"1207\",\"1306\"],[0,\"0205\",\"0307\",\"0405\",\"0505\",\"0603\",\"0703\",\"0801\",\"0830\",\"0929\",\"1028\",\"1126\",\"1226\"],[4,\"0125\",\"0223\",\"0324\",\"0423\",\"0523\",\"0621\",\"0721\",\"0819\",\"0917\",\"1017\",\"1115\",\"1215\",\"1313\"],[0,\"0212\",\"0313\",\"0412\",\"0512\",\"0610\",\"0710\",\"0808\",\"0907\",\"1006\",\"1105\",\"1204\",\"1303\"],[0,\"0201\",\"0303\",\"0401\",\"0501\",\"0530\",\"0629\",\"0729\",\"0827\",\"0926\",\"1025\",\"1124\",\"1223\"],[2,\"0122\",\"0220\",\"0322\",\"0420\",\"0519\",\"0618\",\"0718\",\"0816\",\"0915\",\"1015\",\"1113\",\"1213\",\"1311\"],[0,\"0210\",\"0310\",\"0409\",\"0508\",\"0606\",\"0706\",\"0804\",\"0903\",\"1003\",\"1101\",\"1201\",\"1231\"],[6,\"0129\",\"0228\",\"0329\",\"0428\",\"0527\",\"0625\",\"0725\",\"0823\",\"0922\",\"1021\",\"1120\",\"1220\",\"1319\"],[0,\"0217\",\"0319\",\"0417\",\"0517\",\"0615\",\"0714\",\"0813\",\"0911\",\"1010\",\"1109\",\"1209\",\"1308\"],[0,\"0206\",\"0308\",\"0407\",\"0506\",\"0605\",\"0704\",\"0802\",\"0901\",\"0930\",\"1029\",\"1128\",\"1228\"],[5,\"0126\",\"0225\",\"0326\",\"0425\",\"0524\",\"0623\",\"0722\",\"0820\",\"0919\",\"1018\",\"1116\",\"1216\",\"1315\"],[0,\"0213\",\"0315\",\"0414\",\"0513\",\"0612\",\"0711\",\"0810\",\"0908\",\"1008\",\"1106\",\"1205\",\"1304\"],[0,\"0203\",\"0304\",\"0403\",\"0502\",\"0601\",\"0701\",\"0730\",\"0829\",\"0927\",\"1027\",\"1125\",\"1225\"],[3,\"0123\",\"0221\",\"0323\",\"0422\",\"0521\",\"0620\",\"0719\",\"0818\",\"0917\",\"1016\",\"1115\",\"1214\",\"1313\"],[0,\"0211\",\"0312\",\"0410\",\"0509\",\"0608\",\"0707\",\"0806\",\"0905\",\"1004\",\"1103\",\"1203\",\"1301\"],[7,\"0131\",\"0301\",\"0331\",\"0429\",\"0528\",\"0627\",\"0726\",\"0825\",\"0923\",\"1023\",\"1122\",\"1222\",\"1320\"],[0,\"0219\",\"0320\",\"0419\",\"0518\",\"0616\",\"0716\",\"0814\",\"0913\",\"1012\",\"1111\",\"1211\",\"1309\"],[0,\"0208\",\"0310\",\"0408\",\"0508\",\"0606\",\"0705\",\"0804\",\"0902\",\"1001\",\"1031\",\"1130\",\"1229\"],[6,\"0128\",\"0227\",\"0328\",\"0426\",\"0526\",\"0624\",\"0723\",\"0822\",\"0920\",\"1019\",\"1118\",\"1217\",\"1316\"],[0,\"0215\",\"0317\",\"0416\",\"0515\",\"0614\",\"0713\",\"0811\",\"0910\",\"1009\",\"1107\",\"1207\",\"1305\"],[0,\"0204\",\"0306\",\"0405\",\"0504\",\"0603\",\"0702\",\"0801\",\"0830\",\"0929\",\"1028\",\"1126\",\"1226\"],[5,\"0124\",\"0223\",\"0325\",\"0423\",\"0523\",\"0622\",\"0721\",\"0820\",\"0918\",\"1018\",\"1116\",\"1216\",\"1314\"],[0,\"0212\",\"0313\",\"0411\",\"0511\",\"0610\",\"0709\",\"0808\",\"0906\",\"1006\",\"1105\",\"1204\",\"1303\"],[0,\"0201\",\"0302\",\"0401\",\"0430\",\"0530\",\"0628\",\"0728\",\"0827\",\"0925\",\"1025\",\"1124\",\"1223\"],[2,\"0122\",\"0220\",\"0322\",\"0420\",\"0519\",\"0618\",\"0717\",\"0816\",\"0914\",\"1014\",\"1113\",\"1212\",\"1311\"],[0,\"0210\",\"0311\",\"0410\",\"0509\",\"0607\",\"0707\",\"0805\",\"0903\",\"1003\",\"1102\",\"1201\",\"1231\"],[7,\"0130\",\"0229\",\"0329\",\"0428\",\"0527\",\"0625\",\"0725\",\"0823\",\"0921\",\"1021\",\"1119\",\"1219\",\"1318\"],[0,\"0217\",\"0319\",\"0417\",\"0517\",\"0615\",\"0714\",\"0813\",\"0911\",\"1010\",\"1109\",\"1208\",\"1307\"],[0,\"0206\",\"0308\",\"0406\",\"0506\",\"0604\",\"0704\",\"0802\",\"0901\",\"0930\",\"1029\",\"1128\",\"1227\"],[5,\"0126\",\"0225\",\"0326\",\"0425\",\"0525\",\"0623\",\"0723\",\"0821\",\"0920\",\"1019\",\"1117\",\"1217\",\"1315\"],[0,\"0214\",\"0314\",\"0413\",\"0513\",\"0611\",\"0711\",\"0810\",\"0908\",\"1008\",\"1106\",\"1205\",\"1304\"],[0,\"0202\",\"0304\",\"0402\",\"0502\",\"0531\",\"0630\",\"0730\",\"0828\",\"0927\",\"1027\",\"1125\",\"1225\"],[3,\"0123\",\"0221\",\"0323\",\"0421\",\"0521\",\"0619\",\"0719\",\"0817\",\"0916\",\"1016\",\"1114\",\"1214\",\"1313\"],[0,\"0211\",\"0313\",\"0411\",\"0510\",\"0609\",\"0708\",\"0806\",\"0905\",\"1005\",\"1103\",\"1203\",\"1302\"],[8,\"0201\",\"0301\",\"0331\",\"0429\",\"0528\",\"0627\",\"0726\",\"0824\",\"0923\",\"1022\",\"1121\",\"1221\",\"1320\"],[0,\"0219\",\"0320\",\"0419\",\"0518\",\"0616\",\"0716\",\"0814\",\"0912\",\"1012\",\"1110\",\"1210\",\"1309\"],[0,\"0208\",\"0309\",\"0408\",\"0508\",\"0606\",\"0705\",\"0804\",\"0902\",\"1001\",\"1031\",\"1129\",\"1229\"],[6,\"0128\",\"0226\",\"0328\",\"0427\",\"0526\",\"0625\",\"0724\",\"0823\",\"0921\",\"1020\",\"1119\",\"1218\",\"1317\"],[0,\"0215\",\"0316\",\"0415\",\"0515\",\"0613\",\"0713\",\"0811\",\"0910\",\"1009\",\"1107\",\"1207\",\"1305\"],[0,\"0204\",\"0305\",\"0404\",\"0504\",\"0602\",\"0702\",\"0731\",\"0830\",\"0929\",\"1028\",\"1126\",\"1226\"],[4,\"0124\",\"0223\",\"0324\",\"0423\",\"0522\",\"0621\",\"0720\",\"0819\",\"0918\",\"1017\",\"1116\",\"1216\",\"1314\"],[0,\"0212\",\"0314\",\"0412\",\"0512\",\"0610\",\"0710\",\"0808\",\"0907\",\"1006\",\"1105\",\"1205\",\"1304\"],[0,\"0202\",\"0303\",\"0401\",\"0501\",\"0530\",\"0628\",\"0727\",\"0826\",\"0924\",\"1024\",\"1123\",\"1223\"],[3,\"0121\",\"0220\",\"0322\",\"0420\",\"0519\",\"0618\",\"0717\",\"0815\",\"0914\",\"1013\",\"1112\",\"1212\",\"1311\"],[0,\"0209\",\"0311\",\"0410\",\"0509\",\"0607\",\"0707\",\"0805\",\"0903\",\"1003\",\"1101\",\"1201\",\"1231\"],[7,\"0129\",\"0228\",\"0330\",\"0428\",\"0528\",\"0626\",\"0726\",\"0824\",\"0922\",\"1022\",\"1120\",\"1220\",\"1318\"],[0,\"0217\",\"0318\",\"0417\",\"0516\",\"0615\",\"0714\",\"0813\",\"0911\",\"1010\",\"1109\",\"1208\",\"1307\"],[0,\"0205\",\"0307\",\"0406\",\"0505\",\"0604\",\"0704\",\"0802\",\"0901\",\"0930\",\"1029\",\"1128\",\"1227\"],[5,\"0126\",\"0224\",\"0326\",\"0424\",\"0524\",\"0623\",\"0722\",\"0821\",\"0919\",\"1019\",\"1117\",\"1217\",\"1315\"],[0,\"0214\",\"0315\",\"0414\",\"0513\",\"0612\",\"0711\",\"0810\",\"0909\",\"1008\",\"1107\",\"1206\",\"1305\"],[0,\"0203\",\"0304\",\"0402\",\"0502\",\"0531\",\"0629\",\"0729\",\"0828\",\"0926\",\"1026\",\"1125\",\"1224\"],[4,\"0123\",\"0221\",\"0323\",\"0421\",\"0521\",\"0619\",\"0718\",\"0817\",\"0915\",\"1015\",\"1114\",\"1214\",\"1312\"],[0,\"0211\",\"0312\",\"0411\",\"0510\",\"0609\",\"0708\",\"0806\",\"0905\",\"1004\",\"1103\",\"1203\",\"1301\"],[8,\"0131\",\"0302\",\"0331\",\"0430\",\"0529\",\"0628\",\"0727\",\"0825\",\"0924\",\"1023\",\"1122\",\"1221\",\"1320\"],[0,\"0219\",\"0320\",\"0418\",\"0518\",\"0616\",\"0716\",\"0814\",\"0912\",\"1012\",\"1110\",\"1210\",\"1308\"],[0,\"0207\",\"0309\",\"0407\",\"0507\",\"0605\",\"0704\",\"0803\",\"0901\",\"0930\",\"1030\",\"1128\",\"1228\"],[6,\"0126\",\"0225\",\"0326\",\"0425\",\"0525\",\"0623\",\"0723\",\"0821\",\"0920\",\"1019\",\"1118\",\"1217\",\"1316\"],[0,\"0214\",\"0316\",\"0414\",\"0514\",\"0612\",\"0712\",\"0811\",\"0909\",\"1009\",\"1107\",\"1207\",\"1305\"],[0,\"0204\",\"0304\",\"0403\",\"0502\",\"0601\",\"0630\",\"0730\",\"0828\",\"0927\",\"1027\",\"1125\",\"1225\"],[0,\"0123\",\"0222\",\"0323\",\"0422\",\"0521\",\"0620\",\"0719\",\"0818\",\"0917\",\"1017\",\"1115\",\"1215\"],[0,\"0113\",\"0212\",\"0313\",\"0412\",\"0511\",\"0609\",\"0709\",\"0807\",\"0906\",\"1006\",\"1104\",\"1204\"],[0,\"0103\",\"0201\",\"0303\",\"0401\",\"0501\",\"0530\",\"0628\",\"0728\",\"0826\",\"0925\",\"1024\",\"1123\"],[3,\"1223\",\"0122\",\"0220\",\"0321\",\"0419\",\"0519\",\"0617\",\"0716\",\"0815\",\"0913\",\"1012\",\"1111\",\"1211\"],[0,\"0110\",\"0208\",\"0310\",\"0409\",\"0508\",\"0607\",\"0706\",\"0804\",\"0903\",\"1002\",\"1031\",\"1130\"],[7,\"1230\",\"0128\",\"0227\",\"0329\",\"0428\",\"0527\",\"0625\",\"0725\",\"0823\",\"0922\",\"1021\",\"1119\",\"1219\"],[0,\"0118\",\"0216\",\"0318\",\"0417\",\"0516\",\"0615\",\"0714\",\"0813\",\"0911\",\"1011\",\"1109\",\"1209\"],[0,\"0107\",\"0206\",\"0306\",\"0405\",\"0504\",\"0603\",\"0703\",\"0801\",\"0831\",\"0929\",\"1029\",\"1127\"],[5,\"1227\",\"0125\",\"0224\",\"0325\",\"0423\",\"0523\",\"0622\",\"0721\",\"0820\",\"0919\",\"1018\",\"1117\",\"1216\"],[0,\"0115\",\"0213\",\"0315\",\"0413\",\"0512\",\"0611\",\"0710\",\"0809\",\"0908\",\"1007\",\"1106\",\"1206\"],[0,\"0104\",\"0203\",\"0304\",\"0403\",\"0502\",\"0531\",\"0630\",\"0729\",\"0828\",\"0926\",\"1026\",\"1125\"],[4,\"1225\",\"0123\",\"0222\",\"0322\",\"0421\",\"0520\",\"0618\",\"0718\",\"0816\",\"0914\",\"1014\",\"1113\",\"1213\"],[0,\"0111\",\"0210\",\"0312\",\"0410\",\"0510\",\"0608\",\"0707\",\"0806\",\"0904\",\"1003\",\"1102\",\"1202\"],[8,\"1231\",\"0130\",\"0301\",\"0331\",\"0429\",\"0529\",\"0627\",\"0726\",\"0825\",\"0923\",\"1022\",\"1121\",\"1221\"],[0,\"0119\",\"0218\",\"0320\",\"0418\",\"0518\",\"0616\",\"0716\",\"0814\",\"0913\",\"1012\",\"1110\",\"1210\"],[0,\"0108\",\"0207\",\"0308\",\"0406\",\"0506\",\"0605\",\"0704\",\"0803\",\"0901\",\"1001\",\"1030\",\"1129\"],[6,\"1228\",\"0126\",\"0225\",\"0327\",\"0425\",\"0525\",\"0623\",\"0723\",\"0822\",\"0920\",\"1020\",\"1118\",\"1218\"],[0,\"0116\",\"0214\",\"0316\",\"0414\",\"0514\",\"0612\",\"0712\",\"0811\",\"0909\",\"1009\",\"1108\",\"1207\"],[0,\"0106\",\"0204\",\"0306\",\"0404\",\"0503\",\"0602\",\"0701\",\"0731\",\"0829\",\"0928\",\"1028\",\"1127\"],[4,\"1226\",\"0125\",\"0223\",\"0324\",\"0422\",\"0521\",\"0620\",\"0719\",\"0817\",\"0916\",\"1016\",\"1115\",\"1214\"],[0,\"0113\",\"0212\",\"0313\",\"0412\",\"0511\",\"0609\",\"0709\",\"0807\",\"0905\",\"1005\",\"1104\",\"1203\"],[0,\"0102\",\"0201\",\"0303\",\"0401\",\"0501\",\"0530\",\"0628\",\"0727\",\"0826\",\"0924\",\"1024\",\"1122\"],[2,\"1222\",\"0121\",\"0220\",\"0321\",\"0420\",\"0520\",\"0618\",\"0717\",\"0816\",\"0914\",\"1013\",\"1112\",\"1211\"]],u=1900,h={};h.dateAdd=function(e,t){for(var r,a,n=(e=>{var e=e.match(/[+-]?\\d+((ms)|[yMdhmsw])/g),t=[],r=0;if(r<e.length)return/([+-])(\\d+)(.+)/.test(e[r])&&(e=parseInt(RegExp.$2),\"-\"===RegExp.$1&&(e=-e),t.push({value:e,unit:RegExp.$3})),t})(t),o=0;o<n.length;o++)r=e,a=n[o],e=\"M\"==void 0?h.monthAdd(r,a):(h.lunarToSolar(r),h.solarToLunar(void 0));return e},h.dateDiff=function(e,t,r){return\"M\"==r?h.monthDiff(e,t):(e=h.lunarToSolar(e),t=h.lunarToSolar(t),n(t,e,r))},h.monthAdd=function(e,t){if(e instanceof Date&&(e=h.solarToLunar(e)),0==t)return e;for(var r,a=e.year,n=e.month,o=((e.leap||0<e.leapMonth&&e.month>e.leapMonth)&&n++,!0);n=(t=t+n-(r=h.monthsOfYear(a)))<=0?(o=!1,a==e.year?r+t:r+t-n):(a++,1),o;);var u=h.leapMonthOfYear(a),l=!1;return 0<u&&u<n&&(l=--n==u),{year:a,month:n,leap:l,leapMonth:u}},h.monthDiff=function(e,t){var r=0;if(e instanceof Date&&(e=h.solarToLunar(e)),t instanceof Date&&(t=h.solarToLunar(t)),e.year==t.year)r=t.month-e.month,e.leapMonth>=e.month&&e.leapMonth<=t.month&&r++;else{r=12,(e.leapMonth>e.month||e.leapMonth==e.month&&!e.isLeaMonth)&&(r+=1),r-=e.month;for(var a=e.year+1,n=a;n<t.year;n++)r+=h.monthsOfYear(a++);r+=t.month,(t.isLeapMonth||t.month<t.leapMonth)&&r++}return r},h.daysOfMonth=function(e,t,r){\"object\"==typeof e&&(t=e.month,r=e.leap,e=e.year);var a=h.lunarToSolar(e,t,1,r),e=(h.leapMonthOfYear(e)!=t||r?12==t?(e++,t=1):(r=!1,t++):r=!0,h.lunarToSolar(e,t,1,r));return h.dateDiff(e,a,\"d\")},h.monthsOfYear=function(e){return d[e-u].length-1},h.leapMonthOfYear=function(e){e=d[e-u];return e?e[0]:0},h.lunarToSolar=function(e,t,r,a){var n=arguments[0],n=(\"object\"==typeof n&&1==arguments.length&&(e=n.year,t=n.month,r=n.day,a=n.leap),e-u);if(n<0||d.length<n)throw new Error(\"Specified date range is invalid.\");var o=d[n][0],a=((a&&t==o||0<o&&o<t)&&(t+=1),d[n][t]),o=Number(a.substring(0,2)),n=Number(a.substring(2,4));12<o&&(e+=1,o-=12);t=new Date(e,o-1,n).getTime()+24*(r-1)*60*60*1e3;return new Date(t)},h.solarToLunar=function(e,t){var r=e.getFullYear()-u;if(r<=0||d.length<=r)throw new Error(\"Specified date range is invalid.\");var a,r=o(e,r,0,13,!1)||o(e,r-1,12,99,!0);return!!r&&(a=new Date(r.year,r.month-1,r.day),e=n(e,a,\"d\")+1,a={leap:0<r.leapMonth&&r.leapMonth+1==r.lunarMonth,year:r.lunarYear,month:0<r.leapMonth&&r.lunarMonth>r.leapMonth?r.lunarMonth-1:r.lunarMonth,day:e,leapMonth:r.leapMonth},t&&a?h.format(a,t):a)},h.traditionalYearName=function(e){var t=\"甲乙丙丁戊己庚辛壬癸\".split(\"\"),r=\"子丑寅卯辰巳午未申酉戌亥\".split(\"\");return t[(e=e-u+36)%10]+r[e%12]+\"年\"},h.yearName=function(e){for(var t=\"〇,一,二,三,四,五,六,七,八,九\".split(\",\"),r=e.toString(),a=\"\",n=0;n<r.length;n++)a+=t[parseInt(r.charAt(n))];return a+\"年\"},h.animalName=function(e){return\"鼠牛虎兔龙蛇马羊猴鸡狗猪\".split(\"\")[(e-4)%12]},h.monthName=function(e,t,r){var a=\"正,二,三,四,五,六,七,八,九,十,十一,十二\".split(\",\");return t&&(a[11]=\"腊\"),(r?\"闰\":\"\")+a[e-1]+\"月\"},h.dayName=function(e){switch(e){case 10:return\"初十\";case 20:return\"二十\";case 30:return\"三十\";default:return\"初十廿卅\".split(\"\")[Math.floor(e/10)]+\"一二三四五六七八九十\".split(\"\")[(e-1)%10]||e}},h.format=function(r,e){return e.replace(/[TAYyMmdD]/g,function(e,t){switch(e){case\"T\":return h.traditionalYearName(r.year);case\"A\":return h.animalName(r.year);case\"Y\":return h.yearName(r.year);case\"y\":return r.year;case\"m\":return h.monthName(r.month,!1,r.leap);case\"M\":return h.monthName(r.month,!0,r.leap);case\"d\":return h.dayName(r.day);case\"D\":return 1==r.day?h.monthName(r.month,!1,r.leap):h.dayName(r.day)}})},\"function\"==typeof define?define(function(){return h}):\"object\"==typeof exports?module.exports=h:window.chineseLunar=h})();"},{"_content":"// 打字机效果\nfunction typeTextMachineStyle(text, targetSelector, options = {}) {\n    const {\n        delay = 50,\n        startDelay = 2000,\n        onComplete = null,\n        clearBefore = true,\n        eraseBefore = true, // 新增：是否以打字机方式清除原文本\n        eraseDelay = 30,    // 新增：删除每个字符的间隔\n    } = options;\n\n    const el = document.querySelector(targetSelector);\n    if (!el || typeof text !== \"string\") return;\n\n    setTimeout(() => {\n        const startTyping = () => {\n            let index = 0;\n            function renderChar() {\n                if (index <= text.length) {\n                    el.textContent = text.slice(0, index++);\n                    setTimeout(renderChar, delay);\n                } else {\n                    onComplete && onComplete(el);\n                }\n            }\n            renderChar();\n        };\n\n        if (clearBefore) {\n            if (eraseBefore && el.textContent.length > 0) {\n                let currentText = el.textContent;\n                let eraseIndex = currentText.length;\n\n                function eraseChar() {\n                    if (eraseIndex > 0) {\n                        el.textContent = currentText.slice(0, --eraseIndex);\n                        setTimeout(eraseChar, eraseDelay);\n                    } else {\n                        startTyping(); // 删除完毕后开始打字\n                    }\n                }\n\n                eraseChar();\n            } else {\n                el.textContent = \"\";\n                startTyping();\n            }\n        } else {\n            startTyping();\n        }\n    }, startDelay);\n}\n\nfunction renderAISummary() {\n    const summaryEl = document.querySelector('.ai-summary .ai-explanation');\n    if (!summaryEl) return;\n\n    const summaryText = summaryEl.getAttribute('data-summary');\n    if (summaryText) {\n        typeTextMachineStyle(summaryText, \".ai-summary .ai-explanation\"); // 如果需要切换，在这里调用另一个函数即可\n    }\n}\n\ndocument.addEventListener('pjax:complete', renderAISummary);\ndocument.addEventListener('DOMContentLoaded', renderAISummary);","source":"custom/js/ai.js","raw":"// 打字机效果\nfunction typeTextMachineStyle(text, targetSelector, options = {}) {\n    const {\n        delay = 50,\n        startDelay = 2000,\n        onComplete = null,\n        clearBefore = true,\n        eraseBefore = true, // 新增：是否以打字机方式清除原文本\n        eraseDelay = 30,    // 新增：删除每个字符的间隔\n    } = options;\n\n    const el = document.querySelector(targetSelector);\n    if (!el || typeof text !== \"string\") return;\n\n    setTimeout(() => {\n        const startTyping = () => {\n            let index = 0;\n            function renderChar() {\n                if (index <= text.length) {\n                    el.textContent = text.slice(0, index++);\n                    setTimeout(renderChar, delay);\n                } else {\n                    onComplete && onComplete(el);\n                }\n            }\n            renderChar();\n        };\n\n        if (clearBefore) {\n            if (eraseBefore && el.textContent.length > 0) {\n                let currentText = el.textContent;\n                let eraseIndex = currentText.length;\n\n                function eraseChar() {\n                    if (eraseIndex > 0) {\n                        el.textContent = currentText.slice(0, --eraseIndex);\n                        setTimeout(eraseChar, eraseDelay);\n                    } else {\n                        startTyping(); // 删除完毕后开始打字\n                    }\n                }\n\n                eraseChar();\n            } else {\n                el.textContent = \"\";\n                startTyping();\n            }\n        } else {\n            startTyping();\n        }\n    }, startDelay);\n}\n\nfunction renderAISummary() {\n    const summaryEl = document.querySelector('.ai-summary .ai-explanation');\n    if (!summaryEl) return;\n\n    const summaryText = summaryEl.getAttribute('data-summary');\n    if (summaryText) {\n        typeTextMachineStyle(summaryText, \".ai-summary .ai-explanation\"); // 如果需要切换，在这里调用另一个函数即可\n    }\n}\n\ndocument.addEventListener('pjax:complete', renderAISummary);\ndocument.addEventListener('DOMContentLoaded', renderAISummary);","date":"2025-08-05T15:04:29.985Z","updated":"2025-08-01T13:35:44.697Z","path":"custom/js/ai.js","layout":"false","title":"","comments":1,"_id":"cmgu9561k004pg0fyho3wdrg4","content":"function typeTextMachineStyle(n,e,t={}){let{delay:o=50,startDelay:a=2e3,onComplete:r=null,clearBefore:l=!0,eraseBefore:i=!0,eraseDelay:m=30}=t,u=document.querySelector(e);u&&\"string\"==typeof n&&setTimeout(()=>{let a=()=>{let t=0;!function e(){t<=n.length?(u.textContent=n.slice(0,t++),setTimeout(e,o)):r&&r(u)}()};if(l)if(i&&0<u.textContent.length){let t=u.textContent,n=t.length;!function e(){0<n?(u.textContent=t.slice(0,--n),setTimeout(e,m)):a()}()}else u.textContent=\"\",a();else a()},a)}function renderAISummary(){var e=document.querySelector(\".ai-summary .ai-explanation\");e&&(e=e.getAttribute(\"data-summary\"))&&typeTextMachineStyle(e,\".ai-summary .ai-explanation\")}document.addEventListener(\"pjax:complete\",renderAISummary),document.addEventListener(\"DOMContentLoaded\",renderAISummary);"},{"_content":"(function() {\n    const STATUS_CACHE_KEY = \"statusTagsData\";\n    const STATUS_JSON_URL = \"https://link.sumi233.top/result.json\"; // 这里设为你自己的url\n\n    let latestData = [];\n\n    // 渲染状态标签\n    function addStatusTags(data) {\n        if (!Array.isArray(data)) return;\n\n        document.querySelectorAll(\".flink-list-item\").forEach(item => {\n            // 防止重复添加\n            if (item.querySelector(\".status-tag\")) return;\n\n            // 获取显示名字\n            const nameEl = item.querySelector(\".flink-item-name, .cf-friends-name\");\n            if (!nameEl) return;\n            const nameText = nameEl.textContent.trim();\n\n            // 根据名字匹配 JSON 数据\n            const status = data.find(s => s.name === nameText);\n            if (!status) return;\n\n            // 创建状态标签\n            const tag = document.createElement(\"div\");\n            tag.classList.add(\"status-tag\");\n\n            let text = \"未知\";\n            let colorClass = \"status-tag-red\";\n\n            if (status.latency >= 0) {\n                text = status.latency.toFixed(2) + \" s\";\n                colorClass = status.latency <= 2 ? \"status-tag-green\"\n                           : status.latency <= 5 ? \"status-tag-light-yellow\"\n                           : status.latency <= 10 ? \"status-tag-dark-yellow\"\n                           : \"status-tag-red\";\n            }\n\n            tag.textContent = text;\n            tag.classList.add(colorClass);\n\n            // 保证父容器相对定位\n            item.style.position = \"relative\";\n            item.appendChild(tag);\n        });\n    }\n\n    // 获取 JSON 数据（带缓存）\n    function fetchStatusData() {\n        const cache = localStorage.getItem(STATUS_CACHE_KEY);\n        if (cache) {\n            try {\n                const parsed = JSON.parse(cache);\n                const cachedData = Array.isArray(parsed.data) ? parsed.data : (parsed.data?.link_status || []);\n                if (Date.now() - new Date(parsed.timestamp).getTime() < 18e5) { // 30分钟有效\n                    latestData = cachedData;\n                    addStatusTags(latestData);\n                }\n            } catch (e) {\n                console.warn(\"❌ 解析缓存失败，忽略缓存\", e);\n            }\n        }\n\n        fetch(`${STATUS_JSON_URL}?t=${Date.now()}`)\n            .then(r => r.json())\n            .then(json => {\n                latestData = Array.isArray(json) ? json : (json.link_status || []);\n                addStatusTags(latestData);\n                localStorage.setItem(STATUS_CACHE_KEY, JSON.stringify({ data: latestData, timestamp: new Date().toISOString() }));\n            })\n            .catch(err => console.error(\"❌ 获取 result.json 出错:\", err));\n    }\n\n    // 监听 DOM 变化，自动渲染新增卡片\n    function observeNewItems() {\n        const observer = new MutationObserver(() => addStatusTags(latestData));\n        observer.observe(document.body, { childList: true, subtree: true });\n    }\n\n    // 初始化\n    document.addEventListener(\"DOMContentLoaded\", () => {\n        fetchStatusData();\n        observeNewItems();\n    });\n\n    document.addEventListener(\"pjax:complete\", () => {\n        fetchStatusData();\n    });\n})();","source":"custom/js/flink.js","raw":"(function() {\n    const STATUS_CACHE_KEY = \"statusTagsData\";\n    const STATUS_JSON_URL = \"https://link.sumi233.top/result.json\"; // 这里设为你自己的url\n\n    let latestData = [];\n\n    // 渲染状态标签\n    function addStatusTags(data) {\n        if (!Array.isArray(data)) return;\n\n        document.querySelectorAll(\".flink-list-item\").forEach(item => {\n            // 防止重复添加\n            if (item.querySelector(\".status-tag\")) return;\n\n            // 获取显示名字\n            const nameEl = item.querySelector(\".flink-item-name, .cf-friends-name\");\n            if (!nameEl) return;\n            const nameText = nameEl.textContent.trim();\n\n            // 根据名字匹配 JSON 数据\n            const status = data.find(s => s.name === nameText);\n            if (!status) return;\n\n            // 创建状态标签\n            const tag = document.createElement(\"div\");\n            tag.classList.add(\"status-tag\");\n\n            let text = \"未知\";\n            let colorClass = \"status-tag-red\";\n\n            if (status.latency >= 0) {\n                text = status.latency.toFixed(2) + \" s\";\n                colorClass = status.latency <= 2 ? \"status-tag-green\"\n                           : status.latency <= 5 ? \"status-tag-light-yellow\"\n                           : status.latency <= 10 ? \"status-tag-dark-yellow\"\n                           : \"status-tag-red\";\n            }\n\n            tag.textContent = text;\n            tag.classList.add(colorClass);\n\n            // 保证父容器相对定位\n            item.style.position = \"relative\";\n            item.appendChild(tag);\n        });\n    }\n\n    // 获取 JSON 数据（带缓存）\n    function fetchStatusData() {\n        const cache = localStorage.getItem(STATUS_CACHE_KEY);\n        if (cache) {\n            try {\n                const parsed = JSON.parse(cache);\n                const cachedData = Array.isArray(parsed.data) ? parsed.data : (parsed.data?.link_status || []);\n                if (Date.now() - new Date(parsed.timestamp).getTime() < 18e5) { // 30分钟有效\n                    latestData = cachedData;\n                    addStatusTags(latestData);\n                }\n            } catch (e) {\n                console.warn(\"❌ 解析缓存失败，忽略缓存\", e);\n            }\n        }\n\n        fetch(`${STATUS_JSON_URL}?t=${Date.now()}`)\n            .then(r => r.json())\n            .then(json => {\n                latestData = Array.isArray(json) ? json : (json.link_status || []);\n                addStatusTags(latestData);\n                localStorage.setItem(STATUS_CACHE_KEY, JSON.stringify({ data: latestData, timestamp: new Date().toISOString() }));\n            })\n            .catch(err => console.error(\"❌ 获取 result.json 出错:\", err));\n    }\n\n    // 监听 DOM 变化，自动渲染新增卡片\n    function observeNewItems() {\n        const observer = new MutationObserver(() => addStatusTags(latestData));\n        observer.observe(document.body, { childList: true, subtree: true });\n    }\n\n    // 初始化\n    document.addEventListener(\"DOMContentLoaded\", () => {\n        fetchStatusData();\n        observeNewItems();\n    });\n\n    document.addEventListener(\"pjax:complete\", () => {\n        fetchStatusData();\n    });\n})();","date":"2025-09-23T19:22:48.371Z","updated":"2025-09-23T19:22:48.371Z","path":"custom/js/flink.js","layout":"false","title":"","comments":1,"_id":"cmgu9561m004vg0fygfi4cndi","content":"(()=>{let s=\"statusTagsData\",n=[];function r(t){Array.isArray(t)&&document.querySelectorAll(\".flink-list-item\").forEach(a=>{if(!a.querySelector(\".status-tag\")){var s=a.querySelector(\".flink-item-name, .cf-friends-name\");if(s){let e=s.textContent.trim();s=t.find(t=>t.name===e);if(s){var n=document.createElement(\"div\");n.classList.add(\"status-tag\");let t=\"未知\",e=\"status-tag-red\";0<=s.latency&&(t=s.latency.toFixed(2)+\" s\",e=s.latency<=2?\"status-tag-green\":s.latency<=5?\"status-tag-light-yellow\":s.latency<=10?\"status-tag-dark-yellow\":\"status-tag-red\"),n.textContent=t,n.classList.add(e),a.style.position=\"relative\",a.appendChild(n)}}}})}function t(){var t=localStorage.getItem(s);if(t)try{var e=JSON.parse(t),a=Array.isArray(e.data)?e.data:e.data?.link_status||[];Date.now()-new Date(e.timestamp).getTime()<18e5&&r(n=a)}catch(t){console.warn(\"❌ 解析缓存失败，忽略缓存\",t)}fetch(\"https://link.sumi233.top/result.json?t=\"+Date.now()).then(t=>t.json()).then(t=>{r(n=Array.isArray(t)?t:t.link_status||[]),localStorage.setItem(s,JSON.stringify({data:n,timestamp:(new Date).toISOString()}))}).catch(t=>console.error(\"❌ 获取 result.json 出错:\",t))}document.addEventListener(\"DOMContentLoaded\",()=>{t(),new MutationObserver(()=>r(n)).observe(document.body,{childList:!0,subtree:!0})}),document.addEventListener(\"pjax:complete\",()=>{t()})})();"},{"_content":"// 首页头图加载优化\n/**\n * @description 实现medium的渐进加载背景的效果\n */\nclass ProgressiveLoad {\n    constructor(smallSrc, largeSrc) {\n      this.smallSrc = smallSrc;\n      this.largeSrc = largeSrc;\n      this.initTpl();\n    }\n  \n    /**\n     * @description 生成ui模板\n     */\n    initTpl() {\n      this.container = document.createElement('div');\n      this.smallStage = document.createElement('div');\n      this.largeStage = document.createElement('div');\n      this.smallImg = new Image();\n      this.largeImg = new Image();\n      this.container.className = 'pl-container';\n      this.smallStage.className = 'pl-img pl-blur';\n      this.largeStage.className = 'pl-img';\n      this.container.appendChild(this.smallStage);\n      this.container.appendChild(this.largeStage);\n      this.smallImg.onload = this._onSmallLoaded.bind(this);\n      this.largeImg.onload = this._onLargeLoaded.bind(this);\n    }\n  \n    /**\n     * @description 加载背景\n     */\n    progressiveLoad() {\n      this.smallImg.src = this.smallSrc;\n      this.largeImg.src = this.largeSrc;\n    }\n  \n    /**\n     * @description 大图加载完成\n     */\n    _onLargeLoaded() {\n      this.largeStage.classList.add('pl-visible');\n      this.largeStage.style.backgroundImage = `url('${this.largeSrc}')`;\n    }\n  \n    /**\n     * @description 小图加载完成\n     */\n    _onSmallLoaded() {\n      this.smallStage.classList.add('pl-visible');\n      this.smallStage.style.backgroundImage = `url('${this.smallSrc}')`;\n    }\n  }\n  \n  const executeLoad = (config, target) => {\n    console.log('执行渐进背景替换');\n    const isMobile = window.matchMedia('(max-width: 767px)').matches;\n    const loader = new ProgressiveLoad(\n      isMobile ? config.mobileSmallSrc : config.smallSrc,\n      isMobile ? config.mobileLargeSrc : config.largeSrc\n    );\n    // 和背景图颜色保持一致，防止高斯模糊后差异较大\n    if (target.children[0]) {\n      target.insertBefore(loader.container, target.children[0]);\n    }\n    loader.progressiveLoad();\n  };\n  \n  const config = {\n    smallSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img_md.jpg', // 小图链接 尽可能配置小于100k的图片\n    largeSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img.jpeg', // 大图链接 最终显示的图片\n    mobileSmallSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img_md.jpg', // 手机端小图链接 尽可能配置小于100k的图片\n    mobileLargeSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img.jpeg', // 手机端大图链接 最终显示的图片\n    enableRoutes: ['/'],\n    };\n\n  function initProgressiveLoad(config) {\n    const target = document.getElementById('page-header');\n    if (target && target.classList.contains('full_page')) {\n      executeLoad(config, target);\n    }\n  }\n  \n  function onPJAXComplete(config) {\n    const target = document.getElementById('page-header');\n    if (target && target.classList.contains('full_page')) {\n      initProgressiveLoad(config);\n    }\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", function() {\n    initProgressiveLoad(config);\n  });\n  \n  document.addEventListener(\"pjax:complete\", function() {\n    onPJAXComplete(config);\n  });","source":"custom/js/loadbigimg.js","raw":"// 首页头图加载优化\n/**\n * @description 实现medium的渐进加载背景的效果\n */\nclass ProgressiveLoad {\n    constructor(smallSrc, largeSrc) {\n      this.smallSrc = smallSrc;\n      this.largeSrc = largeSrc;\n      this.initTpl();\n    }\n  \n    /**\n     * @description 生成ui模板\n     */\n    initTpl() {\n      this.container = document.createElement('div');\n      this.smallStage = document.createElement('div');\n      this.largeStage = document.createElement('div');\n      this.smallImg = new Image();\n      this.largeImg = new Image();\n      this.container.className = 'pl-container';\n      this.smallStage.className = 'pl-img pl-blur';\n      this.largeStage.className = 'pl-img';\n      this.container.appendChild(this.smallStage);\n      this.container.appendChild(this.largeStage);\n      this.smallImg.onload = this._onSmallLoaded.bind(this);\n      this.largeImg.onload = this._onLargeLoaded.bind(this);\n    }\n  \n    /**\n     * @description 加载背景\n     */\n    progressiveLoad() {\n      this.smallImg.src = this.smallSrc;\n      this.largeImg.src = this.largeSrc;\n    }\n  \n    /**\n     * @description 大图加载完成\n     */\n    _onLargeLoaded() {\n      this.largeStage.classList.add('pl-visible');\n      this.largeStage.style.backgroundImage = `url('${this.largeSrc}')`;\n    }\n  \n    /**\n     * @description 小图加载完成\n     */\n    _onSmallLoaded() {\n      this.smallStage.classList.add('pl-visible');\n      this.smallStage.style.backgroundImage = `url('${this.smallSrc}')`;\n    }\n  }\n  \n  const executeLoad = (config, target) => {\n    console.log('执行渐进背景替换');\n    const isMobile = window.matchMedia('(max-width: 767px)').matches;\n    const loader = new ProgressiveLoad(\n      isMobile ? config.mobileSmallSrc : config.smallSrc,\n      isMobile ? config.mobileLargeSrc : config.largeSrc\n    );\n    // 和背景图颜色保持一致，防止高斯模糊后差异较大\n    if (target.children[0]) {\n      target.insertBefore(loader.container, target.children[0]);\n    }\n    loader.progressiveLoad();\n  };\n  \n  const config = {\n    smallSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img_md.jpg', // 小图链接 尽可能配置小于100k的图片\n    largeSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img.jpeg', // 大图链接 最终显示的图片\n    mobileSmallSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img_md.jpg', // 手机端小图链接 尽可能配置小于100k的图片\n    mobileLargeSrc: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img.jpeg', // 手机端大图链接 最终显示的图片\n    enableRoutes: ['/'],\n    };\n\n  function initProgressiveLoad(config) {\n    const target = document.getElementById('page-header');\n    if (target && target.classList.contains('full_page')) {\n      executeLoad(config, target);\n    }\n  }\n  \n  function onPJAXComplete(config) {\n    const target = document.getElementById('page-header');\n    if (target && target.classList.contains('full_page')) {\n      initProgressiveLoad(config);\n    }\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", function() {\n    initProgressiveLoad(config);\n  });\n  \n  document.addEventListener(\"pjax:complete\", function() {\n    onPJAXComplete(config);\n  });","date":"2025-09-19T06:38:49.630Z","updated":"2025-09-19T06:38:49.630Z","path":"custom/js/loadbigimg.js","layout":"false","title":"","comments":1,"_id":"cmgu9561o004zg0fy5unn88fc","content":"class ProgressiveLoad{constructor(e,a){this.smallSrc=e,this.largeSrc=a,this.initTpl()}initTpl(){this.container=document.createElement(\"div\"),this.smallStage=document.createElement(\"div\"),this.largeStage=document.createElement(\"div\"),this.smallImg=new Image,this.largeImg=new Image,this.container.className=\"pl-container\",this.smallStage.className=\"pl-img pl-blur\",this.largeStage.className=\"pl-img\",this.container.appendChild(this.smallStage),this.container.appendChild(this.largeStage),this.smallImg.onload=this._onSmallLoaded.bind(this),this.largeImg.onload=this._onLargeLoaded.bind(this)}progressiveLoad(){this.smallImg.src=this.smallSrc,this.largeImg.src=this.largeSrc}_onLargeLoaded(){this.largeStage.classList.add(\"pl-visible\"),this.largeStage.style.backgroundImage=`url('${this.largeSrc}')`}_onSmallLoaded(){this.smallStage.classList.add(\"pl-visible\"),this.smallStage.style.backgroundImage=`url('${this.smallSrc}')`}}let executeLoad=(e,a)=>{console.log(\"执行渐进背景替换\");var t=window.matchMedia(\"(max-width: 767px)\").matches,t=new ProgressiveLoad(t?e.mobileSmallSrc:e.smallSrc,t?e.mobileLargeSrc:e.largeSrc);a.children[0]&&a.insertBefore(t.container,a.children[0]),t.progressiveLoad()},config={smallSrc:\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img_md.jpg\",largeSrc:\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img.jpeg\",mobileSmallSrc:\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img_md.jpg\",mobileLargeSrc:\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/blog_img.jpeg\",enableRoutes:[\"/\"]};function initProgressiveLoad(e){var a=document.getElementById(\"page-header\");a&&a.classList.contains(\"full_page\")&&executeLoad(e,a)}function onPJAXComplete(e){var a=document.getElementById(\"page-header\");a&&a.classList.contains(\"full_page\")&&initProgressiveLoad(e)}document.addEventListener(\"DOMContentLoaded\",function(){initProgressiveLoad(config)}),document.addEventListener(\"pjax:complete\",function(){onPJAXComplete(config)});"},{"_content":"(() => {\n  const injectCSS = () => {\n    const style = document.createElement('style');\n    style.textContent = `\n      #aside-content .aside-list > .aside-list-item .content{\n        width: 3.2em !important;\n        height: 3.2em !important;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n      }\n      #aside-content .aside-list > .aside-list-item .thumbnail {\n        width: 3.2em!important;\n        height: 3.2em!important;\n      }\n      \n      .card-latest-comments .item-headline i {\n        color: var(--anzhiyu-main);\n      }\n\n      .card-latest-comments .headline-right {\n        position: absolute;\n        right: 24px;\n        top: 16px;\n        transition: all 0.3s;\n        opacity: 0.6;\n      }\n\n      .card-latest-comments .headline-right:hover {\n        color: var(--anzhiyu-main);\n        opacity: 1;\n        transform: rotate(90deg);\n      }\n\n      .aside-list-author {\n        display: flex;\n        align-items: center;\n        font-weight: bold;\n        height: 22px;\n        gap: 5px;\n      }\n\n      .aside-list-date {\n        font-size: 0.7rem;\n        font-weight: normal;\n        margin-left: auto;\n      }\n\n      .aside-list-content {\n        font-size: 0.9rem;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        text-decoration: none;\n        line-height: 1.2;\n      }\n\n      .aside-list-item:last-child {\n        margin-bottom: 0!important;\n      }\n\n      [data-theme='dark'] .aside-list-item-right {\n        filter: brightness(0.95);\n      }\n\n      .aside-list-author-name {\n        display: flex;\n        align-items: center;\n        white-space: nowrap;\n        gap: 4px;\n        max-width: 65%;\n      }\n\n      .aside-list-author-name span {\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .aside-list-author-name svg {\n        flex-shrink: 0;\n      }\n    `;\n    document.head.appendChild(style);\n  };\n\n  const LatestComments = {\n    API_URL: 'https://twi.sumi233.top',\n    ADMIN_EMAIL_MD5: '06e6482a556524b9a7f7f50476b5fd54b8ce92fa598bf093ed8b4293c45e040f',\n    PAGE_SIZE: 5,\n    LOADING_GIF: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/kunkundeeacf771b39ab69.gif',\n  \n    async fetchComments() {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 5000);\n  \n      try {\n        const response = await fetch(this.API_URL, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            event: 'GET_RECENT_COMMENTS',\n            includeReply: true,\n            pageSize: this.PAGE_SIZE\n          }),\n          signal: controller.signal\n        });\n  \n        const { data } = await response.json();\n        return data;\n      } catch (error) {\n        console.error('获取评论出错:', error);\n        return null;\n      } finally {\n        clearTimeout(timeoutId);\n      }\n    },\n  \n    formatTimeAgo(timestamp) {\n      const diff = Math.floor((Date.now() - new Date(timestamp)) / 1000);\n      if (diff < 60) return '刚刚';\n      if (diff < 3600) return `${Math.floor(diff / 60)}分钟前`;\n      if (diff < 86400) return `${Math.floor(diff / 3600)}小时前`;\n      if (diff < 604800) return `${Math.floor(diff / 86400)}天前`;\n  \n      return new Date(timestamp).toLocaleDateString('zh-CN', { month: 'numeric', day: 'numeric' }) + '日';\n    },\n  \n    formatContent(content) {\n      if (!content) return '';\n      \n      return content\n        .replace(/<pre><code>[\\s\\S]*?<\\/code><\\/pre>/g, '[代码块]')\n        .replace(/<code>([^<]{4,})<\\/code>/g, '[代码]')\n        .replace(/<code>([^<]{1,3})<\\/code>/g, '$1')\n        .replace(/<img[^>]*>/g, '[图片]')\n        .replace(/<a[^>]*?>[\\s\\S]*?<\\/a>/g, '[链接]')\n        .replace(/<[^>]+>/g, '')\n        .replace(/&(gt|lt|amp|quot|#39|nbsp);/g, m => \n          ({'>':'>', '<':'<', '&':'&', 'quot':'\"', '#39':\"'\", 'nbsp':' '})[m.slice(1,-1)])\n        .replace(/\\s+/g, ' ')\n        .trim();\n    },\n  \n    generateCommentHTML(comment) {\n      const { created, comment: content, url, avatar, nick, mailMd5, id } = comment;\n      const timeAgo = this.formatTimeAgo(created);\n      const formattedContent = this.formatContent(content);\n      const adminBadge = mailMd5 === this.ADMIN_EMAIL_MD5 ? `\n        <svg t=\"1731283534336\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"29337\" width=\"22\" height=\"22\"><path d=\"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m291.84 366.08c-46.08 0-79.36 23.04-92.16 66.56l-163.84 358.4h-66.56L312.32 435.2c-17.92-46.08-46.08-71.68-89.6-71.68v-35.84H512v35.84h-40.96c-25.6 2.56-30.72 23.04-12.8 61.44l102.4 225.28 89.6-199.68c25.6-56.32 2.56-84.48-71.68-89.6v-35.84h225.28v40.96z\" fill=\"#06c013\" p-id=\"29338\" data-spm-anchor-id=\"a313x.search_index.0.i73.2b2d3a81BgxnVW\" class=\"\"></path></svg>` : '';\n  \n      return `\n        <div class=\"aside-list-item\" title=\"${formattedContent}\" onclick=\"pjax.loadUrl('${url}#${id}')\">\n          <div class=\"thumbnail\">\n            <img class=\"aside-list-avatar\" src=\"${avatar}\" alt=\"avatar\">\n          </div>\n          <div class=\"content\">\n            <div class=\"aside-list-author\">\n              <div class=\"aside-list-author-name\">\n                <span>${nick}</span>${adminBadge}\n              </div>\n              <span class=\"aside-list-date\">${timeAgo}</span>\n            </div>\n            <div class=\"aside-list-content\">${formattedContent}</div>\n          </div>\n        </div>\n      `;\n    },\n  \n    getErrorTemplate(icon, message) {\n      return `\n        <div style=\"min-height: 346px;display: flex;padding: 20px;text-align: center;justify-content: center;align-items: center;flex-direction: column;\">\n          <i class=\"fas fa-${icon}\" style=\"font-size: 2rem; color: ${icon === 'exclamation-circle' ? '#ff6b6b' : '#999'}; margin-bottom: 10px;\"></i>\n          <p style=\"color: #666;margin: 0;\">${message}</p>\n        </div>\n      `;\n    },\n  \n    async insertComponent() {\n      const container = document.getElementById(\"latest-comments\");\n      if (!container) return;\n  \n      container.innerHTML = `<img src=\"${this.LOADING_GIF}\" style=\"display: flex;min-height: 346px;object-fit: cover;\">`;\n  \n      const comments = await this.fetchComments();\n      let content;\n  \n      if (comments === null) {\n        content = this.getErrorTemplate('exclamation-circle', '评论加载失败，请稍后再试');\n      } else if (comments.length === 0) {\n        content = this.getErrorTemplate('comment-slash', '还没有评论呢~ 快来抢沙发吧！');\n      } else {\n        content = comments.map(this.generateCommentHTML.bind(this)).join('');\n      }\n  \n      container.style.opacity = '0';\n      container.innerHTML = content;\n  \n      requestAnimationFrame(() => {\n        container.style.transition = 'opacity 0.3s ease-in';\n        container.style.opacity = '1';\n      });\n    }\n  };\n  \n  // 初始化时注入CSS并启动组件\n  ['DOMContentLoaded', 'pjax:success'].forEach(event => \n    document.addEventListener(event, () => {\n      injectCSS();\n      LatestComments.insertComponent();\n    })\n  );\n})();","source":"custom/js/newpl.js","raw":"(() => {\n  const injectCSS = () => {\n    const style = document.createElement('style');\n    style.textContent = `\n      #aside-content .aside-list > .aside-list-item .content{\n        width: 3.2em !important;\n        height: 3.2em !important;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n      }\n      #aside-content .aside-list > .aside-list-item .thumbnail {\n        width: 3.2em!important;\n        height: 3.2em!important;\n      }\n      \n      .card-latest-comments .item-headline i {\n        color: var(--anzhiyu-main);\n      }\n\n      .card-latest-comments .headline-right {\n        position: absolute;\n        right: 24px;\n        top: 16px;\n        transition: all 0.3s;\n        opacity: 0.6;\n      }\n\n      .card-latest-comments .headline-right:hover {\n        color: var(--anzhiyu-main);\n        opacity: 1;\n        transform: rotate(90deg);\n      }\n\n      .aside-list-author {\n        display: flex;\n        align-items: center;\n        font-weight: bold;\n        height: 22px;\n        gap: 5px;\n      }\n\n      .aside-list-date {\n        font-size: 0.7rem;\n        font-weight: normal;\n        margin-left: auto;\n      }\n\n      .aside-list-content {\n        font-size: 0.9rem;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        text-decoration: none;\n        line-height: 1.2;\n      }\n\n      .aside-list-item:last-child {\n        margin-bottom: 0!important;\n      }\n\n      [data-theme='dark'] .aside-list-item-right {\n        filter: brightness(0.95);\n      }\n\n      .aside-list-author-name {\n        display: flex;\n        align-items: center;\n        white-space: nowrap;\n        gap: 4px;\n        max-width: 65%;\n      }\n\n      .aside-list-author-name span {\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .aside-list-author-name svg {\n        flex-shrink: 0;\n      }\n    `;\n    document.head.appendChild(style);\n  };\n\n  const LatestComments = {\n    API_URL: 'https://twi.sumi233.top',\n    ADMIN_EMAIL_MD5: '06e6482a556524b9a7f7f50476b5fd54b8ce92fa598bf093ed8b4293c45e040f',\n    PAGE_SIZE: 5,\n    LOADING_GIF: 'https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/kunkundeeacf771b39ab69.gif',\n  \n    async fetchComments() {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 5000);\n  \n      try {\n        const response = await fetch(this.API_URL, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            event: 'GET_RECENT_COMMENTS',\n            includeReply: true,\n            pageSize: this.PAGE_SIZE\n          }),\n          signal: controller.signal\n        });\n  \n        const { data } = await response.json();\n        return data;\n      } catch (error) {\n        console.error('获取评论出错:', error);\n        return null;\n      } finally {\n        clearTimeout(timeoutId);\n      }\n    },\n  \n    formatTimeAgo(timestamp) {\n      const diff = Math.floor((Date.now() - new Date(timestamp)) / 1000);\n      if (diff < 60) return '刚刚';\n      if (diff < 3600) return `${Math.floor(diff / 60)}分钟前`;\n      if (diff < 86400) return `${Math.floor(diff / 3600)}小时前`;\n      if (diff < 604800) return `${Math.floor(diff / 86400)}天前`;\n  \n      return new Date(timestamp).toLocaleDateString('zh-CN', { month: 'numeric', day: 'numeric' }) + '日';\n    },\n  \n    formatContent(content) {\n      if (!content) return '';\n      \n      return content\n        .replace(/<pre><code>[\\s\\S]*?<\\/code><\\/pre>/g, '[代码块]')\n        .replace(/<code>([^<]{4,})<\\/code>/g, '[代码]')\n        .replace(/<code>([^<]{1,3})<\\/code>/g, '$1')\n        .replace(/<img[^>]*>/g, '[图片]')\n        .replace(/<a[^>]*?>[\\s\\S]*?<\\/a>/g, '[链接]')\n        .replace(/<[^>]+>/g, '')\n        .replace(/&(gt|lt|amp|quot|#39|nbsp);/g, m => \n          ({'>':'>', '<':'<', '&':'&', 'quot':'\"', '#39':\"'\", 'nbsp':' '})[m.slice(1,-1)])\n        .replace(/\\s+/g, ' ')\n        .trim();\n    },\n  \n    generateCommentHTML(comment) {\n      const { created, comment: content, url, avatar, nick, mailMd5, id } = comment;\n      const timeAgo = this.formatTimeAgo(created);\n      const formattedContent = this.formatContent(content);\n      const adminBadge = mailMd5 === this.ADMIN_EMAIL_MD5 ? `\n        <svg t=\"1731283534336\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"29337\" width=\"22\" height=\"22\"><path d=\"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m291.84 366.08c-46.08 0-79.36 23.04-92.16 66.56l-163.84 358.4h-66.56L312.32 435.2c-17.92-46.08-46.08-71.68-89.6-71.68v-35.84H512v35.84h-40.96c-25.6 2.56-30.72 23.04-12.8 61.44l102.4 225.28 89.6-199.68c25.6-56.32 2.56-84.48-71.68-89.6v-35.84h225.28v40.96z\" fill=\"#06c013\" p-id=\"29338\" data-spm-anchor-id=\"a313x.search_index.0.i73.2b2d3a81BgxnVW\" class=\"\"></path></svg>` : '';\n  \n      return `\n        <div class=\"aside-list-item\" title=\"${formattedContent}\" onclick=\"pjax.loadUrl('${url}#${id}')\">\n          <div class=\"thumbnail\">\n            <img class=\"aside-list-avatar\" src=\"${avatar}\" alt=\"avatar\">\n          </div>\n          <div class=\"content\">\n            <div class=\"aside-list-author\">\n              <div class=\"aside-list-author-name\">\n                <span>${nick}</span>${adminBadge}\n              </div>\n              <span class=\"aside-list-date\">${timeAgo}</span>\n            </div>\n            <div class=\"aside-list-content\">${formattedContent}</div>\n          </div>\n        </div>\n      `;\n    },\n  \n    getErrorTemplate(icon, message) {\n      return `\n        <div style=\"min-height: 346px;display: flex;padding: 20px;text-align: center;justify-content: center;align-items: center;flex-direction: column;\">\n          <i class=\"fas fa-${icon}\" style=\"font-size: 2rem; color: ${icon === 'exclamation-circle' ? '#ff6b6b' : '#999'}; margin-bottom: 10px;\"></i>\n          <p style=\"color: #666;margin: 0;\">${message}</p>\n        </div>\n      `;\n    },\n  \n    async insertComponent() {\n      const container = document.getElementById(\"latest-comments\");\n      if (!container) return;\n  \n      container.innerHTML = `<img src=\"${this.LOADING_GIF}\" style=\"display: flex;min-height: 346px;object-fit: cover;\">`;\n  \n      const comments = await this.fetchComments();\n      let content;\n  \n      if (comments === null) {\n        content = this.getErrorTemplate('exclamation-circle', '评论加载失败，请稍后再试');\n      } else if (comments.length === 0) {\n        content = this.getErrorTemplate('comment-slash', '还没有评论呢~ 快来抢沙发吧！');\n      } else {\n        content = comments.map(this.generateCommentHTML.bind(this)).join('');\n      }\n  \n      container.style.opacity = '0';\n      container.innerHTML = content;\n  \n      requestAnimationFrame(() => {\n        container.style.transition = 'opacity 0.3s ease-in';\n        container.style.opacity = '1';\n      });\n    }\n  };\n  \n  // 初始化时注入CSS并启动组件\n  ['DOMContentLoaded', 'pjax:success'].forEach(event => \n    document.addEventListener(event, () => {\n      injectCSS();\n      LatestComments.insertComponent();\n    })\n  );\n})();","date":"2025-09-19T06:41:29.761Z","updated":"2025-09-19T06:41:29.761Z","path":"custom/js/newpl.js","layout":"false","title":"","comments":1,"_id":"cmgu9561q0055g0fychit0blb","content":"(()=>{let t={API_URL:\"https://twi.sumi233.top\",ADMIN_EMAIL_MD5:\"06e6482a556524b9a7f7f50476b5fd54b8ce92fa598bf093ed8b4293c45e040f\",PAGE_SIZE:5,LOADING_GIF:\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/kunkundeeacf771b39ab69.gif\",async fetchComments(){let e=new AbortController;var t=setTimeout(()=>e.abort(),5e3);try{var i=(await(await fetch(this.API_URL,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({event:\"GET_RECENT_COMMENTS\",includeReply:!0,pageSize:this.PAGE_SIZE}),signal:e.signal})).json()).data;return i}catch(e){return console.error(\"获取评论出错:\",e),null}finally{clearTimeout(t)}},formatTimeAgo(e){var t=Math.floor((Date.now()-new Date(e))/1e3);return t<60?\"刚刚\":t<3600?Math.floor(t/60)+\"分钟前\":t<86400?Math.floor(t/3600)+\"小时前\":t<604800?Math.floor(t/86400)+\"天前\":new Date(e).toLocaleDateString(\"zh-CN\",{month:\"numeric\",day:\"numeric\"})+\"日\"},formatContent(e){return e?e.replace(/<pre><code>[\\s\\S]*?<\\/code><\\/pre>/g,\"[代码块]\").replace(/<code>([^<]{4,})<\\/code>/g,\"[代码]\").replace(/<code>([^<]{1,3})<\\/code>/g,\"$1\").replace(/<img[^>]*>/g,\"[图片]\").replace(/<a[^>]*?>[\\s\\S]*?<\\/a>/g,\"[链接]\").replace(/<[^>]+>/g,\"\").replace(/&(gt|lt|amp|quot|#39|nbsp);/g,e=>({\">\":\">\",\"<\":\"<\",\"&\":\"&\",quot:'\"',\"#39\":\"'\",nbsp:\" \"})[e.slice(1,-1)]).replace(/\\s+/g,\" \").trim():\"\"},generateCommentHTML(e){var{created:e,comment:t,url:i,avatar:a,nick:n,mailMd5:s,id:o}=e,e=this.formatTimeAgo(e),t=this.formatContent(t);return`\n        <div class=\"aside-list-item\" title=\"${t}\" onclick=\"pjax.loadUrl('${i}#${o}')\">\n          <div class=\"thumbnail\">\n            <img class=\"aside-list-avatar\" src=\"${a}\" alt=\"avatar\">\n          </div>\n          <div class=\"content\">\n            <div class=\"aside-list-author\">\n              <div class=\"aside-list-author-name\">\n                <span>${n}</span>${s===this.ADMIN_EMAIL_MD5?`\n        <svg t=\"1731283534336\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"29337\" width=\"22\" height=\"22\"><path d=\"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m291.84 366.08c-46.08 0-79.36 23.04-92.16 66.56l-163.84 358.4h-66.56L312.32 435.2c-17.92-46.08-46.08-71.68-89.6-71.68v-35.84H512v35.84h-40.96c-25.6 2.56-30.72 23.04-12.8 61.44l102.4 225.28 89.6-199.68c25.6-56.32 2.56-84.48-71.68-89.6v-35.84h225.28v40.96z\" fill=\"#06c013\" p-id=\"29338\" data-spm-anchor-id=\"a313x.search_index.0.i73.2b2d3a81BgxnVW\" class=\"\"></path></svg>`:\"\"}\n              </div>\n              <span class=\"aside-list-date\">${e}</span>\n            </div>\n            <div class=\"aside-list-content\">${t}</div>\n          </div>\n        </div>\n      `},getErrorTemplate(e,t){return`\n        <div style=\"min-height: 346px;display: flex;padding: 20px;text-align: center;justify-content: center;align-items: center;flex-direction: column;\">\n          <i class=\"fas fa-${e}\" style=\"font-size: 2rem; color: ${\"exclamation-circle\"===e?\"#ff6b6b\":\"#999\"}; margin-bottom: 10px;\"></i>\n          <p style=\"color: #666;margin: 0;\">${t}</p>\n        </div>\n      `},async insertComponent(){let t=document.getElementById(\"latest-comments\");if(t){t.innerHTML=`<img src=\"${this.LOADING_GIF}\" style=\"display: flex;min-height: 346px;object-fit: cover;\">`;var i=await this.fetchComments();let e;e=null===i?this.getErrorTemplate(\"exclamation-circle\",\"评论加载失败，请稍后再试\"):0===i.length?this.getErrorTemplate(\"comment-slash\",\"还没有评论呢~ 快来抢沙发吧！\"):i.map(this.generateCommentHTML.bind(this)).join(\"\"),t.style.opacity=\"0\",t.innerHTML=e,requestAnimationFrame(()=>{t.style.transition=\"opacity 0.3s ease-in\",t.style.opacity=\"1\"})}}};[\"DOMContentLoaded\",\"pjax:success\"].forEach(e=>document.addEventListener(e,()=>{var e;(e=document.createElement(\"style\")).textContent=`\n      #aside-content .aside-list > .aside-list-item .content{\n        width: 3.2em !important;\n        height: 3.2em !important;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n      }\n      #aside-content .aside-list > .aside-list-item .thumbnail {\n        width: 3.2em!important;\n        height: 3.2em!important;\n      }\n      \n      .card-latest-comments .item-headline i {\n        color: var(--anzhiyu-main);\n      }\n\n      .card-latest-comments .headline-right {\n        position: absolute;\n        right: 24px;\n        top: 16px;\n        transition: all 0.3s;\n        opacity: 0.6;\n      }\n\n      .card-latest-comments .headline-right:hover {\n        color: var(--anzhiyu-main);\n        opacity: 1;\n        transform: rotate(90deg);\n      }\n\n      .aside-list-author {\n        display: flex;\n        align-items: center;\n        font-weight: bold;\n        height: 22px;\n        gap: 5px;\n      }\n\n      .aside-list-date {\n        font-size: 0.7rem;\n        font-weight: normal;\n        margin-left: auto;\n      }\n\n      .aside-list-content {\n        font-size: 0.9rem;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        text-decoration: none;\n        line-height: 1.2;\n      }\n\n      .aside-list-item:last-child {\n        margin-bottom: 0!important;\n      }\n\n      [data-theme='dark'] .aside-list-item-right {\n        filter: brightness(0.95);\n      }\n\n      .aside-list-author-name {\n        display: flex;\n        align-items: center;\n        white-space: nowrap;\n        gap: 4px;\n        max-width: 65%;\n      }\n\n      .aside-list-author-name span {\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      .aside-list-author-name svg {\n        flex-shrink: 0;\n      }\n    `,document.head.appendChild(e),t.insertComponent()}))})();"},{"_content":"document.addEventListener(\"DOMContentLoaded\", () => {\n    initializeCard();\n});\n\ndocument.addEventListener(\"pjax:complete\", () => {\n    initializeCard();\n});\n\nfunction initializeCard() {\n    cardTimes();\n    cardRefreshTimes();\n}\n\nlet year, month, week, date, dates, weekStr, monthStr, asideTime, asideDay, asideDayNum, animalYear, ganzhiYear, lunarMon, lunarDay;\nconst now = new Date();\n\nfunction cardRefreshTimes() {\n    const e = document.getElementById(\"card-widget-schedule\");\n    if (e) {\n        asideDay = (now - asideTime) / 1e3 / 60 / 60 / 24;\n        e.querySelector(\"#pBar_year\").value = asideDay;\n        e.querySelector(\"#p_span_year\").innerHTML = (asideDay / 365 * 100).toFixed(1) + \"%\";\n        e.querySelector(\".schedule-r0 .schedule-d1 .aside-span2\").innerHTML = `还剩<a> ${(365 - asideDay).toFixed(0)} </a>天`;\n        e.querySelector(\"#pBar_month\").value = date;\n        e.querySelector(\"#pBar_month\").max = dates;\n        e.querySelector(\"#p_span_month\").innerHTML = (date / dates * 100).toFixed(1) + \"%\";\n        e.querySelector(\".schedule-r1 .schedule-d1 .aside-span2\").innerHTML = `还剩<a> ${(dates - date)} </a>天`;\n        e.querySelector(\"#pBar_week\").value = week === 0 ? 7 : week;\n        e.querySelector(\"#p_span_week\").innerHTML = ((week === 0 ? 7 : week) / 7 * 100).toFixed(1) + \"%\";\n        e.querySelector(\".schedule-r2 .schedule-d1 .aside-span2\").innerHTML = `还剩<a> ${(7 - (week === 0 ? 7 : week))} </a>天`;\n    }\n}\n\nfunction cardTimes() {\n    year = now.getFullYear();\n    month = now.getMonth();\n    week = now.getDay();\n    date = now.getDate();\n\n    const e = document.getElementById(\"card-widget-calendar\");\n    if (e) {\n        const isLeapYear = year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n        weekStr = [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"][week];\n        const monthData = [\n            { month: \"1月\", days: 31 },\n            { month: \"2月\", days: isLeapYear ? 29 : 28 },\n            { month: \"3月\", days: 31 },\n            { month: \"4月\", days: 30 },\n            { month: \"5月\", days: 31 },\n            { month: \"6月\", days: 30 },\n            { month: \"7月\", days: 31 },\n            { month: \"8月\", days: 31 },\n            { month: \"9月\", days: 30 },\n            { month: \"10月\", days: 31 },\n            { month: \"11月\", days: 30 },\n            { month: \"12月\", days: 31 }\n        ];\n        monthStr = monthData[month].month;\n        dates = monthData[month].days;\n\n        const t = (week + 8 - date % 7) % 7;\n        let n = \"\", d = false, s = 7 - t;\n        const o = (dates - s) % 7 === 0 ? Math.floor((dates - s) / 7) + 1 : Math.floor((dates - s) / 7) + 2;\n        const c = e.querySelector(\"#calendar-main\");\n        const l = e.querySelector(\"#calendar-date\");\n\n        l.style.fontSize = [\"64px\", \"48px\", \"36px\"][Math.min(o - 3, 2)];\n\n        for (let i = 0; i < o; i++) {\n            if (!c.querySelector(`.calendar-r${i}`)) {\n                c.innerHTML += `<div class='calendar-r${i}'></div>`;\n            }\n            for (let j = 0; j < 7; j++) {\n                if (i === 0 && j === t) {\n                    n = 1;\n                    d = true;\n                }\n                const r = n === date ? \" class='now'\" : \"\";\n                if (!c.querySelector(`.calendar-r${i} .calendar-d${j} a`)) {\n                    c.querySelector(`.calendar-r${i}`).innerHTML += `<div class='calendar-d${j}'><a${r}>${n}</a></div>`;\n                }\n                if (n >= dates) {\n                    n = \"\";\n                    d = false;\n                }\n                if (d) {\n                    n += 1;\n                }\n            }\n        }\n\n        const lunarDate = chineseLunar.solarToLunar(new Date(year, month, date));\n        animalYear = chineseLunar.format(lunarDate, \"A\");\n        ganzhiYear = chineseLunar.format(lunarDate, \"T\").slice(0, -1);\n        lunarMon = chineseLunar.format(lunarDate, \"M\");\n        lunarDay = chineseLunar.format(lunarDate, \"d\");\n\n        const newYearDate = new Date(\"2026/02/16 00:00:00\");\n        const daysUntilNewYear = Math.floor((newYearDate - now) / 1e3 / 60 / 60 / 24);\n        asideTime = new Date(`${new Date().getFullYear()}/01/01 00:00:00`);\n        asideDay = (now - asideTime) / 1e3 / 60 / 60 / 24;\n        asideDayNum = Math.floor(asideDay);\n        const weekNum = week - asideDayNum % 7 >= 0 ? Math.ceil(asideDayNum / 7) : Math.ceil(asideDayNum / 7) + 1;\n\n        e.querySelector(\"#calendar-week\").innerHTML = `第${weekNum}周&nbsp;${weekStr}`;\n        e.querySelector(\"#calendar-date\").innerHTML = date.toString().padStart(2, \"0\");\n        e.querySelector(\"#calendar-solar\").innerHTML = `${year}年${monthStr}&nbsp;第${asideDay.toFixed(0)}天`;\n        e.querySelector(\"#calendar-lunar\").innerHTML = `${ganzhiYear}${animalYear}年&nbsp;${lunarMon}${lunarDay}`;\n        document.getElementById(\"schedule-days\").innerHTML = daysUntilNewYear;\n    }\n}","source":"custom/js/schedule.js","raw":"document.addEventListener(\"DOMContentLoaded\", () => {\n    initializeCard();\n});\n\ndocument.addEventListener(\"pjax:complete\", () => {\n    initializeCard();\n});\n\nfunction initializeCard() {\n    cardTimes();\n    cardRefreshTimes();\n}\n\nlet year, month, week, date, dates, weekStr, monthStr, asideTime, asideDay, asideDayNum, animalYear, ganzhiYear, lunarMon, lunarDay;\nconst now = new Date();\n\nfunction cardRefreshTimes() {\n    const e = document.getElementById(\"card-widget-schedule\");\n    if (e) {\n        asideDay = (now - asideTime) / 1e3 / 60 / 60 / 24;\n        e.querySelector(\"#pBar_year\").value = asideDay;\n        e.querySelector(\"#p_span_year\").innerHTML = (asideDay / 365 * 100).toFixed(1) + \"%\";\n        e.querySelector(\".schedule-r0 .schedule-d1 .aside-span2\").innerHTML = `还剩<a> ${(365 - asideDay).toFixed(0)} </a>天`;\n        e.querySelector(\"#pBar_month\").value = date;\n        e.querySelector(\"#pBar_month\").max = dates;\n        e.querySelector(\"#p_span_month\").innerHTML = (date / dates * 100).toFixed(1) + \"%\";\n        e.querySelector(\".schedule-r1 .schedule-d1 .aside-span2\").innerHTML = `还剩<a> ${(dates - date)} </a>天`;\n        e.querySelector(\"#pBar_week\").value = week === 0 ? 7 : week;\n        e.querySelector(\"#p_span_week\").innerHTML = ((week === 0 ? 7 : week) / 7 * 100).toFixed(1) + \"%\";\n        e.querySelector(\".schedule-r2 .schedule-d1 .aside-span2\").innerHTML = `还剩<a> ${(7 - (week === 0 ? 7 : week))} </a>天`;\n    }\n}\n\nfunction cardTimes() {\n    year = now.getFullYear();\n    month = now.getMonth();\n    week = now.getDay();\n    date = now.getDate();\n\n    const e = document.getElementById(\"card-widget-calendar\");\n    if (e) {\n        const isLeapYear = year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n        weekStr = [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"][week];\n        const monthData = [\n            { month: \"1月\", days: 31 },\n            { month: \"2月\", days: isLeapYear ? 29 : 28 },\n            { month: \"3月\", days: 31 },\n            { month: \"4月\", days: 30 },\n            { month: \"5月\", days: 31 },\n            { month: \"6月\", days: 30 },\n            { month: \"7月\", days: 31 },\n            { month: \"8月\", days: 31 },\n            { month: \"9月\", days: 30 },\n            { month: \"10月\", days: 31 },\n            { month: \"11月\", days: 30 },\n            { month: \"12月\", days: 31 }\n        ];\n        monthStr = monthData[month].month;\n        dates = monthData[month].days;\n\n        const t = (week + 8 - date % 7) % 7;\n        let n = \"\", d = false, s = 7 - t;\n        const o = (dates - s) % 7 === 0 ? Math.floor((dates - s) / 7) + 1 : Math.floor((dates - s) / 7) + 2;\n        const c = e.querySelector(\"#calendar-main\");\n        const l = e.querySelector(\"#calendar-date\");\n\n        l.style.fontSize = [\"64px\", \"48px\", \"36px\"][Math.min(o - 3, 2)];\n\n        for (let i = 0; i < o; i++) {\n            if (!c.querySelector(`.calendar-r${i}`)) {\n                c.innerHTML += `<div class='calendar-r${i}'></div>`;\n            }\n            for (let j = 0; j < 7; j++) {\n                if (i === 0 && j === t) {\n                    n = 1;\n                    d = true;\n                }\n                const r = n === date ? \" class='now'\" : \"\";\n                if (!c.querySelector(`.calendar-r${i} .calendar-d${j} a`)) {\n                    c.querySelector(`.calendar-r${i}`).innerHTML += `<div class='calendar-d${j}'><a${r}>${n}</a></div>`;\n                }\n                if (n >= dates) {\n                    n = \"\";\n                    d = false;\n                }\n                if (d) {\n                    n += 1;\n                }\n            }\n        }\n\n        const lunarDate = chineseLunar.solarToLunar(new Date(year, month, date));\n        animalYear = chineseLunar.format(lunarDate, \"A\");\n        ganzhiYear = chineseLunar.format(lunarDate, \"T\").slice(0, -1);\n        lunarMon = chineseLunar.format(lunarDate, \"M\");\n        lunarDay = chineseLunar.format(lunarDate, \"d\");\n\n        const newYearDate = new Date(\"2026/02/16 00:00:00\");\n        const daysUntilNewYear = Math.floor((newYearDate - now) / 1e3 / 60 / 60 / 24);\n        asideTime = new Date(`${new Date().getFullYear()}/01/01 00:00:00`);\n        asideDay = (now - asideTime) / 1e3 / 60 / 60 / 24;\n        asideDayNum = Math.floor(asideDay);\n        const weekNum = week - asideDayNum % 7 >= 0 ? Math.ceil(asideDayNum / 7) : Math.ceil(asideDayNum / 7) + 1;\n\n        e.querySelector(\"#calendar-week\").innerHTML = `第${weekNum}周&nbsp;${weekStr}`;\n        e.querySelector(\"#calendar-date\").innerHTML = date.toString().padStart(2, \"0\");\n        e.querySelector(\"#calendar-solar\").innerHTML = `${year}年${monthStr}&nbsp;第${asideDay.toFixed(0)}天`;\n        e.querySelector(\"#calendar-lunar\").innerHTML = `${ganzhiYear}${animalYear}年&nbsp;${lunarMon}${lunarDay}`;\n        document.getElementById(\"schedule-days\").innerHTML = daysUntilNewYear;\n    }\n}","date":"2025-08-05T15:04:29.985Z","updated":"2025-08-03T05:19:28.722Z","path":"custom/js/schedule.js","layout":"false","title":"","comments":1,"_id":"cmgu9561s0058g0fyg44e47na","content":"function initializeCard(){cardTimes(),cardRefreshTimes()}document.addEventListener(\"DOMContentLoaded\",()=>{initializeCard()}),document.addEventListener(\"pjax:complete\",()=>{initializeCard()});let year,month,week,date,dates,weekStr,monthStr,asideTime,asideDay,asideDayNum,animalYear,ganzhiYear,lunarMon,lunarDay,now=new Date;function cardRefreshTimes(){var e=document.getElementById(\"card-widget-schedule\");e&&(asideDay=(now-asideTime)/1e3/60/60/24,e.querySelector(\"#pBar_year\").value=asideDay,e.querySelector(\"#p_span_year\").innerHTML=(asideDay/365*100).toFixed(1)+\"%\",e.querySelector(\".schedule-r0 .schedule-d1 .aside-span2\").innerHTML=`还剩<a> ${(365-asideDay).toFixed(0)} </a>天`,e.querySelector(\"#pBar_month\").value=date,e.querySelector(\"#pBar_month\").max=dates,e.querySelector(\"#p_span_month\").innerHTML=(date/dates*100).toFixed(1)+\"%\",e.querySelector(\".schedule-r1 .schedule-d1 .aside-span2\").innerHTML=`还剩<a> ${dates-date} </a>天`,e.querySelector(\"#pBar_week\").value=0===week?7:week,e.querySelector(\"#p_span_week\").innerHTML=((0===week?7:week)/7*100).toFixed(1)+\"%\",e.querySelector(\".schedule-r2 .schedule-d1 .aside-span2\").innerHTML=`还剩<a> ${7-(0===week?7:week)} </a>天`)}function cardTimes(){year=now.getFullYear(),month=now.getMonth(),week=now.getDay(),date=now.getDate();var a=document.getElementById(\"card-widget-calendar\");if(a){var t=year%4==0&&year%100!=0||year%400==0,t=(weekStr=[\"周日\",\"周一\",\"周二\",\"周三\",\"周四\",\"周五\",\"周六\"][week],[{month:\"1月\",days:31},{month:\"2月\",days:t?29:28},{month:\"3月\",days:31},{month:\"4月\",days:30},{month:\"5月\",days:31},{month:\"6月\",days:30},{month:\"7月\",days:31},{month:\"8月\",days:31},{month:\"9月\",days:30},{month:\"10月\",days:31},{month:\"11月\",days:30},{month:\"12月\",days:31}]),d=(monthStr=t[month].month,dates=t[month].days,(week+8-date%7)%7);let r=\"\",n=!1,e=7-d;var o=(dates-e)%7==0?Math.floor((dates-e)/7)+1:Math.floor((dates-e)/7)+2,i=a.querySelector(\"#calendar-main\");a.querySelector(\"#calendar-date\").style.fontSize=[\"64px\",\"48px\",\"36px\"][Math.min(o-3,2)];for(let a=0;a<o;a++){i.querySelector(\".calendar-r\"+a)||(i.innerHTML+=`<div class='calendar-r${a}'></div>`);for(let e=0;e<7;e++){0===a&&e===d&&(r=1,n=!0);var s=r===date?\" class='now'\":\"\";i.querySelector(`.calendar-r${a} .calendar-d${e} a`)||(i.querySelector(\".calendar-r\"+a).innerHTML+=`<div class='calendar-d${e}'><a${s}>${r}</a></div>`),r>=dates&&(r=\"\",n=!1),n&&(r+=1)}}var t=chineseLunar.solarToLunar(new Date(year,month,date)),t=(animalYear=chineseLunar.format(t,\"A\"),ganzhiYear=chineseLunar.format(t,\"T\").slice(0,-1),lunarMon=chineseLunar.format(t,\"M\"),lunarDay=chineseLunar.format(t,\"d\"),new Date(\"2026/02/16 00:00:00\")),t=Math.floor((t-now)/1e3/60/60/24),l=(asideTime=new Date((new Date).getFullYear()+\"/01/01 00:00:00\"),asideDay=(now-asideTime)/1e3/60/60/24,asideDayNum=Math.floor(asideDay),0<=week-asideDayNum%7?Math.ceil(asideDayNum/7):Math.ceil(asideDayNum/7)+1);a.querySelector(\"#calendar-week\").innerHTML=`第${l}周&nbsp;`+weekStr,a.querySelector(\"#calendar-date\").innerHTML=date.toString().padStart(2,\"0\"),a.querySelector(\"#calendar-solar\").innerHTML=`${year}年${monthStr}&nbsp;第${asideDay.toFixed(0)}天`,a.querySelector(\"#calendar-lunar\").innerHTML=\"\"+ganzhiYear+animalYear+\"年&nbsp;\"+lunarMon+lunarDay,document.getElementById(\"schedule-days\").innerHTML=t}}"},{"_content":"{\n  \"颜文字\": {\n    \"type\": \"emoticon\",\n    \"container\": [\n      {\n        \"icon\": \"OωO\",\n        \"text\": \"Author: DIYgod\"\n      },\n      {\n        \"icon\": \"|´・ω・)ノ\",\n        \"text\": \"Hi\"\n      },\n      {\n        \"icon\": \"ヾ(≧∇≦*)ゝ\",\n        \"text\": \"开心\"\n      },\n      {\n        \"icon\": \"(☆ω☆)\",\n        \"text\": \"星星眼\"\n      },\n      {\n        \"icon\": \"（╯‵□′）╯︵┴─┴\",\n        \"text\": \"掀桌\"\n      },\n      {\n        \"icon\": \"￣﹃￣\",\n        \"text\": \"流口水\"\n      },\n      {\n        \"icon\": \"(/ω＼)\",\n        \"text\": \"捂脸\"\n      },\n      {\n        \"icon\": \"∠( ᐛ 」∠)＿\",\n        \"text\": \"给跪\"\n      },\n      {\n        \"icon\": \"(๑•̀ㅁ•́ฅ)\",\n        \"text\": \"Hi\"\n      },\n      {\n        \"icon\": \"→_→\",\n        \"text\": \"斜眼\"\n      },\n      {\n        \"icon\": \"୧(๑•̀⌄•́๑)૭\",\n        \"text\": \"加油\"\n      },\n      {\n        \"icon\": \"٩(ˊᗜˋ*)و\",\n        \"text\": \"有木有WiFi\"\n      },\n      {\n        \"icon\": \"(ノ°ο°)ノ\",\n        \"text\": \"前方高能预警\"\n      },\n      {\n        \"icon\": \"(´இ皿இ｀)\",\n        \"text\": \"我从未见过如此厚颜无耻之人\"\n      },\n      {\n        \"icon\": \"⌇●﹏●⌇\",\n        \"text\": \"吓死宝宝惹\"\n      },\n      {\n        \"icon\": \"(ฅ´ω`ฅ)\",\n        \"text\": \"已阅留爪\"\n      },\n      {\n        \"icon\": \"(╯°A°)╯︵○○○\",\n        \"text\": \"去吧大师球\"\n      },\n      {\n        \"icon\": \"φ(￣∇￣o)\",\n        \"text\": \"太萌惹\"\n      },\n      {\n        \"icon\": \"ヾ(´･ ･｀｡)ノ\\\"\",\n        \"text\": \"咦咦咦\"\n      },\n      {\n        \"icon\": \"( ง ᵒ̌皿ᵒ̌)ง⁼³₌₃\",\n        \"text\": \"气呼呼\"\n      },\n      {\n        \"icon\": \"(ó﹏ò｡)\",\n        \"text\": \"我受到了惊吓\"\n      },\n      {\n        \"icon\": \"Σ(っ °Д °;)っ\",\n        \"text\": \"什么鬼\"\n      },\n      {\n        \"icon\": \"( ,,´･ω･)ﾉ\\\"(´っω･｀｡)\",\n        \"text\": \"摸摸头\"\n      },\n      {\n        \"icon\": \"╮(╯▽╰)╭ \",\n        \"text\": \"无奈\"\n      },\n      {\n        \"icon\": \"o(*////▽////*)q \",\n        \"text\": \"脸红\"\n      },\n      {\n        \"icon\": \"＞﹏＜\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"( ๑´•ω•) \\\"(ㆆᴗㆆ)\",\n        \"text\": \"\"\n      }\n    ]\n  },\n  \"Emoji\": {\n    \"type\": \"emoji\",\n    \"container\": [\n      {\n        \"icon\": \"😂\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😀\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😅\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😊\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙂\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙃\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😌\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😍\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😘 \",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😜\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😝\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😏\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😒\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙄\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😳 \",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😡\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😔\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😫\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😱\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😭\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"💩\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👻\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙌\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🖕\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👍\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👫\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👬\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👭\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🌚\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🌝\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙈\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"💊\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😶\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙏\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🍦\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🍉\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😣\",\n        \"text\": \"\"\n      }\n    ]\n  },\n  \"Bilibili\": {\n    \"type\": \"image\",\n    \"container\": [\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png\\\"\\u003E\",\n        \"text\": \"tv_doge\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/a8111ad55953ef5e3be3327ef94eb4a39d535d06.png\\\"\\u003E\",\n        \"text\": \"tv_亲亲\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/bb690d4107620f1c15cff29509db529a73aee261.png\\\"\\u003E\",\n        \"text\": \"tv_偷笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png\\\"\\u003E\",\n        \"text\": \"tv_再见\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png\\\"\\u003E\",\n        \"text\": \"tv_冷漠\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png\\\"\\u003E\",\n        \"text\": \"tv_发怒\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/34db290afd2963723c6eb3c4560667db7253a21a.png\\\"\\u003E\",\n        \"text\": \"tv_发财\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png\\\"\\u003E\",\n        \"text\": \"tv_可爱\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/09dd16a7aa59b77baa1155d47484409624470c77.png\\\"\\u003E\",\n        \"text\": \"tv_吐血\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png\\\"\\u003E\",\n        \"text\": \"tv_呆\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/9f996894a39e282ccf5e66856af49483f81870f3.png\\\"\\u003E\",\n        \"text\": \"tv_呕吐\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/241ee304e44c0af029adceb294399391e4737ef2.png\\\"\\u003E\",\n        \"text\": \"tv_困\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/1f0b87f731a671079842116e0991c91c2c88645a.png\\\"\\u003E\",\n        \"text\": \"tv_坏笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/093c1e2c490161aca397afc45573c877cdead616.png\\\"\\u003E\",\n        \"text\": \"tv_大佬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/23269aeb35f99daee28dda129676f6e9ea87934f.png\\\"\\u003E\",\n        \"text\": \"tv_大哭\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png\\\"\\u003E\",\n        \"text\": \"tv_委屈\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png\\\"\\u003E\",\n        \"text\": \"tv_害羞\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png\\\"\\u003E\",\n        \"text\": \"tv_尴尬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png\\\"\\u003E\",\n        \"text\": \"tv_微笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/90cf159733e558137ed20aa04d09964436f618a1.png\\\"\\u003E\",\n        \"text\": \"tv_思考\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/0d15c7e2ee58e935adc6a7193ee042388adc22af.png\\\"\\u003E\",\n        \"text\": \"tv_惊吓\"\n      }\n    ]\n  },\n  \"Heo\": {\n    \"type\": \"image\",\n    \"container\": [\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd6a7fdf.webp'\\u003E\",\n        \"text\": \"3d眼镜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd6b525d.webp'\\u003E\",\n        \"text\": \"beluga\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd6a7975.webp'\\u003E\",\n        \"text\": \"EDG\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd78fd6b.webp'\\u003E\",\n        \"text\": \"熬夜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd79a962.webp'\\u003E\",\n        \"text\": \"LPL\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd7a1c60.webp'\\u003E\",\n        \"text\": \"拜托\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd84d1dc.webp'\\u003E\",\n        \"text\": \"爆炸\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd8657d9.webp'\\u003E\",\n        \"text\": \"被打\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd874a46.webp'\\u003E\",\n        \"text\": \"波吉\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd92e9ae.webp'\\u003E\",\n        \"text\": \"不服吗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd93abe8.webp'\\u003E\",\n        \"text\": \"不好意思\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd94c5e8.webp'\\u003E\",\n        \"text\": \"擦汗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd9cd2a4.webp'\\u003E\",\n        \"text\": \"财神红包\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd9edd8a.webp'\\u003E\",\n        \"text\": \"菜狗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda06d73.webp'\\u003E\",\n        \"text\": \"菜狗花\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda7626c.webp'\\u003E\",\n        \"text\": \"唱歌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda93898.webp'\\u003E\",\n        \"text\": \"超爱\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda9de76.webp'\\u003E\",\n        \"text\": \"吵架\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdb24202.webp'\\u003E\",\n        \"text\": \"吃瓜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdb43b0f.webp'\\u003E\",\n        \"text\": \"吃手\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdb43e76.webp'\\u003E\",\n        \"text\": \"出家人\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdbca413.webp'\\u003E\",\n        \"text\": \"呲牙笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdbe500a.webp'\\u003E\",\n        \"text\": \"打咩\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdbe6a85.webp'\\u003E\",\n        \"text\": \"错误\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdc93f6a.webp'\\u003E\",\n        \"text\": \"打牌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdcb78e3.webp'\\u003E\",\n        \"text\": \"电话\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdcc7c99.webp'\\u003E\",\n        \"text\": \"大笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdd5ab0f.webp'\\u003E\",\n        \"text\": \"斗鸡眼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdd7a1a3.webp'\\u003E\",\n        \"text\": \"读书\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdd7af3a.webp'\\u003E\",\n        \"text\": \"恶魔\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cddeda65.webp'\\u003E\",\n        \"text\": \"恶魔恐惧\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cde2a26d.webp'\\u003E\",\n        \"text\": \"恶心\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cde2f0f8.webp'\\u003E\",\n        \"text\": \"发红包\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cde8c725.webp'\\u003E\",\n        \"text\": \"翻白眼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdebf61e.webp'\\u003E\",\n        \"text\": \"放鞭炮\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdebf1a4.webp'\\u003E\",\n        \"text\": \"烦恼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdf2f3a0.webp'\\u003E\",\n        \"text\": \"奋斗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdf557c0.webp'\\u003E\",\n        \"text\": \"愤怒\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdf6ed26.webp'\\u003E\",\n        \"text\": \"扶额\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdfc4d1d.webp'\\u003E\",\n        \"text\": \"尬笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce01d34f.webp'\\u003E\",\n        \"text\": \"尴尬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce03a4c6.webp'\\u003E\",\n        \"text\": \"感动\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce07dbc0.webp'\\u003E\",\n        \"text\": \"狗头\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce0d48a6.webp'\\u003E\",\n        \"text\": \"狗头草\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce0e69a4.webp'\\u003E\",\n        \"text\": \"狗头花\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce12e879.webp'\\u003E\",\n        \"text\": \"狗头胖次\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce189c24.webp'\\u003E\",\n        \"text\": \"狗头围脖\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce180cb5.webp'\\u003E\",\n        \"text\": \"狗头失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce1bf227.webp'\\u003E\",\n        \"text\": \"狗头意外\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce22efde.webp'\\u003E\",\n        \"text\": \"鬼脸\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce22dc9c.webp'\\u003E\",\n        \"text\": \"鼓掌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce261698.webp'\\u003E\",\n        \"text\": \"哈士奇\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce2cc5ad.webp'\\u003E\",\n        \"text\": \"哈士奇失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce2cb019.webp'\\u003E\",\n        \"text\": \"哈士奇失去意识\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce3061e0.webp'\\u003E\",\n        \"text\": \"害羞\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce37a402.webp'\\u003E\",\n        \"text\": \"好的\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce39335f.webp'\\u003E\",\n        \"text\": \"好奇\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce39ee87.webp'\\u003E\",\n        \"text\": \"黑线\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce453ddf.webp'\\u003E\",\n        \"text\": \"嘿哈\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce46ce56.webp'\\u003E\",\n        \"text\": \"胡子\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce47d8c4.webp'\\u003E\",\n        \"text\": \"虎年进宝\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5010e4.webp'\\u003E\",\n        \"text\": \"滑稽\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5318a3.webp'\\u003E\",\n        \"text\": \"滑稽被子\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce53a39d.webp'\\u003E\",\n        \"text\": \"滑稽吃瓜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce596fbd.webp'\\u003E\",\n        \"text\": \"滑稽喝水\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5c6447.webp'\\u003E\",\n        \"text\": \"滑稽狂汗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5d8993.webp'\\u003E\",\n        \"text\": \"滑稽奶茶\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce64525a.webp'\\u003E\",\n        \"text\": \"滑稽柠檬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce676986.webp'\\u003E\",\n        \"text\": \"击剑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce67fda9.webp'\\u003E\",\n        \"text\": \"饥渴\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce6d8521.webp'\\u003E\",\n        \"text\": \"加班\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce71b9ce.webp'\\u003E\",\n        \"text\": \"禁言\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce72e85a.webp'\\u003E\",\n        \"text\": \"惊吓\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce79e00d.webp'\\u003E\",\n        \"text\": \"惊吓白眼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce7cc7f4.webp'\\u003E\",\n        \"text\": \"惊讶\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce7ed16c.webp'\\u003E\",\n        \"text\": \"警告\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce842a62.webp'\\u003E\",\n        \"text\": \"敬礼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce89507e.webp'\\u003E\",\n        \"text\": \"纠结\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce8ab63b.webp'\\u003E\",\n        \"text\": \"开心\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce8d1394.webp'\\u003E\",\n        \"text\": \"看穿一切\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce94806f.webp'\\u003E\",\n        \"text\": \"抠鼻\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce95af48.webp'\\u003E\",\n        \"text\": \"哭泣\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce97a962.webp'\\u003E\",\n        \"text\": \"狂热\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce9e6dc9.webp'\\u003E\",\n        \"text\": \"老虎意外\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cea10e2c.webp'\\u003E\",\n        \"text\": \"泪奔\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cea233f4.webp'\\u003E\",\n        \"text\": \"裂开\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cea90bd0.webp'\\u003E\",\n        \"text\": \"流鼻涕\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceabd049.webp'\\u003E\",\n        \"text\": \"流汗微笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceacb2f2.webp'\\u003E\",\n        \"text\": \"绿帽\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceb503d6.webp'\\u003E\",\n        \"text\": \"没招\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceb71ec9.webp'\\u003E\",\n        \"text\": \"蒙面滑稽\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceb743bc.webp'\\u003E\",\n        \"text\": \"勉强笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec08871.webp'\\u003E\",\n        \"text\": \"面具\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec2045d.webp'\\u003E\",\n        \"text\": \"难以置信\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec2c23b.webp'\\u003E\",\n        \"text\": \"牛年进宝\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec9967b.webp'\\u003E\",\n        \"text\": \"惬意\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cecc6945.webp'\\u003E\",\n        \"text\": \"亲亲\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cecd453e.webp'\\u003E\",\n        \"text\": \"缺牙笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ced4776c.webp'\\u003E\",\n        \"text\": \"伞兵\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ced88d20.webp'\\u003E\",\n        \"text\": \"深思\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ced778d5.webp'\\u003E\",\n        \"text\": \"傻笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cede72b8.webp'\\u003E\",\n        \"text\": \"生病\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cee348dd.webp'\\u003E\",\n        \"text\": \"失去信号\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cee4f99a.webp'\\u003E\",\n        \"text\": \"失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cee97354.webp'\\u003E\",\n        \"text\": \"手机相机\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceecb533.webp'\\u003E\",\n        \"text\": \"耍酷\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceeee4f6.webp'\\u003E\",\n        \"text\": \"睡觉\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cef39af7.webp'\\u003E\",\n        \"text\": \"思考\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cef7cde8.webp'\\u003E\",\n        \"text\": \"送福\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cefc3e4a.webp'\\u003E\",\n        \"text\": \"送花\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cefcd685.webp'\\u003E\",\n        \"text\": \"抬眼镜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf027ecc.webp'\\u003E\",\n        \"text\": \"疼痛\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf061701.webp'\\u003E\",\n        \"text\": \"痛哭\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf0a47f7.webp'\\u003E\",\n        \"text\": \"偷偷看\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf0d074f.webp'\\u003E\",\n        \"text\": \"头秃\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf0ed956.webp'\\u003E\",\n        \"text\": \"吐血\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf1707a7.webp'\\u003E\",\n        \"text\": \"托腮\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf189ab2.webp'\\u003E\",\n        \"text\": \"危险\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf1a315a.webp'\\u003E\",\n        \"text\": \"微笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf21dfbb.webp'\\u003E\",\n        \"text\": \"我看好你\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf233ad0.webp'\\u003E\",\n        \"text\": \"捂脸\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf24aa89.webp'\\u003E\",\n        \"text\": \"捂嘴笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf2bc190.webp'\\u003E\",\n        \"text\": \"喜欢\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf2dff1f.webp'\\u003E\",\n        \"text\": \"小丑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf2eaef3.webp'\\u003E\",\n        \"text\": \"小偷\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf375d9a.webp'\\u003E\",\n        \"text\": \"笑哭\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf39464c.webp'\\u003E\",\n        \"text\": \"熊猫\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf39645f.webp'\\u003E\",\n        \"text\": \"熊猫唱歌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf40dd8c.webp'\\u003E\",\n        \"text\": \"熊猫失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf43c7c3.webp'\\u003E\",\n        \"text\": \"熊猫意外\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf441ebf.webp'\\u003E\",\n        \"text\": \"熊猫喜欢\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf4e5ac0.webp'\\u003E\",\n        \"text\": \"熊熊\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf5152e8.webp'\\u003E\",\n        \"text\": \"眩晕\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf52c956.webp'\\u003E\",\n        \"text\": \"疑问\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf59bbb4.webp'\\u003E\",\n        \"text\": \"倚墙笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf5b2215.webp'\\u003E\",\n        \"text\": \"阴险\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf5d1355.webp'\\u003E\",\n        \"text\": \"引起不适\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf63bd49.webp'\\u003E\",\n        \"text\": \"应援\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf6648ad.webp'\\u003E\",\n        \"text\": \"呦吼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf682784.webp'\\u003E\",\n        \"text\": \"有没有搞错\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf6e951f.webp'\\u003E\",\n        \"text\": \"月饼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf712144.webp'\\u003E\",\n        \"text\": \"再见\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf72a3ac.webp'\\u003E\",\n        \"text\": \"这是啥\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf7925b8.webp'\\u003E\",\n        \"text\": \"整理发型\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf7aad5e.webp'\\u003E\",\n        \"text\": \"正确\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf7d0f1e.webp'\\u003E\",\n        \"text\": \"值得肯定\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf858152.webp'\\u003E\",\n        \"text\": \"智慧的眼神\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf87ad87.webp'\\u003E\",\n        \"text\": \"猪头\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf886e59.webp'\\u003E\",\n        \"text\": \"猪头意外\"\n      }\n    ]\n  },\n  \"酷安\": {\n    \"type\": \"image\",\n    \"container\": [\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c0d185e.png'\\u003E\",\n        \"text\": \"c-1\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c0b05df.png'\\u003E\",\n        \"text\": \"c-2\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c094a72.png'\\u003E\",\n        \"text\": \"c-3\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bfcd5da.png'\\u003E\",\n        \"text\": \"c-4\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bfaf795.png'\\u003E\",\n        \"text\": \"c-5\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf8cf90.png'\\u003E\",\n        \"text\": \"c-6\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c0768e0.png'\\u003E\",\n        \"text\": \"c-7\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf6b0a2.png'\\u003E\",\n        \"text\": \"c-8\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c05fe7d.png'\\u003E\",\n        \"text\": \"c-9\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf4f939.png'\\u003E\",\n        \"text\": \"c-10\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725beaead0.png'\\u003E\",\n        \"text\": \"c-11\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be93bfa.png'\\u003E\",\n        \"text\": \"c-12\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be76f5d.png'\\u003E\",\n        \"text\": \"c-13\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be4f224.png'\\u003E\",\n        \"text\": \"c-14\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be34ef0.png'\\u003E\",\n        \"text\": \"c-15\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c03b6ed.png'\\u003E\",\n        \"text\": \"c-16\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf3ecd3.png'\\u003E\",\n        \"text\": \"c-17\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be1a468.png'\\u003E\",\n        \"text\": \"c-18\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bdaa9c4.png'\\u003E\",\n        \"text\": \"c-19\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd881e5.png'\\u003E\",\n        \"text\": \"c-20\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd6f547.png'\\u003E\",\n        \"text\": \"c-21\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd4b9e3.png'\\u003E\",\n        \"text\": \"c-22\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd316e1.png'\\u003E\",\n        \"text\": \"c-23\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd0e2f2.png'\\u003E\",\n        \"text\": \"c-24\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bca4193.png'\\u003E\",\n        \"text\": \"c-25\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc82264.png'\\u003E\",\n        \"text\": \"c-26\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc61a4f.png'\\u003E\",\n        \"text\": \"c-27\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc3aa81.png'\\u003E\",\n        \"text\": \"c-28\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc18ff7.png'\\u003E\",\n        \"text\": \"c-29\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bbee69f.png'\\u003E\",\n        \"text\": \"c-30\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb62934.png'\\u003E\",\n        \"text\": \"c-31\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb820cb.png'\\u003E\",\n        \"text\": \"c-32\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb3cb6d.png'\\u003E\",\n        \"text\": \"c-33\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb1bf60.png'\\u003E\",\n        \"text\": \"c-34\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb00979.png'\\u003E\",\n        \"text\": \"c-35\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bad5745.png'\\u003E\",\n        \"text\": \"c-36\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba7c224.png'\\u003E\",\n        \"text\": \"c-37\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba39662.png'\\u003E\",\n        \"text\": \"c-38\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba4e84a.png'\\u003E\",\n        \"text\": \"c-39\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba1cf22.png'\\u003E\",\n        \"text\": \"c-40\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9f416d.png'\\u003E\",\n        \"text\": \"c-41\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9c44ae.png'\\u003E\",\n        \"text\": \"c-42\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9662b8.png'\\u003E\",\n        \"text\": \"c-43\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b94606c.png'\\u003E\",\n        \"text\": \"c-44\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b92a1a9.png'\\u003E\",\n        \"text\": \"c-45\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b901c35.png'\\u003E\",\n        \"text\": \"c-46\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b8d891b.png'\\u003E\",\n        \"text\": \"c-47\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b8b8506.png'\\u003E\",\n        \"text\": \"c-48\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b85ef0c.png'\\u003E\",\n        \"text\": \"c-49\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b8362f8.png'\\u003E\",\n        \"text\": \"c-50\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b81864e.png'\\u003E\",\n        \"text\": \"c-51\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7efb05.png'\\u003E\",\n        \"text\": \"c-52\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7d3452.png'\\u003E\",\n        \"text\": \"c-53\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7afd93.png'\\u003E\",\n        \"text\": \"c-54\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7599bb.png'\\u003E\",\n        \"text\": \"c-55\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7354e0.png'\\u003E\",\n        \"text\": \"c-56\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b71514a.png'\\u003E\",\n        \"text\": \"c-57\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b6caddc.png'\\u003E\",\n        \"text\": \"c-58\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b6e71c0.png'\\u003E\",\n        \"text\": \"c-59\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b69bdc4.png'\\u003E\",\n        \"text\": \"c-60\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c016f97.png'\\u003E\",\n        \"text\": \"c-61\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf03143.png'\\u003E\",\n        \"text\": \"c-62\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bdea86d.png'\\u003E\",\n        \"text\": \"c-63\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bcdcb19.png'\\u003E\",\n        \"text\": \"c-64\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bbd1a09.png'\\u003E\",\n        \"text\": \"c-65\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bab24b5.png'\\u003E\",\n        \"text\": \"c-66\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9a65e5.png'\\u003E\",\n        \"text\": \"c-67\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b899401.png'\\u003E\",\n        \"text\": \"c-68\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b791a3c.png'\\u003E\",\n        \"text\": \"c-69\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b67debc.png'\\u003E\",\n        \"text\": \"c-70\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bfe5d9f.png'\\u003E\",\n        \"text\": \"c-71\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bed2bac.png'\\u003E\",\n        \"text\": \"c-72\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bdc7edb.png'\\u003E\",\n        \"text\": \"c-73\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bcba451.png'\\u003E\",\n        \"text\": \"c-74\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bba8852.png'\\u003E\",\n        \"text\": \"c-75\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba923eb.png'\\u003E\",\n        \"text\": \"c-76\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b986197.png'\\u003E\",\n        \"text\": \"c-77\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b877c71.png'\\u003E\",\n        \"text\": \"c-78\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b77684b.png'\\u003E\",\n        \"text\": \"c-79\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b65543a.png'\\u003E\",\n        \"text\": \"c-80\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b63bd75.png'\\u003E\",\n        \"text\": \"c-81\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b624976.png'\\u003E\",\n        \"text\": \"c-82\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b5f3e2c.png'\\u003E\",\n        \"text\": \"c-83\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b53ffa2.png'\\u003E\",\n        \"text\": \"c-84\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b51bbb2.png'\\u003E\",\n        \"text\": \"c-85\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b501f34.png'\\u003E\",\n        \"text\": \"c-86\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b5d918b.png'\\u003E\",\n        \"text\": \"c-87\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b4d2dfc.png'\\u003E\",\n        \"text\": \"c-88\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b427c20.png'\\u003E\",\n        \"text\": \"c-89\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b405bd4.png'\\u003E\",\n        \"text\": \"c-90\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b3db127.png'\\u003E\",\n        \"text\": \"c-91\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b3b362f.png'\\u003E\",\n        \"text\": \"c-92\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b31d3f4.png'\\u003E\",\n        \"text\": \"c-93\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2f3e7c.png'\\u003E\",\n        \"text\": \"c-94\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2d933d.png'\\u003E\",\n        \"text\": \"c-95\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2b518d.png'\\u003E\",\n        \"text\": \"c-96\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b226a23.png'\\u003E\",\n        \"text\": \"c-97\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2002bc.png'\\u003E\",\n        \"text\": \"c-98\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b1c0a77.png'\\u003E\",\n        \"text\": \"c-99\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b1a83f6.png'\\u003E\",\n        \"text\": \"c-100\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b105a8d.png'\\u003E\",\n        \"text\": \"c-101\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b0dfe5b.png'\\u003E\",\n        \"text\": \"c-102\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b0b98d1.png'\\u003E\",\n        \"text\": \"c-103\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b09a8c4.png'\\u003E\",\n        \"text\": \"c-104\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725afe28b3.png'\\u003E\",\n        \"text\": \"c-105\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725afc86c0.png'\\u003E\",\n        \"text\": \"c-106\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725af9ffc2.png'\\u003E\",\n        \"text\": \"c-107\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae76d88.png'\\u003E\",\n        \"text\": \"c-108\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b5b738a.png'\\u003E\",\n        \"text\": \"c-109\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b4b594c.png'\\u003E\",\n        \"text\": \"c-110\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b36ecf6.png'\\u003E\",\n        \"text\": \"c-111\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b299fac.png'\\u003E\",\n        \"text\": \"c-112\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b181d3b.png'\\u003E\",\n        \"text\": \"c-113\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b072746.png'\\u003E\",\n        \"text\": \"c-114\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae7deca.png'\\u003E\",\n        \"text\": \"c-115\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b597e10.png'\\u003E\",\n        \"text\": \"c-116\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b48c773.png'\\u003E\",\n        \"text\": \"c-117\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b38cf7e.png'\\u003E\",\n        \"text\": \"c-118\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b271202.png'\\u003E\",\n        \"text\": \"c-119\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b164649.png'\\u003E\",\n        \"text\": \"c-120\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b035eaa.png'\\u003E\",\n        \"text\": \"c-121\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae78ff8.png'\\u003E\",\n        \"text\": \"c-122\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae7593d.png'\\u003E\",\n        \"text\": \"c-123\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae65f92.png'\\u003E\",\n        \"text\": \"c-124\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae64907.png'\\u003E\",\n        \"text\": \"c-125\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae71a9b.png'\\u003E\",\n        \"text\": \"c-126\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae7aed1.png'\\u003E\",\n        \"text\": \"c-127\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b58126a.png'\\u003E\",\n        \"text\": \"c-128\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b46a066.png'\\u003E\",\n        \"text\": \"c-129\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b351bf3.png'\\u003E\",\n        \"text\": \"c-130\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b258fa1.png'\\u003E\",\n        \"text\": \"c-131\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b14ad8b.png'\\u003E\",\n        \"text\": \"c-132\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b054932.png'\\u003E\",\n        \"text\": \"c-133\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae72b04.png'\\u003E\",\n        \"text\": \"c-134\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b55c8e0.png'\\u003E\",\n        \"text\": \"c-135\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b445b01.png'\\u003E\",\n        \"text\": \"c-136\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b32e896.png'\\u003E\",\n        \"text\": \"c-137\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b240b9f.png'\\u003E\",\n        \"text\": \"c-138\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b12380c.png'\\u003E\",\n        \"text\": \"c-139\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b010113.png'\\u003E\",\n        \"text\": \"c-140\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae62e60.png'\\u003E\",\n        \"text\": \"c-141\"\n      }\n    ]\n  },\n    \"Sticker\": {\n        \"type\": \"image\",\n        \"container\": [\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7607b1e.webp'>\",\n                \"text\": \"暗中观察_13\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7635526.webp'>\",\n                \"text\": \"to\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f760bc4a.webp'>\",\n                \"text\": \"波门_11\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7725724.webp'>\",\n                \"text\": \"害羞_10\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7730af6.webp'>\",\n                \"text\": \"打咩_02\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f775abc0.webp'>\",\n                \"text\": \"黑线_09\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7817de7.webp'>\",\n                \"text\": \"哼哼_01\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f78485c8.webp'>\",\n                \"text\": \"垃圾桶_04\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f785a983.webp'>\",\n                \"text\": \"溜溜球_16\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f791ee1b.webp'>\",\n                \"text\": \"拍薯片_07\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7938ff3.webp'>\",\n                \"text\": \"牡蛎_03\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7a1557c.webp'>\",\n                \"text\": \"烧了_14\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7a23012.webp'>\",\n                \"text\": \"什么_06\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7b02511.webp'>\",\n                \"text\": \"什么省的_05\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7b0ff4f.webp'>\",\n                \"text\": \"贴贴_12\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7b4312c.webp'>\",\n                \"text\": \"切腹_15\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7bacc67.webp'>\",\n                \"text\": \"消沉_08\"\n            }\n        ]\n    }\n}","source":"custom/js/twikoo.json","raw":"{\n  \"颜文字\": {\n    \"type\": \"emoticon\",\n    \"container\": [\n      {\n        \"icon\": \"OωO\",\n        \"text\": \"Author: DIYgod\"\n      },\n      {\n        \"icon\": \"|´・ω・)ノ\",\n        \"text\": \"Hi\"\n      },\n      {\n        \"icon\": \"ヾ(≧∇≦*)ゝ\",\n        \"text\": \"开心\"\n      },\n      {\n        \"icon\": \"(☆ω☆)\",\n        \"text\": \"星星眼\"\n      },\n      {\n        \"icon\": \"（╯‵□′）╯︵┴─┴\",\n        \"text\": \"掀桌\"\n      },\n      {\n        \"icon\": \"￣﹃￣\",\n        \"text\": \"流口水\"\n      },\n      {\n        \"icon\": \"(/ω＼)\",\n        \"text\": \"捂脸\"\n      },\n      {\n        \"icon\": \"∠( ᐛ 」∠)＿\",\n        \"text\": \"给跪\"\n      },\n      {\n        \"icon\": \"(๑•̀ㅁ•́ฅ)\",\n        \"text\": \"Hi\"\n      },\n      {\n        \"icon\": \"→_→\",\n        \"text\": \"斜眼\"\n      },\n      {\n        \"icon\": \"୧(๑•̀⌄•́๑)૭\",\n        \"text\": \"加油\"\n      },\n      {\n        \"icon\": \"٩(ˊᗜˋ*)و\",\n        \"text\": \"有木有WiFi\"\n      },\n      {\n        \"icon\": \"(ノ°ο°)ノ\",\n        \"text\": \"前方高能预警\"\n      },\n      {\n        \"icon\": \"(´இ皿இ｀)\",\n        \"text\": \"我从未见过如此厚颜无耻之人\"\n      },\n      {\n        \"icon\": \"⌇●﹏●⌇\",\n        \"text\": \"吓死宝宝惹\"\n      },\n      {\n        \"icon\": \"(ฅ´ω`ฅ)\",\n        \"text\": \"已阅留爪\"\n      },\n      {\n        \"icon\": \"(╯°A°)╯︵○○○\",\n        \"text\": \"去吧大师球\"\n      },\n      {\n        \"icon\": \"φ(￣∇￣o)\",\n        \"text\": \"太萌惹\"\n      },\n      {\n        \"icon\": \"ヾ(´･ ･｀｡)ノ\\\"\",\n        \"text\": \"咦咦咦\"\n      },\n      {\n        \"icon\": \"( ง ᵒ̌皿ᵒ̌)ง⁼³₌₃\",\n        \"text\": \"气呼呼\"\n      },\n      {\n        \"icon\": \"(ó﹏ò｡)\",\n        \"text\": \"我受到了惊吓\"\n      },\n      {\n        \"icon\": \"Σ(っ °Д °;)っ\",\n        \"text\": \"什么鬼\"\n      },\n      {\n        \"icon\": \"( ,,´･ω･)ﾉ\\\"(´っω･｀｡)\",\n        \"text\": \"摸摸头\"\n      },\n      {\n        \"icon\": \"╮(╯▽╰)╭ \",\n        \"text\": \"无奈\"\n      },\n      {\n        \"icon\": \"o(*////▽////*)q \",\n        \"text\": \"脸红\"\n      },\n      {\n        \"icon\": \"＞﹏＜\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"( ๑´•ω•) \\\"(ㆆᴗㆆ)\",\n        \"text\": \"\"\n      }\n    ]\n  },\n  \"Emoji\": {\n    \"type\": \"emoji\",\n    \"container\": [\n      {\n        \"icon\": \"😂\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😀\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😅\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😊\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙂\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙃\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😌\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😍\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😘 \",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😜\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😝\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😏\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😒\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙄\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😳 \",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😡\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😔\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😫\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😱\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😭\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"💩\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👻\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙌\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🖕\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👍\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👫\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👬\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"👭\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🌚\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🌝\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙈\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"💊\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😶\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🙏\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🍦\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"🍉\",\n        \"text\": \"\"\n      },\n      {\n        \"icon\": \"😣\",\n        \"text\": \"\"\n      }\n    ]\n  },\n  \"Bilibili\": {\n    \"type\": \"image\",\n    \"container\": [\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png\\\"\\u003E\",\n        \"text\": \"tv_doge\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/a8111ad55953ef5e3be3327ef94eb4a39d535d06.png\\\"\\u003E\",\n        \"text\": \"tv_亲亲\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/bb690d4107620f1c15cff29509db529a73aee261.png\\\"\\u003E\",\n        \"text\": \"tv_偷笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png\\\"\\u003E\",\n        \"text\": \"tv_再见\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png\\\"\\u003E\",\n        \"text\": \"tv_冷漠\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png\\\"\\u003E\",\n        \"text\": \"tv_发怒\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/34db290afd2963723c6eb3c4560667db7253a21a.png\\\"\\u003E\",\n        \"text\": \"tv_发财\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png\\\"\\u003E\",\n        \"text\": \"tv_可爱\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/09dd16a7aa59b77baa1155d47484409624470c77.png\\\"\\u003E\",\n        \"text\": \"tv_吐血\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png\\\"\\u003E\",\n        \"text\": \"tv_呆\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/9f996894a39e282ccf5e66856af49483f81870f3.png\\\"\\u003E\",\n        \"text\": \"tv_呕吐\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/241ee304e44c0af029adceb294399391e4737ef2.png\\\"\\u003E\",\n        \"text\": \"tv_困\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/1f0b87f731a671079842116e0991c91c2c88645a.png\\\"\\u003E\",\n        \"text\": \"tv_坏笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/093c1e2c490161aca397afc45573c877cdead616.png\\\"\\u003E\",\n        \"text\": \"tv_大佬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/23269aeb35f99daee28dda129676f6e9ea87934f.png\\\"\\u003E\",\n        \"text\": \"tv_大哭\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png\\\"\\u003E\",\n        \"text\": \"tv_委屈\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png\\\"\\u003E\",\n        \"text\": \"tv_害羞\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png\\\"\\u003E\",\n        \"text\": \"tv_尴尬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png\\\"\\u003E\",\n        \"text\": \"tv_微笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/90cf159733e558137ed20aa04d09964436f618a1.png\\\"\\u003E\",\n        \"text\": \"tv_思考\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src=\\\"https://owo.imaegoo.com/bilibili/0d15c7e2ee58e935adc6a7193ee042388adc22af.png\\\"\\u003E\",\n        \"text\": \"tv_惊吓\"\n      }\n    ]\n  },\n  \"Heo\": {\n    \"type\": \"image\",\n    \"container\": [\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd6a7fdf.webp'\\u003E\",\n        \"text\": \"3d眼镜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd6b525d.webp'\\u003E\",\n        \"text\": \"beluga\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd6a7975.webp'\\u003E\",\n        \"text\": \"EDG\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd78fd6b.webp'\\u003E\",\n        \"text\": \"熬夜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd79a962.webp'\\u003E\",\n        \"text\": \"LPL\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd7a1c60.webp'\\u003E\",\n        \"text\": \"拜托\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd84d1dc.webp'\\u003E\",\n        \"text\": \"爆炸\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd8657d9.webp'\\u003E\",\n        \"text\": \"被打\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd874a46.webp'\\u003E\",\n        \"text\": \"波吉\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd92e9ae.webp'\\u003E\",\n        \"text\": \"不服吗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd93abe8.webp'\\u003E\",\n        \"text\": \"不好意思\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd94c5e8.webp'\\u003E\",\n        \"text\": \"擦汗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd9cd2a4.webp'\\u003E\",\n        \"text\": \"财神红包\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cd9edd8a.webp'\\u003E\",\n        \"text\": \"菜狗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda06d73.webp'\\u003E\",\n        \"text\": \"菜狗花\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda7626c.webp'\\u003E\",\n        \"text\": \"唱歌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda93898.webp'\\u003E\",\n        \"text\": \"超爱\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cda9de76.webp'\\u003E\",\n        \"text\": \"吵架\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdb24202.webp'\\u003E\",\n        \"text\": \"吃瓜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdb43b0f.webp'\\u003E\",\n        \"text\": \"吃手\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdb43e76.webp'\\u003E\",\n        \"text\": \"出家人\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdbca413.webp'\\u003E\",\n        \"text\": \"呲牙笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdbe500a.webp'\\u003E\",\n        \"text\": \"打咩\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdbe6a85.webp'\\u003E\",\n        \"text\": \"错误\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdc93f6a.webp'\\u003E\",\n        \"text\": \"打牌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdcb78e3.webp'\\u003E\",\n        \"text\": \"电话\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdcc7c99.webp'\\u003E\",\n        \"text\": \"大笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdd5ab0f.webp'\\u003E\",\n        \"text\": \"斗鸡眼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdd7a1a3.webp'\\u003E\",\n        \"text\": \"读书\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdd7af3a.webp'\\u003E\",\n        \"text\": \"恶魔\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cddeda65.webp'\\u003E\",\n        \"text\": \"恶魔恐惧\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cde2a26d.webp'\\u003E\",\n        \"text\": \"恶心\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cde2f0f8.webp'\\u003E\",\n        \"text\": \"发红包\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cde8c725.webp'\\u003E\",\n        \"text\": \"翻白眼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdebf61e.webp'\\u003E\",\n        \"text\": \"放鞭炮\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdebf1a4.webp'\\u003E\",\n        \"text\": \"烦恼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdf2f3a0.webp'\\u003E\",\n        \"text\": \"奋斗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdf557c0.webp'\\u003E\",\n        \"text\": \"愤怒\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdf6ed26.webp'\\u003E\",\n        \"text\": \"扶额\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cdfc4d1d.webp'\\u003E\",\n        \"text\": \"尬笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce01d34f.webp'\\u003E\",\n        \"text\": \"尴尬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce03a4c6.webp'\\u003E\",\n        \"text\": \"感动\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce07dbc0.webp'\\u003E\",\n        \"text\": \"狗头\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce0d48a6.webp'\\u003E\",\n        \"text\": \"狗头草\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce0e69a4.webp'\\u003E\",\n        \"text\": \"狗头花\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce12e879.webp'\\u003E\",\n        \"text\": \"狗头胖次\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce189c24.webp'\\u003E\",\n        \"text\": \"狗头围脖\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce180cb5.webp'\\u003E\",\n        \"text\": \"狗头失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce1bf227.webp'\\u003E\",\n        \"text\": \"狗头意外\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce22efde.webp'\\u003E\",\n        \"text\": \"鬼脸\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce22dc9c.webp'\\u003E\",\n        \"text\": \"鼓掌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce261698.webp'\\u003E\",\n        \"text\": \"哈士奇\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce2cc5ad.webp'\\u003E\",\n        \"text\": \"哈士奇失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce2cb019.webp'\\u003E\",\n        \"text\": \"哈士奇失去意识\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce3061e0.webp'\\u003E\",\n        \"text\": \"害羞\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce37a402.webp'\\u003E\",\n        \"text\": \"好的\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce39335f.webp'\\u003E\",\n        \"text\": \"好奇\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce39ee87.webp'\\u003E\",\n        \"text\": \"黑线\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce453ddf.webp'\\u003E\",\n        \"text\": \"嘿哈\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce46ce56.webp'\\u003E\",\n        \"text\": \"胡子\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce47d8c4.webp'\\u003E\",\n        \"text\": \"虎年进宝\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5010e4.webp'\\u003E\",\n        \"text\": \"滑稽\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5318a3.webp'\\u003E\",\n        \"text\": \"滑稽被子\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce53a39d.webp'\\u003E\",\n        \"text\": \"滑稽吃瓜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce596fbd.webp'\\u003E\",\n        \"text\": \"滑稽喝水\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5c6447.webp'\\u003E\",\n        \"text\": \"滑稽狂汗\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce5d8993.webp'\\u003E\",\n        \"text\": \"滑稽奶茶\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce64525a.webp'\\u003E\",\n        \"text\": \"滑稽柠檬\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce676986.webp'\\u003E\",\n        \"text\": \"击剑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce67fda9.webp'\\u003E\",\n        \"text\": \"饥渴\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce6d8521.webp'\\u003E\",\n        \"text\": \"加班\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce71b9ce.webp'\\u003E\",\n        \"text\": \"禁言\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce72e85a.webp'\\u003E\",\n        \"text\": \"惊吓\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce79e00d.webp'\\u003E\",\n        \"text\": \"惊吓白眼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce7cc7f4.webp'\\u003E\",\n        \"text\": \"惊讶\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce7ed16c.webp'\\u003E\",\n        \"text\": \"警告\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce842a62.webp'\\u003E\",\n        \"text\": \"敬礼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce89507e.webp'\\u003E\",\n        \"text\": \"纠结\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce8ab63b.webp'\\u003E\",\n        \"text\": \"开心\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce8d1394.webp'\\u003E\",\n        \"text\": \"看穿一切\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce94806f.webp'\\u003E\",\n        \"text\": \"抠鼻\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce95af48.webp'\\u003E\",\n        \"text\": \"哭泣\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce97a962.webp'\\u003E\",\n        \"text\": \"狂热\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ce9e6dc9.webp'\\u003E\",\n        \"text\": \"老虎意外\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cea10e2c.webp'\\u003E\",\n        \"text\": \"泪奔\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cea233f4.webp'\\u003E\",\n        \"text\": \"裂开\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cea90bd0.webp'\\u003E\",\n        \"text\": \"流鼻涕\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceabd049.webp'\\u003E\",\n        \"text\": \"流汗微笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceacb2f2.webp'\\u003E\",\n        \"text\": \"绿帽\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceb503d6.webp'\\u003E\",\n        \"text\": \"没招\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceb71ec9.webp'\\u003E\",\n        \"text\": \"蒙面滑稽\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceb743bc.webp'\\u003E\",\n        \"text\": \"勉强笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec08871.webp'\\u003E\",\n        \"text\": \"面具\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec2045d.webp'\\u003E\",\n        \"text\": \"难以置信\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec2c23b.webp'\\u003E\",\n        \"text\": \"牛年进宝\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cec9967b.webp'\\u003E\",\n        \"text\": \"惬意\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cecc6945.webp'\\u003E\",\n        \"text\": \"亲亲\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cecd453e.webp'\\u003E\",\n        \"text\": \"缺牙笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ced4776c.webp'\\u003E\",\n        \"text\": \"伞兵\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ced88d20.webp'\\u003E\",\n        \"text\": \"深思\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ced778d5.webp'\\u003E\",\n        \"text\": \"傻笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cede72b8.webp'\\u003E\",\n        \"text\": \"生病\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cee348dd.webp'\\u003E\",\n        \"text\": \"失去信号\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cee4f99a.webp'\\u003E\",\n        \"text\": \"失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cee97354.webp'\\u003E\",\n        \"text\": \"手机相机\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceecb533.webp'\\u003E\",\n        \"text\": \"耍酷\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5ceeee4f6.webp'\\u003E\",\n        \"text\": \"睡觉\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cef39af7.webp'\\u003E\",\n        \"text\": \"思考\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cef7cde8.webp'\\u003E\",\n        \"text\": \"送福\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cefc3e4a.webp'\\u003E\",\n        \"text\": \"送花\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cefcd685.webp'\\u003E\",\n        \"text\": \"抬眼镜\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf027ecc.webp'\\u003E\",\n        \"text\": \"疼痛\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf061701.webp'\\u003E\",\n        \"text\": \"痛哭\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf0a47f7.webp'\\u003E\",\n        \"text\": \"偷偷看\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf0d074f.webp'\\u003E\",\n        \"text\": \"头秃\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf0ed956.webp'\\u003E\",\n        \"text\": \"吐血\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf1707a7.webp'\\u003E\",\n        \"text\": \"托腮\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf189ab2.webp'\\u003E\",\n        \"text\": \"危险\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf1a315a.webp'\\u003E\",\n        \"text\": \"微笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf21dfbb.webp'\\u003E\",\n        \"text\": \"我看好你\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf233ad0.webp'\\u003E\",\n        \"text\": \"捂脸\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf24aa89.webp'\\u003E\",\n        \"text\": \"捂嘴笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf2bc190.webp'\\u003E\",\n        \"text\": \"喜欢\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf2dff1f.webp'\\u003E\",\n        \"text\": \"小丑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf2eaef3.webp'\\u003E\",\n        \"text\": \"小偷\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf375d9a.webp'\\u003E\",\n        \"text\": \"笑哭\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf39464c.webp'\\u003E\",\n        \"text\": \"熊猫\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf39645f.webp'\\u003E\",\n        \"text\": \"熊猫唱歌\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf40dd8c.webp'\\u003E\",\n        \"text\": \"熊猫失望\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf43c7c3.webp'\\u003E\",\n        \"text\": \"熊猫意外\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf441ebf.webp'\\u003E\",\n        \"text\": \"熊猫喜欢\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf4e5ac0.webp'\\u003E\",\n        \"text\": \"熊熊\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf5152e8.webp'\\u003E\",\n        \"text\": \"眩晕\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf52c956.webp'\\u003E\",\n        \"text\": \"疑问\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf59bbb4.webp'\\u003E\",\n        \"text\": \"倚墙笑\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf5b2215.webp'\\u003E\",\n        \"text\": \"阴险\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf5d1355.webp'\\u003E\",\n        \"text\": \"引起不适\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf63bd49.webp'\\u003E\",\n        \"text\": \"应援\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf6648ad.webp'\\u003E\",\n        \"text\": \"呦吼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf682784.webp'\\u003E\",\n        \"text\": \"有没有搞错\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf6e951f.webp'\\u003E\",\n        \"text\": \"月饼\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf712144.webp'\\u003E\",\n        \"text\": \"再见\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf72a3ac.webp'\\u003E\",\n        \"text\": \"这是啥\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf7925b8.webp'\\u003E\",\n        \"text\": \"整理发型\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf7aad5e.webp'\\u003E\",\n        \"text\": \"正确\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf7d0f1e.webp'\\u003E\",\n        \"text\": \"值得肯定\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf858152.webp'\\u003E\",\n        \"text\": \"智慧的眼神\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf87ad87.webp'\\u003E\",\n        \"text\": \"猪头\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://expression.qjqq.cn/1/650c5cf886e59.webp'\\u003E\",\n        \"text\": \"猪头意外\"\n      }\n    ]\n  },\n  \"酷安\": {\n    \"type\": \"image\",\n    \"container\": [\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c0d185e.png'\\u003E\",\n        \"text\": \"c-1\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c0b05df.png'\\u003E\",\n        \"text\": \"c-2\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c094a72.png'\\u003E\",\n        \"text\": \"c-3\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bfcd5da.png'\\u003E\",\n        \"text\": \"c-4\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bfaf795.png'\\u003E\",\n        \"text\": \"c-5\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf8cf90.png'\\u003E\",\n        \"text\": \"c-6\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c0768e0.png'\\u003E\",\n        \"text\": \"c-7\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf6b0a2.png'\\u003E\",\n        \"text\": \"c-8\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c05fe7d.png'\\u003E\",\n        \"text\": \"c-9\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf4f939.png'\\u003E\",\n        \"text\": \"c-10\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725beaead0.png'\\u003E\",\n        \"text\": \"c-11\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be93bfa.png'\\u003E\",\n        \"text\": \"c-12\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be76f5d.png'\\u003E\",\n        \"text\": \"c-13\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be4f224.png'\\u003E\",\n        \"text\": \"c-14\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be34ef0.png'\\u003E\",\n        \"text\": \"c-15\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c03b6ed.png'\\u003E\",\n        \"text\": \"c-16\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf3ecd3.png'\\u003E\",\n        \"text\": \"c-17\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725be1a468.png'\\u003E\",\n        \"text\": \"c-18\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bdaa9c4.png'\\u003E\",\n        \"text\": \"c-19\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd881e5.png'\\u003E\",\n        \"text\": \"c-20\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd6f547.png'\\u003E\",\n        \"text\": \"c-21\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd4b9e3.png'\\u003E\",\n        \"text\": \"c-22\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd316e1.png'\\u003E\",\n        \"text\": \"c-23\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bd0e2f2.png'\\u003E\",\n        \"text\": \"c-24\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bca4193.png'\\u003E\",\n        \"text\": \"c-25\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc82264.png'\\u003E\",\n        \"text\": \"c-26\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc61a4f.png'\\u003E\",\n        \"text\": \"c-27\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc3aa81.png'\\u003E\",\n        \"text\": \"c-28\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bc18ff7.png'\\u003E\",\n        \"text\": \"c-29\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bbee69f.png'\\u003E\",\n        \"text\": \"c-30\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb62934.png'\\u003E\",\n        \"text\": \"c-31\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb820cb.png'\\u003E\",\n        \"text\": \"c-32\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb3cb6d.png'\\u003E\",\n        \"text\": \"c-33\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb1bf60.png'\\u003E\",\n        \"text\": \"c-34\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bb00979.png'\\u003E\",\n        \"text\": \"c-35\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bad5745.png'\\u003E\",\n        \"text\": \"c-36\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba7c224.png'\\u003E\",\n        \"text\": \"c-37\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba39662.png'\\u003E\",\n        \"text\": \"c-38\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba4e84a.png'\\u003E\",\n        \"text\": \"c-39\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba1cf22.png'\\u003E\",\n        \"text\": \"c-40\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9f416d.png'\\u003E\",\n        \"text\": \"c-41\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9c44ae.png'\\u003E\",\n        \"text\": \"c-42\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9662b8.png'\\u003E\",\n        \"text\": \"c-43\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b94606c.png'\\u003E\",\n        \"text\": \"c-44\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b92a1a9.png'\\u003E\",\n        \"text\": \"c-45\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b901c35.png'\\u003E\",\n        \"text\": \"c-46\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b8d891b.png'\\u003E\",\n        \"text\": \"c-47\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b8b8506.png'\\u003E\",\n        \"text\": \"c-48\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b85ef0c.png'\\u003E\",\n        \"text\": \"c-49\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b8362f8.png'\\u003E\",\n        \"text\": \"c-50\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b81864e.png'\\u003E\",\n        \"text\": \"c-51\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7efb05.png'\\u003E\",\n        \"text\": \"c-52\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7d3452.png'\\u003E\",\n        \"text\": \"c-53\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7afd93.png'\\u003E\",\n        \"text\": \"c-54\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7599bb.png'\\u003E\",\n        \"text\": \"c-55\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b7354e0.png'\\u003E\",\n        \"text\": \"c-56\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b71514a.png'\\u003E\",\n        \"text\": \"c-57\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b6caddc.png'\\u003E\",\n        \"text\": \"c-58\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b6e71c0.png'\\u003E\",\n        \"text\": \"c-59\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b69bdc4.png'\\u003E\",\n        \"text\": \"c-60\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725c016f97.png'\\u003E\",\n        \"text\": \"c-61\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bf03143.png'\\u003E\",\n        \"text\": \"c-62\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bdea86d.png'\\u003E\",\n        \"text\": \"c-63\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bcdcb19.png'\\u003E\",\n        \"text\": \"c-64\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bbd1a09.png'\\u003E\",\n        \"text\": \"c-65\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bab24b5.png'\\u003E\",\n        \"text\": \"c-66\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b9a65e5.png'\\u003E\",\n        \"text\": \"c-67\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b899401.png'\\u003E\",\n        \"text\": \"c-68\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b791a3c.png'\\u003E\",\n        \"text\": \"c-69\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b67debc.png'\\u003E\",\n        \"text\": \"c-70\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bfe5d9f.png'\\u003E\",\n        \"text\": \"c-71\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bed2bac.png'\\u003E\",\n        \"text\": \"c-72\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bdc7edb.png'\\u003E\",\n        \"text\": \"c-73\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bcba451.png'\\u003E\",\n        \"text\": \"c-74\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725bba8852.png'\\u003E\",\n        \"text\": \"c-75\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ba923eb.png'\\u003E\",\n        \"text\": \"c-76\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b986197.png'\\u003E\",\n        \"text\": \"c-77\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b877c71.png'\\u003E\",\n        \"text\": \"c-78\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b77684b.png'\\u003E\",\n        \"text\": \"c-79\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b65543a.png'\\u003E\",\n        \"text\": \"c-80\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b63bd75.png'\\u003E\",\n        \"text\": \"c-81\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b624976.png'\\u003E\",\n        \"text\": \"c-82\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b5f3e2c.png'\\u003E\",\n        \"text\": \"c-83\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b53ffa2.png'\\u003E\",\n        \"text\": \"c-84\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b51bbb2.png'\\u003E\",\n        \"text\": \"c-85\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b501f34.png'\\u003E\",\n        \"text\": \"c-86\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b5d918b.png'\\u003E\",\n        \"text\": \"c-87\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b4d2dfc.png'\\u003E\",\n        \"text\": \"c-88\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b427c20.png'\\u003E\",\n        \"text\": \"c-89\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b405bd4.png'\\u003E\",\n        \"text\": \"c-90\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b3db127.png'\\u003E\",\n        \"text\": \"c-91\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b3b362f.png'\\u003E\",\n        \"text\": \"c-92\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b31d3f4.png'\\u003E\",\n        \"text\": \"c-93\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2f3e7c.png'\\u003E\",\n        \"text\": \"c-94\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2d933d.png'\\u003E\",\n        \"text\": \"c-95\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2b518d.png'\\u003E\",\n        \"text\": \"c-96\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b226a23.png'\\u003E\",\n        \"text\": \"c-97\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b2002bc.png'\\u003E\",\n        \"text\": \"c-98\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b1c0a77.png'\\u003E\",\n        \"text\": \"c-99\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b1a83f6.png'\\u003E\",\n        \"text\": \"c-100\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b105a8d.png'\\u003E\",\n        \"text\": \"c-101\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b0dfe5b.png'\\u003E\",\n        \"text\": \"c-102\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b0b98d1.png'\\u003E\",\n        \"text\": \"c-103\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b09a8c4.png'\\u003E\",\n        \"text\": \"c-104\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725afe28b3.png'\\u003E\",\n        \"text\": \"c-105\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725afc86c0.png'\\u003E\",\n        \"text\": \"c-106\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725af9ffc2.png'\\u003E\",\n        \"text\": \"c-107\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae76d88.png'\\u003E\",\n        \"text\": \"c-108\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b5b738a.png'\\u003E\",\n        \"text\": \"c-109\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b4b594c.png'\\u003E\",\n        \"text\": \"c-110\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b36ecf6.png'\\u003E\",\n        \"text\": \"c-111\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b299fac.png'\\u003E\",\n        \"text\": \"c-112\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b181d3b.png'\\u003E\",\n        \"text\": \"c-113\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b072746.png'\\u003E\",\n        \"text\": \"c-114\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae7deca.png'\\u003E\",\n        \"text\": \"c-115\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b597e10.png'\\u003E\",\n        \"text\": \"c-116\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b48c773.png'\\u003E\",\n        \"text\": \"c-117\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b38cf7e.png'\\u003E\",\n        \"text\": \"c-118\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b271202.png'\\u003E\",\n        \"text\": \"c-119\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b164649.png'\\u003E\",\n        \"text\": \"c-120\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b035eaa.png'\\u003E\",\n        \"text\": \"c-121\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae78ff8.png'\\u003E\",\n        \"text\": \"c-122\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae7593d.png'\\u003E\",\n        \"text\": \"c-123\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae65f92.png'\\u003E\",\n        \"text\": \"c-124\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae64907.png'\\u003E\",\n        \"text\": \"c-125\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae71a9b.png'\\u003E\",\n        \"text\": \"c-126\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae7aed1.png'\\u003E\",\n        \"text\": \"c-127\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b58126a.png'\\u003E\",\n        \"text\": \"c-128\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b46a066.png'\\u003E\",\n        \"text\": \"c-129\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b351bf3.png'\\u003E\",\n        \"text\": \"c-130\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b258fa1.png'\\u003E\",\n        \"text\": \"c-131\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b14ad8b.png'\\u003E\",\n        \"text\": \"c-132\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b054932.png'\\u003E\",\n        \"text\": \"c-133\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae72b04.png'\\u003E\",\n        \"text\": \"c-134\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b55c8e0.png'\\u003E\",\n        \"text\": \"c-135\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b445b01.png'\\u003E\",\n        \"text\": \"c-136\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b32e896.png'\\u003E\",\n        \"text\": \"c-137\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b240b9f.png'\\u003E\",\n        \"text\": \"c-138\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b12380c.png'\\u003E\",\n        \"text\": \"c-139\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725b010113.png'\\u003E\",\n        \"text\": \"c-140\"\n      },\n      {\n        \"icon\": \"\\u003Cimg src='https://bu.dusays.com/2025/08/21/68a725ae62e60.png'\\u003E\",\n        \"text\": \"c-141\"\n      }\n    ]\n  },\n    \"Sticker\": {\n        \"type\": \"image\",\n        \"container\": [\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7607b1e.webp'>\",\n                \"text\": \"暗中观察_13\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7635526.webp'>\",\n                \"text\": \"to\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f760bc4a.webp'>\",\n                \"text\": \"波门_11\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7725724.webp'>\",\n                \"text\": \"害羞_10\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7730af6.webp'>\",\n                \"text\": \"打咩_02\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f775abc0.webp'>\",\n                \"text\": \"黑线_09\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7817de7.webp'>\",\n                \"text\": \"哼哼_01\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f78485c8.webp'>\",\n                \"text\": \"垃圾桶_04\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f785a983.webp'>\",\n                \"text\": \"溜溜球_16\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f791ee1b.webp'>\",\n                \"text\": \"拍薯片_07\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7938ff3.webp'>\",\n                \"text\": \"牡蛎_03\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7a1557c.webp'>\",\n                \"text\": \"烧了_14\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7a23012.webp'>\",\n                \"text\": \"什么_06\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7b02511.webp'>\",\n                \"text\": \"什么省的_05\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7b0ff4f.webp'>\",\n                \"text\": \"贴贴_12\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7b4312c.webp'>\",\n                \"text\": \"切腹_15\"\n            },\n            {\n                \"icon\": \"<img src='https://expression.qjqq.cn/1/650c3f7bacc67.webp'>\",\n                \"text\": \"消沉_08\"\n            }\n        ]\n    }\n}","date":"2025-09-26T01:30:45.497Z","updated":"2025-09-26T01:30:45.497Z","path":"custom/js/twikoo.json","layout":"false","title":"","comments":1,"_id":"cmgu9561y005dg0fygxrr6cll","content":"{\"颜文字\":{\"type\":\"emoticon\",\"container\":[{\"icon\":\"OωO\",\"text\":\"Author: DIYgod\"},{\"icon\":\"|´・ω・)ノ\",\"text\":\"Hi\"},{\"icon\":\"ヾ(≧∇≦*)ゝ\",\"text\":\"开心\"},{\"icon\":\"(☆ω☆)\",\"text\":\"星星眼\"},{\"icon\":\"（╯‵□′）╯︵┴─┴\",\"text\":\"掀桌\"},{\"icon\":\"￣﹃￣\",\"text\":\"流口水\"},{\"icon\":\"(/ω＼)\",\"text\":\"捂脸\"},{\"icon\":\"∠( ᐛ 」∠)＿\",\"text\":\"给跪\"},{\"icon\":\"(๑•̀ㅁ•́ฅ)\",\"text\":\"Hi\"},{\"icon\":\"→_→\",\"text\":\"斜眼\"},{\"icon\":\"୧(๑•̀⌄•́๑)૭\",\"text\":\"加油\"},{\"icon\":\"٩(ˊᗜˋ*)و\",\"text\":\"有木有WiFi\"},{\"icon\":\"(ノ°ο°)ノ\",\"text\":\"前方高能预警\"},{\"icon\":\"(´இ皿இ｀)\",\"text\":\"我从未见过如此厚颜无耻之人\"},{\"icon\":\"⌇●﹏●⌇\",\"text\":\"吓死宝宝惹\"},{\"icon\":\"(ฅ´ω`ฅ)\",\"text\":\"已阅留爪\"},{\"icon\":\"(╯°A°)╯︵○○○\",\"text\":\"去吧大师球\"},{\"icon\":\"φ(￣∇￣o)\",\"text\":\"太萌惹\"},{\"icon\":\"ヾ(´･ ･｀｡)ノ\\\"\",\"text\":\"咦咦咦\"},{\"icon\":\"( ง ᵒ̌皿ᵒ̌)ง⁼³₌₃\",\"text\":\"气呼呼\"},{\"icon\":\"(ó﹏ò｡)\",\"text\":\"我受到了惊吓\"},{\"icon\":\"Σ(っ °Д °;)っ\",\"text\":\"什么鬼\"},{\"icon\":\"( ,,´･ω･)ﾉ\\\"(´っω･｀｡)\",\"text\":\"摸摸头\"},{\"icon\":\"╮(╯▽╰)╭ \",\"text\":\"无奈\"},{\"icon\":\"o(*////▽////*)q \",\"text\":\"脸红\"},{\"icon\":\"＞﹏＜\",\"text\":\"\"},{\"icon\":\"( ๑´•ω•) \\\"(ㆆᴗㆆ)\",\"text\":\"\"}]},\"Emoji\":{\"type\":\"emoji\",\"container\":[{\"icon\":\"😂\",\"text\":\"\"},{\"icon\":\"😀\",\"text\":\"\"},{\"icon\":\"😅\",\"text\":\"\"},{\"icon\":\"😊\",\"text\":\"\"},{\"icon\":\"🙂\",\"text\":\"\"},{\"icon\":\"🙃\",\"text\":\"\"},{\"icon\":\"😌\",\"text\":\"\"},{\"icon\":\"😍\",\"text\":\"\"},{\"icon\":\"😘 \",\"text\":\"\"},{\"icon\":\"😜\",\"text\":\"\"},{\"icon\":\"😝\",\"text\":\"\"},{\"icon\":\"😏\",\"text\":\"\"},{\"icon\":\"😒\",\"text\":\"\"},{\"icon\":\"🙄\",\"text\":\"\"},{\"icon\":\"😳 \",\"text\":\"\"},{\"icon\":\"😡\",\"text\":\"\"},{\"icon\":\"😔\",\"text\":\"\"},{\"icon\":\"😫\",\"text\":\"\"},{\"icon\":\"😱\",\"text\":\"\"},{\"icon\":\"😭\",\"text\":\"\"},{\"icon\":\"💩\",\"text\":\"\"},{\"icon\":\"👻\",\"text\":\"\"},{\"icon\":\"🙌\",\"text\":\"\"},{\"icon\":\"🖕\",\"text\":\"\"},{\"icon\":\"👍\",\"text\":\"\"},{\"icon\":\"👫\",\"text\":\"\"},{\"icon\":\"👬\",\"text\":\"\"},{\"icon\":\"👭\",\"text\":\"\"},{\"icon\":\"🌚\",\"text\":\"\"},{\"icon\":\"🌝\",\"text\":\"\"},{\"icon\":\"🙈\",\"text\":\"\"},{\"icon\":\"💊\",\"text\":\"\"},{\"icon\":\"😶\",\"text\":\"\"},{\"icon\":\"🙏\",\"text\":\"\"},{\"icon\":\"🍦\",\"text\":\"\"},{\"icon\":\"🍉\",\"text\":\"\"},{\"icon\":\"😣\",\"text\":\"\"}]},\"Bilibili\":{\"type\":\"image\",\"container\":[{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png\\\">\",\"text\":\"tv_doge\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/a8111ad55953ef5e3be3327ef94eb4a39d535d06.png\\\">\",\"text\":\"tv_亲亲\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/bb690d4107620f1c15cff29509db529a73aee261.png\\\">\",\"text\":\"tv_偷笑\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png\\\">\",\"text\":\"tv_再见\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png\\\">\",\"text\":\"tv_冷漠\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png\\\">\",\"text\":\"tv_发怒\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/34db290afd2963723c6eb3c4560667db7253a21a.png\\\">\",\"text\":\"tv_发财\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png\\\">\",\"text\":\"tv_可爱\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/09dd16a7aa59b77baa1155d47484409624470c77.png\\\">\",\"text\":\"tv_吐血\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png\\\">\",\"text\":\"tv_呆\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/9f996894a39e282ccf5e66856af49483f81870f3.png\\\">\",\"text\":\"tv_呕吐\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/241ee304e44c0af029adceb294399391e4737ef2.png\\\">\",\"text\":\"tv_困\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/1f0b87f731a671079842116e0991c91c2c88645a.png\\\">\",\"text\":\"tv_坏笑\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/093c1e2c490161aca397afc45573c877cdead616.png\\\">\",\"text\":\"tv_大佬\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/23269aeb35f99daee28dda129676f6e9ea87934f.png\\\">\",\"text\":\"tv_大哭\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png\\\">\",\"text\":\"tv_委屈\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png\\\">\",\"text\":\"tv_害羞\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png\\\">\",\"text\":\"tv_尴尬\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png\\\">\",\"text\":\"tv_微笑\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/90cf159733e558137ed20aa04d09964436f618a1.png\\\">\",\"text\":\"tv_思考\"},{\"icon\":\"<img src=\\\"https://owo.imaegoo.com/bilibili/0d15c7e2ee58e935adc6a7193ee042388adc22af.png\\\">\",\"text\":\"tv_惊吓\"}]},\"Heo\":{\"type\":\"image\",\"container\":[{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd6a7fdf.webp'>\",\"text\":\"3d眼镜\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd6b525d.webp'>\",\"text\":\"beluga\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd6a7975.webp'>\",\"text\":\"EDG\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd78fd6b.webp'>\",\"text\":\"熬夜\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd79a962.webp'>\",\"text\":\"LPL\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd7a1c60.webp'>\",\"text\":\"拜托\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd84d1dc.webp'>\",\"text\":\"爆炸\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd8657d9.webp'>\",\"text\":\"被打\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd874a46.webp'>\",\"text\":\"波吉\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd92e9ae.webp'>\",\"text\":\"不服吗\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd93abe8.webp'>\",\"text\":\"不好意思\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd94c5e8.webp'>\",\"text\":\"擦汗\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd9cd2a4.webp'>\",\"text\":\"财神红包\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cd9edd8a.webp'>\",\"text\":\"菜狗\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cda06d73.webp'>\",\"text\":\"菜狗花\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cda7626c.webp'>\",\"text\":\"唱歌\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cda93898.webp'>\",\"text\":\"超爱\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cda9de76.webp'>\",\"text\":\"吵架\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdb24202.webp'>\",\"text\":\"吃瓜\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdb43b0f.webp'>\",\"text\":\"吃手\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdb43e76.webp'>\",\"text\":\"出家人\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdbca413.webp'>\",\"text\":\"呲牙笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdbe500a.webp'>\",\"text\":\"打咩\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdbe6a85.webp'>\",\"text\":\"错误\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdc93f6a.webp'>\",\"text\":\"打牌\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdcb78e3.webp'>\",\"text\":\"电话\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdcc7c99.webp'>\",\"text\":\"大笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdd5ab0f.webp'>\",\"text\":\"斗鸡眼\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdd7a1a3.webp'>\",\"text\":\"读书\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdd7af3a.webp'>\",\"text\":\"恶魔\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cddeda65.webp'>\",\"text\":\"恶魔恐惧\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cde2a26d.webp'>\",\"text\":\"恶心\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cde2f0f8.webp'>\",\"text\":\"发红包\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cde8c725.webp'>\",\"text\":\"翻白眼\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdebf61e.webp'>\",\"text\":\"放鞭炮\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdebf1a4.webp'>\",\"text\":\"烦恼\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdf2f3a0.webp'>\",\"text\":\"奋斗\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdf557c0.webp'>\",\"text\":\"愤怒\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdf6ed26.webp'>\",\"text\":\"扶额\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cdfc4d1d.webp'>\",\"text\":\"尬笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce01d34f.webp'>\",\"text\":\"尴尬\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce03a4c6.webp'>\",\"text\":\"感动\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce07dbc0.webp'>\",\"text\":\"狗头\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce0d48a6.webp'>\",\"text\":\"狗头草\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce0e69a4.webp'>\",\"text\":\"狗头花\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce12e879.webp'>\",\"text\":\"狗头胖次\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce189c24.webp'>\",\"text\":\"狗头围脖\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce180cb5.webp'>\",\"text\":\"狗头失望\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce1bf227.webp'>\",\"text\":\"狗头意外\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce22efde.webp'>\",\"text\":\"鬼脸\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce22dc9c.webp'>\",\"text\":\"鼓掌\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce261698.webp'>\",\"text\":\"哈士奇\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce2cc5ad.webp'>\",\"text\":\"哈士奇失望\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce2cb019.webp'>\",\"text\":\"哈士奇失去意识\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce3061e0.webp'>\",\"text\":\"害羞\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce37a402.webp'>\",\"text\":\"好的\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce39335f.webp'>\",\"text\":\"好奇\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce39ee87.webp'>\",\"text\":\"黑线\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce453ddf.webp'>\",\"text\":\"嘿哈\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce46ce56.webp'>\",\"text\":\"胡子\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce47d8c4.webp'>\",\"text\":\"虎年进宝\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce5010e4.webp'>\",\"text\":\"滑稽\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce5318a3.webp'>\",\"text\":\"滑稽被子\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce53a39d.webp'>\",\"text\":\"滑稽吃瓜\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce596fbd.webp'>\",\"text\":\"滑稽喝水\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce5c6447.webp'>\",\"text\":\"滑稽狂汗\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce5d8993.webp'>\",\"text\":\"滑稽奶茶\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce64525a.webp'>\",\"text\":\"滑稽柠檬\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce676986.webp'>\",\"text\":\"击剑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce67fda9.webp'>\",\"text\":\"饥渴\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce6d8521.webp'>\",\"text\":\"加班\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce71b9ce.webp'>\",\"text\":\"禁言\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce72e85a.webp'>\",\"text\":\"惊吓\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce79e00d.webp'>\",\"text\":\"惊吓白眼\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce7cc7f4.webp'>\",\"text\":\"惊讶\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce7ed16c.webp'>\",\"text\":\"警告\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce842a62.webp'>\",\"text\":\"敬礼\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce89507e.webp'>\",\"text\":\"纠结\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce8ab63b.webp'>\",\"text\":\"开心\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce8d1394.webp'>\",\"text\":\"看穿一切\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce94806f.webp'>\",\"text\":\"抠鼻\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce95af48.webp'>\",\"text\":\"哭泣\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce97a962.webp'>\",\"text\":\"狂热\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ce9e6dc9.webp'>\",\"text\":\"老虎意外\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cea10e2c.webp'>\",\"text\":\"泪奔\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cea233f4.webp'>\",\"text\":\"裂开\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cea90bd0.webp'>\",\"text\":\"流鼻涕\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ceabd049.webp'>\",\"text\":\"流汗微笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ceacb2f2.webp'>\",\"text\":\"绿帽\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ceb503d6.webp'>\",\"text\":\"没招\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ceb71ec9.webp'>\",\"text\":\"蒙面滑稽\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ceb743bc.webp'>\",\"text\":\"勉强笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cec08871.webp'>\",\"text\":\"面具\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cec2045d.webp'>\",\"text\":\"难以置信\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cec2c23b.webp'>\",\"text\":\"牛年进宝\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cec9967b.webp'>\",\"text\":\"惬意\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cecc6945.webp'>\",\"text\":\"亲亲\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cecd453e.webp'>\",\"text\":\"缺牙笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ced4776c.webp'>\",\"text\":\"伞兵\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ced88d20.webp'>\",\"text\":\"深思\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ced778d5.webp'>\",\"text\":\"傻笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cede72b8.webp'>\",\"text\":\"生病\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cee348dd.webp'>\",\"text\":\"失去信号\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cee4f99a.webp'>\",\"text\":\"失望\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cee97354.webp'>\",\"text\":\"手机相机\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ceecb533.webp'>\",\"text\":\"耍酷\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5ceeee4f6.webp'>\",\"text\":\"睡觉\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cef39af7.webp'>\",\"text\":\"思考\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cef7cde8.webp'>\",\"text\":\"送福\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cefc3e4a.webp'>\",\"text\":\"送花\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cefcd685.webp'>\",\"text\":\"抬眼镜\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf027ecc.webp'>\",\"text\":\"疼痛\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf061701.webp'>\",\"text\":\"痛哭\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf0a47f7.webp'>\",\"text\":\"偷偷看\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf0d074f.webp'>\",\"text\":\"头秃\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf0ed956.webp'>\",\"text\":\"吐血\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf1707a7.webp'>\",\"text\":\"托腮\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf189ab2.webp'>\",\"text\":\"危险\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf1a315a.webp'>\",\"text\":\"微笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf21dfbb.webp'>\",\"text\":\"我看好你\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf233ad0.webp'>\",\"text\":\"捂脸\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf24aa89.webp'>\",\"text\":\"捂嘴笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf2bc190.webp'>\",\"text\":\"喜欢\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf2dff1f.webp'>\",\"text\":\"小丑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf2eaef3.webp'>\",\"text\":\"小偷\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf375d9a.webp'>\",\"text\":\"笑哭\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf39464c.webp'>\",\"text\":\"熊猫\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf39645f.webp'>\",\"text\":\"熊猫唱歌\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf40dd8c.webp'>\",\"text\":\"熊猫失望\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf43c7c3.webp'>\",\"text\":\"熊猫意外\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf441ebf.webp'>\",\"text\":\"熊猫喜欢\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf4e5ac0.webp'>\",\"text\":\"熊熊\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf5152e8.webp'>\",\"text\":\"眩晕\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf52c956.webp'>\",\"text\":\"疑问\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf59bbb4.webp'>\",\"text\":\"倚墙笑\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf5b2215.webp'>\",\"text\":\"阴险\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf5d1355.webp'>\",\"text\":\"引起不适\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf63bd49.webp'>\",\"text\":\"应援\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf6648ad.webp'>\",\"text\":\"呦吼\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf682784.webp'>\",\"text\":\"有没有搞错\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf6e951f.webp'>\",\"text\":\"月饼\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf712144.webp'>\",\"text\":\"再见\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf72a3ac.webp'>\",\"text\":\"这是啥\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf7925b8.webp'>\",\"text\":\"整理发型\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf7aad5e.webp'>\",\"text\":\"正确\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf7d0f1e.webp'>\",\"text\":\"值得肯定\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf858152.webp'>\",\"text\":\"智慧的眼神\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf87ad87.webp'>\",\"text\":\"猪头\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c5cf886e59.webp'>\",\"text\":\"猪头意外\"}]},\"酷安\":{\"type\":\"image\",\"container\":[{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725c0d185e.png'>\",\"text\":\"c-1\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725c0b05df.png'>\",\"text\":\"c-2\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725c094a72.png'>\",\"text\":\"c-3\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bfcd5da.png'>\",\"text\":\"c-4\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bfaf795.png'>\",\"text\":\"c-5\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bf8cf90.png'>\",\"text\":\"c-6\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725c0768e0.png'>\",\"text\":\"c-7\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bf6b0a2.png'>\",\"text\":\"c-8\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725c05fe7d.png'>\",\"text\":\"c-9\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bf4f939.png'>\",\"text\":\"c-10\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725beaead0.png'>\",\"text\":\"c-11\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725be93bfa.png'>\",\"text\":\"c-12\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725be76f5d.png'>\",\"text\":\"c-13\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725be4f224.png'>\",\"text\":\"c-14\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725be34ef0.png'>\",\"text\":\"c-15\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725c03b6ed.png'>\",\"text\":\"c-16\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bf3ecd3.png'>\",\"text\":\"c-17\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725be1a468.png'>\",\"text\":\"c-18\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bdaa9c4.png'>\",\"text\":\"c-19\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bd881e5.png'>\",\"text\":\"c-20\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bd6f547.png'>\",\"text\":\"c-21\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bd4b9e3.png'>\",\"text\":\"c-22\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bd316e1.png'>\",\"text\":\"c-23\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bd0e2f2.png'>\",\"text\":\"c-24\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bca4193.png'>\",\"text\":\"c-25\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bc82264.png'>\",\"text\":\"c-26\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bc61a4f.png'>\",\"text\":\"c-27\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bc3aa81.png'>\",\"text\":\"c-28\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bc18ff7.png'>\",\"text\":\"c-29\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bbee69f.png'>\",\"text\":\"c-30\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bb62934.png'>\",\"text\":\"c-31\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bb820cb.png'>\",\"text\":\"c-32\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bb3cb6d.png'>\",\"text\":\"c-33\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bb1bf60.png'>\",\"text\":\"c-34\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bb00979.png'>\",\"text\":\"c-35\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bad5745.png'>\",\"text\":\"c-36\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ba7c224.png'>\",\"text\":\"c-37\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ba39662.png'>\",\"text\":\"c-38\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ba4e84a.png'>\",\"text\":\"c-39\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ba1cf22.png'>\",\"text\":\"c-40\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b9f416d.png'>\",\"text\":\"c-41\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b9c44ae.png'>\",\"text\":\"c-42\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b9662b8.png'>\",\"text\":\"c-43\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b94606c.png'>\",\"text\":\"c-44\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b92a1a9.png'>\",\"text\":\"c-45\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b901c35.png'>\",\"text\":\"c-46\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b8d891b.png'>\",\"text\":\"c-47\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b8b8506.png'>\",\"text\":\"c-48\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b85ef0c.png'>\",\"text\":\"c-49\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b8362f8.png'>\",\"text\":\"c-50\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b81864e.png'>\",\"text\":\"c-51\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b7efb05.png'>\",\"text\":\"c-52\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b7d3452.png'>\",\"text\":\"c-53\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b7afd93.png'>\",\"text\":\"c-54\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b7599bb.png'>\",\"text\":\"c-55\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b7354e0.png'>\",\"text\":\"c-56\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b71514a.png'>\",\"text\":\"c-57\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b6caddc.png'>\",\"text\":\"c-58\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b6e71c0.png'>\",\"text\":\"c-59\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b69bdc4.png'>\",\"text\":\"c-60\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725c016f97.png'>\",\"text\":\"c-61\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bf03143.png'>\",\"text\":\"c-62\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bdea86d.png'>\",\"text\":\"c-63\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bcdcb19.png'>\",\"text\":\"c-64\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bbd1a09.png'>\",\"text\":\"c-65\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bab24b5.png'>\",\"text\":\"c-66\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b9a65e5.png'>\",\"text\":\"c-67\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b899401.png'>\",\"text\":\"c-68\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b791a3c.png'>\",\"text\":\"c-69\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b67debc.png'>\",\"text\":\"c-70\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bfe5d9f.png'>\",\"text\":\"c-71\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bed2bac.png'>\",\"text\":\"c-72\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bdc7edb.png'>\",\"text\":\"c-73\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bcba451.png'>\",\"text\":\"c-74\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725bba8852.png'>\",\"text\":\"c-75\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ba923eb.png'>\",\"text\":\"c-76\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b986197.png'>\",\"text\":\"c-77\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b877c71.png'>\",\"text\":\"c-78\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b77684b.png'>\",\"text\":\"c-79\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b65543a.png'>\",\"text\":\"c-80\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b63bd75.png'>\",\"text\":\"c-81\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b624976.png'>\",\"text\":\"c-82\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b5f3e2c.png'>\",\"text\":\"c-83\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b53ffa2.png'>\",\"text\":\"c-84\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b51bbb2.png'>\",\"text\":\"c-85\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b501f34.png'>\",\"text\":\"c-86\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b5d918b.png'>\",\"text\":\"c-87\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b4d2dfc.png'>\",\"text\":\"c-88\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b427c20.png'>\",\"text\":\"c-89\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b405bd4.png'>\",\"text\":\"c-90\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b3db127.png'>\",\"text\":\"c-91\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b3b362f.png'>\",\"text\":\"c-92\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b31d3f4.png'>\",\"text\":\"c-93\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b2f3e7c.png'>\",\"text\":\"c-94\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b2d933d.png'>\",\"text\":\"c-95\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b2b518d.png'>\",\"text\":\"c-96\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b226a23.png'>\",\"text\":\"c-97\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b2002bc.png'>\",\"text\":\"c-98\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b1c0a77.png'>\",\"text\":\"c-99\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b1a83f6.png'>\",\"text\":\"c-100\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b105a8d.png'>\",\"text\":\"c-101\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b0dfe5b.png'>\",\"text\":\"c-102\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b0b98d1.png'>\",\"text\":\"c-103\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b09a8c4.png'>\",\"text\":\"c-104\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725afe28b3.png'>\",\"text\":\"c-105\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725afc86c0.png'>\",\"text\":\"c-106\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725af9ffc2.png'>\",\"text\":\"c-107\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae76d88.png'>\",\"text\":\"c-108\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b5b738a.png'>\",\"text\":\"c-109\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b4b594c.png'>\",\"text\":\"c-110\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b36ecf6.png'>\",\"text\":\"c-111\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b299fac.png'>\",\"text\":\"c-112\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b181d3b.png'>\",\"text\":\"c-113\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b072746.png'>\",\"text\":\"c-114\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae7deca.png'>\",\"text\":\"c-115\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b597e10.png'>\",\"text\":\"c-116\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b48c773.png'>\",\"text\":\"c-117\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b38cf7e.png'>\",\"text\":\"c-118\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b271202.png'>\",\"text\":\"c-119\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b164649.png'>\",\"text\":\"c-120\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b035eaa.png'>\",\"text\":\"c-121\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae78ff8.png'>\",\"text\":\"c-122\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae7593d.png'>\",\"text\":\"c-123\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae65f92.png'>\",\"text\":\"c-124\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae64907.png'>\",\"text\":\"c-125\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae71a9b.png'>\",\"text\":\"c-126\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae7aed1.png'>\",\"text\":\"c-127\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b58126a.png'>\",\"text\":\"c-128\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b46a066.png'>\",\"text\":\"c-129\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b351bf3.png'>\",\"text\":\"c-130\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b258fa1.png'>\",\"text\":\"c-131\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b14ad8b.png'>\",\"text\":\"c-132\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b054932.png'>\",\"text\":\"c-133\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae72b04.png'>\",\"text\":\"c-134\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b55c8e0.png'>\",\"text\":\"c-135\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b445b01.png'>\",\"text\":\"c-136\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b32e896.png'>\",\"text\":\"c-137\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b240b9f.png'>\",\"text\":\"c-138\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b12380c.png'>\",\"text\":\"c-139\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725b010113.png'>\",\"text\":\"c-140\"},{\"icon\":\"<img src='https://bu.dusays.com/2025/08/21/68a725ae62e60.png'>\",\"text\":\"c-141\"}]},\"Sticker\":{\"type\":\"image\",\"container\":[{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7607b1e.webp'>\",\"text\":\"暗中观察_13\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7635526.webp'>\",\"text\":\"to\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f760bc4a.webp'>\",\"text\":\"波门_11\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7725724.webp'>\",\"text\":\"害羞_10\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7730af6.webp'>\",\"text\":\"打咩_02\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f775abc0.webp'>\",\"text\":\"黑线_09\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7817de7.webp'>\",\"text\":\"哼哼_01\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f78485c8.webp'>\",\"text\":\"垃圾桶_04\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f785a983.webp'>\",\"text\":\"溜溜球_16\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f791ee1b.webp'>\",\"text\":\"拍薯片_07\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7938ff3.webp'>\",\"text\":\"牡蛎_03\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7a1557c.webp'>\",\"text\":\"烧了_14\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7a23012.webp'>\",\"text\":\"什么_06\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7b02511.webp'>\",\"text\":\"什么省的_05\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7b0ff4f.webp'>\",\"text\":\"贴贴_12\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7b4312c.webp'>\",\"text\":\"切腹_15\"},{\"icon\":\"<img src='https://expression.qjqq.cn/1/650c3f7bacc67.webp'>\",\"text\":\"消沉_08\"}]}}"},{"_content":"//get请求\n$.ajax({\n    type: 'get',\n    url: 'https://apis.map.qq.com/ws/location/v1/ip',\n    data: {\n        key: 'K2ABZ-XLVWW-NZNRD-3S5ST-QDHU5-LHFOI',\n        output: 'jsonp',\n    },\n    dataType: 'jsonp',\n    success: function (res) {\n        ipLocation = res;\n    }\n})\nfunction getDistance(e1, n1, e2, n2) {\n    const R = 6371\n    const { sin, cos, asin, PI, hypot } = Math\n    let getPoint = (e, n) => {\n        e *= PI / 180\n        n *= PI / 180\n        return { x: cos(n) * cos(e), y: cos(n) * sin(e), z: sin(n) }\n    }\n\n    let a = getPoint(e1, n1)\n    let b = getPoint(e2, n2)\n    let c = hypot(a.x - b.x, a.y - b.y, a.z - b.z)\n    let r = asin(c / 2) * 2 * R\n    return Math.round(r);\n}\n\nfunction showWelcome() {\n\n    let dist = getDistance(23.045505, 113.115635, ipLocation.result.location.lng, ipLocation.result.location.lat); //这里记得换成自己的经纬度\n    let pos = ipLocation.result.ad_info.nation;\n    let ip;\n    let posdesc;\n    //根据国家、省份、城市信息自定义欢迎语\n    switch (ipLocation.result.ad_info.nation) {\n        case \"日本\":\n            posdesc = \"よろしく，一起去看樱花吗\";\n            break;\n        case \"美国\":\n            posdesc = \"Let us live in peace!\";\n            break;\n        case \"英国\":\n            posdesc = \"想同你一起夜乘伦敦眼\";\n            break;\n        case \"俄罗斯\":\n            posdesc = \"干了这瓶伏特加！\";\n            break;\n        case \"法国\":\n            posdesc = \"C'est La Vie\";\n            break;\n        case \"德国\":\n            posdesc = \"Die Zeit verging im Fluge.\";\n            break;\n        case \"澳大利亚\":\n            posdesc = \"一起去大堡礁吧！\";\n            break;\n        case \"加拿大\":\n            posdesc = \"拾起一片枫叶赠予你\";\n            break;\n        case \"中国\":\n            pos = ipLocation.result.ad_info.province + \" \" + ipLocation.result.ad_info.city + \" \" + ipLocation.result.ad_info.district;\n            ip = ipLocation.result.ip;\n            switch (ipLocation.result.ad_info.province) {\n                case \"北京市\":\n                    posdesc = \"北——京——欢迎你~~~\";\n                    break;\n                case \"天津市\":\n                    posdesc = \"讲段相声吧\";\n                    break;\n                case \"河北省\":\n                    posdesc = \"山势巍巍成壁垒，天下雄关铁马金戈由此向，无限江山\";\n                    break;\n                case \"山西省\":\n                    posdesc = \"展开坐具长三尺，已占山河五百余\";\n                    break;\n                case \"内蒙古自治区\":\n                    posdesc = \"天苍苍，野茫茫，风吹草低见牛羊\";\n                    break;\n                case \"辽宁省\":\n                    posdesc = \"我想吃烤鸡架！\";\n                    break;\n                case \"吉林省\":\n                    posdesc = \"状元阁就是东北烧烤之王\";\n                    break;\n                case \"黑龙江省\":\n                    posdesc = \"很喜欢哈尔滨大剧院\";\n                    break;\n                case \"上海市\":\n                    posdesc = \"众所周知，中国只有两个城市\";\n                    break;\n                case \"江苏省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"南京市\":\n                            posdesc = \"这是我挺想去的城市啦\";\n                            break;\n                        case \"苏州市\":\n                            posdesc = \"上有天堂，下有苏杭\";\n                            break;\n                        default:\n                            posdesc = \"散装是必须要散装的\";\n                            break;\n                    }\n                    break;\n                case \"浙江省\":\n                    posdesc = \"东风渐绿西湖柳，雁已还人未南归\";\n                    break;\n                case \"河南省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"郑州市\":\n                            posdesc = \"豫州之域，天地之中\";\n                            break;\n                        case \"南阳市\":\n                            posdesc = \"臣本布衣，躬耕于南阳此南阳非彼南阳！\";\n                            break;\n                        case \"驻马店市\":\n                            posdesc = \"峰峰有奇石，石石挟仙气嵖岈山的花很美哦！\";\n                            break;\n                        case \"开封市\":\n                            posdesc = \"刚正不阿包青天\";\n                            break;\n                        case \"洛阳市\":\n                            posdesc = \"洛阳牡丹甲天下\";\n                            break;\n                        default:\n                            posdesc = \"可否带我品尝河南烩面啦？\";\n                            break;\n                    }\n                    break;\n                case \"安徽省\":\n                    posdesc = \"蚌埠住了，芜湖起飞\";\n                    break;\n                case \"福建省\":\n                    posdesc = \"井邑白云间，岩城远带山\";\n                    break;\n                case \"江西省\":\n                    posdesc = \"落霞与孤鹜齐飞，秋水共长天一色\";\n                    break;\n                case \"山东省\":\n                    posdesc = \"遥望齐州九点烟，一泓海水杯中泻\";\n                    break;\n                case \"湖北省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"黄冈市\":\n                            posdesc = \"红安将军县！辈出将才！\";\n                            break;\n                        default:\n                            posdesc = \"来碗热干面~\";\n                            break;\n                    }\n                    break;\n                case \"湖南省\":\n                    posdesc = \"74751，长沙斯塔克\";\n                    break;\n                case \"广东省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"广州市\":\n                            posdesc = \"看小蛮腰，喝早茶了嘛~\";\n                            break;\n                        case \"深圳市\":\n                            posdesc = \"今天你逛商场了嘛~\";\n                            break;\n                        case \"阳江市\":\n                            posdesc = \"阳春合水！博主家乡~ 欢迎来玩~\";\n                            break;\n                        default:\n                            posdesc = \"来两斤福建人~\";\n                            break;\n                    }\n                    break;\n                case \"广西壮族自治区\":\n                    posdesc = \"桂林山水甲天下\";\n                    break;\n                case \"海南省\":\n                    posdesc = \"朝观日出逐白浪，夕看云起收霞光\";\n                    break;\n                case \"四川省\":\n                    posdesc = \"康康川妹子\";\n                    break;\n                case \"贵州省\":\n                    posdesc = \"茅台，学生，再塞200\";\n                    break;\n                case \"云南省\":\n                    posdesc = \"玉龙飞舞云缠绕，万仞冰川直耸天\";\n                    break;\n                case \"西藏自治区\":\n                    posdesc = \"躺在茫茫草原上，仰望蓝天\";\n                    break;\n                case \"陕西省\":\n                    posdesc = \"来份臊子面加馍\";\n                    break;\n                case \"甘肃省\":\n                    posdesc = \"羌笛何须怨杨柳，春风不度玉门关\";\n                    break;\n                case \"青海省\":\n                    posdesc = \"牛肉干和老酸奶都好好吃\";\n                    break;\n                case \"宁夏回族自治区\":\n                    posdesc = \"大漠孤烟直，长河落日圆\";\n                    break;\n                case \"新疆维吾尔自治区\":\n                    posdesc = \"驼铃古道丝绸路，胡马犹闻唐汉风\";\n                    break;\n                case \"台湾省\":\n                    posdesc = \"我在这头，大陆在那头\";\n                    break;\n                case \"香港特别行政区\":\n                    posdesc = \"永定贼有残留地鬼嚎，迎击光非岁玉\";\n                    break;\n                case \"澳门特别行政区\":\n                    posdesc = \"性感荷官，在线发牌\";\n                    break;\n                default:\n                    posdesc = \"带我去你的城市逛逛吧！\";\n                    break;\n            }\n            break;\n        default:\n            posdesc = \"带我去你的国家逛逛吧\";\n            break;\n    }\n\n    //根据本地时间切换欢迎语\n    let timeChange;\n    let date = new Date();\n    if (date.getHours() >= 5 && date.getHours() < 11) timeChange = \"<span>🌤️ 早上好，一日之计在于晨</span>\";\n    else if (date.getHours() >= 11 && date.getHours() < 13) timeChange = \"<span>☀️ 中午好，记得午休喔~</span>\";\n    else if (date.getHours() >= 13 && date.getHours() < 17) timeChange = \"<span>🕞 下午好，饮茶先啦！</span>\";\n    else if (date.getHours() >= 17 && date.getHours() < 19) timeChange = \"<span>🚶‍♂️ 即将下班，记得按时吃饭~</span>\";\n    else if (date.getHours() >= 19 && date.getHours() < 24) timeChange = \"<span>🌙 晚上好，夜生活嗨起来！</span>\";\n    else timeChange = \"夜深了，早点休息，少熬夜\";\n\n    try {\n        //自定义文本和需要放的位置\n        document.getElementById(\"welcome-info\").innerHTML =\n            `欢迎来自 <b><span style=\"color: var(--kouseki-ip-color);font-size: var(--kouseki-gl-size)\">${pos}</span></b> 的小友💖<br>${posdesc}🍂<br>当前位置距博主约 <b><span style=\"color: var(--kouseki-ip-color)\">${dist}</span></b> 公里！<br>您的IP地址为：<b><span>${ip}</span></b><br>${timeChange} <br>`;\n    } catch (err) {\n        //  console.log(\"Pjax无法获取元素\")\n    }\n}\nwindow.onload = showWelcome;\n// 如果使用了pjax在加上下面这行代码\ndocument.addEventListener('pjax:complete', showWelcome);","source":"custom/js/welcome.js","raw":"//get请求\n$.ajax({\n    type: 'get',\n    url: 'https://apis.map.qq.com/ws/location/v1/ip',\n    data: {\n        key: 'K2ABZ-XLVWW-NZNRD-3S5ST-QDHU5-LHFOI',\n        output: 'jsonp',\n    },\n    dataType: 'jsonp',\n    success: function (res) {\n        ipLocation = res;\n    }\n})\nfunction getDistance(e1, n1, e2, n2) {\n    const R = 6371\n    const { sin, cos, asin, PI, hypot } = Math\n    let getPoint = (e, n) => {\n        e *= PI / 180\n        n *= PI / 180\n        return { x: cos(n) * cos(e), y: cos(n) * sin(e), z: sin(n) }\n    }\n\n    let a = getPoint(e1, n1)\n    let b = getPoint(e2, n2)\n    let c = hypot(a.x - b.x, a.y - b.y, a.z - b.z)\n    let r = asin(c / 2) * 2 * R\n    return Math.round(r);\n}\n\nfunction showWelcome() {\n\n    let dist = getDistance(23.045505, 113.115635, ipLocation.result.location.lng, ipLocation.result.location.lat); //这里记得换成自己的经纬度\n    let pos = ipLocation.result.ad_info.nation;\n    let ip;\n    let posdesc;\n    //根据国家、省份、城市信息自定义欢迎语\n    switch (ipLocation.result.ad_info.nation) {\n        case \"日本\":\n            posdesc = \"よろしく，一起去看樱花吗\";\n            break;\n        case \"美国\":\n            posdesc = \"Let us live in peace!\";\n            break;\n        case \"英国\":\n            posdesc = \"想同你一起夜乘伦敦眼\";\n            break;\n        case \"俄罗斯\":\n            posdesc = \"干了这瓶伏特加！\";\n            break;\n        case \"法国\":\n            posdesc = \"C'est La Vie\";\n            break;\n        case \"德国\":\n            posdesc = \"Die Zeit verging im Fluge.\";\n            break;\n        case \"澳大利亚\":\n            posdesc = \"一起去大堡礁吧！\";\n            break;\n        case \"加拿大\":\n            posdesc = \"拾起一片枫叶赠予你\";\n            break;\n        case \"中国\":\n            pos = ipLocation.result.ad_info.province + \" \" + ipLocation.result.ad_info.city + \" \" + ipLocation.result.ad_info.district;\n            ip = ipLocation.result.ip;\n            switch (ipLocation.result.ad_info.province) {\n                case \"北京市\":\n                    posdesc = \"北——京——欢迎你~~~\";\n                    break;\n                case \"天津市\":\n                    posdesc = \"讲段相声吧\";\n                    break;\n                case \"河北省\":\n                    posdesc = \"山势巍巍成壁垒，天下雄关铁马金戈由此向，无限江山\";\n                    break;\n                case \"山西省\":\n                    posdesc = \"展开坐具长三尺，已占山河五百余\";\n                    break;\n                case \"内蒙古自治区\":\n                    posdesc = \"天苍苍，野茫茫，风吹草低见牛羊\";\n                    break;\n                case \"辽宁省\":\n                    posdesc = \"我想吃烤鸡架！\";\n                    break;\n                case \"吉林省\":\n                    posdesc = \"状元阁就是东北烧烤之王\";\n                    break;\n                case \"黑龙江省\":\n                    posdesc = \"很喜欢哈尔滨大剧院\";\n                    break;\n                case \"上海市\":\n                    posdesc = \"众所周知，中国只有两个城市\";\n                    break;\n                case \"江苏省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"南京市\":\n                            posdesc = \"这是我挺想去的城市啦\";\n                            break;\n                        case \"苏州市\":\n                            posdesc = \"上有天堂，下有苏杭\";\n                            break;\n                        default:\n                            posdesc = \"散装是必须要散装的\";\n                            break;\n                    }\n                    break;\n                case \"浙江省\":\n                    posdesc = \"东风渐绿西湖柳，雁已还人未南归\";\n                    break;\n                case \"河南省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"郑州市\":\n                            posdesc = \"豫州之域，天地之中\";\n                            break;\n                        case \"南阳市\":\n                            posdesc = \"臣本布衣，躬耕于南阳此南阳非彼南阳！\";\n                            break;\n                        case \"驻马店市\":\n                            posdesc = \"峰峰有奇石，石石挟仙气嵖岈山的花很美哦！\";\n                            break;\n                        case \"开封市\":\n                            posdesc = \"刚正不阿包青天\";\n                            break;\n                        case \"洛阳市\":\n                            posdesc = \"洛阳牡丹甲天下\";\n                            break;\n                        default:\n                            posdesc = \"可否带我品尝河南烩面啦？\";\n                            break;\n                    }\n                    break;\n                case \"安徽省\":\n                    posdesc = \"蚌埠住了，芜湖起飞\";\n                    break;\n                case \"福建省\":\n                    posdesc = \"井邑白云间，岩城远带山\";\n                    break;\n                case \"江西省\":\n                    posdesc = \"落霞与孤鹜齐飞，秋水共长天一色\";\n                    break;\n                case \"山东省\":\n                    posdesc = \"遥望齐州九点烟，一泓海水杯中泻\";\n                    break;\n                case \"湖北省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"黄冈市\":\n                            posdesc = \"红安将军县！辈出将才！\";\n                            break;\n                        default:\n                            posdesc = \"来碗热干面~\";\n                            break;\n                    }\n                    break;\n                case \"湖南省\":\n                    posdesc = \"74751，长沙斯塔克\";\n                    break;\n                case \"广东省\":\n                    switch (ipLocation.result.ad_info.city) {\n                        case \"广州市\":\n                            posdesc = \"看小蛮腰，喝早茶了嘛~\";\n                            break;\n                        case \"深圳市\":\n                            posdesc = \"今天你逛商场了嘛~\";\n                            break;\n                        case \"阳江市\":\n                            posdesc = \"阳春合水！博主家乡~ 欢迎来玩~\";\n                            break;\n                        default:\n                            posdesc = \"来两斤福建人~\";\n                            break;\n                    }\n                    break;\n                case \"广西壮族自治区\":\n                    posdesc = \"桂林山水甲天下\";\n                    break;\n                case \"海南省\":\n                    posdesc = \"朝观日出逐白浪，夕看云起收霞光\";\n                    break;\n                case \"四川省\":\n                    posdesc = \"康康川妹子\";\n                    break;\n                case \"贵州省\":\n                    posdesc = \"茅台，学生，再塞200\";\n                    break;\n                case \"云南省\":\n                    posdesc = \"玉龙飞舞云缠绕，万仞冰川直耸天\";\n                    break;\n                case \"西藏自治区\":\n                    posdesc = \"躺在茫茫草原上，仰望蓝天\";\n                    break;\n                case \"陕西省\":\n                    posdesc = \"来份臊子面加馍\";\n                    break;\n                case \"甘肃省\":\n                    posdesc = \"羌笛何须怨杨柳，春风不度玉门关\";\n                    break;\n                case \"青海省\":\n                    posdesc = \"牛肉干和老酸奶都好好吃\";\n                    break;\n                case \"宁夏回族自治区\":\n                    posdesc = \"大漠孤烟直，长河落日圆\";\n                    break;\n                case \"新疆维吾尔自治区\":\n                    posdesc = \"驼铃古道丝绸路，胡马犹闻唐汉风\";\n                    break;\n                case \"台湾省\":\n                    posdesc = \"我在这头，大陆在那头\";\n                    break;\n                case \"香港特别行政区\":\n                    posdesc = \"永定贼有残留地鬼嚎，迎击光非岁玉\";\n                    break;\n                case \"澳门特别行政区\":\n                    posdesc = \"性感荷官，在线发牌\";\n                    break;\n                default:\n                    posdesc = \"带我去你的城市逛逛吧！\";\n                    break;\n            }\n            break;\n        default:\n            posdesc = \"带我去你的国家逛逛吧\";\n            break;\n    }\n\n    //根据本地时间切换欢迎语\n    let timeChange;\n    let date = new Date();\n    if (date.getHours() >= 5 && date.getHours() < 11) timeChange = \"<span>🌤️ 早上好，一日之计在于晨</span>\";\n    else if (date.getHours() >= 11 && date.getHours() < 13) timeChange = \"<span>☀️ 中午好，记得午休喔~</span>\";\n    else if (date.getHours() >= 13 && date.getHours() < 17) timeChange = \"<span>🕞 下午好，饮茶先啦！</span>\";\n    else if (date.getHours() >= 17 && date.getHours() < 19) timeChange = \"<span>🚶‍♂️ 即将下班，记得按时吃饭~</span>\";\n    else if (date.getHours() >= 19 && date.getHours() < 24) timeChange = \"<span>🌙 晚上好，夜生活嗨起来！</span>\";\n    else timeChange = \"夜深了，早点休息，少熬夜\";\n\n    try {\n        //自定义文本和需要放的位置\n        document.getElementById(\"welcome-info\").innerHTML =\n            `欢迎来自 <b><span style=\"color: var(--kouseki-ip-color);font-size: var(--kouseki-gl-size)\">${pos}</span></b> 的小友💖<br>${posdesc}🍂<br>当前位置距博主约 <b><span style=\"color: var(--kouseki-ip-color)\">${dist}</span></b> 公里！<br>您的IP地址为：<b><span>${ip}</span></b><br>${timeChange} <br>`;\n    } catch (err) {\n        //  console.log(\"Pjax无法获取元素\")\n    }\n}\nwindow.onload = showWelcome;\n// 如果使用了pjax在加上下面这行代码\ndocument.addEventListener('pjax:complete', showWelcome);","date":"2025-08-05T15:04:29.985Z","updated":"2025-08-01T11:27:17.838Z","path":"custom/js/welcome.js","layout":"false","title":"","comments":1,"_id":"cmgu95620005gg0fy6tsz82bv","content":"function getDistance(e,a,s,c){let{sin:r,cos:t,asin:o,PI:i,hypot:n}=Math;var b=(e,a)=>(e*=i/180,a*=i/180,{x:t(a)*t(e),y:t(a)*r(e),z:r(a)}),e=b(e,a),a=b(s,c),b=n(e.x-a.x,e.y-a.y,e.z-a.z),s=2*o(b/2)*6371;return Math.round(s)}function showWelcome(){var e=getDistance(23.045505,113.115635,ipLocation.result.location.lng,ipLocation.result.location.lat);let a=ipLocation.result.ad_info.nation,s,c;switch(ipLocation.result.ad_info.nation){case\"日本\":c=\"よろしく，一起去看樱花吗\";break;case\"美国\":c=\"Let us live in peace!\";break;case\"英国\":c=\"想同你一起夜乘伦敦眼\";break;case\"俄罗斯\":c=\"干了这瓶伏特加！\";break;case\"法国\":c=\"C'est La Vie\";break;case\"德国\":c=\"Die Zeit verging im Fluge.\";break;case\"澳大利亚\":c=\"一起去大堡礁吧！\";break;case\"加拿大\":c=\"拾起一片枫叶赠予你\";break;case\"中国\":switch(a=ipLocation.result.ad_info.province+\" \"+ipLocation.result.ad_info.city+\" \"+ipLocation.result.ad_info.district,s=ipLocation.result.ip,ipLocation.result.ad_info.province){case\"北京市\":c=\"北——京——欢迎你~~~\";break;case\"天津市\":c=\"讲段相声吧\";break;case\"河北省\":c=\"山势巍巍成壁垒，天下雄关铁马金戈由此向，无限江山\";break;case\"山西省\":c=\"展开坐具长三尺，已占山河五百余\";break;case\"内蒙古自治区\":c=\"天苍苍，野茫茫，风吹草低见牛羊\";break;case\"辽宁省\":c=\"我想吃烤鸡架！\";break;case\"吉林省\":c=\"状元阁就是东北烧烤之王\";break;case\"黑龙江省\":c=\"很喜欢哈尔滨大剧院\";break;case\"上海市\":c=\"众所周知，中国只有两个城市\";break;case\"江苏省\":switch(ipLocation.result.ad_info.city){case\"南京市\":c=\"这是我挺想去的城市啦\";break;case\"苏州市\":c=\"上有天堂，下有苏杭\";break;default:c=\"散装是必须要散装的\"}break;case\"浙江省\":c=\"东风渐绿西湖柳，雁已还人未南归\";break;case\"河南省\":switch(ipLocation.result.ad_info.city){case\"郑州市\":c=\"豫州之域，天地之中\";break;case\"南阳市\":c=\"臣本布衣，躬耕于南阳此南阳非彼南阳！\";break;case\"驻马店市\":c=\"峰峰有奇石，石石挟仙气嵖岈山的花很美哦！\";break;case\"开封市\":c=\"刚正不阿包青天\";break;case\"洛阳市\":c=\"洛阳牡丹甲天下\";break;default:c=\"可否带我品尝河南烩面啦？\"}break;case\"安徽省\":c=\"蚌埠住了，芜湖起飞\";break;case\"福建省\":c=\"井邑白云间，岩城远带山\";break;case\"江西省\":c=\"落霞与孤鹜齐飞，秋水共长天一色\";break;case\"山东省\":c=\"遥望齐州九点烟，一泓海水杯中泻\";break;case\"湖北省\":c=\"黄冈市\"===ipLocation.result.ad_info.city?\"红安将军县！辈出将才！\":\"来碗热干面~\";break;case\"湖南省\":c=\"74751，长沙斯塔克\";break;case\"广东省\":switch(ipLocation.result.ad_info.city){case\"广州市\":c=\"看小蛮腰，喝早茶了嘛~\";break;case\"深圳市\":c=\"今天你逛商场了嘛~\";break;case\"阳江市\":c=\"阳春合水！博主家乡~ 欢迎来玩~\";break;default:c=\"来两斤福建人~\"}break;case\"广西壮族自治区\":c=\"桂林山水甲天下\";break;case\"海南省\":c=\"朝观日出逐白浪，夕看云起收霞光\";break;case\"四川省\":c=\"康康川妹子\";break;case\"贵州省\":c=\"茅台，学生，再塞200\";break;case\"云南省\":c=\"玉龙飞舞云缠绕，万仞冰川直耸天\";break;case\"西藏自治区\":c=\"躺在茫茫草原上，仰望蓝天\";break;case\"陕西省\":c=\"来份臊子面加馍\";break;case\"甘肃省\":c=\"羌笛何须怨杨柳，春风不度玉门关\";break;case\"青海省\":c=\"牛肉干和老酸奶都好好吃\";break;case\"宁夏回族自治区\":c=\"大漠孤烟直，长河落日圆\";break;case\"新疆维吾尔自治区\":c=\"驼铃古道丝绸路，胡马犹闻唐汉风\";break;case\"台湾省\":c=\"我在这头，大陆在那头\";break;case\"香港特别行政区\":c=\"永定贼有残留地鬼嚎，迎击光非岁玉\";break;case\"澳门特别行政区\":c=\"性感荷官，在线发牌\";break;default:c=\"带我去你的城市逛逛吧！\"}break;default:c=\"带我去你的国家逛逛吧\"}let r;var t=new Date;r=5<=t.getHours()&&t.getHours()<11?\"<span>🌤️ 早上好，一日之计在于晨</span>\":11<=t.getHours()&&t.getHours()<13?\"<span>☀️ 中午好，记得午休喔~</span>\":13<=t.getHours()&&t.getHours()<17?\"<span>🕞 下午好，饮茶先啦！</span>\":17<=t.getHours()&&t.getHours()<19?\"<span>🚶‍♂️ 即将下班，记得按时吃饭~</span>\":19<=t.getHours()&&t.getHours()<24?\"<span>🌙 晚上好，夜生活嗨起来！</span>\":\"夜深了，早点休息，少熬夜\";try{document.getElementById(\"welcome-info\").innerHTML=`欢迎来自 <b><span style=\"color: var(--kouseki-ip-color);font-size: var(--kouseki-gl-size)\">${a}</span></b> 的小友💖<br>${c}🍂<br>当前位置距博主约 <b><span style=\"color: var(--kouseki-ip-color)\">${e}</span></b> 公里！<br>您的IP地址为：<b><span>${s}</span></b><br>${r} <br>`}catch(e){}}$.ajax({type:\"get\",url:\"https://apis.map.qq.com/ws/location/v1/ip\",data:{key:\"K2ABZ-XLVWW-NZNRD-3S5ST-QDHU5-LHFOI\",output:\"jsonp\"},dataType:\"jsonp\",success:function(e){ipLocation=e}}),window.onload=showWelcome,document.addEventListener(\"pjax:complete\",showWelcome);"}],"Post":[{"title":"DOD（TCP/IP）","summary":"酥米小机器人来啦，这篇文章详细介绍了DOD的TCP/IP协议簇，这是一个由美国国防部开发的分布式开放系统互连模型，旨在确保数据传输的可靠性。文章首先概述了其四层结构：应用层提供电子邮件和文件传输等服务，传输层通过TCP协议进行可靠端到端通信或使用UDP协议的无连接传输，网际层负责IP地址分配、路由选择和数据包转发，物理层处理硬件设备间的通信和数据链路操作。接着，文章列出了关键协议如HTTP、FTP、SMTP、TCP、UDP、ICMP、ARP，并介绍了工具Ping和Traceroute用于网络诊断。还比较了TCP的三次握手机制与UDP的简单传输方式，突出TCP/IP协议簇在现代网络中的核心作用，强调其高效性和基础性。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(11).png","date":"2024-10-17T07:01:46.000Z","_content":"\n## 模型结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(11).png)\n\n+ 4层：应用层\n+ 3层：传输层\n+ 2层：网际层\n+ 1层：物理层\n\n## 各层级作用详解\n+ 4层： 与OSI模型中的应用层类似，为用户提供各种应用服务，如电子邮件、文件传输等</font>\n+  3层：与OSI模型中的传输层类似，负责端到端之间的通信，处理数据包的分段与重组，以及数据传输的可靠性和正确性</font>\n+  2层：在TCP/IP模型中相当于OSI模型的网络层，负责IP地址的分配和路由选择，实现不同网络之间的通信</font>\n+  1层：负责物理硬件设备间的通信，包括数据链路的操作、错误检测和纠正等功能</font>\n\n## 因特网层\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(8).png)\n\n网络层也叫Internet层\n\n+ 负责将分组报文从源端发送到目的端\n\n网络层作用\n\n+ 为网络中设备提供逻辑地址\n+ 负责数据包的寻径和转发\n\n### 因特网层协议\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(1).png)\n\n### 因特网层的工具\n+ Ping（ICMP）——测试ip与本机的连通性\n+ Traceroute/Tracert ——追踪数据包的每一跳\n\n### 因特网层ip报文\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(9).png)\n\n+ 简称TTL，作用是放置一个数据包在网络中无休无止的进行传输\n\n### ARP\nARP协议具有两种功能\n\n+ 将IPV4地址解析为MAC地址\n+ 维护映射的缓存\n\n### ARP报文详解\n+ IP与MAC的关联需要ARP配合实现\n+ 思科中使用` show arp `查看arp表\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(2).png)\n\n## 应用层\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(7).png)\n\n### 常见应用的端口\n+ HTTP 80端口\n+ HTTPS 443端口\n+ Telnet 23端口\n+ FTP 20、21端口\n+ SMTP 25端口\n+ POP3 110端口\n+ TFTP 69端口\n\n## TCP/IP协议簇简解\n+ 传输控制协议/IRI特网协议（TCP/IP）组是由关国国防部（DoD）所创建的，主要用来确保数据的完整性及毁灭战争中维持通讯\n+ 是由一组不同功能的协议组合在一起构成的协议簇、\n+ 利用一组协议完成OSI所实现的功能\n\n### 各层级代表协议\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(3).png)\n\n+ 4层：HTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）\n+ 3层：TCP（Transmission Control Protocol）、UDP（User Datagram Protocol）\n+ 2层：IP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）\n+ 1层：：Ethernet、PPP（Point-to-Point Protocol）、ARPANET\n\n## TCP & UDP\n+ TCP（传输控制协议） 属于面向连接的网络协议\n+ UDP（用户报文协议） 属于无连接的网络协议\n\n### TCP到UDP\n传统控制协议（TCP）\n\n+ 面向连接\n+ 可靠传输\n+ 控流\n\n用户数据报协议（UDP）\n\n+ 无连接\n+ 不可靠传输\n+ 尽力传输\n\n+ 使用TCP的应用：Web浏览器；电子邮件；文件传输程序\n+ 使用UDP的应用：域名系统（DNS）；视频流；IP语言（VoIP）\n+ 源端口随机分配，目标端口使用知名端口\n+ 应用客户端使用的源端口号一般为系统中未使用的且大于1023\n+ 目的端口号为服务器端应用服务的进程。如telnet为23\n\n### TCP包结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(4).png)\n\n### TCP的三次握手\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(10).png)\n\n+ 1.设备1发送 SYN 包\n+ 2.设备2收到了SYN包后再次发送回设备1带有ACK的包\n+ 3.设备1收到SYN包后验证成功\n\n### UDP包结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(5).png)","source":"_posts/CCNA/DOD（TCP_IP）.md","raw":"---\ntitle: DOD（TCP/IP）\nsummary: >-\n  酥米小机器人来啦，这篇文章详细介绍了DOD的TCP/IP协议簇，这是一个由美国国防部开发的分布式开放系统互连模型，旨在确保数据传输的可靠性。文章首先概述了其四层结构：应用层提供电子邮件和文件传输等服务，传输层通过TCP协议进行可靠端到端通信或使用UDP协议的无连接传输，网际层负责IP地址分配、路由选择和数据包转发，物理层处理硬件设备间的通信和数据链路操作。接着，文章列出了关键协议如HTTP、FTP、SMTP、TCP、UDP、ICMP、ARP，并介绍了工具Ping和Traceroute用于网络诊断。还比较了TCP的三次握手机制与UDP的简单传输方式，突出TCP/IP协议簇在现代网络中的核心作用，强调其高效性和基础性。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(11).png\ndate: 2024-10-17 15:01:46\n---\n\n## 模型结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(11).png)\n\n+ 4层：应用层\n+ 3层：传输层\n+ 2层：网际层\n+ 1层：物理层\n\n## 各层级作用详解\n+ 4层： 与OSI模型中的应用层类似，为用户提供各种应用服务，如电子邮件、文件传输等</font>\n+  3层：与OSI模型中的传输层类似，负责端到端之间的通信，处理数据包的分段与重组，以及数据传输的可靠性和正确性</font>\n+  2层：在TCP/IP模型中相当于OSI模型的网络层，负责IP地址的分配和路由选择，实现不同网络之间的通信</font>\n+  1层：负责物理硬件设备间的通信，包括数据链路的操作、错误检测和纠正等功能</font>\n\n## 因特网层\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(8).png)\n\n网络层也叫Internet层\n\n+ 负责将分组报文从源端发送到目的端\n\n网络层作用\n\n+ 为网络中设备提供逻辑地址\n+ 负责数据包的寻径和转发\n\n### 因特网层协议\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(1).png)\n\n### 因特网层的工具\n+ Ping（ICMP）——测试ip与本机的连通性\n+ Traceroute/Tracert ——追踪数据包的每一跳\n\n### 因特网层ip报文\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(9).png)\n\n+ 简称TTL，作用是放置一个数据包在网络中无休无止的进行传输\n\n### ARP\nARP协议具有两种功能\n\n+ 将IPV4地址解析为MAC地址\n+ 维护映射的缓存\n\n### ARP报文详解\n+ IP与MAC的关联需要ARP配合实现\n+ 思科中使用` show arp `查看arp表\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(2).png)\n\n## 应用层\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(7).png)\n\n### 常见应用的端口\n+ HTTP 80端口\n+ HTTPS 443端口\n+ Telnet 23端口\n+ FTP 20、21端口\n+ SMTP 25端口\n+ POP3 110端口\n+ TFTP 69端口\n\n## TCP/IP协议簇简解\n+ 传输控制协议/IRI特网协议（TCP/IP）组是由关国国防部（DoD）所创建的，主要用来确保数据的完整性及毁灭战争中维持通讯\n+ 是由一组不同功能的协议组合在一起构成的协议簇、\n+ 利用一组协议完成OSI所实现的功能\n\n### 各层级代表协议\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(3).png)\n\n+ 4层：HTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）\n+ 3层：TCP（Transmission Control Protocol）、UDP（User Datagram Protocol）\n+ 2层：IP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）\n+ 1层：：Ethernet、PPP（Point-to-Point Protocol）、ARPANET\n\n## TCP & UDP\n+ TCP（传输控制协议） 属于面向连接的网络协议\n+ UDP（用户报文协议） 属于无连接的网络协议\n\n### TCP到UDP\n传统控制协议（TCP）\n\n+ 面向连接\n+ 可靠传输\n+ 控流\n\n用户数据报协议（UDP）\n\n+ 无连接\n+ 不可靠传输\n+ 尽力传输\n\n+ 使用TCP的应用：Web浏览器；电子邮件；文件传输程序\n+ 使用UDP的应用：域名系统（DNS）；视频流；IP语言（VoIP）\n+ 源端口随机分配，目标端口使用知名端口\n+ 应用客户端使用的源端口号一般为系统中未使用的且大于1023\n+ 目的端口号为服务器端应用服务的进程。如telnet为23\n\n### TCP包结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(4).png)\n\n### TCP的三次握手\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(10).png)\n\n+ 1.设备1发送 SYN 包\n+ 2.设备2收到了SYN包后再次发送回设备1带有ACK的包\n+ 3.设备1收到SYN包后验证成功\n\n### UDP包结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(5).png)","slug":"CCNA/DOD（TCP_IP）","published":1,"updated":"2025-08-02T10:16:12.994Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955ym0001g0fyh6sq5fcb","content":"<h2 id=\"模型结构\"><a href=\"#模型结构\" class=\"headerlink\" title=\"模型结构\"></a>模型结构</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(11).png\"></p>\n<ul>\n<li>4层：应用层</li>\n<li>3层：传输层</li>\n<li>2层：网际层</li>\n<li>1层：物理层</li>\n</ul>\n<h2 id=\"各层级作用详解\"><a href=\"#各层级作用详解\" class=\"headerlink\" title=\"各层级作用详解\"></a>各层级作用详解</h2><ul>\n<li>4层： 与OSI模型中的应用层类似，为用户提供各种应用服务，如电子邮件、文件传输等</li>\n<li>3层：与OSI模型中的传输层类似，负责端到端之间的通信，处理数据包的分段与重组，以及数据传输的可靠性和正确性</li>\n<li>2层：在TCP&#x2F;IP模型中相当于OSI模型的网络层，负责IP地址的分配和路由选择，实现不同网络之间的通信</li>\n<li>1层：负责物理硬件设备间的通信，包括数据链路的操作、错误检测和纠正等功能</li>\n</ul>\n<h2 id=\"因特网层\"><a href=\"#因特网层\" class=\"headerlink\" title=\"因特网层\"></a>因特网层</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(8).png\"></p>\n<p>网络层也叫Internet层</p>\n<ul>\n<li>负责将分组报文从源端发送到目的端</li>\n</ul>\n<p>网络层作用</p>\n<ul>\n<li>为网络中设备提供逻辑地址</li>\n<li>负责数据包的寻径和转发</li>\n</ul>\n<h3 id=\"因特网层协议\"><a href=\"#因特网层协议\" class=\"headerlink\" title=\"因特网层协议\"></a>因特网层协议</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(1).png\"></p>\n<h3 id=\"因特网层的工具\"><a href=\"#因特网层的工具\" class=\"headerlink\" title=\"因特网层的工具\"></a>因特网层的工具</h3><ul>\n<li>Ping（ICMP）——测试ip与本机的连通性</li>\n<li>Traceroute&#x2F;Tracert ——追踪数据包的每一跳</li>\n</ul>\n<h3 id=\"因特网层ip报文\"><a href=\"#因特网层ip报文\" class=\"headerlink\" title=\"因特网层ip报文\"></a>因特网层ip报文</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(9).png\"></p>\n<ul>\n<li>简称TTL，作用是放置一个数据包在网络中无休无止的进行传输</li>\n</ul>\n<h3 id=\"ARP\"><a href=\"#ARP\" class=\"headerlink\" title=\"ARP\"></a>ARP</h3><p>ARP协议具有两种功能</p>\n<ul>\n<li>将IPV4地址解析为MAC地址</li>\n<li>维护映射的缓存</li>\n</ul>\n<h3 id=\"ARP报文详解\"><a href=\"#ARP报文详解\" class=\"headerlink\" title=\"ARP报文详解\"></a>ARP报文详解</h3><ul>\n<li>IP与MAC的关联需要ARP配合实现</li>\n<li>思科中使用<code>show arp</code>查看arp表</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(2).png\"></p>\n<h2 id=\"应用层\"><a href=\"#应用层\" class=\"headerlink\" title=\"应用层\"></a>应用层</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(7).png\"></p>\n<h3 id=\"常见应用的端口\"><a href=\"#常见应用的端口\" class=\"headerlink\" title=\"常见应用的端口\"></a>常见应用的端口</h3><ul>\n<li>HTTP 80端口</li>\n<li>HTTPS 443端口</li>\n<li>Telnet 23端口</li>\n<li>FTP 20、21端口</li>\n<li>SMTP 25端口</li>\n<li>POP3 110端口</li>\n<li>TFTP 69端口</li>\n</ul>\n<h2 id=\"TCP-IP协议簇简解\"><a href=\"#TCP-IP协议簇简解\" class=\"headerlink\" title=\"TCP&#x2F;IP协议簇简解\"></a>TCP&#x2F;IP协议簇简解</h2><ul>\n<li>传输控制协议&#x2F;IRI特网协议（TCP&#x2F;IP）组是由关国国防部（DoD）所创建的，主要用来确保数据的完整性及毁灭战争中维持通讯</li>\n<li>是由一组不同功能的协议组合在一起构成的协议簇、</li>\n<li>利用一组协议完成OSI所实现的功能</li>\n</ul>\n<h3 id=\"各层级代表协议\"><a href=\"#各层级代表协议\" class=\"headerlink\" title=\"各层级代表协议\"></a>各层级代表协议</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(3).png\"></p>\n<ul>\n<li>4层：HTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）</li>\n<li>3层：TCP（Transmission Control Protocol）、UDP（User Datagram Protocol）</li>\n<li>2层：IP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）</li>\n<li>1层：：Ethernet、PPP（Point-to-Point Protocol）、ARPANET</li>\n</ul>\n<h2 id=\"TCP-UDP\"><a href=\"#TCP-UDP\" class=\"headerlink\" title=\"TCP &amp; UDP\"></a>TCP &amp; UDP</h2><ul>\n<li>TCP（传输控制协议） 属于面向连接的网络协议</li>\n<li>UDP（用户报文协议） 属于无连接的网络协议</li>\n</ul>\n<h3 id=\"TCP到UDP\"><a href=\"#TCP到UDP\" class=\"headerlink\" title=\"TCP到UDP\"></a>TCP到UDP</h3><p>传统控制协议（TCP）</p>\n<ul>\n<li>面向连接</li>\n<li>可靠传输</li>\n<li>控流</li>\n</ul>\n<p>用户数据报协议（UDP）</p>\n<ul>\n<li><p>无连接</p>\n</li>\n<li><p>不可靠传输</p>\n</li>\n<li><p>尽力传输</p>\n</li>\n<li><p>使用TCP的应用：Web浏览器；电子邮件；文件传输程序</p>\n</li>\n<li><p>使用UDP的应用：域名系统（DNS）；视频流；IP语言（VoIP）</p>\n</li>\n<li><p>源端口随机分配，目标端口使用知名端口</p>\n</li>\n<li><p>应用客户端使用的源端口号一般为系统中未使用的且大于1023</p>\n</li>\n<li><p>目的端口号为服务器端应用服务的进程。如telnet为23</p>\n</li>\n</ul>\n<h3 id=\"TCP包结构\"><a href=\"#TCP包结构\" class=\"headerlink\" title=\"TCP包结构\"></a>TCP包结构</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(4).png\"></p>\n<h3 id=\"TCP的三次握手\"><a href=\"#TCP的三次握手\" class=\"headerlink\" title=\"TCP的三次握手\"></a>TCP的三次握手</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(10).png\"></p>\n<ul>\n<li>1.设备1发送 SYN 包</li>\n<li>2.设备2收到了SYN包后再次发送回设备1带有ACK的包</li>\n<li>3.设备1收到SYN包后验证成功</li>\n</ul>\n<h3 id=\"UDP包结构\"><a href=\"#UDP包结构\" class=\"headerlink\" title=\"UDP包结构\"></a>UDP包结构</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(5).png\"></p>\n","cover_type":"img","excerpt":"","more":"<h2 id=\"模型结构\"><a href=\"#模型结构\" class=\"headerlink\" title=\"模型结构\"></a>模型结构</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(11).png\"></p>\n<ul>\n<li>4层：应用层</li>\n<li>3层：传输层</li>\n<li>2层：网际层</li>\n<li>1层：物理层</li>\n</ul>\n<h2 id=\"各层级作用详解\"><a href=\"#各层级作用详解\" class=\"headerlink\" title=\"各层级作用详解\"></a>各层级作用详解</h2><ul>\n<li>4层： 与OSI模型中的应用层类似，为用户提供各种应用服务，如电子邮件、文件传输等</li>\n<li>3层：与OSI模型中的传输层类似，负责端到端之间的通信，处理数据包的分段与重组，以及数据传输的可靠性和正确性</li>\n<li>2层：在TCP&#x2F;IP模型中相当于OSI模型的网络层，负责IP地址的分配和路由选择，实现不同网络之间的通信</li>\n<li>1层：负责物理硬件设备间的通信，包括数据链路的操作、错误检测和纠正等功能</li>\n</ul>\n<h2 id=\"因特网层\"><a href=\"#因特网层\" class=\"headerlink\" title=\"因特网层\"></a>因特网层</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(8).png\"></p>\n<p>网络层也叫Internet层</p>\n<ul>\n<li>负责将分组报文从源端发送到目的端</li>\n</ul>\n<p>网络层作用</p>\n<ul>\n<li>为网络中设备提供逻辑地址</li>\n<li>负责数据包的寻径和转发</li>\n</ul>\n<h3 id=\"因特网层协议\"><a href=\"#因特网层协议\" class=\"headerlink\" title=\"因特网层协议\"></a>因特网层协议</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(1).png\"></p>\n<h3 id=\"因特网层的工具\"><a href=\"#因特网层的工具\" class=\"headerlink\" title=\"因特网层的工具\"></a>因特网层的工具</h3><ul>\n<li>Ping（ICMP）——测试ip与本机的连通性</li>\n<li>Traceroute&#x2F;Tracert ——追踪数据包的每一跳</li>\n</ul>\n<h3 id=\"因特网层ip报文\"><a href=\"#因特网层ip报文\" class=\"headerlink\" title=\"因特网层ip报文\"></a>因特网层ip报文</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(9).png\"></p>\n<ul>\n<li>简称TTL，作用是放置一个数据包在网络中无休无止的进行传输</li>\n</ul>\n<h3 id=\"ARP\"><a href=\"#ARP\" class=\"headerlink\" title=\"ARP\"></a>ARP</h3><p>ARP协议具有两种功能</p>\n<ul>\n<li>将IPV4地址解析为MAC地址</li>\n<li>维护映射的缓存</li>\n</ul>\n<h3 id=\"ARP报文详解\"><a href=\"#ARP报文详解\" class=\"headerlink\" title=\"ARP报文详解\"></a>ARP报文详解</h3><ul>\n<li>IP与MAC的关联需要ARP配合实现</li>\n<li>思科中使用<code>show arp</code>查看arp表</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(2).png\"></p>\n<h2 id=\"应用层\"><a href=\"#应用层\" class=\"headerlink\" title=\"应用层\"></a>应用层</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(7).png\"></p>\n<h3 id=\"常见应用的端口\"><a href=\"#常见应用的端口\" class=\"headerlink\" title=\"常见应用的端口\"></a>常见应用的端口</h3><ul>\n<li>HTTP 80端口</li>\n<li>HTTPS 443端口</li>\n<li>Telnet 23端口</li>\n<li>FTP 20、21端口</li>\n<li>SMTP 25端口</li>\n<li>POP3 110端口</li>\n<li>TFTP 69端口</li>\n</ul>\n<h2 id=\"TCP-IP协议簇简解\"><a href=\"#TCP-IP协议簇简解\" class=\"headerlink\" title=\"TCP&#x2F;IP协议簇简解\"></a>TCP&#x2F;IP协议簇简解</h2><ul>\n<li>传输控制协议&#x2F;IRI特网协议（TCP&#x2F;IP）组是由关国国防部（DoD）所创建的，主要用来确保数据的完整性及毁灭战争中维持通讯</li>\n<li>是由一组不同功能的协议组合在一起构成的协议簇、</li>\n<li>利用一组协议完成OSI所实现的功能</li>\n</ul>\n<h3 id=\"各层级代表协议\"><a href=\"#各层级代表协议\" class=\"headerlink\" title=\"各层级代表协议\"></a>各层级代表协议</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(3).png\"></p>\n<ul>\n<li>4层：HTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）</li>\n<li>3层：TCP（Transmission Control Protocol）、UDP（User Datagram Protocol）</li>\n<li>2层：IP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）</li>\n<li>1层：：Ethernet、PPP（Point-to-Point Protocol）、ARPANET</li>\n</ul>\n<h2 id=\"TCP-UDP\"><a href=\"#TCP-UDP\" class=\"headerlink\" title=\"TCP &amp; UDP\"></a>TCP &amp; UDP</h2><ul>\n<li>TCP（传输控制协议） 属于面向连接的网络协议</li>\n<li>UDP（用户报文协议） 属于无连接的网络协议</li>\n</ul>\n<h3 id=\"TCP到UDP\"><a href=\"#TCP到UDP\" class=\"headerlink\" title=\"TCP到UDP\"></a>TCP到UDP</h3><p>传统控制协议（TCP）</p>\n<ul>\n<li>面向连接</li>\n<li>可靠传输</li>\n<li>控流</li>\n</ul>\n<p>用户数据报协议（UDP）</p>\n<ul>\n<li><p>无连接</p>\n</li>\n<li><p>不可靠传输</p>\n</li>\n<li><p>尽力传输</p>\n</li>\n<li><p>使用TCP的应用：Web浏览器；电子邮件；文件传输程序</p>\n</li>\n<li><p>使用UDP的应用：域名系统（DNS）；视频流；IP语言（VoIP）</p>\n</li>\n<li><p>源端口随机分配，目标端口使用知名端口</p>\n</li>\n<li><p>应用客户端使用的源端口号一般为系统中未使用的且大于1023</p>\n</li>\n<li><p>目的端口号为服务器端应用服务的进程。如telnet为23</p>\n</li>\n</ul>\n<h3 id=\"TCP包结构\"><a href=\"#TCP包结构\" class=\"headerlink\" title=\"TCP包结构\"></a>TCP包结构</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(4).png\"></p>\n<h3 id=\"TCP的三次握手\"><a href=\"#TCP的三次握手\" class=\"headerlink\" title=\"TCP的三次握手\"></a>TCP的三次握手</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(10).png\"></p>\n<ul>\n<li>1.设备1发送 SYN 包</li>\n<li>2.设备2收到了SYN包后再次发送回设备1带有ACK的包</li>\n<li>3.设备1收到SYN包后验证成功</li>\n</ul>\n<h3 id=\"UDP包结构\"><a href=\"#UDP包结构\" class=\"headerlink\" title=\"UDP包结构\"></a>UDP包结构</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/DoD%20(5).png\"></p>\n"},{"title":"ACL基础","summary":"酥米小机器人来啦，这篇文章介绍访问控制列表ACL的基础知识，ACL是一种由规则组成的集合，这些规则基于报文的源地址、目的地址、端口号等条件进行匹配，形成一种报文过滤器，用于实现网络流量控制和匹配感兴趣流量两大功能。ACL主要分为标准类型，仅根据源地址过滤整个协议套件；和扩展类型，能够根据源、目的地址、端口号等进行详细过滤并允许或拒绝特定协议。识别ACL可通过编号或命名方式，基础配置使用命令如access-list定义规则，并在接口上应用入站或出站方向，利用通配符实现精确或全匹配，从而在网络管理中提升安全性和效率，帮助管理员有效控制流量。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png","date":"2024-10-17T07:01:46.000Z","_content":"\n## 简介\n+ 访问控制列表ACL（Access Control List）是由一条或多条规则组成的集合。所谓规则，是指描述报文匹配条件的判断语句，这些条件可以是报文的源地址、目的地址、端口号等。\n+ ACL本质上是一种报文过滤器，规则是过滤器的滤芯。设备基于这些规则进行报文匹配，可以过滤出特定的报文，并根据应用ACL的业务模块的处理策略来允许或阻止该报文通过。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png)\n\n## 为什么要用ACL\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-1ff33b348f14d7bdf.png)\n\n+ ACL的两大主要功能\n+ 流量控制\n+ 匹配感兴趣流量\n\n## ACL的类型\n### 标准访问控制列表\n+ 检查源地址\n+ 通常允许或拒绝整个协议套件\n\n### 扩展访问控制列表\n+ 检查源地址和目标地址\n+ 通常允许或拒绝特定的协议和应用\n\n### 用于识别标准ACL和扩展ACL的两种方法\n+ 编号ACL使用一个数字来识别\n+ 命名ACL使用描述性名称或数字来标识\n\n### 标准访问控制列表\n+ 只能根据源地址做过滤\n+ 针对整个协议采取相关动作（允许或禁止）\n\n![](https://img.picgo.net/2024/11/19/image-2575da0debcc560ea.md.png)\n\n## 扩展访问控制列表\n+ 能根据源、目的地地址、端口号等等进行过滤\n+ 能允许或拒绝特定的协议\n+ ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-2575da0debcc560ea.png)\n\n## ACL的标示\n### IPv4 ACL\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-4ac2cc35cbdfcb46c.png)\n\n## 出站及入站 \n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-5e1632473fddc86b8.png)\n\n### 入方向的ACL操作\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-6d383172498686b6a.png)\n\n### 出方向的ACL操作\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-7042aa1fa1369eb38.png)\n\n## 通配符\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-8a0301b67a2235fc3.png)\n\n+ 0 表示严格匹配\n+ 1 表示无所谓\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-93289ca2dec660a11.png)\n\n### 通配符缩写\n192.168.1.1 0.0.0.0\t\t\t= host 192.168.1.1\n\n+ 精确匹配192.16.1.1这个IP\n\n---\n\n0.0.0.0 255.255.255.255 \t\t= any\n\n+ 匹配所有ip\n\n## 基础配置\n```plain\nRouter(config)# access-list access-list-number {permit|deny} source [wildcard mask]\nRouter(config-if)# ip access-group access-list-number {in|out}\n```\n\n+ 编号选择1-99\n+ 通配符若无，默认0.0.0.0\n+ `no access-list _access-list-number_`将会删除整个ACL列表\n+ 在接口中应用\n+ 应用时关联入或出站方向\n+ 默认出站\n+ `no ip access-group _access-list-number_`可移除接口上应用的访问列表\n\n```plain\nRouter(config)# access-list access-list-number {permit|deny} protocol source source-wildcard [operator port] destination destination-wildcard [operator port] [established] [log]\nRouter(config-if)# ip access-group access-list-number {in|out}\n```\n\n+ 在接口中应用\n+ 应用时关联入或出站方向","source":"_posts/CCNA/ACL基础.md","raw":"---\ntitle: ACL基础\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍访问控制列表ACL的基础知识，ACL是一种由规则组成的集合，这些规则基于报文的源地址、目的地址、端口号等条件进行匹配，形成一种报文过滤器，用于实现网络流量控制和匹配感兴趣流量两大功能。ACL主要分为标准类型，仅根据源地址过滤整个协议套件；和扩展类型，能够根据源、目的地址、端口号等进行详细过滤并允许或拒绝特定协议。识别ACL可通过编号或命名方式，基础配置使用命令如access-list定义规则，并在接口上应用入站或出站方向，利用通配符实现精确或全匹配，从而在网络管理中提升安全性和效率，帮助管理员有效控制流量。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png\ndate: 2024-10-17 15:01:46\n---\n\n## 简介\n+ 访问控制列表ACL（Access Control List）是由一条或多条规则组成的集合。所谓规则，是指描述报文匹配条件的判断语句，这些条件可以是报文的源地址、目的地址、端口号等。\n+ ACL本质上是一种报文过滤器，规则是过滤器的滤芯。设备基于这些规则进行报文匹配，可以过滤出特定的报文，并根据应用ACL的业务模块的处理策略来允许或阻止该报文通过。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png)\n\n## 为什么要用ACL\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-1ff33b348f14d7bdf.png)\n\n+ ACL的两大主要功能\n+ 流量控制\n+ 匹配感兴趣流量\n\n## ACL的类型\n### 标准访问控制列表\n+ 检查源地址\n+ 通常允许或拒绝整个协议套件\n\n### 扩展访问控制列表\n+ 检查源地址和目标地址\n+ 通常允许或拒绝特定的协议和应用\n\n### 用于识别标准ACL和扩展ACL的两种方法\n+ 编号ACL使用一个数字来识别\n+ 命名ACL使用描述性名称或数字来标识\n\n### 标准访问控制列表\n+ 只能根据源地址做过滤\n+ 针对整个协议采取相关动作（允许或禁止）\n\n![](https://img.picgo.net/2024/11/19/image-2575da0debcc560ea.md.png)\n\n## 扩展访问控制列表\n+ 能根据源、目的地地址、端口号等等进行过滤\n+ 能允许或拒绝特定的协议\n+ ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-2575da0debcc560ea.png)\n\n## ACL的标示\n### IPv4 ACL\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-4ac2cc35cbdfcb46c.png)\n\n## 出站及入站 \n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-5e1632473fddc86b8.png)\n\n### 入方向的ACL操作\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-6d383172498686b6a.png)\n\n### 出方向的ACL操作\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-7042aa1fa1369eb38.png)\n\n## 通配符\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-8a0301b67a2235fc3.png)\n\n+ 0 表示严格匹配\n+ 1 表示无所谓\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-93289ca2dec660a11.png)\n\n### 通配符缩写\n192.168.1.1 0.0.0.0\t\t\t= host 192.168.1.1\n\n+ 精确匹配192.16.1.1这个IP\n\n---\n\n0.0.0.0 255.255.255.255 \t\t= any\n\n+ 匹配所有ip\n\n## 基础配置\n```plain\nRouter(config)# access-list access-list-number {permit|deny} source [wildcard mask]\nRouter(config-if)# ip access-group access-list-number {in|out}\n```\n\n+ 编号选择1-99\n+ 通配符若无，默认0.0.0.0\n+ `no access-list _access-list-number_`将会删除整个ACL列表\n+ 在接口中应用\n+ 应用时关联入或出站方向\n+ 默认出站\n+ `no ip access-group _access-list-number_`可移除接口上应用的访问列表\n\n```plain\nRouter(config)# access-list access-list-number {permit|deny} protocol source source-wildcard [operator port] destination destination-wildcard [operator port] [established] [log]\nRouter(config-if)# ip access-group access-list-number {in|out}\n```\n\n+ 在接口中应用\n+ 应用时关联入或出站方向","slug":"CCNA/ACL基础","published":1,"updated":"2025-08-02T10:16:12.996Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955yq0003g0fy2g663o0c","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><ul>\n<li>访问控制列表ACL（Access Control List）是由一条或多条规则组成的集合。所谓规则，是指描述报文匹配条件的判断语句，这些条件可以是报文的源地址、目的地址、端口号等。</li>\n<li>ACL本质上是一种报文过滤器，规则是过滤器的滤芯。设备基于这些规则进行报文匹配，可以过滤出特定的报文，并根据应用ACL的业务模块的处理策略来允许或阻止该报文通过。</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png\"></p>\n<h2 id=\"为什么要用ACL\"><a href=\"#为什么要用ACL\" class=\"headerlink\" title=\"为什么要用ACL\"></a>为什么要用ACL</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-1ff33b348f14d7bdf.png\"></p>\n<ul>\n<li>ACL的两大主要功能</li>\n<li>流量控制</li>\n<li>匹配感兴趣流量</li>\n</ul>\n<h2 id=\"ACL的类型\"><a href=\"#ACL的类型\" class=\"headerlink\" title=\"ACL的类型\"></a>ACL的类型</h2><h3 id=\"标准访问控制列表\"><a href=\"#标准访问控制列表\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>检查源地址</li>\n<li>通常允许或拒绝整个协议套件</li>\n</ul>\n<h3 id=\"扩展访问控制列表\"><a href=\"#扩展访问控制列表\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h3><ul>\n<li>检查源地址和目标地址</li>\n<li>通常允许或拒绝特定的协议和应用</li>\n</ul>\n<h3 id=\"用于识别标准ACL和扩展ACL的两种方法\"><a href=\"#用于识别标准ACL和扩展ACL的两种方法\" class=\"headerlink\" title=\"用于识别标准ACL和扩展ACL的两种方法\"></a>用于识别标准ACL和扩展ACL的两种方法</h3><ul>\n<li>编号ACL使用一个数字来识别</li>\n<li>命名ACL使用描述性名称或数字来标识</li>\n</ul>\n<h3 id=\"标准访问控制列表-1\"><a href=\"#标准访问控制列表-1\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>只能根据源地址做过滤</li>\n<li>针对整个协议采取相关动作（允许或禁止）</li>\n</ul>\n<p><img src=\"https://img.picgo.net/2024/11/19/image-2575da0debcc560ea.md.png\"></p>\n<h2 id=\"扩展访问控制列表-1\"><a href=\"#扩展访问控制列表-1\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h2><ul>\n<li>能根据源、目的地地址、端口号等等进行过滤</li>\n<li>能允许或拒绝特定的协议</li>\n<li><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-2575da0debcc560ea.png\"></li>\n</ul>\n<h2 id=\"ACL的标示\"><a href=\"#ACL的标示\" class=\"headerlink\" title=\"ACL的标示\"></a>ACL的标示</h2><h3 id=\"IPv4-ACL\"><a href=\"#IPv4-ACL\" class=\"headerlink\" title=\"IPv4 ACL\"></a>IPv4 ACL</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-4ac2cc35cbdfcb46c.png\"></p>\n<h2 id=\"出站及入站\"><a href=\"#出站及入站\" class=\"headerlink\" title=\"出站及入站\"></a>出站及入站</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-5e1632473fddc86b8.png\"></p>\n<h3 id=\"入方向的ACL操作\"><a href=\"#入方向的ACL操作\" class=\"headerlink\" title=\"入方向的ACL操作\"></a>入方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-6d383172498686b6a.png\"></p>\n<h3 id=\"出方向的ACL操作\"><a href=\"#出方向的ACL操作\" class=\"headerlink\" title=\"出方向的ACL操作\"></a>出方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-7042aa1fa1369eb38.png\"></p>\n<h2 id=\"通配符\"><a href=\"#通配符\" class=\"headerlink\" title=\"通配符\"></a>通配符</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-8a0301b67a2235fc3.png\"></p>\n<ul>\n<li>0 表示严格匹配</li>\n<li>1 表示无所谓</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-93289ca2dec660a11.png\"></p>\n<h3 id=\"通配符缩写\"><a href=\"#通配符缩写\" class=\"headerlink\" title=\"通配符缩写\"></a>通配符缩写</h3><p>192.168.1.1 0.0.0.0\t\t\t&#x3D; host 192.168.1.1</p>\n<ul>\n<li>精确匹配192.16.1.1这个IP</li>\n</ul>\n<hr>\n<p>0.0.0.0 255.255.255.255 \t\t&#x3D; any</p>\n<ul>\n<li>匹配所有ip</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; source [wildcard mask]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>编号选择1-99</li>\n<li>通配符若无，默认0.0.0.0</li>\n<li><code>no access-list _access-list-number_</code>将会删除整个ACL列表</li>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n<li>默认出站</li>\n<li><code>no ip access-group _access-list-number_</code>可移除接口上应用的访问列表</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; protocol source source-wildcard [operator port] destination destination-wildcard [operator port] [established] [log]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><ul>\n<li>访问控制列表ACL（Access Control List）是由一条或多条规则组成的集合。所谓规则，是指描述报文匹配条件的判断语句，这些条件可以是报文的源地址、目的地址、端口号等。</li>\n<li>ACL本质上是一种报文过滤器，规则是过滤器的滤芯。设备基于这些规则进行报文匹配，可以过滤出特定的报文，并根据应用ACL的业务模块的处理策略来允许或阻止该报文通过。</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png\"></p>\n<h2 id=\"为什么要用ACL\"><a href=\"#为什么要用ACL\" class=\"headerlink\" title=\"为什么要用ACL\"></a>为什么要用ACL</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-1ff33b348f14d7bdf.png\"></p>\n<ul>\n<li>ACL的两大主要功能</li>\n<li>流量控制</li>\n<li>匹配感兴趣流量</li>\n</ul>\n<h2 id=\"ACL的类型\"><a href=\"#ACL的类型\" class=\"headerlink\" title=\"ACL的类型\"></a>ACL的类型</h2><h3 id=\"标准访问控制列表\"><a href=\"#标准访问控制列表\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>检查源地址</li>\n<li>通常允许或拒绝整个协议套件</li>\n</ul>\n<h3 id=\"扩展访问控制列表\"><a href=\"#扩展访问控制列表\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h3><ul>\n<li>检查源地址和目标地址</li>\n<li>通常允许或拒绝特定的协议和应用</li>\n</ul>\n<h3 id=\"用于识别标准ACL和扩展ACL的两种方法\"><a href=\"#用于识别标准ACL和扩展ACL的两种方法\" class=\"headerlink\" title=\"用于识别标准ACL和扩展ACL的两种方法\"></a>用于识别标准ACL和扩展ACL的两种方法</h3><ul>\n<li>编号ACL使用一个数字来识别</li>\n<li>命名ACL使用描述性名称或数字来标识</li>\n</ul>\n<h3 id=\"标准访问控制列表-1\"><a href=\"#标准访问控制列表-1\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>只能根据源地址做过滤</li>\n<li>针对整个协议采取相关动作（允许或禁止）</li>\n</ul>\n<p><img src=\"https://img.picgo.net/2024/11/19/image-2575da0debcc560ea.md.png\"></p>\n<h2 id=\"扩展访问控制列表-1\"><a href=\"#扩展访问控制列表-1\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h2><ul>\n<li>能根据源、目的地地址、端口号等等进行过滤</li>\n<li>能允许或拒绝特定的协议</li>\n<li><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-2575da0debcc560ea.png\"></li>\n</ul>\n<h2 id=\"ACL的标示\"><a href=\"#ACL的标示\" class=\"headerlink\" title=\"ACL的标示\"></a>ACL的标示</h2><h3 id=\"IPv4-ACL\"><a href=\"#IPv4-ACL\" class=\"headerlink\" title=\"IPv4 ACL\"></a>IPv4 ACL</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-4ac2cc35cbdfcb46c.png\"></p>\n<h2 id=\"出站及入站\"><a href=\"#出站及入站\" class=\"headerlink\" title=\"出站及入站\"></a>出站及入站</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-5e1632473fddc86b8.png\"></p>\n<h3 id=\"入方向的ACL操作\"><a href=\"#入方向的ACL操作\" class=\"headerlink\" title=\"入方向的ACL操作\"></a>入方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-6d383172498686b6a.png\"></p>\n<h3 id=\"出方向的ACL操作\"><a href=\"#出方向的ACL操作\" class=\"headerlink\" title=\"出方向的ACL操作\"></a>出方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-7042aa1fa1369eb38.png\"></p>\n<h2 id=\"通配符\"><a href=\"#通配符\" class=\"headerlink\" title=\"通配符\"></a>通配符</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-8a0301b67a2235fc3.png\"></p>\n<ul>\n<li>0 表示严格匹配</li>\n<li>1 表示无所谓</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-93289ca2dec660a11.png\"></p>\n<h3 id=\"通配符缩写\"><a href=\"#通配符缩写\" class=\"headerlink\" title=\"通配符缩写\"></a>通配符缩写</h3><p>192.168.1.1 0.0.0.0\t\t\t&#x3D; host 192.168.1.1</p>\n<ul>\n<li>精确匹配192.16.1.1这个IP</li>\n</ul>\n<hr>\n<p>0.0.0.0 255.255.255.255 \t\t&#x3D; any</p>\n<ul>\n<li>匹配所有ip</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; source [wildcard mask]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>编号选择1-99</li>\n<li>通配符若无，默认0.0.0.0</li>\n<li><code>no access-list _access-list-number_</code>将会删除整个ACL列表</li>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n<li>默认出站</li>\n<li><code>no ip access-group _access-list-number_</code>可移除接口上应用的访问列表</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; protocol source source-wildcard [operator port] destination destination-wildcard [operator port] [established] [log]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n</ul>\n"},{"title":"EIGRP基础","summary":"酥米小机器人来啦，这篇文章主要介绍了EIGRP作为思科私有路由协议的基础知识，其从IGRP发展而来但算法大幅改进，采用D-V算法，在收敛速度、网络带宽和系统资源使用上有显著提升，具备无环路、快速收敛、支持大规模网络等优点；它是一种高级距离矢量协议，支持无类路由、VLSM和不连续子网，依赖DUAL算法确保最佳路径计算和备用路由；EIGRP的核心组件包括邻居表、拓扑表和路由表，通过Hello、更新、查询、应答及ACK等数据包进行路由交换，metric基于延迟和带宽计算，默认权重设置为延迟和带宽之和；它还支持快速收敛、触发更新、不等价负载均衡，并通过简单配置如在路由器上启用EIGRP并指定自治系统等相关命令来实现基本设置。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png","date":"2024-10-17T07:01:46.000Z","_content":"\n## 简介\nEIGRP是思科发明的一个私有路由协议，由IGRP发展而来，但是算法做了很大的改动。EIGRP和IGRP，RIP一样是一个采用D-V算法的动态路由协议，在收敛速度，占用网络带宽和系统资源等方面有了很大的改进，且有收敛快，无环路由计算，可以应用于大规模网络的优点。\n\n## 特点\n+ 高级距离矢量协议——具有距离矢量性和链路状态协议特征\n+ 无类路由协议——可划分子网、可聚合子网路由\n+ 支持VLSM与不连续子网\n+ 100%无环路——DUAL算法\n+ 快速收敛——路由条目用不更新，拥有备份路由\n+ 触发更新\n+ 低路由更新信息开销\n+ 配置简单\n+ 支持多种路由协议（IP、IPX、Appletalk、etc. ）\n\n## EIGRP的前身 IGRP\n懒得打字了，直接上图\n\n ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png)\n\n\n\n## 三张表\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(2).png)\n\n+ IP EIGRP Neighbor Table（EIGRP邻居表）\n+ IP EIGRP Topology Table（EIGRP技术表）\n+ The IP Routing Table（路由表）\n\n## EIGRP数据包\n### Hello分组\n\n以224.0.0.10发送，无需确认hello包\n\nEIGRP依靠分组来发现，验证和重新发现邻居router\n\n以固定时间发送hello包，改时间间隔与接口带宽有关\n\nLAN上默认为5S\n\n### 更新\n\nEIGRP协议的这些更新数据包只在必要的时候传递必要的信息,而且仅仅传递给需要路由信息的路由器。当只有某一指定的路由器需要路由更新时,更新数据包就是单播发送的;当有多台路由器需要路由更新时,更新数据包就是组播发送的以可靠的方式发送，需要确认\n\n### 查询\n\n当某条路由丢失，向邻居查询关于路由信息，通常靠组播方式发送，有时也用单播重传;可靠地发送\n\n### 应答\n\n响应查询分组，单播;可靠方式发送\n\n### 确认（ACK）\n\n以单播发送的HELLO包(不包含数据)，包含确认号。用来确认更新、查询和应答。ACK本身不需确认。\n\n## EIGRP的Metric\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(1).png)\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(3).png)\n\n+ 默认K1 = 1，K2 = 0，K3 = 1，K4 = 0，K5 = 0\n+ 延迟取值沿路所有数据出接口（或路由入口）延迟的累加\n    - DLY=延迟（US）/10 x 256\n+ 带宽取值沿路所有数据出接口（或路由入口）带宽的最低值\n    - BW=[10000000 / 带宽（Kbps）] x 256\n+ EIGRP路由metric默认为 延迟+带宽\n\n## DUAL算法\n+ Diffusing Update Algorithm 用于计算最佳无环路径和备用路径\n\n### 特点\n+ 无环拓扑\n+ 可立即使用的无环备用路径\n+ 快速收敛\n+ 低带宽利用率（通过限定更新实现）\n\n### 几个术语\n+ 后继路由器\n+ 可行距离（FD）\n+ 可行后继路由器（FS）\n+ 通告距离（AD）\n+ 可行距离，或称可行性条件（FC）\n\n### 后继与可行可行距离\n+ 后继路由器（Successors）：被实际选中作为到达一个目的地所使用的下一跳的路由器。该条路由保存在路由表中\n+ 可行距离（Feasible distance）：计算出通向目的网络的最小度量\n\n### 可行后继路由器及通告距离\n+ 可行后继（Feasible Successor）是一条备份路由，只保存在拓扑表中。要成为可行后继，下一跳路由器前往某个特定网络的AD必须比当前后继的FD小\n+ 通告距离（Advertise Distance）即为EIGRP邻居通向相同目的网络的他自己的可行距离\n\n`符合了可行性条件（Feasible Condition）是指当邻居通向一个网络的通告距离（AD）比本地路由器通向同一个目的网络的可行距离短时。`\n\n## EIGRP其他特性\n### 不等价负载均衡\n+ 最多支持等价的路径的条数不同的IOS版本不同进行负载（默认是4条）\n+ 可以通过maximum-paths修改\n\n\n\n## 基础配置\n```plain\nRouter(config)# router eigrp autonomous-system\nRouter(config-router)# network network-number [wildcard-mask]\n```","source":"_posts/CCNA/EIGRP基础.md","raw":"---\ntitle: EIGRP基础\nsummary: >-\n  酥米小机器人来啦，这篇文章主要介绍了EIGRP作为思科私有路由协议的基础知识，其从IGRP发展而来但算法大幅改进，采用D-V算法，在收敛速度、网络带宽和系统资源使用上有显著提升，具备无环路、快速收敛、支持大规模网络等优点；它是一种高级距离矢量协议，支持无类路由、VLSM和不连续子网，依赖DUAL算法确保最佳路径计算和备用路由；EIGRP的核心组件包括邻居表、拓扑表和路由表，通过Hello、更新、查询、应答及ACK等数据包进行路由交换，metric基于延迟和带宽计算，默认权重设置为延迟和带宽之和；它还支持快速收敛、触发更新、不等价负载均衡，并通过简单配置如在路由器上启用EIGRP并指定自治系统等相关命令来实现基本设置。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png\ndate: 2024-10-17 15:01:46\n---\n\n## 简介\nEIGRP是思科发明的一个私有路由协议，由IGRP发展而来，但是算法做了很大的改动。EIGRP和IGRP，RIP一样是一个采用D-V算法的动态路由协议，在收敛速度，占用网络带宽和系统资源等方面有了很大的改进，且有收敛快，无环路由计算，可以应用于大规模网络的优点。\n\n## 特点\n+ 高级距离矢量协议——具有距离矢量性和链路状态协议特征\n+ 无类路由协议——可划分子网、可聚合子网路由\n+ 支持VLSM与不连续子网\n+ 100%无环路——DUAL算法\n+ 快速收敛——路由条目用不更新，拥有备份路由\n+ 触发更新\n+ 低路由更新信息开销\n+ 配置简单\n+ 支持多种路由协议（IP、IPX、Appletalk、etc. ）\n\n## EIGRP的前身 IGRP\n懒得打字了，直接上图\n\n ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png)\n\n\n\n## 三张表\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(2).png)\n\n+ IP EIGRP Neighbor Table（EIGRP邻居表）\n+ IP EIGRP Topology Table（EIGRP技术表）\n+ The IP Routing Table（路由表）\n\n## EIGRP数据包\n### Hello分组\n\n以224.0.0.10发送，无需确认hello包\n\nEIGRP依靠分组来发现，验证和重新发现邻居router\n\n以固定时间发送hello包，改时间间隔与接口带宽有关\n\nLAN上默认为5S\n\n### 更新\n\nEIGRP协议的这些更新数据包只在必要的时候传递必要的信息,而且仅仅传递给需要路由信息的路由器。当只有某一指定的路由器需要路由更新时,更新数据包就是单播发送的;当有多台路由器需要路由更新时,更新数据包就是组播发送的以可靠的方式发送，需要确认\n\n### 查询\n\n当某条路由丢失，向邻居查询关于路由信息，通常靠组播方式发送，有时也用单播重传;可靠地发送\n\n### 应答\n\n响应查询分组，单播;可靠方式发送\n\n### 确认（ACK）\n\n以单播发送的HELLO包(不包含数据)，包含确认号。用来确认更新、查询和应答。ACK本身不需确认。\n\n## EIGRP的Metric\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(1).png)\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(3).png)\n\n+ 默认K1 = 1，K2 = 0，K3 = 1，K4 = 0，K5 = 0\n+ 延迟取值沿路所有数据出接口（或路由入口）延迟的累加\n    - DLY=延迟（US）/10 x 256\n+ 带宽取值沿路所有数据出接口（或路由入口）带宽的最低值\n    - BW=[10000000 / 带宽（Kbps）] x 256\n+ EIGRP路由metric默认为 延迟+带宽\n\n## DUAL算法\n+ Diffusing Update Algorithm 用于计算最佳无环路径和备用路径\n\n### 特点\n+ 无环拓扑\n+ 可立即使用的无环备用路径\n+ 快速收敛\n+ 低带宽利用率（通过限定更新实现）\n\n### 几个术语\n+ 后继路由器\n+ 可行距离（FD）\n+ 可行后继路由器（FS）\n+ 通告距离（AD）\n+ 可行距离，或称可行性条件（FC）\n\n### 后继与可行可行距离\n+ 后继路由器（Successors）：被实际选中作为到达一个目的地所使用的下一跳的路由器。该条路由保存在路由表中\n+ 可行距离（Feasible distance）：计算出通向目的网络的最小度量\n\n### 可行后继路由器及通告距离\n+ 可行后继（Feasible Successor）是一条备份路由，只保存在拓扑表中。要成为可行后继，下一跳路由器前往某个特定网络的AD必须比当前后继的FD小\n+ 通告距离（Advertise Distance）即为EIGRP邻居通向相同目的网络的他自己的可行距离\n\n`符合了可行性条件（Feasible Condition）是指当邻居通向一个网络的通告距离（AD）比本地路由器通向同一个目的网络的可行距离短时。`\n\n## EIGRP其他特性\n### 不等价负载均衡\n+ 最多支持等价的路径的条数不同的IOS版本不同进行负载（默认是4条）\n+ 可以通过maximum-paths修改\n\n\n\n## 基础配置\n```plain\nRouter(config)# router eigrp autonomous-system\nRouter(config-router)# network network-number [wildcard-mask]\n```","slug":"CCNA/EIGRP基础","published":1,"updated":"2025-08-02T10:16:12.992Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955yw0007g0fyb1qic0zz","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>EIGRP是思科发明的一个私有路由协议，由IGRP发展而来，但是算法做了很大的改动。EIGRP和IGRP，RIP一样是一个采用D-V算法的动态路由协议，在收敛速度，占用网络带宽和系统资源等方面有了很大的改进，且有收敛快，无环路由计算，可以应用于大规模网络的优点。</p>\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>高级距离矢量协议——具有距离矢量性和链路状态协议特征</li>\n<li>无类路由协议——可划分子网、可聚合子网路由</li>\n<li>支持VLSM与不连续子网</li>\n<li>100%无环路——DUAL算法</li>\n<li>快速收敛——路由条目用不更新，拥有备份路由</li>\n<li>触发更新</li>\n<li>低路由更新信息开销</li>\n<li>配置简单</li>\n<li>支持多种路由协议（IP、IPX、Appletalk、etc. ）</li>\n</ul>\n<h2 id=\"EIGRP的前身-IGRP\"><a href=\"#EIGRP的前身-IGRP\" class=\"headerlink\" title=\"EIGRP的前身 IGRP\"></a>EIGRP的前身 IGRP</h2><p>懒得打字了，直接上图</p>\n<p> <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png\"></p>\n<h2 id=\"三张表\"><a href=\"#三张表\" class=\"headerlink\" title=\"三张表\"></a>三张表</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(2).png\"></p>\n<ul>\n<li>IP EIGRP Neighbor Table（EIGRP邻居表）</li>\n<li>IP EIGRP Topology Table（EIGRP技术表）</li>\n<li>The IP Routing Table（路由表）</li>\n</ul>\n<h2 id=\"EIGRP数据包\"><a href=\"#EIGRP数据包\" class=\"headerlink\" title=\"EIGRP数据包\"></a>EIGRP数据包</h2><h3 id=\"Hello分组\"><a href=\"#Hello分组\" class=\"headerlink\" title=\"Hello分组\"></a>Hello分组</h3><p>以224.0.0.10发送，无需确认hello包</p>\n<p>EIGRP依靠分组来发现，验证和重新发现邻居router</p>\n<p>以固定时间发送hello包，改时间间隔与接口带宽有关</p>\n<p>LAN上默认为5S</p>\n<h3 id=\"更新\"><a href=\"#更新\" class=\"headerlink\" title=\"更新\"></a>更新</h3><p>EIGRP协议的这些更新数据包只在必要的时候传递必要的信息,而且仅仅传递给需要路由信息的路由器。当只有某一指定的路由器需要路由更新时,更新数据包就是单播发送的;当有多台路由器需要路由更新时,更新数据包就是组播发送的以可靠的方式发送，需要确认</p>\n<h3 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h3><p>当某条路由丢失，向邻居查询关于路由信息，通常靠组播方式发送，有时也用单播重传;可靠地发送</p>\n<h3 id=\"应答\"><a href=\"#应答\" class=\"headerlink\" title=\"应答\"></a>应答</h3><p>响应查询分组，单播;可靠方式发送</p>\n<h3 id=\"确认（ACK）\"><a href=\"#确认（ACK）\" class=\"headerlink\" title=\"确认（ACK）\"></a>确认（ACK）</h3><p>以单播发送的HELLO包(不包含数据)，包含确认号。用来确认更新、查询和应答。ACK本身不需确认。</p>\n<h2 id=\"EIGRP的Metric\"><a href=\"#EIGRP的Metric\" class=\"headerlink\" title=\"EIGRP的Metric\"></a>EIGRP的Metric</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(1).png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(3).png\"></p>\n<ul>\n<li>默认K1 &#x3D; 1，K2 &#x3D; 0，K3 &#x3D; 1，K4 &#x3D; 0，K5 &#x3D; 0</li>\n<li>延迟取值沿路所有数据出接口（或路由入口）延迟的累加<ul>\n<li>DLY&#x3D;延迟（US）&#x2F;10 x 256</li>\n</ul>\n</li>\n<li>带宽取值沿路所有数据出接口（或路由入口）带宽的最低值<ul>\n<li>BW&#x3D;[10000000 &#x2F; 带宽（Kbps）] x 256</li>\n</ul>\n</li>\n<li>EIGRP路由metric默认为 延迟+带宽</li>\n</ul>\n<h2 id=\"DUAL算法\"><a href=\"#DUAL算法\" class=\"headerlink\" title=\"DUAL算法\"></a>DUAL算法</h2><ul>\n<li>Diffusing Update Algorithm 用于计算最佳无环路径和备用路径</li>\n</ul>\n<h3 id=\"特点-1\"><a href=\"#特点-1\" class=\"headerlink\" title=\"特点\"></a>特点</h3><ul>\n<li>无环拓扑</li>\n<li>可立即使用的无环备用路径</li>\n<li>快速收敛</li>\n<li>低带宽利用率（通过限定更新实现）</li>\n</ul>\n<h3 id=\"几个术语\"><a href=\"#几个术语\" class=\"headerlink\" title=\"几个术语\"></a>几个术语</h3><ul>\n<li>后继路由器</li>\n<li>可行距离（FD）</li>\n<li>可行后继路由器（FS）</li>\n<li>通告距离（AD）</li>\n<li>可行距离，或称可行性条件（FC）</li>\n</ul>\n<h3 id=\"后继与可行可行距离\"><a href=\"#后继与可行可行距离\" class=\"headerlink\" title=\"后继与可行可行距离\"></a>后继与可行可行距离</h3><ul>\n<li>后继路由器（Successors）：被实际选中作为到达一个目的地所使用的下一跳的路由器。该条路由保存在路由表中</li>\n<li>可行距离（Feasible distance）：计算出通向目的网络的最小度量</li>\n</ul>\n<h3 id=\"可行后继路由器及通告距离\"><a href=\"#可行后继路由器及通告距离\" class=\"headerlink\" title=\"可行后继路由器及通告距离\"></a>可行后继路由器及通告距离</h3><ul>\n<li>可行后继（Feasible Successor）是一条备份路由，只保存在拓扑表中。要成为可行后继，下一跳路由器前往某个特定网络的AD必须比当前后继的FD小</li>\n<li>通告距离（Advertise Distance）即为EIGRP邻居通向相同目的网络的他自己的可行距离</li>\n</ul>\n<p><code>符合了可行性条件（Feasible Condition）是指当邻居通向一个网络的通告距离（AD）比本地路由器通向同一个目的网络的可行距离短时。</code></p>\n<h2 id=\"EIGRP其他特性\"><a href=\"#EIGRP其他特性\" class=\"headerlink\" title=\"EIGRP其他特性\"></a>EIGRP其他特性</h2><h3 id=\"不等价负载均衡\"><a href=\"#不等价负载均衡\" class=\"headerlink\" title=\"不等价负载均衡\"></a>不等价负载均衡</h3><ul>\n<li>最多支持等价的路径的条数不同的IOS版本不同进行负载（默认是4条）</li>\n<li>可以通过maximum-paths修改</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router eigrp autonomous-system</span><br><span class=\"line\">Router(config-router)# network network-number [wildcard-mask]</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>EIGRP是思科发明的一个私有路由协议，由IGRP发展而来，但是算法做了很大的改动。EIGRP和IGRP，RIP一样是一个采用D-V算法的动态路由协议，在收敛速度，占用网络带宽和系统资源等方面有了很大的改进，且有收敛快，无环路由计算，可以应用于大规模网络的优点。</p>\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>高级距离矢量协议——具有距离矢量性和链路状态协议特征</li>\n<li>无类路由协议——可划分子网、可聚合子网路由</li>\n<li>支持VLSM与不连续子网</li>\n<li>100%无环路——DUAL算法</li>\n<li>快速收敛——路由条目用不更新，拥有备份路由</li>\n<li>触发更新</li>\n<li>低路由更新信息开销</li>\n<li>配置简单</li>\n<li>支持多种路由协议（IP、IPX、Appletalk、etc. ）</li>\n</ul>\n<h2 id=\"EIGRP的前身-IGRP\"><a href=\"#EIGRP的前身-IGRP\" class=\"headerlink\" title=\"EIGRP的前身 IGRP\"></a>EIGRP的前身 IGRP</h2><p>懒得打字了，直接上图</p>\n<p> <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png\"></p>\n<h2 id=\"三张表\"><a href=\"#三张表\" class=\"headerlink\" title=\"三张表\"></a>三张表</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(2).png\"></p>\n<ul>\n<li>IP EIGRP Neighbor Table（EIGRP邻居表）</li>\n<li>IP EIGRP Topology Table（EIGRP技术表）</li>\n<li>The IP Routing Table（路由表）</li>\n</ul>\n<h2 id=\"EIGRP数据包\"><a href=\"#EIGRP数据包\" class=\"headerlink\" title=\"EIGRP数据包\"></a>EIGRP数据包</h2><h3 id=\"Hello分组\"><a href=\"#Hello分组\" class=\"headerlink\" title=\"Hello分组\"></a>Hello分组</h3><p>以224.0.0.10发送，无需确认hello包</p>\n<p>EIGRP依靠分组来发现，验证和重新发现邻居router</p>\n<p>以固定时间发送hello包，改时间间隔与接口带宽有关</p>\n<p>LAN上默认为5S</p>\n<h3 id=\"更新\"><a href=\"#更新\" class=\"headerlink\" title=\"更新\"></a>更新</h3><p>EIGRP协议的这些更新数据包只在必要的时候传递必要的信息,而且仅仅传递给需要路由信息的路由器。当只有某一指定的路由器需要路由更新时,更新数据包就是单播发送的;当有多台路由器需要路由更新时,更新数据包就是组播发送的以可靠的方式发送，需要确认</p>\n<h3 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h3><p>当某条路由丢失，向邻居查询关于路由信息，通常靠组播方式发送，有时也用单播重传;可靠地发送</p>\n<h3 id=\"应答\"><a href=\"#应答\" class=\"headerlink\" title=\"应答\"></a>应答</h3><p>响应查询分组，单播;可靠方式发送</p>\n<h3 id=\"确认（ACK）\"><a href=\"#确认（ACK）\" class=\"headerlink\" title=\"确认（ACK）\"></a>确认（ACK）</h3><p>以单播发送的HELLO包(不包含数据)，包含确认号。用来确认更新、查询和应答。ACK本身不需确认。</p>\n<h2 id=\"EIGRP的Metric\"><a href=\"#EIGRP的Metric\" class=\"headerlink\" title=\"EIGRP的Metric\"></a>EIGRP的Metric</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(1).png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(3).png\"></p>\n<ul>\n<li>默认K1 &#x3D; 1，K2 &#x3D; 0，K3 &#x3D; 1，K4 &#x3D; 0，K5 &#x3D; 0</li>\n<li>延迟取值沿路所有数据出接口（或路由入口）延迟的累加<ul>\n<li>DLY&#x3D;延迟（US）&#x2F;10 x 256</li>\n</ul>\n</li>\n<li>带宽取值沿路所有数据出接口（或路由入口）带宽的最低值<ul>\n<li>BW&#x3D;[10000000 &#x2F; 带宽（Kbps）] x 256</li>\n</ul>\n</li>\n<li>EIGRP路由metric默认为 延迟+带宽</li>\n</ul>\n<h2 id=\"DUAL算法\"><a href=\"#DUAL算法\" class=\"headerlink\" title=\"DUAL算法\"></a>DUAL算法</h2><ul>\n<li>Diffusing Update Algorithm 用于计算最佳无环路径和备用路径</li>\n</ul>\n<h3 id=\"特点-1\"><a href=\"#特点-1\" class=\"headerlink\" title=\"特点\"></a>特点</h3><ul>\n<li>无环拓扑</li>\n<li>可立即使用的无环备用路径</li>\n<li>快速收敛</li>\n<li>低带宽利用率（通过限定更新实现）</li>\n</ul>\n<h3 id=\"几个术语\"><a href=\"#几个术语\" class=\"headerlink\" title=\"几个术语\"></a>几个术语</h3><ul>\n<li>后继路由器</li>\n<li>可行距离（FD）</li>\n<li>可行后继路由器（FS）</li>\n<li>通告距离（AD）</li>\n<li>可行距离，或称可行性条件（FC）</li>\n</ul>\n<h3 id=\"后继与可行可行距离\"><a href=\"#后继与可行可行距离\" class=\"headerlink\" title=\"后继与可行可行距离\"></a>后继与可行可行距离</h3><ul>\n<li>后继路由器（Successors）：被实际选中作为到达一个目的地所使用的下一跳的路由器。该条路由保存在路由表中</li>\n<li>可行距离（Feasible distance）：计算出通向目的网络的最小度量</li>\n</ul>\n<h3 id=\"可行后继路由器及通告距离\"><a href=\"#可行后继路由器及通告距离\" class=\"headerlink\" title=\"可行后继路由器及通告距离\"></a>可行后继路由器及通告距离</h3><ul>\n<li>可行后继（Feasible Successor）是一条备份路由，只保存在拓扑表中。要成为可行后继，下一跳路由器前往某个特定网络的AD必须比当前后继的FD小</li>\n<li>通告距离（Advertise Distance）即为EIGRP邻居通向相同目的网络的他自己的可行距离</li>\n</ul>\n<p><code>符合了可行性条件（Feasible Condition）是指当邻居通向一个网络的通告距离（AD）比本地路由器通向同一个目的网络的可行距离短时。</code></p>\n<h2 id=\"EIGRP其他特性\"><a href=\"#EIGRP其他特性\" class=\"headerlink\" title=\"EIGRP其他特性\"></a>EIGRP其他特性</h2><h3 id=\"不等价负载均衡\"><a href=\"#不等价负载均衡\" class=\"headerlink\" title=\"不等价负载均衡\"></a>不等价负载均衡</h3><ul>\n<li>最多支持等价的路径的条数不同的IOS版本不同进行负载（默认是4条）</li>\n<li>可以通过maximum-paths修改</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router eigrp autonomous-system</span><br><span class=\"line\">Router(config-router)# network network-number [wildcard-mask]</span><br></pre></td></tr></table></figure>"},{"title":"NAT基础","summary":"酥米小机器人来啦，这篇文章介绍了NAT即网络地址转换于1994年被提出的技术，主要为了解决IPv4地址紧缺问题，通过将内部私有IP地址与公网IP地址对应，实现内部网络主机与外部网络通信，同时缓解IP地址不足但非永久解决方案，NAT技术的优点包括节省公有IP地址、解决网络地址重叠和避免重新编址，缺点则是破坏端对端IP追踪和导致一些应用层协议无法识别例如FTP，NAT分为静态NAT一对一转换、动态NAT从公共IP池中选择未使用地址转换以及端口复用PAT允许多个内部地址共享单一公网IP通过不同端口，私有空间地址包括A类10.0.0.0至10.255.255.255、B类172.16.0.0至172.31.255.255和C类192.168.0.0至192.168.255.255，NAT术语涉及内部本地外部本地内部全局和外部全局地址，基础配置示例包括静态NAT和动态NAT的命令行配置如ip nat inside source static命令和ip nat pool pool-name start-ip end-ip等，以及查看转换情况的show ip nat translations命令","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(4).png","date":"2024-10-17T07:01:46.000Z","_content":"\n## 简介\n即Network Address Translation，网络地址转换。于1994年被提出。当在专业网内部的一些主机本来已经分配到了本地IP地址（即在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（不需要加密的）的时候，就可以使用NAT技术。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(4).png)\n\n## 为什么需要NAT\n+ 主要为了解决IPv4地址紧缺的问题，通过将一个公网IP地址和多个私网IP相对应，从而解决IP地址不够用的情况，但是这种技术只是起到了缓解的作用，真正的方法还是得使用IPv6来解决。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(5).pngg)\n\n## NAT技术的优缺点\n### 优点\n+ 节省合法的公有的IP地址\n+ 地址重叠时，提供一个较为完善的解决方法\n+ 网络发生变化时，避免重新编址\n\n### 缺点\n+ 无法进行端对端的ip追踪（破坏了端对端通讯的平等性）\n+ 很多应用层无法识别（例如FTP协议）\n\n## NAT的三种类型\n### 静态NAT\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(1).png)\n\n+ 将内部本地地址与内部全局地址进行一对一的明确转换。这种方法主要用于内部网络中有对外提供服务的服务器，如WEB、MAIL服务器时。该方法的缺点是需要独占宝贵的合法IP地址。即如果某个合法IP地址已经被NAT静态地址转换定义，即使该地址当前没有被使用，也不能用作其他的地址转换。\n\n### 动态NAT\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(2).png)\n\n+ 动态地址转换也是将内部本地地址与内部全局地址进行一对一的转换。但是，是从内部全局地址池中动态地选择一个未使用的地址对内部本地地址进行转换。该地址是由未被使用的地址组成的地址池中在定义时排在最前面的一个。当数据传输完毕后，路由器将把使用完的内部全局地址放回到地址池中，以供其它内部本地地址进行转换。但是在该地址被使用时，不能用该地址再进行一次转换。\n\n### 端口复用PAT\n+ 复用地址转换也称为端口地址转换(PortAddressTranslation，PAT)，首先是一种动态地址转换。路由器将通过记录地址、应用程序端口等唯一标识一个转换。通过这种转换，可以使多个内部本地地址同时与同一个内部全局地址进行转换并对外部网络进行访问。对于只申请到少量IP地址甚至只有一个合法IP地址，却经常有很多用户同时要求上网的情况，这种转换方式非常有用\n+ 理想状况下，一个单一的IP地址可以使用的端口数为4000个\n\n## 私有空间地址\n+ A类：10.0.0.0 - 10.255.255.255\n+ B类：172.16.0.0 - 172.31.255.255\n+ C类：192.168.0.0 - 192.168.255.255\n\n## NAT术语\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(3).png)\n\n+ 内部本地——转换之前内部源地址的名字\n+ 外部本地——转换之前目标主机的名字\n+ 内部全局——转换之后内部主机的名字\n+ 外部全局——转换之后外部目标主机名字\n\n## 基础配置\n```plain\nRouter(config)# ip nat inside source static local-ip global-ip\nRouter(config)# ip nat inside\nRouter(config)# ip nat outside\nRouter# show ip nat translations #查看配置情况\n```\n\n```plain\nRouter(config)# ip nat pool name start-ip end-ip {netmask netmask | prefix-length prefix-length}\nRouter(config)# access-list access-list-number permit source [source-wildcard]\nRouter(config)# ip nat inside source list access-list-number pool name\nRouter# show ip nat translations #查看配置情况\n```\n\n```plain\nRouter(conflg)# access-list access-list-number permit source source-wildcard\nRouter(config)# ip nat inside source list access-list-number interface interface overload\nRouter# show ip nat translations #查看配置情况\n```","source":"_posts/CCNA/NAT基础.md","raw":"---\ntitle: NAT基础\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了NAT即网络地址转换于1994年被提出的技术，主要为了解决IPv4地址紧缺问题，通过将内部私有IP地址与公网IP地址对应，实现内部网络主机与外部网络通信，同时缓解IP地址不足但非永久解决方案，NAT技术的优点包括节省公有IP地址、解决网络地址重叠和避免重新编址，缺点则是破坏端对端IP追踪和导致一些应用层协议无法识别例如FTP，NAT分为静态NAT一对一转换、动态NAT从公共IP池中选择未使用地址转换以及端口复用PAT允许多个内部地址共享单一公网IP通过不同端口，私有空间地址包括A类10.0.0.0至10.255.255.255、B类172.16.0.0至172.31.255.255和C类192.168.0.0至192.168.255.255，NAT术语涉及内部本地外部本地内部全局和外部全局地址，基础配置示例包括静态NAT和动态NAT的命令行配置如ip\n  nat inside source static命令和ip nat pool pool-name start-ip\n  end-ip等，以及查看转换情况的show ip nat translations命令\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(4).png\ndate: 2024-10-17 15:01:46\n---\n\n## 简介\n即Network Address Translation，网络地址转换。于1994年被提出。当在专业网内部的一些主机本来已经分配到了本地IP地址（即在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（不需要加密的）的时候，就可以使用NAT技术。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(4).png)\n\n## 为什么需要NAT\n+ 主要为了解决IPv4地址紧缺的问题，通过将一个公网IP地址和多个私网IP相对应，从而解决IP地址不够用的情况，但是这种技术只是起到了缓解的作用，真正的方法还是得使用IPv6来解决。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(5).pngg)\n\n## NAT技术的优缺点\n### 优点\n+ 节省合法的公有的IP地址\n+ 地址重叠时，提供一个较为完善的解决方法\n+ 网络发生变化时，避免重新编址\n\n### 缺点\n+ 无法进行端对端的ip追踪（破坏了端对端通讯的平等性）\n+ 很多应用层无法识别（例如FTP协议）\n\n## NAT的三种类型\n### 静态NAT\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(1).png)\n\n+ 将内部本地地址与内部全局地址进行一对一的明确转换。这种方法主要用于内部网络中有对外提供服务的服务器，如WEB、MAIL服务器时。该方法的缺点是需要独占宝贵的合法IP地址。即如果某个合法IP地址已经被NAT静态地址转换定义，即使该地址当前没有被使用，也不能用作其他的地址转换。\n\n### 动态NAT\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(2).png)\n\n+ 动态地址转换也是将内部本地地址与内部全局地址进行一对一的转换。但是，是从内部全局地址池中动态地选择一个未使用的地址对内部本地地址进行转换。该地址是由未被使用的地址组成的地址池中在定义时排在最前面的一个。当数据传输完毕后，路由器将把使用完的内部全局地址放回到地址池中，以供其它内部本地地址进行转换。但是在该地址被使用时，不能用该地址再进行一次转换。\n\n### 端口复用PAT\n+ 复用地址转换也称为端口地址转换(PortAddressTranslation，PAT)，首先是一种动态地址转换。路由器将通过记录地址、应用程序端口等唯一标识一个转换。通过这种转换，可以使多个内部本地地址同时与同一个内部全局地址进行转换并对外部网络进行访问。对于只申请到少量IP地址甚至只有一个合法IP地址，却经常有很多用户同时要求上网的情况，这种转换方式非常有用\n+ 理想状况下，一个单一的IP地址可以使用的端口数为4000个\n\n## 私有空间地址\n+ A类：10.0.0.0 - 10.255.255.255\n+ B类：172.16.0.0 - 172.31.255.255\n+ C类：192.168.0.0 - 192.168.255.255\n\n## NAT术语\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(3).png)\n\n+ 内部本地——转换之前内部源地址的名字\n+ 外部本地——转换之前目标主机的名字\n+ 内部全局——转换之后内部主机的名字\n+ 外部全局——转换之后外部目标主机名字\n\n## 基础配置\n```plain\nRouter(config)# ip nat inside source static local-ip global-ip\nRouter(config)# ip nat inside\nRouter(config)# ip nat outside\nRouter# show ip nat translations #查看配置情况\n```\n\n```plain\nRouter(config)# ip nat pool name start-ip end-ip {netmask netmask | prefix-length prefix-length}\nRouter(config)# access-list access-list-number permit source [source-wildcard]\nRouter(config)# ip nat inside source list access-list-number pool name\nRouter# show ip nat translations #查看配置情况\n```\n\n```plain\nRouter(conflg)# access-list access-list-number permit source source-wildcard\nRouter(config)# ip nat inside source list access-list-number interface interface overload\nRouter# show ip nat translations #查看配置情况\n```","slug":"CCNA/NAT基础","published":1,"updated":"2025-08-02T10:16:12.990Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955yz0009g0fy2sfh7bqu","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>即Network Address Translation，网络地址转换。于1994年被提出。当在专业网内部的一些主机本来已经分配到了本地IP地址（即在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（不需要加密的）的时候，就可以使用NAT技术。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(4).png\"></p>\n<h2 id=\"为什么需要NAT\"><a href=\"#为什么需要NAT\" class=\"headerlink\" title=\"为什么需要NAT\"></a>为什么需要NAT</h2><ul>\n<li>主要为了解决IPv4地址紧缺的问题，通过将一个公网IP地址和多个私网IP相对应，从而解决IP地址不够用的情况，但是这种技术只是起到了缓解的作用，真正的方法还是得使用IPv6来解决。</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(5).pngg\"></p>\n<h2 id=\"NAT技术的优缺点\"><a href=\"#NAT技术的优缺点\" class=\"headerlink\" title=\"NAT技术的优缺点\"></a>NAT技术的优缺点</h2><h3 id=\"优点\"><a href=\"#优点\" class=\"headerlink\" title=\"优点\"></a>优点</h3><ul>\n<li>节省合法的公有的IP地址</li>\n<li>地址重叠时，提供一个较为完善的解决方法</li>\n<li>网络发生变化时，避免重新编址</li>\n</ul>\n<h3 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点\"></a>缺点</h3><ul>\n<li>无法进行端对端的ip追踪（破坏了端对端通讯的平等性）</li>\n<li>很多应用层无法识别（例如FTP协议）</li>\n</ul>\n<h2 id=\"NAT的三种类型\"><a href=\"#NAT的三种类型\" class=\"headerlink\" title=\"NAT的三种类型\"></a>NAT的三种类型</h2><h3 id=\"静态NAT\"><a href=\"#静态NAT\" class=\"headerlink\" title=\"静态NAT\"></a>静态NAT</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(1).png\"></p>\n<ul>\n<li>将内部本地地址与内部全局地址进行一对一的明确转换。这种方法主要用于内部网络中有对外提供服务的服务器，如WEB、MAIL服务器时。该方法的缺点是需要独占宝贵的合法IP地址。即如果某个合法IP地址已经被NAT静态地址转换定义，即使该地址当前没有被使用，也不能用作其他的地址转换。</li>\n</ul>\n<h3 id=\"动态NAT\"><a href=\"#动态NAT\" class=\"headerlink\" title=\"动态NAT\"></a>动态NAT</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(2).png\"></p>\n<ul>\n<li>动态地址转换也是将内部本地地址与内部全局地址进行一对一的转换。但是，是从内部全局地址池中动态地选择一个未使用的地址对内部本地地址进行转换。该地址是由未被使用的地址组成的地址池中在定义时排在最前面的一个。当数据传输完毕后，路由器将把使用完的内部全局地址放回到地址池中，以供其它内部本地地址进行转换。但是在该地址被使用时，不能用该地址再进行一次转换。</li>\n</ul>\n<h3 id=\"端口复用PAT\"><a href=\"#端口复用PAT\" class=\"headerlink\" title=\"端口复用PAT\"></a>端口复用PAT</h3><ul>\n<li>复用地址转换也称为端口地址转换(PortAddressTranslation，PAT)，首先是一种动态地址转换。路由器将通过记录地址、应用程序端口等唯一标识一个转换。通过这种转换，可以使多个内部本地地址同时与同一个内部全局地址进行转换并对外部网络进行访问。对于只申请到少量IP地址甚至只有一个合法IP地址，却经常有很多用户同时要求上网的情况，这种转换方式非常有用</li>\n<li>理想状况下，一个单一的IP地址可以使用的端口数为4000个</li>\n</ul>\n<h2 id=\"私有空间地址\"><a href=\"#私有空间地址\" class=\"headerlink\" title=\"私有空间地址\"></a>私有空间地址</h2><ul>\n<li>A类：10.0.0.0 - 10.255.255.255</li>\n<li>B类：172.16.0.0 - 172.31.255.255</li>\n<li>C类：192.168.0.0 - 192.168.255.255</li>\n</ul>\n<h2 id=\"NAT术语\"><a href=\"#NAT术语\" class=\"headerlink\" title=\"NAT术语\"></a>NAT术语</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(3).png\"></p>\n<ul>\n<li>内部本地——转换之前内部源地址的名字</li>\n<li>外部本地——转换之前目标主机的名字</li>\n<li>内部全局——转换之后内部主机的名字</li>\n<li>外部全局——转换之后外部目标主机名字</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# ip nat inside source static local-ip global-ip</span><br><span class=\"line\">Router(config)# ip nat inside</span><br><span class=\"line\">Router(config)# ip nat outside</span><br><span class=\"line\">Router# show ip nat translations #查看配置情况</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# ip nat pool name start-ip end-ip &#123;netmask netmask | prefix-length prefix-length&#125;</span><br><span class=\"line\">Router(config)# access-list access-list-number permit source [source-wildcard]</span><br><span class=\"line\">Router(config)# ip nat inside source list access-list-number pool name</span><br><span class=\"line\">Router# show ip nat translations #查看配置情况</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(conflg)# access-list access-list-number permit source source-wildcard</span><br><span class=\"line\">Router(config)# ip nat inside source list access-list-number interface interface overload</span><br><span class=\"line\">Router# show ip nat translations #查看配置情况</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>即Network Address Translation，网络地址转换。于1994年被提出。当在专业网内部的一些主机本来已经分配到了本地IP地址（即在本专用网内使用的专用地址），但现在又想和因特网上的主机通信（不需要加密的）的时候，就可以使用NAT技术。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(4).png\"></p>\n<h2 id=\"为什么需要NAT\"><a href=\"#为什么需要NAT\" class=\"headerlink\" title=\"为什么需要NAT\"></a>为什么需要NAT</h2><ul>\n<li>主要为了解决IPv4地址紧缺的问题，通过将一个公网IP地址和多个私网IP相对应，从而解决IP地址不够用的情况，但是这种技术只是起到了缓解的作用，真正的方法还是得使用IPv6来解决。</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(5).pngg\"></p>\n<h2 id=\"NAT技术的优缺点\"><a href=\"#NAT技术的优缺点\" class=\"headerlink\" title=\"NAT技术的优缺点\"></a>NAT技术的优缺点</h2><h3 id=\"优点\"><a href=\"#优点\" class=\"headerlink\" title=\"优点\"></a>优点</h3><ul>\n<li>节省合法的公有的IP地址</li>\n<li>地址重叠时，提供一个较为完善的解决方法</li>\n<li>网络发生变化时，避免重新编址</li>\n</ul>\n<h3 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点\"></a>缺点</h3><ul>\n<li>无法进行端对端的ip追踪（破坏了端对端通讯的平等性）</li>\n<li>很多应用层无法识别（例如FTP协议）</li>\n</ul>\n<h2 id=\"NAT的三种类型\"><a href=\"#NAT的三种类型\" class=\"headerlink\" title=\"NAT的三种类型\"></a>NAT的三种类型</h2><h3 id=\"静态NAT\"><a href=\"#静态NAT\" class=\"headerlink\" title=\"静态NAT\"></a>静态NAT</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(1).png\"></p>\n<ul>\n<li>将内部本地地址与内部全局地址进行一对一的明确转换。这种方法主要用于内部网络中有对外提供服务的服务器，如WEB、MAIL服务器时。该方法的缺点是需要独占宝贵的合法IP地址。即如果某个合法IP地址已经被NAT静态地址转换定义，即使该地址当前没有被使用，也不能用作其他的地址转换。</li>\n</ul>\n<h3 id=\"动态NAT\"><a href=\"#动态NAT\" class=\"headerlink\" title=\"动态NAT\"></a>动态NAT</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(2).png\"></p>\n<ul>\n<li>动态地址转换也是将内部本地地址与内部全局地址进行一对一的转换。但是，是从内部全局地址池中动态地选择一个未使用的地址对内部本地地址进行转换。该地址是由未被使用的地址组成的地址池中在定义时排在最前面的一个。当数据传输完毕后，路由器将把使用完的内部全局地址放回到地址池中，以供其它内部本地地址进行转换。但是在该地址被使用时，不能用该地址再进行一次转换。</li>\n</ul>\n<h3 id=\"端口复用PAT\"><a href=\"#端口复用PAT\" class=\"headerlink\" title=\"端口复用PAT\"></a>端口复用PAT</h3><ul>\n<li>复用地址转换也称为端口地址转换(PortAddressTranslation，PAT)，首先是一种动态地址转换。路由器将通过记录地址、应用程序端口等唯一标识一个转换。通过这种转换，可以使多个内部本地地址同时与同一个内部全局地址进行转换并对外部网络进行访问。对于只申请到少量IP地址甚至只有一个合法IP地址，却经常有很多用户同时要求上网的情况，这种转换方式非常有用</li>\n<li>理想状况下，一个单一的IP地址可以使用的端口数为4000个</li>\n</ul>\n<h2 id=\"私有空间地址\"><a href=\"#私有空间地址\" class=\"headerlink\" title=\"私有空间地址\"></a>私有空间地址</h2><ul>\n<li>A类：10.0.0.0 - 10.255.255.255</li>\n<li>B类：172.16.0.0 - 172.31.255.255</li>\n<li>C类：192.168.0.0 - 192.168.255.255</li>\n</ul>\n<h2 id=\"NAT术语\"><a href=\"#NAT术语\" class=\"headerlink\" title=\"NAT术语\"></a>NAT术语</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/NAT%20(3).png\"></p>\n<ul>\n<li>内部本地——转换之前内部源地址的名字</li>\n<li>外部本地——转换之前目标主机的名字</li>\n<li>内部全局——转换之后内部主机的名字</li>\n<li>外部全局——转换之后外部目标主机名字</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# ip nat inside source static local-ip global-ip</span><br><span class=\"line\">Router(config)# ip nat inside</span><br><span class=\"line\">Router(config)# ip nat outside</span><br><span class=\"line\">Router# show ip nat translations #查看配置情况</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# ip nat pool name start-ip end-ip &#123;netmask netmask | prefix-length prefix-length&#125;</span><br><span class=\"line\">Router(config)# access-list access-list-number permit source [source-wildcard]</span><br><span class=\"line\">Router(config)# ip nat inside source list access-list-number pool name</span><br><span class=\"line\">Router# show ip nat translations #查看配置情况</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(conflg)# access-list access-list-number permit source source-wildcard</span><br><span class=\"line\">Router(config)# ip nat inside source list access-list-number interface interface overload</span><br><span class=\"line\">Router# show ip nat translations #查看配置情况</span><br></pre></td></tr></table></figure>"},{"title":"OSI基础","summary":"酥米小机器人来啦，这篇文章介绍了OSI模型的基础，该模型是开放式系统互连的体系，共有7层，每层负责特定功能和提供服务：应用层为用户提供各种应用服务如文件传输、电子邮件等；表示层负责数据的格式化、加密和压缩，确保数据可读性和互操作性；会话层管理用户会话的建立、维护和结束，保持数据传输顺序完整性；传输层处理端到端通信，包括数据包分段重组和可靠传输；网络层根据网络地址进行路由选择，实现不同网络间通信；数据链路层将比特流转化为数据帧，涉及物理地址寻址、错误检测和纠正；物理层负责传输原始比特流，关注硬件设备间的数据交互。同时文章简要列出各层的代表协议，如应用层包括HTTP、FTP、SMTP，表示层涵盖SSL/TLS、JPEG、ASCII，会话层如NetBIOS、RPC，传输层有TCP、UDP，网络层包括IP、ICMP、ARP，数据链路层如PPP、HDLC、MAC，物理层则涉及Ethernet、Token Ring、RS-232。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image512f7952defa3ef1.png","date":"2024-10-17T07:01:46.000Z","_content":"\n---\n\n## 模型结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image512f7952defa3ef1.png)\n\n---\n\n## 各层级作用详解\n+ **7层**\t为用户提供各种应用服务，如文件传输、电子邮件等，是用户直接接触的层级\n+ **6层**\t负责数据的格式化、加密和压缩，确保数据的可读性，以及在不同系统间的互操作性\n+ **5层**\t管理用户会话的建立、维护和结束，确保数据传输的顺序和完整性\n+ **4层**\t负责端到端之间的通信，处理数据包的分段与重组，以及数据包的传输可靠性和正确性\n+ **3层**\t根据数据包的网络地址进行路由选择，实现不同网络之间的通信\n+ **2层**\t 负责将比特流转化为具有意义的数据帧，同时进行物理地址寻址、错误检测和纠正等\n+ **1层**\t负责传输比特流，主要关注硬件设备间如何传输数据\n\n---\n\n## 各层级代表协议\n+ **7层**\tHTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）\n+ **6层**\tSSL/TLS（Secure Sockets Layer/Transport Layer Security）、JPEG、ASCII\n+ **5层**\tNetBIOS（Network Basic Input/Output System）、RPC（Remote Procedure Call）\n+ **4层**\tTCP（Transmission Control Protocol）、UDP（User Datagram Protocol）\n+ **3层**\tIP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）\n+ **2层**\tPPP（Point-to-Point Protocol）、HDLC（High-Level Data Link Control）、MAC（Media Access Control）\n+ **1层**\tEthernet、Token Ring、RS-232","source":"_posts/CCNA/OSI基础.md","raw":"---\ntitle: OSI基础\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了OSI模型的基础，该模型是开放式系统互连的体系，共有7层，每层负责特定功能和提供服务：应用层为用户提供各种应用服务如文件传输、电子邮件等；表示层负责数据的格式化、加密和压缩，确保数据可读性和互操作性；会话层管理用户会话的建立、维护和结束，保持数据传输顺序完整性；传输层处理端到端通信，包括数据包分段重组和可靠传输；网络层根据网络地址进行路由选择，实现不同网络间通信；数据链路层将比特流转化为数据帧，涉及物理地址寻址、错误检测和纠正；物理层负责传输原始比特流，关注硬件设备间的数据交互。同时文章简要列出各层的代表协议，如应用层包括HTTP、FTP、SMTP，表示层涵盖SSL/TLS、JPEG、ASCII，会话层如NetBIOS、RPC，传输层有TCP、UDP，网络层包括IP、ICMP、ARP，数据链路层如PPP、HDLC、MAC，物理层则涉及Ethernet、Token\n  Ring、RS-232。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image512f7952defa3ef1.png\ndate: 2024-10-17 15:01:46\n---\n\n---\n\n## 模型结构\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image512f7952defa3ef1.png)\n\n---\n\n## 各层级作用详解\n+ **7层**\t为用户提供各种应用服务，如文件传输、电子邮件等，是用户直接接触的层级\n+ **6层**\t负责数据的格式化、加密和压缩，确保数据的可读性，以及在不同系统间的互操作性\n+ **5层**\t管理用户会话的建立、维护和结束，确保数据传输的顺序和完整性\n+ **4层**\t负责端到端之间的通信，处理数据包的分段与重组，以及数据包的传输可靠性和正确性\n+ **3层**\t根据数据包的网络地址进行路由选择，实现不同网络之间的通信\n+ **2层**\t 负责将比特流转化为具有意义的数据帧，同时进行物理地址寻址、错误检测和纠正等\n+ **1层**\t负责传输比特流，主要关注硬件设备间如何传输数据\n\n---\n\n## 各层级代表协议\n+ **7层**\tHTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）\n+ **6层**\tSSL/TLS（Secure Sockets Layer/Transport Layer Security）、JPEG、ASCII\n+ **5层**\tNetBIOS（Network Basic Input/Output System）、RPC（Remote Procedure Call）\n+ **4层**\tTCP（Transmission Control Protocol）、UDP（User Datagram Protocol）\n+ **3层**\tIP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）\n+ **2层**\tPPP（Point-to-Point Protocol）、HDLC（High-Level Data Link Control）、MAC（Media Access Control）\n+ **1层**\tEthernet、Token Ring、RS-232","slug":"CCNA/OSI基础","published":1,"updated":"2025-08-02T10:16:12.989Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955z1000bg0fybwnm01lp","content":"<hr>\n<h2 id=\"模型结构\"><a href=\"#模型结构\" class=\"headerlink\" title=\"模型结构\"></a>模型结构</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image512f7952defa3ef1.png\"></p>\n<hr>\n<h2 id=\"各层级作用详解\"><a href=\"#各层级作用详解\" class=\"headerlink\" title=\"各层级作用详解\"></a>各层级作用详解</h2><ul>\n<li><strong>7层</strong>\t为用户提供各种应用服务，如文件传输、电子邮件等，是用户直接接触的层级</li>\n<li><strong>6层</strong>\t负责数据的格式化、加密和压缩，确保数据的可读性，以及在不同系统间的互操作性</li>\n<li><strong>5层</strong>\t管理用户会话的建立、维护和结束，确保数据传输的顺序和完整性</li>\n<li><strong>4层</strong>\t负责端到端之间的通信，处理数据包的分段与重组，以及数据包的传输可靠性和正确性</li>\n<li><strong>3层</strong>\t根据数据包的网络地址进行路由选择，实现不同网络之间的通信</li>\n<li><strong>2层</strong>\t 负责将比特流转化为具有意义的数据帧，同时进行物理地址寻址、错误检测和纠正等</li>\n<li><strong>1层</strong>\t负责传输比特流，主要关注硬件设备间如何传输数据</li>\n</ul>\n<hr>\n<h2 id=\"各层级代表协议\"><a href=\"#各层级代表协议\" class=\"headerlink\" title=\"各层级代表协议\"></a>各层级代表协议</h2><ul>\n<li><strong>7层</strong>\tHTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）</li>\n<li><strong>6层</strong>\tSSL&#x2F;TLS（Secure Sockets Layer&#x2F;Transport Layer Security）、JPEG、ASCII</li>\n<li><strong>5层</strong>\tNetBIOS（Network Basic Input&#x2F;Output System）、RPC（Remote Procedure Call）</li>\n<li><strong>4层</strong>\tTCP（Transmission Control Protocol）、UDP（User Datagram Protocol）</li>\n<li><strong>3层</strong>\tIP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）</li>\n<li><strong>2层</strong>\tPPP（Point-to-Point Protocol）、HDLC（High-Level Data Link Control）、MAC（Media Access Control）</li>\n<li><strong>1层</strong>\tEthernet、Token Ring、RS-232</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<hr>\n<h2 id=\"模型结构\"><a href=\"#模型结构\" class=\"headerlink\" title=\"模型结构\"></a>模型结构</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image512f7952defa3ef1.png\"></p>\n<hr>\n<h2 id=\"各层级作用详解\"><a href=\"#各层级作用详解\" class=\"headerlink\" title=\"各层级作用详解\"></a>各层级作用详解</h2><ul>\n<li><strong>7层</strong>\t为用户提供各种应用服务，如文件传输、电子邮件等，是用户直接接触的层级</li>\n<li><strong>6层</strong>\t负责数据的格式化、加密和压缩，确保数据的可读性，以及在不同系统间的互操作性</li>\n<li><strong>5层</strong>\t管理用户会话的建立、维护和结束，确保数据传输的顺序和完整性</li>\n<li><strong>4层</strong>\t负责端到端之间的通信，处理数据包的分段与重组，以及数据包的传输可靠性和正确性</li>\n<li><strong>3层</strong>\t根据数据包的网络地址进行路由选择，实现不同网络之间的通信</li>\n<li><strong>2层</strong>\t 负责将比特流转化为具有意义的数据帧，同时进行物理地址寻址、错误检测和纠正等</li>\n<li><strong>1层</strong>\t负责传输比特流，主要关注硬件设备间如何传输数据</li>\n</ul>\n<hr>\n<h2 id=\"各层级代表协议\"><a href=\"#各层级代表协议\" class=\"headerlink\" title=\"各层级代表协议\"></a>各层级代表协议</h2><ul>\n<li><strong>7层</strong>\tHTTP（Hypertext Transfer Protocol）、FTP（File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）</li>\n<li><strong>6层</strong>\tSSL&#x2F;TLS（Secure Sockets Layer&#x2F;Transport Layer Security）、JPEG、ASCII</li>\n<li><strong>5层</strong>\tNetBIOS（Network Basic Input&#x2F;Output System）、RPC（Remote Procedure Call）</li>\n<li><strong>4层</strong>\tTCP（Transmission Control Protocol）、UDP（User Datagram Protocol）</li>\n<li><strong>3层</strong>\tIP（Internet Protocol）、ICMP（Internet Control Message Protocol）、ARP（Address Resolution Protocol）</li>\n<li><strong>2层</strong>\tPPP（Point-to-Point Protocol）、HDLC（High-Level Data Link Control）、MAC（Media Access Control）</li>\n<li><strong>1层</strong>\tEthernet、Token Ring、RS-232</li>\n</ul>\n"},{"title":"OSPF基础","summary":"酥米小机器人来啦，这篇文章介绍OSPF基础知识，OSPF是一种链路状态路由协议，无路由循环，管理距离为110，它通过SPF算法计算最短路径基于网络拓扑，采用开放式协议可在所有支持路由器上运行，核心包括建立邻接关系、Hello和DBD等报文类型、三张表邻居拓扑路由、RouterID选举和DR/BDR机制来优化多路访问网络，且网络类型如DMA和NBMA定义接口行为，OSPF区域支持路由汇总减少LSA泛洪和提升稳定性，配置实践涉及启用OSPF进程和宣告网络到区域，确保全网路由一致性","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(9).png","date":"2024-10-17T07:01:46.000Z","_content":"\n## 简介\n1.OSPF是一种链路状态路由协议，无路由循环（全局拓扑），RFC 2328\n\n2.OSPF采用开放的协议，并非EIGRP一类仅思科可用的专有协议，这意味着OSPF可以在所有支持的路由器上运行\n\n3.管理性距离：110\n\n### 采用SPF算法计算达到目的地的最短路径\n+ 什么是链路（link）？= 路由器的接口\n+ 什么叫状态（State）？= 是指接口以及其与邻居路由器之间的关系\n\n## 基本运行步骤\n1.建立邻接关系（Establish router adjacencies）\n\n2.必要的时候进行DR的选举（Elect the DR / BDR）\n\n3.发现路由（Discover routes）\n\n4.选择合适的路由器（Select appropriate routes）\n\n5.维护路由信息（Maintain routing information）\n\n## 网络类型\n### DMA\n DMA 广播型多路访问</span></summary><p id=\"ub2915ced\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(9).png\" width=\"434\" id=\"uc4008158\" class=\"ne-image\"></p></details>\n### Point-To-Point\n Point-to-Point 点对点\n <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(6).png\" width=\"413\" id=\"u0f335e14\" class=\"ne-image\"></p></details>\n### NBMA\n NBMA 非广播型多路访问</span></summary><p id=\"u0783e427\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(7).png\" width=\"432\" id=\"u22677836\" class=\"ne-image\"></p></details>\n\n\n### 报文类型\n+ **Hello** 建立和维护OSPF邻居关系\n+ **DBD** 链路状态数据库描述信息（描述LSDB中LSA头部信息）\n+ **LSR** 链路状态请求，向OSPF邻居请求链路状态信息\n+ **LSU** 链路状态更新（包含一条或多条LSA）\n+ **LSAck** 对LSU中的LSA进行确认\n\n## OSPF三张表类型\n### 邻居表（neighbor table）\n+ OSPF用邻居机制来发现和维持路由的存在，邻居表储存了双向通信的邻居关系OSPF路由器列表信息。\n\n### 拓扑表（topology table）\n+ OSPF用LSA（link state Advertisement 链路状态通告）来描述网络拓扑信息，然后OSPF路由器用拓扑数据库来存储网络的这些LSA。\n\n### OSPF路由表（routing table）\n+ 对链路状态数据库进行SPF（Dijkstra）计算，而得出OSPF路由表。\n\n## RouterID\n+ 用于标识OSPF路由器的ID，全网唯一性；可手动配置，也可以动态选举（有Loopback接口时，选择最高的Loopback IP地址；否则，选择最高活跃物理接口的IP地址）。\n\n> Router ID演示图![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(5).png)\n>\n\n## DR和BDR\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(12).png)\n\n+ 为减小多路访问网络中的OSPF流量，OSPF会选举一个指定路由器（DR）和一个备用指定路由器（BDR）。\n+ 选举规则：最高接口优先级被选作DR，如果优先级相等（默认为1），具有最高的路由器ID（Router-ID）的路由器被选举成DR，而且DR具有非抢占性\n+ 指定路由器（DR）：DR负责使用该变化信息更新其他所有OSPF路由器（DRouter）\n+ 备用指定路由器（BDR）：BDR会监控DR的状态，并在当前DR发生故障时接替其角色\n\n## 建立邻接关系-Hello包\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(10).png)\n\n+ Hello包用来发现OSPF邻居并建立相邻关系，通过组播地址：224.0.0.5 发送给 ALLSPFRouters\n+ 通告两台路由器建立相邻关系所必须统一的参数\n+ 在以太网和帧中继网络等多路访问网络中选举指定路由器（DR）和备用指定路由器（BDR）\n\n## OSPF metric\n+ 每个路由器都把自己当作根，并且给予累积成本（Cost值）来计算到达目的地的最短路径。\n+ Cost = 参考带宽（10^8）/接口带宽（b/s）\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(11).png)\n\n## LSA\n### LSU\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(1).png)\n\n+ 路由器收到包含变化后的LSA的LSU后，更新自己的链路状态数据库，过一段时间（SPF延迟），对更新的链路状态数据库执行SPF算法，必要时更新路由表。\n\n### LSA的泛洪-示例1\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(2).png)\n\n+ 路由器R3用224.0.0.6通知DR路由器及BDR的路由器\n+ DR、BDR监听224.0.0.6这一组播地址\n\n### LSA的泛洪-示例2\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(3).png)\n\n+ DR利用组播地址224.0.0.5通知其它路由器\n+ 所有的OSPF路由器监听224.0.0.5这一组播地址\n\n## OSPF区域\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(8).png)\n\n+ 在区域边界可以做路由汇总，减小了路由表\n+ 减少了LSA泛洪的范围，有效的把拓扑变化控制在区域内，提高了网络的稳定性\n+ 拓扑的变化影响可以只限制涉及本区域\n+ 多区域提高了网络的扩展性，有利于组建大规模的网络\n\n## 配置实践\n### 基本配置\n```plain\nRouter(config)# router ospf process-id #开启OSPF进程，process-id为进程id\nRouter(config-router)# network address wildcard-mask area area-id #宣告特定网络到OSPF区域\n```\n\n#### 通配符掩码\n+ 通配符是一个用于决定哪些IP地址位该精准匹配（0代表精准匹配）那些地址为被忽略的32位数值，通常用于处理访问控制列表（ACL）、OSPF、EIGRP等路由协议的网络通告。\n\n##### - 掩码</h5>\n1位表示网络位；0位表示主机位。掩码用于区分IP地址中的网络及主机部分\n\n##### - 通配符</h5>\n1位表示无所谓；0位表示需要严格匹配。通配符用于决定一个IP中的哪些位应该匹配\n\n### 基本配置 单区域-实例</h3>\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(4).png)\n\n```plain\nRouter(config)# router ospf 1\nRouter(config-if)# network 192.168.12.0 0.0.0.255 area 0\n```\n\n```plain\nRouter(config)# router ospf 1\nRouter(config-if)# network 192.168.12.0 0.0.0.255 area 0\nRouter(config-if)# network 192.168.23.0 0.0.0.255 area 0\n```\n\n```plain\nRouter(config)# router ospf 1\nRouter(config-if)# network 192.168.23.0 0.0.0.255 area 0\n```\n\n最后，使用` show ip ospf neighbor `命令，可以查看ospf配置是否成功配置生效。","source":"_posts/CCNA/OSPF基础.md","raw":"---\ntitle: OSPF基础\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍OSPF基础知识，OSPF是一种链路状态路由协议，无路由循环，管理距离为110，它通过SPF算法计算最短路径基于网络拓扑，采用开放式协议可在所有支持路由器上运行，核心包括建立邻接关系、Hello和DBD等报文类型、三张表邻居拓扑路由、RouterID选举和DR/BDR机制来优化多路访问网络，且网络类型如DMA和NBMA定义接口行为，OSPF区域支持路由汇总减少LSA泛洪和提升稳定性，配置实践涉及启用OSPF进程和宣告网络到区域，确保全网路由一致性\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(9).png\ndate: 2024-10-17 15:01:46\n---\n\n## 简介\n1.OSPF是一种链路状态路由协议，无路由循环（全局拓扑），RFC 2328\n\n2.OSPF采用开放的协议，并非EIGRP一类仅思科可用的专有协议，这意味着OSPF可以在所有支持的路由器上运行\n\n3.管理性距离：110\n\n### 采用SPF算法计算达到目的地的最短路径\n+ 什么是链路（link）？= 路由器的接口\n+ 什么叫状态（State）？= 是指接口以及其与邻居路由器之间的关系\n\n## 基本运行步骤\n1.建立邻接关系（Establish router adjacencies）\n\n2.必要的时候进行DR的选举（Elect the DR / BDR）\n\n3.发现路由（Discover routes）\n\n4.选择合适的路由器（Select appropriate routes）\n\n5.维护路由信息（Maintain routing information）\n\n## 网络类型\n### DMA\n DMA 广播型多路访问</span></summary><p id=\"ub2915ced\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(9).png\" width=\"434\" id=\"uc4008158\" class=\"ne-image\"></p></details>\n### Point-To-Point\n Point-to-Point 点对点\n <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(6).png\" width=\"413\" id=\"u0f335e14\" class=\"ne-image\"></p></details>\n### NBMA\n NBMA 非广播型多路访问</span></summary><p id=\"u0783e427\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(7).png\" width=\"432\" id=\"u22677836\" class=\"ne-image\"></p></details>\n\n\n### 报文类型\n+ **Hello** 建立和维护OSPF邻居关系\n+ **DBD** 链路状态数据库描述信息（描述LSDB中LSA头部信息）\n+ **LSR** 链路状态请求，向OSPF邻居请求链路状态信息\n+ **LSU** 链路状态更新（包含一条或多条LSA）\n+ **LSAck** 对LSU中的LSA进行确认\n\n## OSPF三张表类型\n### 邻居表（neighbor table）\n+ OSPF用邻居机制来发现和维持路由的存在，邻居表储存了双向通信的邻居关系OSPF路由器列表信息。\n\n### 拓扑表（topology table）\n+ OSPF用LSA（link state Advertisement 链路状态通告）来描述网络拓扑信息，然后OSPF路由器用拓扑数据库来存储网络的这些LSA。\n\n### OSPF路由表（routing table）\n+ 对链路状态数据库进行SPF（Dijkstra）计算，而得出OSPF路由表。\n\n## RouterID\n+ 用于标识OSPF路由器的ID，全网唯一性；可手动配置，也可以动态选举（有Loopback接口时，选择最高的Loopback IP地址；否则，选择最高活跃物理接口的IP地址）。\n\n> Router ID演示图![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(5).png)\n>\n\n## DR和BDR\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(12).png)\n\n+ 为减小多路访问网络中的OSPF流量，OSPF会选举一个指定路由器（DR）和一个备用指定路由器（BDR）。\n+ 选举规则：最高接口优先级被选作DR，如果优先级相等（默认为1），具有最高的路由器ID（Router-ID）的路由器被选举成DR，而且DR具有非抢占性\n+ 指定路由器（DR）：DR负责使用该变化信息更新其他所有OSPF路由器（DRouter）\n+ 备用指定路由器（BDR）：BDR会监控DR的状态，并在当前DR发生故障时接替其角色\n\n## 建立邻接关系-Hello包\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(10).png)\n\n+ Hello包用来发现OSPF邻居并建立相邻关系，通过组播地址：224.0.0.5 发送给 ALLSPFRouters\n+ 通告两台路由器建立相邻关系所必须统一的参数\n+ 在以太网和帧中继网络等多路访问网络中选举指定路由器（DR）和备用指定路由器（BDR）\n\n## OSPF metric\n+ 每个路由器都把自己当作根，并且给予累积成本（Cost值）来计算到达目的地的最短路径。\n+ Cost = 参考带宽（10^8）/接口带宽（b/s）\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(11).png)\n\n## LSA\n### LSU\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(1).png)\n\n+ 路由器收到包含变化后的LSA的LSU后，更新自己的链路状态数据库，过一段时间（SPF延迟），对更新的链路状态数据库执行SPF算法，必要时更新路由表。\n\n### LSA的泛洪-示例1\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(2).png)\n\n+ 路由器R3用224.0.0.6通知DR路由器及BDR的路由器\n+ DR、BDR监听224.0.0.6这一组播地址\n\n### LSA的泛洪-示例2\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(3).png)\n\n+ DR利用组播地址224.0.0.5通知其它路由器\n+ 所有的OSPF路由器监听224.0.0.5这一组播地址\n\n## OSPF区域\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(8).png)\n\n+ 在区域边界可以做路由汇总，减小了路由表\n+ 减少了LSA泛洪的范围，有效的把拓扑变化控制在区域内，提高了网络的稳定性\n+ 拓扑的变化影响可以只限制涉及本区域\n+ 多区域提高了网络的扩展性，有利于组建大规模的网络\n\n## 配置实践\n### 基本配置\n```plain\nRouter(config)# router ospf process-id #开启OSPF进程，process-id为进程id\nRouter(config-router)# network address wildcard-mask area area-id #宣告特定网络到OSPF区域\n```\n\n#### 通配符掩码\n+ 通配符是一个用于决定哪些IP地址位该精准匹配（0代表精准匹配）那些地址为被忽略的32位数值，通常用于处理访问控制列表（ACL）、OSPF、EIGRP等路由协议的网络通告。\n\n##### - 掩码</h5>\n1位表示网络位；0位表示主机位。掩码用于区分IP地址中的网络及主机部分\n\n##### - 通配符</h5>\n1位表示无所谓；0位表示需要严格匹配。通配符用于决定一个IP中的哪些位应该匹配\n\n### 基本配置 单区域-实例</h3>\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(4).png)\n\n```plain\nRouter(config)# router ospf 1\nRouter(config-if)# network 192.168.12.0 0.0.0.255 area 0\n```\n\n```plain\nRouter(config)# router ospf 1\nRouter(config-if)# network 192.168.12.0 0.0.0.255 area 0\nRouter(config-if)# network 192.168.23.0 0.0.0.255 area 0\n```\n\n```plain\nRouter(config)# router ospf 1\nRouter(config-if)# network 192.168.23.0 0.0.0.255 area 0\n```\n\n最后，使用` show ip ospf neighbor `命令，可以查看ospf配置是否成功配置生效。","slug":"CCNA/OSPF基础","published":1,"updated":"2025-08-02T10:16:12.989Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955z5000fg0fy8jamepqa","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>1.OSPF是一种链路状态路由协议，无路由循环（全局拓扑），RFC 2328</p>\n<p>2.OSPF采用开放的协议，并非EIGRP一类仅思科可用的专有协议，这意味着OSPF可以在所有支持的路由器上运行</p>\n<p>3.管理性距离：110</p>\n<h3 id=\"采用SPF算法计算达到目的地的最短路径\"><a href=\"#采用SPF算法计算达到目的地的最短路径\" class=\"headerlink\" title=\"采用SPF算法计算达到目的地的最短路径\"></a>采用SPF算法计算达到目的地的最短路径</h3><ul>\n<li>什么是链路（link）？&#x3D; 路由器的接口</li>\n<li>什么叫状态（State）？&#x3D; 是指接口以及其与邻居路由器之间的关系</li>\n</ul>\n<h2 id=\"基本运行步骤\"><a href=\"#基本运行步骤\" class=\"headerlink\" title=\"基本运行步骤\"></a>基本运行步骤</h2><p>1.建立邻接关系（Establish router adjacencies）</p>\n<p>2.必要的时候进行DR的选举（Elect the DR &#x2F; BDR）</p>\n<p>3.发现路由（Discover routes）</p>\n<p>4.选择合适的路由器（Select appropriate routes）</p>\n<p>5.维护路由信息（Maintain routing information）</p>\n<h2 id=\"网络类型\"><a href=\"#网络类型\" class=\"headerlink\" title=\"网络类型\"></a>网络类型</h2><h3 id=\"DMA\"><a href=\"#DMA\" class=\"headerlink\" title=\"DMA\"></a>DMA</h3><p> DMA 广播型多路访问</p><p id=\"ub2915ced\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(9).png\" width=\"434\" id=\"uc4008158\" class=\"ne-image\"></p><p></p>\n<h3 id=\"Point-To-Point\"><a href=\"#Point-To-Point\" class=\"headerlink\" title=\"Point-To-Point\"></a>Point-To-Point</h3><p> Point-to-Point 点对点<br> <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(6).png\" width=\"413\" id=\"u0f335e14\" class=\"ne-image\"></p><p></p>\n<h3 id=\"NBMA\"><a href=\"#NBMA\" class=\"headerlink\" title=\"NBMA\"></a>NBMA</h3><p> NBMA 非广播型多路访问</p><p id=\"u0783e427\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(7).png\" width=\"432\" id=\"u22677836\" class=\"ne-image\"></p><p></p>\n<h3 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h3><ul>\n<li><strong>Hello</strong> 建立和维护OSPF邻居关系</li>\n<li><strong>DBD</strong> 链路状态数据库描述信息（描述LSDB中LSA头部信息）</li>\n<li><strong>LSR</strong> 链路状态请求，向OSPF邻居请求链路状态信息</li>\n<li><strong>LSU</strong> 链路状态更新（包含一条或多条LSA）</li>\n<li><strong>LSAck</strong> 对LSU中的LSA进行确认</li>\n</ul>\n<h2 id=\"OSPF三张表类型\"><a href=\"#OSPF三张表类型\" class=\"headerlink\" title=\"OSPF三张表类型\"></a>OSPF三张表类型</h2><h3 id=\"邻居表（neighbor-table）\"><a href=\"#邻居表（neighbor-table）\" class=\"headerlink\" title=\"邻居表（neighbor table）\"></a>邻居表（neighbor table）</h3><ul>\n<li>OSPF用邻居机制来发现和维持路由的存在，邻居表储存了双向通信的邻居关系OSPF路由器列表信息。</li>\n</ul>\n<h3 id=\"拓扑表（topology-table）\"><a href=\"#拓扑表（topology-table）\" class=\"headerlink\" title=\"拓扑表（topology table）\"></a>拓扑表（topology table）</h3><ul>\n<li>OSPF用LSA（link state Advertisement 链路状态通告）来描述网络拓扑信息，然后OSPF路由器用拓扑数据库来存储网络的这些LSA。</li>\n</ul>\n<h3 id=\"OSPF路由表（routing-table）\"><a href=\"#OSPF路由表（routing-table）\" class=\"headerlink\" title=\"OSPF路由表（routing table）\"></a>OSPF路由表（routing table）</h3><ul>\n<li>对链路状态数据库进行SPF（Dijkstra）计算，而得出OSPF路由表。</li>\n</ul>\n<h2 id=\"RouterID\"><a href=\"#RouterID\" class=\"headerlink\" title=\"RouterID\"></a>RouterID</h2><ul>\n<li>用于标识OSPF路由器的ID，全网唯一性；可手动配置，也可以动态选举（有Loopback接口时，选择最高的Loopback IP地址；否则，选择最高活跃物理接口的IP地址）。</li>\n</ul>\n<blockquote>\n<p>Router ID演示图<img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(5).png\"></p>\n</blockquote>\n<h2 id=\"DR和BDR\"><a href=\"#DR和BDR\" class=\"headerlink\" title=\"DR和BDR\"></a>DR和BDR</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(12).png\"></p>\n<ul>\n<li>为减小多路访问网络中的OSPF流量，OSPF会选举一个指定路由器（DR）和一个备用指定路由器（BDR）。</li>\n<li>选举规则：最高接口优先级被选作DR，如果优先级相等（默认为1），具有最高的路由器ID（Router-ID）的路由器被选举成DR，而且DR具有非抢占性</li>\n<li>指定路由器（DR）：DR负责使用该变化信息更新其他所有OSPF路由器（DRouter）</li>\n<li>备用指定路由器（BDR）：BDR会监控DR的状态，并在当前DR发生故障时接替其角色</li>\n</ul>\n<h2 id=\"建立邻接关系-Hello包\"><a href=\"#建立邻接关系-Hello包\" class=\"headerlink\" title=\"建立邻接关系-Hello包\"></a>建立邻接关系-Hello包</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(10).png\"></p>\n<ul>\n<li>Hello包用来发现OSPF邻居并建立相邻关系，通过组播地址：224.0.0.5 发送给 ALLSPFRouters</li>\n<li>通告两台路由器建立相邻关系所必须统一的参数</li>\n<li>在以太网和帧中继网络等多路访问网络中选举指定路由器（DR）和备用指定路由器（BDR）</li>\n</ul>\n<h2 id=\"OSPF-metric\"><a href=\"#OSPF-metric\" class=\"headerlink\" title=\"OSPF metric\"></a>OSPF metric</h2><ul>\n<li>每个路由器都把自己当作根，并且给予累积成本（Cost值）来计算到达目的地的最短路径。</li>\n<li>Cost &#x3D; 参考带宽（10^8）&#x2F;接口带宽（b&#x2F;s）</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(11).png\"></p>\n<h2 id=\"LSA\"><a href=\"#LSA\" class=\"headerlink\" title=\"LSA\"></a>LSA</h2><h3 id=\"LSU\"><a href=\"#LSU\" class=\"headerlink\" title=\"LSU\"></a>LSU</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(1).png\"></p>\n<ul>\n<li>路由器收到包含变化后的LSA的LSU后，更新自己的链路状态数据库，过一段时间（SPF延迟），对更新的链路状态数据库执行SPF算法，必要时更新路由表。</li>\n</ul>\n<h3 id=\"LSA的泛洪-示例1\"><a href=\"#LSA的泛洪-示例1\" class=\"headerlink\" title=\"LSA的泛洪-示例1\"></a>LSA的泛洪-示例1</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(2).png\"></p>\n<ul>\n<li>路由器R3用224.0.0.6通知DR路由器及BDR的路由器</li>\n<li>DR、BDR监听224.0.0.6这一组播地址</li>\n</ul>\n<h3 id=\"LSA的泛洪-示例2\"><a href=\"#LSA的泛洪-示例2\" class=\"headerlink\" title=\"LSA的泛洪-示例2\"></a>LSA的泛洪-示例2</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(3).png\"></p>\n<ul>\n<li>DR利用组播地址224.0.0.5通知其它路由器</li>\n<li>所有的OSPF路由器监听224.0.0.5这一组播地址</li>\n</ul>\n<h2 id=\"OSPF区域\"><a href=\"#OSPF区域\" class=\"headerlink\" title=\"OSPF区域\"></a>OSPF区域</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(8).png\"></p>\n<ul>\n<li>在区域边界可以做路由汇总，减小了路由表</li>\n<li>减少了LSA泛洪的范围，有效的把拓扑变化控制在区域内，提高了网络的稳定性</li>\n<li>拓扑的变化影响可以只限制涉及本区域</li>\n<li>多区域提高了网络的扩展性，有利于组建大规模的网络</li>\n</ul>\n<h2 id=\"配置实践\"><a href=\"#配置实践\" class=\"headerlink\" title=\"配置实践\"></a>配置实践</h2><h3 id=\"基本配置\"><a href=\"#基本配置\" class=\"headerlink\" title=\"基本配置\"></a>基本配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf process-id #开启OSPF进程，process-id为进程id</span><br><span class=\"line\">Router(config-router)# network address wildcard-mask area area-id #宣告特定网络到OSPF区域</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"通配符掩码\"><a href=\"#通配符掩码\" class=\"headerlink\" title=\"通配符掩码\"></a>通配符掩码</h4><ul>\n<li>通配符是一个用于决定哪些IP地址位该精准匹配（0代表精准匹配）那些地址为被忽略的32位数值，通常用于处理访问控制列表（ACL）、OSPF、EIGRP等路由协议的网络通告。</li>\n</ul>\n<h5 id=\"掩码\"><a href=\"#掩码\" class=\"headerlink\" title=\"- 掩码\"></a>- 掩码</h5><p>1位表示网络位；0位表示主机位。掩码用于区分IP地址中的网络及主机部分</p>\n<h5 id=\"通配符\"><a href=\"#通配符\" class=\"headerlink\" title=\"- 通配符\"></a>- 通配符</h5><p>1位表示无所谓；0位表示需要严格匹配。通配符用于决定一个IP中的哪些位应该匹配</p>\n<h3 id=\"基本配置-单区域-实例\"><a href=\"#基本配置-单区域-实例\" class=\"headerlink\" title=\"基本配置 单区域-实例\"></a>基本配置 单区域-实例</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(4).png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf 1</span><br><span class=\"line\">Router(config-if)# network 192.168.12.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf 1</span><br><span class=\"line\">Router(config-if)# network 192.168.12.0 0.0.0.255 area 0</span><br><span class=\"line\">Router(config-if)# network 192.168.23.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf 1</span><br><span class=\"line\">Router(config-if)# network 192.168.23.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<p>最后，使用<code>show ip ospf neighbor</code>命令，可以查看ospf配置是否成功配置生效。</p>\n","cover_type":"img","excerpt":"","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>1.OSPF是一种链路状态路由协议，无路由循环（全局拓扑），RFC 2328</p>\n<p>2.OSPF采用开放的协议，并非EIGRP一类仅思科可用的专有协议，这意味着OSPF可以在所有支持的路由器上运行</p>\n<p>3.管理性距离：110</p>\n<h3 id=\"采用SPF算法计算达到目的地的最短路径\"><a href=\"#采用SPF算法计算达到目的地的最短路径\" class=\"headerlink\" title=\"采用SPF算法计算达到目的地的最短路径\"></a>采用SPF算法计算达到目的地的最短路径</h3><ul>\n<li>什么是链路（link）？&#x3D; 路由器的接口</li>\n<li>什么叫状态（State）？&#x3D; 是指接口以及其与邻居路由器之间的关系</li>\n</ul>\n<h2 id=\"基本运行步骤\"><a href=\"#基本运行步骤\" class=\"headerlink\" title=\"基本运行步骤\"></a>基本运行步骤</h2><p>1.建立邻接关系（Establish router adjacencies）</p>\n<p>2.必要的时候进行DR的选举（Elect the DR &#x2F; BDR）</p>\n<p>3.发现路由（Discover routes）</p>\n<p>4.选择合适的路由器（Select appropriate routes）</p>\n<p>5.维护路由信息（Maintain routing information）</p>\n<h2 id=\"网络类型\"><a href=\"#网络类型\" class=\"headerlink\" title=\"网络类型\"></a>网络类型</h2><h3 id=\"DMA\"><a href=\"#DMA\" class=\"headerlink\" title=\"DMA\"></a>DMA</h3><p> DMA 广播型多路访问</p><p id=\"ub2915ced\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(9).png\" width=\"434\" id=\"uc4008158\" class=\"ne-image\"></p><p></p>\n<h3 id=\"Point-To-Point\"><a href=\"#Point-To-Point\" class=\"headerlink\" title=\"Point-To-Point\"></a>Point-To-Point</h3><p> Point-to-Point 点对点<br> <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(6).png\" width=\"413\" id=\"u0f335e14\" class=\"ne-image\"></p><p></p>\n<h3 id=\"NBMA\"><a href=\"#NBMA\" class=\"headerlink\" title=\"NBMA\"></a>NBMA</h3><p> NBMA 非广播型多路访问</p><p id=\"u0783e427\" class=\"ne-p\"><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(7).png\" width=\"432\" id=\"u22677836\" class=\"ne-image\"></p><p></p>\n<h3 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h3><ul>\n<li><strong>Hello</strong> 建立和维护OSPF邻居关系</li>\n<li><strong>DBD</strong> 链路状态数据库描述信息（描述LSDB中LSA头部信息）</li>\n<li><strong>LSR</strong> 链路状态请求，向OSPF邻居请求链路状态信息</li>\n<li><strong>LSU</strong> 链路状态更新（包含一条或多条LSA）</li>\n<li><strong>LSAck</strong> 对LSU中的LSA进行确认</li>\n</ul>\n<h2 id=\"OSPF三张表类型\"><a href=\"#OSPF三张表类型\" class=\"headerlink\" title=\"OSPF三张表类型\"></a>OSPF三张表类型</h2><h3 id=\"邻居表（neighbor-table）\"><a href=\"#邻居表（neighbor-table）\" class=\"headerlink\" title=\"邻居表（neighbor table）\"></a>邻居表（neighbor table）</h3><ul>\n<li>OSPF用邻居机制来发现和维持路由的存在，邻居表储存了双向通信的邻居关系OSPF路由器列表信息。</li>\n</ul>\n<h3 id=\"拓扑表（topology-table）\"><a href=\"#拓扑表（topology-table）\" class=\"headerlink\" title=\"拓扑表（topology table）\"></a>拓扑表（topology table）</h3><ul>\n<li>OSPF用LSA（link state Advertisement 链路状态通告）来描述网络拓扑信息，然后OSPF路由器用拓扑数据库来存储网络的这些LSA。</li>\n</ul>\n<h3 id=\"OSPF路由表（routing-table）\"><a href=\"#OSPF路由表（routing-table）\" class=\"headerlink\" title=\"OSPF路由表（routing table）\"></a>OSPF路由表（routing table）</h3><ul>\n<li>对链路状态数据库进行SPF（Dijkstra）计算，而得出OSPF路由表。</li>\n</ul>\n<h2 id=\"RouterID\"><a href=\"#RouterID\" class=\"headerlink\" title=\"RouterID\"></a>RouterID</h2><ul>\n<li>用于标识OSPF路由器的ID，全网唯一性；可手动配置，也可以动态选举（有Loopback接口时，选择最高的Loopback IP地址；否则，选择最高活跃物理接口的IP地址）。</li>\n</ul>\n<blockquote>\n<p>Router ID演示图<img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(5).png\"></p>\n</blockquote>\n<h2 id=\"DR和BDR\"><a href=\"#DR和BDR\" class=\"headerlink\" title=\"DR和BDR\"></a>DR和BDR</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(12).png\"></p>\n<ul>\n<li>为减小多路访问网络中的OSPF流量，OSPF会选举一个指定路由器（DR）和一个备用指定路由器（BDR）。</li>\n<li>选举规则：最高接口优先级被选作DR，如果优先级相等（默认为1），具有最高的路由器ID（Router-ID）的路由器被选举成DR，而且DR具有非抢占性</li>\n<li>指定路由器（DR）：DR负责使用该变化信息更新其他所有OSPF路由器（DRouter）</li>\n<li>备用指定路由器（BDR）：BDR会监控DR的状态，并在当前DR发生故障时接替其角色</li>\n</ul>\n<h2 id=\"建立邻接关系-Hello包\"><a href=\"#建立邻接关系-Hello包\" class=\"headerlink\" title=\"建立邻接关系-Hello包\"></a>建立邻接关系-Hello包</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(10).png\"></p>\n<ul>\n<li>Hello包用来发现OSPF邻居并建立相邻关系，通过组播地址：224.0.0.5 发送给 ALLSPFRouters</li>\n<li>通告两台路由器建立相邻关系所必须统一的参数</li>\n<li>在以太网和帧中继网络等多路访问网络中选举指定路由器（DR）和备用指定路由器（BDR）</li>\n</ul>\n<h2 id=\"OSPF-metric\"><a href=\"#OSPF-metric\" class=\"headerlink\" title=\"OSPF metric\"></a>OSPF metric</h2><ul>\n<li>每个路由器都把自己当作根，并且给予累积成本（Cost值）来计算到达目的地的最短路径。</li>\n<li>Cost &#x3D; 参考带宽（10^8）&#x2F;接口带宽（b&#x2F;s）</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(11).png\"></p>\n<h2 id=\"LSA\"><a href=\"#LSA\" class=\"headerlink\" title=\"LSA\"></a>LSA</h2><h3 id=\"LSU\"><a href=\"#LSU\" class=\"headerlink\" title=\"LSU\"></a>LSU</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(1).png\"></p>\n<ul>\n<li>路由器收到包含变化后的LSA的LSU后，更新自己的链路状态数据库，过一段时间（SPF延迟），对更新的链路状态数据库执行SPF算法，必要时更新路由表。</li>\n</ul>\n<h3 id=\"LSA的泛洪-示例1\"><a href=\"#LSA的泛洪-示例1\" class=\"headerlink\" title=\"LSA的泛洪-示例1\"></a>LSA的泛洪-示例1</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(2).png\"></p>\n<ul>\n<li>路由器R3用224.0.0.6通知DR路由器及BDR的路由器</li>\n<li>DR、BDR监听224.0.0.6这一组播地址</li>\n</ul>\n<h3 id=\"LSA的泛洪-示例2\"><a href=\"#LSA的泛洪-示例2\" class=\"headerlink\" title=\"LSA的泛洪-示例2\"></a>LSA的泛洪-示例2</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(3).png\"></p>\n<ul>\n<li>DR利用组播地址224.0.0.5通知其它路由器</li>\n<li>所有的OSPF路由器监听224.0.0.5这一组播地址</li>\n</ul>\n<h2 id=\"OSPF区域\"><a href=\"#OSPF区域\" class=\"headerlink\" title=\"OSPF区域\"></a>OSPF区域</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(8).png\"></p>\n<ul>\n<li>在区域边界可以做路由汇总，减小了路由表</li>\n<li>减少了LSA泛洪的范围，有效的把拓扑变化控制在区域内，提高了网络的稳定性</li>\n<li>拓扑的变化影响可以只限制涉及本区域</li>\n<li>多区域提高了网络的扩展性，有利于组建大规模的网络</li>\n</ul>\n<h2 id=\"配置实践\"><a href=\"#配置实践\" class=\"headerlink\" title=\"配置实践\"></a>配置实践</h2><h3 id=\"基本配置\"><a href=\"#基本配置\" class=\"headerlink\" title=\"基本配置\"></a>基本配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf process-id #开启OSPF进程，process-id为进程id</span><br><span class=\"line\">Router(config-router)# network address wildcard-mask area area-id #宣告特定网络到OSPF区域</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"通配符掩码\"><a href=\"#通配符掩码\" class=\"headerlink\" title=\"通配符掩码\"></a>通配符掩码</h4><ul>\n<li>通配符是一个用于决定哪些IP地址位该精准匹配（0代表精准匹配）那些地址为被忽略的32位数值，通常用于处理访问控制列表（ACL）、OSPF、EIGRP等路由协议的网络通告。</li>\n</ul>\n<h5 id=\"掩码\"><a href=\"#掩码\" class=\"headerlink\" title=\"- 掩码\"></a>- 掩码</h5><p>1位表示网络位；0位表示主机位。掩码用于区分IP地址中的网络及主机部分</p>\n<h5 id=\"通配符\"><a href=\"#通配符\" class=\"headerlink\" title=\"- 通配符\"></a>- 通配符</h5><p>1位表示无所谓；0位表示需要严格匹配。通配符用于决定一个IP中的哪些位应该匹配</p>\n<h3 id=\"基本配置-单区域-实例\"><a href=\"#基本配置-单区域-实例\" class=\"headerlink\" title=\"基本配置 单区域-实例\"></a>基本配置 单区域-实例</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OSPF%20(4).png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf 1</span><br><span class=\"line\">Router(config-if)# network 192.168.12.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf 1</span><br><span class=\"line\">Router(config-if)# network 192.168.12.0 0.0.0.255 area 0</span><br><span class=\"line\">Router(config-if)# network 192.168.23.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf 1</span><br><span class=\"line\">Router(config-if)# network 192.168.23.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<p>最后，使用<code>show ip ospf neighbor</code>命令，可以查看ospf配置是否成功配置生效。</p>\n"},{"title":"RIP基础","summary":"酥米小机器人来啦，这篇文章介绍了RIP（Routing Information Protocol）一种内部网关协议，基于距离矢量算法使用跳数度量路由距离和目的地址RIP分为v1和v2版本v1支持有类路由不支持VLSM通过广播更新而v2支持无类路由VLSM通过组播更新优化了网络通信运行机制包括开启RIP进程构建路由表以及四个定时器如更新定时器30秒老化定时器180秒和垃圾收集定时器120秒用于维护和防止路由信息过时触发更新机制缩短收敛时间水平分割和毒化逆转防止环路兼顾抑制计时确保路由稳定RIP报文包括命令字段版本字段等关键字段RIPV2更先进支持更多功能如路由标记等配置实践涉及宣告网络地址和设置版本帮助实施动态路由策略","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(2).png","date":"2024-10-17T07:01:46.000Z","_content":"\n## 简介\nRIP是一种内部网关协议（IGP），是一种动态路由选择协议，用于自治系统（AS）内的路由信息传递。\n\nRIP协议基于距离矢量算法（Distance Vector Algorithms），使用“跳数”（metric）来衡量到达目的地址的路由距离。\n\nRIP通过UDP报文进行路由进行路由信息交换，使用的端口为520.\n\nRIP包括v1和v2两个版本\n\n## RIP的版本比较\n**<font style=\"background-color:#D8DAD9;\">RIP V1 **\n有类路由协议\n不支持VLSM\n广播更新255.255.255.255\n\n**<font style=\"background-color:#D8DAD9;\">RIP V2 **\n无类路由协议\n支持VLSM\n组播更新224.0.0.9\n\n\n## 基础运行步骤（四个定时器）\n+ 开启RIP进程，宣告接口，开始接收报文，发送UDP报文\n+ 根据收到的RIP报文构建自己的路由表\n+ 每隔30S发送更新报文来更新维护路由表“更新定时器”\n+ 路由器为自己的每条路由表项启动180S的“老化定时器”。180s内如果收到了更新报文，则重置定时器\n+ 如果上面180S到期，则启动120S的“垃圾收集定时器”，同时将该路由表项度量值置为16\n+ 120S过后，路由器仍未收到相应路由表项的更新，则路由器删除该表项\n+ 当RIP设备收到对端cost为16的路由更新时，为防止路由震荡，启动“抑制定时器”，在这个定时器超时前，不再接受对端任何路由\n\n## 触发更新\n可以缩短网络收敛时间，一个路由表最多等待120S才能被删除（垃圾收集时间）；如果不存在触发更新，最多需要等待300S（老化时间+垃圾收集时间）\n\n## 水平分割\n+ RIP从某个接口学到的路由，不会从该接口再回发给邻居路由器。\n+ 作用减少带宽损耗，防止路由环路。也解决了“坏消息传播得慢”\n\n## 毒化逆转\n+ 一个接口学来的路由项，把度量值改为16再原路发回去，也可以避免环路发生，实践中使用比较少。\n\n## 抑制计时\n+ 一条路由信息无效之后，一段时间内这条路由都处于抑制状态，即在一定时间内不再接收关于同一目的地址的路由更新。\n+ 如果，路由器从一个网段上得知一条路径失效，然后，立即在另一个网段上得知这个路由有效。这个有效的信息往往是不正确的，抑制计时避免了这个问题，而且，当一条链路频繁起停时，抑制计时减少了路由的浮动，增加了网络的稳定性。\n\n## 报文类型\n> RIPV1 引用至华为文档\n>\n> ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(2).png)\n>\n\n+ **命令字段**（Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 \n+ **版本字段** （Version）：在RIP-1中，该字段取值为1。 \n+ **址族标识符** （Address family identifier）：该字段值为2表示IP协议，如果该报文为Request报文并且用于向直连路由设备请求整张路由表，则该字段值被设置为0，同时这个Request报文中包含且仅包含一个路由条目，该路由的目的网络地址为0.0.0.0，度量值为16。 \n+ **IP地址** （IP address）：路由的目的网络地址。 \n+ **度量值** （Metric）：该路由的度量值。 \n\n> RIP V2 引用至华为文档\n>\n> ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(1).png)\n>\n\n+ **命令字段** （Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 \n+ **版本字段** （Version）：在RIP-2中，该字段取值为2。 \n+ **地址族标识符** （Address Family Identifier）：与RIP-1类似。 \n+ **路由标记**（Route Tag）：用于为路由设置标记信息，可以在路由策略中根据Tag对路由进行灵活的控制。例如，当一条外部路由被引入RIP从而形成一条RIP路由时，RIP可以为该路由设置路由标记，当这条路由在整个RIP路由域传播时，路由标记不会丢失。 \n+ **IP地址** （IP Address）：路由的目的网络地址。 \n+ **网络掩码** （Subnet Mask）：用于存储路由条目的目的网络掩码，RIP-2进而支持可变长子网掩码（VLSM，Variable Length Subnet Mask），支持路由聚合和CIDR（Classless Inter-Domain Routing）。 \n+ **下一跳** （Next Hop）：RIP-2定义了该字段，避免路由设备在多路访问网络上可以表面次优路径现象，在广播网上可以选择到最优下一跳地址。 \n+ **度量值** （Metric）：该路由的度量值。 \n\n## 配置实践\n### 基础配置\n```plain\nRouter(config)# router rip\nRouter(config-if)# network address #宣告网段\nRouter(config-if)# version 2 #使用RIPv2版本的RIP协议\n```\n\n                                                                          \n   \n ","source":"_posts/CCNA/RIP基础.md","raw":"---\ntitle: RIP基础\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了RIP（Routing Information\n  Protocol）一种内部网关协议，基于距离矢量算法使用跳数度量路由距离和目的地址RIP分为v1和v2版本v1支持有类路由不支持VLSM通过广播更新而v2支持无类路由VLSM通过组播更新优化了网络通信运行机制包括开启RIP进程构建路由表以及四个定时器如更新定时器30秒老化定时器180秒和垃圾收集定时器120秒用于维护和防止路由信息过时触发更新机制缩短收敛时间水平分割和毒化逆转防止环路兼顾抑制计时确保路由稳定RIP报文包括命令字段版本字段等关键字段RIPV2更先进支持更多功能如路由标记等配置实践涉及宣告网络地址和设置版本帮助实施动态路由策略\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(2).png\ndate: 2024-10-17 15:01:46\n---\n\n## 简介\nRIP是一种内部网关协议（IGP），是一种动态路由选择协议，用于自治系统（AS）内的路由信息传递。\n\nRIP协议基于距离矢量算法（Distance Vector Algorithms），使用“跳数”（metric）来衡量到达目的地址的路由距离。\n\nRIP通过UDP报文进行路由进行路由信息交换，使用的端口为520.\n\nRIP包括v1和v2两个版本\n\n## RIP的版本比较\n**<font style=\"background-color:#D8DAD9;\">RIP V1 **\n有类路由协议\n不支持VLSM\n广播更新255.255.255.255\n\n**<font style=\"background-color:#D8DAD9;\">RIP V2 **\n无类路由协议\n支持VLSM\n组播更新224.0.0.9\n\n\n## 基础运行步骤（四个定时器）\n+ 开启RIP进程，宣告接口，开始接收报文，发送UDP报文\n+ 根据收到的RIP报文构建自己的路由表\n+ 每隔30S发送更新报文来更新维护路由表“更新定时器”\n+ 路由器为自己的每条路由表项启动180S的“老化定时器”。180s内如果收到了更新报文，则重置定时器\n+ 如果上面180S到期，则启动120S的“垃圾收集定时器”，同时将该路由表项度量值置为16\n+ 120S过后，路由器仍未收到相应路由表项的更新，则路由器删除该表项\n+ 当RIP设备收到对端cost为16的路由更新时，为防止路由震荡，启动“抑制定时器”，在这个定时器超时前，不再接受对端任何路由\n\n## 触发更新\n可以缩短网络收敛时间，一个路由表最多等待120S才能被删除（垃圾收集时间）；如果不存在触发更新，最多需要等待300S（老化时间+垃圾收集时间）\n\n## 水平分割\n+ RIP从某个接口学到的路由，不会从该接口再回发给邻居路由器。\n+ 作用减少带宽损耗，防止路由环路。也解决了“坏消息传播得慢”\n\n## 毒化逆转\n+ 一个接口学来的路由项，把度量值改为16再原路发回去，也可以避免环路发生，实践中使用比较少。\n\n## 抑制计时\n+ 一条路由信息无效之后，一段时间内这条路由都处于抑制状态，即在一定时间内不再接收关于同一目的地址的路由更新。\n+ 如果，路由器从一个网段上得知一条路径失效，然后，立即在另一个网段上得知这个路由有效。这个有效的信息往往是不正确的，抑制计时避免了这个问题，而且，当一条链路频繁起停时，抑制计时减少了路由的浮动，增加了网络的稳定性。\n\n## 报文类型\n> RIPV1 引用至华为文档\n>\n> ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(2).png)\n>\n\n+ **命令字段**（Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 \n+ **版本字段** （Version）：在RIP-1中，该字段取值为1。 \n+ **址族标识符** （Address family identifier）：该字段值为2表示IP协议，如果该报文为Request报文并且用于向直连路由设备请求整张路由表，则该字段值被设置为0，同时这个Request报文中包含且仅包含一个路由条目，该路由的目的网络地址为0.0.0.0，度量值为16。 \n+ **IP地址** （IP address）：路由的目的网络地址。 \n+ **度量值** （Metric）：该路由的度量值。 \n\n> RIP V2 引用至华为文档\n>\n> ![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(1).png)\n>\n\n+ **命令字段** （Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 \n+ **版本字段** （Version）：在RIP-2中，该字段取值为2。 \n+ **地址族标识符** （Address Family Identifier）：与RIP-1类似。 \n+ **路由标记**（Route Tag）：用于为路由设置标记信息，可以在路由策略中根据Tag对路由进行灵活的控制。例如，当一条外部路由被引入RIP从而形成一条RIP路由时，RIP可以为该路由设置路由标记，当这条路由在整个RIP路由域传播时，路由标记不会丢失。 \n+ **IP地址** （IP Address）：路由的目的网络地址。 \n+ **网络掩码** （Subnet Mask）：用于存储路由条目的目的网络掩码，RIP-2进而支持可变长子网掩码（VLSM，Variable Length Subnet Mask），支持路由聚合和CIDR（Classless Inter-Domain Routing）。 \n+ **下一跳** （Next Hop）：RIP-2定义了该字段，避免路由设备在多路访问网络上可以表面次优路径现象，在广播网上可以选择到最优下一跳地址。 \n+ **度量值** （Metric）：该路由的度量值。 \n\n## 配置实践\n### 基础配置\n```plain\nRouter(config)# router rip\nRouter(config-if)# network address #宣告网段\nRouter(config-if)# version 2 #使用RIPv2版本的RIP协议\n```\n\n                                                                          \n   \n ","slug":"CCNA/RIP基础","published":1,"updated":"2025-08-02T10:16:12.986Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955z8000hg0fy05ye57d6","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>RIP是一种内部网关协议（IGP），是一种动态路由选择协议，用于自治系统（AS）内的路由信息传递。</p>\n<p>RIP协议基于距离矢量算法（Distance Vector Algorithms），使用“跳数”（metric）来衡量到达目的地址的路由距离。</p>\n<p>RIP通过UDP报文进行路由进行路由信息交换，使用的端口为520.</p>\n<p>RIP包括v1和v2两个版本</p>\n<h2 id=\"RIP的版本比较\"><a href=\"#RIP的版本比较\" class=\"headerlink\" title=\"RIP的版本比较\"></a>RIP的版本比较</h2><p>**<font style=\"background-color:#D8DAD9;\">RIP V1 **<br>有类路由协议<br>不支持VLSM<br>广播更新255.255.255.255</font></p>\n<p>**<font style=\"background-color:#D8DAD9;\">RIP V2 **<br>无类路由协议<br>支持VLSM<br>组播更新224.0.0.9</font></p>\n<h2 id=\"基础运行步骤（四个定时器）\"><a href=\"#基础运行步骤（四个定时器）\" class=\"headerlink\" title=\"基础运行步骤（四个定时器）\"></a>基础运行步骤（四个定时器）</h2><ul>\n<li>开启RIP进程，宣告接口，开始接收报文，发送UDP报文</li>\n<li>根据收到的RIP报文构建自己的路由表</li>\n<li>每隔30S发送更新报文来更新维护路由表“更新定时器”</li>\n<li>路由器为自己的每条路由表项启动180S的“老化定时器”。180s内如果收到了更新报文，则重置定时器</li>\n<li>如果上面180S到期，则启动120S的“垃圾收集定时器”，同时将该路由表项度量值置为16</li>\n<li>120S过后，路由器仍未收到相应路由表项的更新，则路由器删除该表项</li>\n<li>当RIP设备收到对端cost为16的路由更新时，为防止路由震荡，启动“抑制定时器”，在这个定时器超时前，不再接受对端任何路由</li>\n</ul>\n<h2 id=\"触发更新\"><a href=\"#触发更新\" class=\"headerlink\" title=\"触发更新\"></a>触发更新</h2><p>可以缩短网络收敛时间，一个路由表最多等待120S才能被删除（垃圾收集时间）；如果不存在触发更新，最多需要等待300S（老化时间+垃圾收集时间）</p>\n<h2 id=\"水平分割\"><a href=\"#水平分割\" class=\"headerlink\" title=\"水平分割\"></a>水平分割</h2><ul>\n<li>RIP从某个接口学到的路由，不会从该接口再回发给邻居路由器。</li>\n<li>作用减少带宽损耗，防止路由环路。也解决了“坏消息传播得慢”</li>\n</ul>\n<h2 id=\"毒化逆转\"><a href=\"#毒化逆转\" class=\"headerlink\" title=\"毒化逆转\"></a>毒化逆转</h2><ul>\n<li>一个接口学来的路由项，把度量值改为16再原路发回去，也可以避免环路发生，实践中使用比较少。</li>\n</ul>\n<h2 id=\"抑制计时\"><a href=\"#抑制计时\" class=\"headerlink\" title=\"抑制计时\"></a>抑制计时</h2><ul>\n<li>一条路由信息无效之后，一段时间内这条路由都处于抑制状态，即在一定时间内不再接收关于同一目的地址的路由更新。</li>\n<li>如果，路由器从一个网段上得知一条路径失效，然后，立即在另一个网段上得知这个路由有效。这个有效的信息往往是不正确的，抑制计时避免了这个问题，而且，当一条链路频繁起停时，抑制计时减少了路由的浮动，增加了网络的稳定性。</li>\n</ul>\n<h2 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h2><blockquote>\n<p>RIPV1 引用至华为文档</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(2).png\"></p>\n</blockquote>\n<ul>\n<li><strong>命令字段</strong>（Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 </li>\n<li><strong>版本字段</strong> （Version）：在RIP-1中，该字段取值为1。 </li>\n<li><strong>址族标识符</strong> （Address family identifier）：该字段值为2表示IP协议，如果该报文为Request报文并且用于向直连路由设备请求整张路由表，则该字段值被设置为0，同时这个Request报文中包含且仅包含一个路由条目，该路由的目的网络地址为0.0.0.0，度量值为16。 </li>\n<li><strong>IP地址</strong> （IP address）：路由的目的网络地址。 </li>\n<li><strong>度量值</strong> （Metric）：该路由的度量值。</li>\n</ul>\n<blockquote>\n<p>RIP V2 引用至华为文档</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(1).png\"></p>\n</blockquote>\n<ul>\n<li><strong>命令字段</strong> （Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 </li>\n<li><strong>版本字段</strong> （Version）：在RIP-2中，该字段取值为2。 </li>\n<li><strong>地址族标识符</strong> （Address Family Identifier）：与RIP-1类似。 </li>\n<li><strong>路由标记</strong>（Route Tag）：用于为路由设置标记信息，可以在路由策略中根据Tag对路由进行灵活的控制。例如，当一条外部路由被引入RIP从而形成一条RIP路由时，RIP可以为该路由设置路由标记，当这条路由在整个RIP路由域传播时，路由标记不会丢失。 </li>\n<li><strong>IP地址</strong> （IP Address）：路由的目的网络地址。 </li>\n<li><strong>网络掩码</strong> （Subnet Mask）：用于存储路由条目的目的网络掩码，RIP-2进而支持可变长子网掩码（VLSM，Variable Length Subnet Mask），支持路由聚合和CIDR（Classless Inter-Domain Routing）。 </li>\n<li><strong>下一跳</strong> （Next Hop）：RIP-2定义了该字段，避免路由设备在多路访问网络上可以表面次优路径现象，在广播网上可以选择到最优下一跳地址。 </li>\n<li><strong>度量值</strong> （Metric）：该路由的度量值。</li>\n</ul>\n<h2 id=\"配置实践\"><a href=\"#配置实践\" class=\"headerlink\" title=\"配置实践\"></a>配置实践</h2><h3 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router rip</span><br><span class=\"line\">Router(config-if)# network address #宣告网段</span><br><span class=\"line\">Router(config-if)# version 2 #使用RIPv2版本的RIP协议</span><br></pre></td></tr></table></figure>\n\n","cover_type":"img","excerpt":"","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>RIP是一种内部网关协议（IGP），是一种动态路由选择协议，用于自治系统（AS）内的路由信息传递。</p>\n<p>RIP协议基于距离矢量算法（Distance Vector Algorithms），使用“跳数”（metric）来衡量到达目的地址的路由距离。</p>\n<p>RIP通过UDP报文进行路由进行路由信息交换，使用的端口为520.</p>\n<p>RIP包括v1和v2两个版本</p>\n<h2 id=\"RIP的版本比较\"><a href=\"#RIP的版本比较\" class=\"headerlink\" title=\"RIP的版本比较\"></a>RIP的版本比较</h2><p>**<font style=\"background-color:#D8DAD9;\">RIP V1 **<br>有类路由协议<br>不支持VLSM<br>广播更新255.255.255.255</font></p>\n<p>**<font style=\"background-color:#D8DAD9;\">RIP V2 **<br>无类路由协议<br>支持VLSM<br>组播更新224.0.0.9</font></p>\n<h2 id=\"基础运行步骤（四个定时器）\"><a href=\"#基础运行步骤（四个定时器）\" class=\"headerlink\" title=\"基础运行步骤（四个定时器）\"></a>基础运行步骤（四个定时器）</h2><ul>\n<li>开启RIP进程，宣告接口，开始接收报文，发送UDP报文</li>\n<li>根据收到的RIP报文构建自己的路由表</li>\n<li>每隔30S发送更新报文来更新维护路由表“更新定时器”</li>\n<li>路由器为自己的每条路由表项启动180S的“老化定时器”。180s内如果收到了更新报文，则重置定时器</li>\n<li>如果上面180S到期，则启动120S的“垃圾收集定时器”，同时将该路由表项度量值置为16</li>\n<li>120S过后，路由器仍未收到相应路由表项的更新，则路由器删除该表项</li>\n<li>当RIP设备收到对端cost为16的路由更新时，为防止路由震荡，启动“抑制定时器”，在这个定时器超时前，不再接受对端任何路由</li>\n</ul>\n<h2 id=\"触发更新\"><a href=\"#触发更新\" class=\"headerlink\" title=\"触发更新\"></a>触发更新</h2><p>可以缩短网络收敛时间，一个路由表最多等待120S才能被删除（垃圾收集时间）；如果不存在触发更新，最多需要等待300S（老化时间+垃圾收集时间）</p>\n<h2 id=\"水平分割\"><a href=\"#水平分割\" class=\"headerlink\" title=\"水平分割\"></a>水平分割</h2><ul>\n<li>RIP从某个接口学到的路由，不会从该接口再回发给邻居路由器。</li>\n<li>作用减少带宽损耗，防止路由环路。也解决了“坏消息传播得慢”</li>\n</ul>\n<h2 id=\"毒化逆转\"><a href=\"#毒化逆转\" class=\"headerlink\" title=\"毒化逆转\"></a>毒化逆转</h2><ul>\n<li>一个接口学来的路由项，把度量值改为16再原路发回去，也可以避免环路发生，实践中使用比较少。</li>\n</ul>\n<h2 id=\"抑制计时\"><a href=\"#抑制计时\" class=\"headerlink\" title=\"抑制计时\"></a>抑制计时</h2><ul>\n<li>一条路由信息无效之后，一段时间内这条路由都处于抑制状态，即在一定时间内不再接收关于同一目的地址的路由更新。</li>\n<li>如果，路由器从一个网段上得知一条路径失效，然后，立即在另一个网段上得知这个路由有效。这个有效的信息往往是不正确的，抑制计时避免了这个问题，而且，当一条链路频繁起停时，抑制计时减少了路由的浮动，增加了网络的稳定性。</li>\n</ul>\n<h2 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h2><blockquote>\n<p>RIPV1 引用至华为文档</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(2).png\"></p>\n</blockquote>\n<ul>\n<li><strong>命令字段</strong>（Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 </li>\n<li><strong>版本字段</strong> （Version）：在RIP-1中，该字段取值为1。 </li>\n<li><strong>址族标识符</strong> （Address family identifier）：该字段值为2表示IP协议，如果该报文为Request报文并且用于向直连路由设备请求整张路由表，则该字段值被设置为0，同时这个Request报文中包含且仅包含一个路由条目，该路由的目的网络地址为0.0.0.0，度量值为16。 </li>\n<li><strong>IP地址</strong> （IP address）：路由的目的网络地址。 </li>\n<li><strong>度量值</strong> （Metric）：该路由的度量值。</li>\n</ul>\n<blockquote>\n<p>RIP V2 引用至华为文档</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/RIP%20(1).png\"></p>\n</blockquote>\n<ul>\n<li><strong>命令字段</strong> （Command）：该字段用于标识RIP报文的类型。取值为1表示为Request报文，取值为2表示Response报文。 </li>\n<li><strong>版本字段</strong> （Version）：在RIP-2中，该字段取值为2。 </li>\n<li><strong>地址族标识符</strong> （Address Family Identifier）：与RIP-1类似。 </li>\n<li><strong>路由标记</strong>（Route Tag）：用于为路由设置标记信息，可以在路由策略中根据Tag对路由进行灵活的控制。例如，当一条外部路由被引入RIP从而形成一条RIP路由时，RIP可以为该路由设置路由标记，当这条路由在整个RIP路由域传播时，路由标记不会丢失。 </li>\n<li><strong>IP地址</strong> （IP Address）：路由的目的网络地址。 </li>\n<li><strong>网络掩码</strong> （Subnet Mask）：用于存储路由条目的目的网络掩码，RIP-2进而支持可变长子网掩码（VLSM，Variable Length Subnet Mask），支持路由聚合和CIDR（Classless Inter-Domain Routing）。 </li>\n<li><strong>下一跳</strong> （Next Hop）：RIP-2定义了该字段，避免路由设备在多路访问网络上可以表面次优路径现象，在广播网上可以选择到最优下一跳地址。 </li>\n<li><strong>度量值</strong> （Metric）：该路由的度量值。</li>\n</ul>\n<h2 id=\"配置实践\"><a href=\"#配置实践\" class=\"headerlink\" title=\"配置实践\"></a>配置实践</h2><h3 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router rip</span><br><span class=\"line\">Router(config-if)# network address #宣告网段</span><br><span class=\"line\">Router(config-if)# version 2 #使用RIPv2版本的RIP协议</span><br></pre></td></tr></table></figure>\n\n"},{"title":"STP基础","summary":"酥米小机器人来啦，这篇文章关于STP基础，STP是一种用于局域网中消除环路的协议基于IEEE 802.1D标准通过阻塞冗余链路将网络修剪成无环路树形结构提供网络冗余并防止链路失效时的故障恢复为什么需要STP因为冗余链路可能导致广播风暴和MAC地址表震荡消耗网络资源影响性能与稳定性STP操作包括每个广播域选择根桥每个非根桥选择根端口根据根路径ID路径开销发送者ID和端口ID最小化选择每个段指定一个指定端口并选择阻塞端口BPDU用于交换信息包含根ID路径开销最大时间Hello Time转发延迟参数广播风暴多帧复制MAC表紊乱等问题可通过STP机制及时检测和拥塞阻塞监听学习转发端口状态确保网络稳定可靠运行","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313654113-f40a48de-3711-42bf-9e50-fc309acbbd5b.png","date":"2024-10-17T07:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 简介\nSTP（Spanning Tree Protocol）是一个用于局域网中消除环路的协议，它的标准是IEEE 802.1D。STP通过将部分冗余链路强制为阻塞状态，其他链路处于转发状态，将环形网络结构修剪成无环路的树形网络结构，可实现消除环路。当处于转发状态的链路不可用时，STP重新配置网络，并激活合适的备用链路状态，恢复恢复网络连通性。</font>\n\n## 为什么需要STP\n+ 在一个复杂的网络环境中，由于冗余备份的需要，网络设计者都倾向于在设备之间部署多条物理链路，其中一条作为主要链路，其他链路作为备份，偶然或必然中都会导致环路产生。环路会产生广播风暴，最终会导致整个网络资源被耗尽，网络瘫痪不可用。环路还会引起MAC地址表震荡导致MAC表项被破坏。\n+ STP技术可以有效解决环路问题，将彼此交互信息发现网络中的环路，将部分冗余链路强制为阻塞状态，其他链路处于转发状态。最终将环形网络结构修剪成无环型的树形网络结构，从而防止报文在环形网络中不断增生和无限循环，避免设备由于重复接收相同的报文造成处理能力下降。\n\n## STP的操作\n![1](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313654113-f40a48de-3711-42bf-9e50-fc309acbbd5b.png \"1\")\n\n+ 每个广播域选择一个根桥\n+ 每个非根桥选择一个根端口\n![2](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727316127820-ee941b9c-37ba-487d-99ec-32cac777b13f.png \"2\")\n\n根端口：具有最低根路径的接口\n\n要考虑的因素：\n\n1.最低的根桥ID\n\n2.最低的根路径代价\n\n3.最低发送者桥ID\n\n4.最低端口ID\n\n+ 每个段选择一个指定端口\n+ 选择一个非指定端口\n\n\n\n### 每个广播域选择一个根桥\n![3](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314331920-e4946ffd-1366-4585-b677-8ebf8399181c.png \"3\")\n\n### BPDU\n![4](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314583701-36bf04b5-c74c-427e-a2b9-9b9d7cb5bf47.png \"4\")\n\n+ Root ID：由2字节优先级和6字节MAC组成\n+ Cost of Path：路径开销是从Switch到Root Bridge的方向叠加的\n+ Port ID：端口信息由1字节端口优先级和1字节端口ID组成\n+ Maximum Time：当一段时间未收到任何BPDU，生存期达到Max Age时，网球则认为该端口连接的链路发生故障。默认20秒\n+ Hello Time：发送BPDU的周期，默认为2秒\n+ Forward Delay：BPDU全网传输延迟，默认15秒\n\n### STP路径开销\n![5](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314963144-5d6709e4-d43e-47f7-be99-968a0fb0dc75.png \"5\")\n\n+ 最短路径是cost累加，而cost是基于链路的速率的\n\n\n\n## 广播风暴\n![6](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312487194-1733d1ec-81ba-467c-bea1-76866d54f980.png \"6\") \n\n+ Host X发送广播帧\n+ 交换机继续没完没了的更新广播流量\n\n## 多帧复制\n![7](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312759517-58f63db8-d92d-470c-ad67-dd757a1b61ff.png \"7\")\n\n+ Host X 发送一个单播数据帧给Router Y\n+ Router Y的Mac地址还没有被每个交换机学习到\n+ Router Y接收到两份相同的数据帧的拷贝\n\n## MAC表紊乱\n![8](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313026522-4391813b-1ffe-44fd-b1a8-b991d93ae6e3.png \"8\")\n\n+ Host X 发送一个单播数据给Router Y\n+ Router Y的MAC地址还没有被每个交换机学习到\n+ switches A and B 在Port1上学习到Host X的MAC地址 \n+ 到达Router Y的数据帧被泛洪\n+ switches A and B 不正确的在Port2上学习到Host X的MAC地址\n\n## STP的端口状态\n![9](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727334117182-439a3d3b-da1e-4c91-9df5-4a9566bc64b3.png \"9\")\n\n+ 失效(disabled) - 该端口只是相应网管消息，并且必须先转到阻塞状态。这种状态可以是由于端口的物理状（如端口物理层没有up）态导致的，也可能是管理员手工讲端口关闭。\n+ 阻塞(blocking) - 处于这个状态的端口不能够参与转发数据报文，但可以接收BPDU配置消息，并交给CPU处理。不过不能发送配置BPDU消息，也不能进行地址学习。\n+ 监听(listening) - 处于这个状态的端口不参与数据转发，也不进行地址学习，但可以接收并发送BPDU配置消息。\n+ 学习(learning) - 处于这个状态的端口不能转发数据，但是开始地址学习，并可以接收、处理和发送BPDU配置消息。\n+ 转发(forwarding) -一旦端口进入该状态，就可以转发任何数据，同时也进行地址学习和BPDU配置消息的接 收、处理和发送。","source":"_posts/CCNA/STP基础.md","raw":"---\ntitle: STP基础\nsummary: >-\n  酥米小机器人来啦，这篇文章关于STP基础，STP是一种用于局域网中消除环路的协议基于IEEE\n  802.1D标准通过阻塞冗余链路将网络修剪成无环路树形结构提供网络冗余并防止链路失效时的故障恢复为什么需要STP因为冗余链路可能导致广播风暴和MAC地址表震荡消耗网络资源影响性能与稳定性STP操作包括每个广播域选择根桥每个非根桥选择根端口根据根路径ID路径开销发送者ID和端口ID最小化选择每个段指定一个指定端口并选择阻塞端口BPDU用于交换信息包含根ID路径开销最大时间Hello\n  Time转发延迟参数广播风暴多帧复制MAC表紊乱等问题可通过STP机制及时检测和拥塞阻塞监听学习转发端口状态确保网络稳定可靠运行\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313654113-f40a48de-3711-42bf-9e50-fc309acbbd5b.png\ndate: 2024-10-17 15:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 简介\nSTP（Spanning Tree Protocol）是一个用于局域网中消除环路的协议，它的标准是IEEE 802.1D。STP通过将部分冗余链路强制为阻塞状态，其他链路处于转发状态，将环形网络结构修剪成无环路的树形网络结构，可实现消除环路。当处于转发状态的链路不可用时，STP重新配置网络，并激活合适的备用链路状态，恢复恢复网络连通性。</font>\n\n## 为什么需要STP\n+ 在一个复杂的网络环境中，由于冗余备份的需要，网络设计者都倾向于在设备之间部署多条物理链路，其中一条作为主要链路，其他链路作为备份，偶然或必然中都会导致环路产生。环路会产生广播风暴，最终会导致整个网络资源被耗尽，网络瘫痪不可用。环路还会引起MAC地址表震荡导致MAC表项被破坏。\n+ STP技术可以有效解决环路问题，将彼此交互信息发现网络中的环路，将部分冗余链路强制为阻塞状态，其他链路处于转发状态。最终将环形网络结构修剪成无环型的树形网络结构，从而防止报文在环形网络中不断增生和无限循环，避免设备由于重复接收相同的报文造成处理能力下降。\n\n## STP的操作\n![1](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313654113-f40a48de-3711-42bf-9e50-fc309acbbd5b.png \"1\")\n\n+ 每个广播域选择一个根桥\n+ 每个非根桥选择一个根端口\n![2](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727316127820-ee941b9c-37ba-487d-99ec-32cac777b13f.png \"2\")\n\n根端口：具有最低根路径的接口\n\n要考虑的因素：\n\n1.最低的根桥ID\n\n2.最低的根路径代价\n\n3.最低发送者桥ID\n\n4.最低端口ID\n\n+ 每个段选择一个指定端口\n+ 选择一个非指定端口\n\n\n\n### 每个广播域选择一个根桥\n![3](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314331920-e4946ffd-1366-4585-b677-8ebf8399181c.png \"3\")\n\n### BPDU\n![4](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314583701-36bf04b5-c74c-427e-a2b9-9b9d7cb5bf47.png \"4\")\n\n+ Root ID：由2字节优先级和6字节MAC组成\n+ Cost of Path：路径开销是从Switch到Root Bridge的方向叠加的\n+ Port ID：端口信息由1字节端口优先级和1字节端口ID组成\n+ Maximum Time：当一段时间未收到任何BPDU，生存期达到Max Age时，网球则认为该端口连接的链路发生故障。默认20秒\n+ Hello Time：发送BPDU的周期，默认为2秒\n+ Forward Delay：BPDU全网传输延迟，默认15秒\n\n### STP路径开销\n![5](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314963144-5d6709e4-d43e-47f7-be99-968a0fb0dc75.png \"5\")\n\n+ 最短路径是cost累加，而cost是基于链路的速率的\n\n\n\n## 广播风暴\n![6](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312487194-1733d1ec-81ba-467c-bea1-76866d54f980.png \"6\") \n\n+ Host X发送广播帧\n+ 交换机继续没完没了的更新广播流量\n\n## 多帧复制\n![7](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312759517-58f63db8-d92d-470c-ad67-dd757a1b61ff.png \"7\")\n\n+ Host X 发送一个单播数据帧给Router Y\n+ Router Y的Mac地址还没有被每个交换机学习到\n+ Router Y接收到两份相同的数据帧的拷贝\n\n## MAC表紊乱\n![8](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313026522-4391813b-1ffe-44fd-b1a8-b991d93ae6e3.png \"8\")\n\n+ Host X 发送一个单播数据给Router Y\n+ Router Y的MAC地址还没有被每个交换机学习到\n+ switches A and B 在Port1上学习到Host X的MAC地址 \n+ 到达Router Y的数据帧被泛洪\n+ switches A and B 不正确的在Port2上学习到Host X的MAC地址\n\n## STP的端口状态\n![9](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727334117182-439a3d3b-da1e-4c91-9df5-4a9566bc64b3.png \"9\")\n\n+ 失效(disabled) - 该端口只是相应网管消息，并且必须先转到阻塞状态。这种状态可以是由于端口的物理状（如端口物理层没有up）态导致的，也可能是管理员手工讲端口关闭。\n+ 阻塞(blocking) - 处于这个状态的端口不能够参与转发数据报文，但可以接收BPDU配置消息，并交给CPU处理。不过不能发送配置BPDU消息，也不能进行地址学习。\n+ 监听(listening) - 处于这个状态的端口不参与数据转发，也不进行地址学习，但可以接收并发送BPDU配置消息。\n+ 学习(learning) - 处于这个状态的端口不能转发数据，但是开始地址学习，并可以接收、处理和发送BPDU配置消息。\n+ 转发(forwarding) -一旦端口进入该状态，就可以转发任何数据，同时也进行地址学习和BPDU配置消息的接 收、处理和发送。","slug":"CCNA/STP基础","published":1,"updated":"2025-08-01T15:10:33.074Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zb000ng0fyaieu8ylf","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>STP（Spanning Tree Protocol）是一个用于局域网中消除环路的协议，它的标准是IEEE 802.1D。STP通过将部分冗余链路强制为阻塞状态，其他链路处于转发状态，将环形网络结构修剪成无环路的树形网络结构，可实现消除环路。当处于转发状态的链路不可用时，STP重新配置网络，并激活合适的备用链路状态，恢复恢复网络连通性。</p>\n<h2 id=\"为什么需要STP\"><a href=\"#为什么需要STP\" class=\"headerlink\" title=\"为什么需要STP\"></a>为什么需要STP</h2><ul>\n<li>在一个复杂的网络环境中，由于冗余备份的需要，网络设计者都倾向于在设备之间部署多条物理链路，其中一条作为主要链路，其他链路作为备份，偶然或必然中都会导致环路产生。环路会产生广播风暴，最终会导致整个网络资源被耗尽，网络瘫痪不可用。环路还会引起MAC地址表震荡导致MAC表项被破坏。</li>\n<li>STP技术可以有效解决环路问题，将彼此交互信息发现网络中的环路，将部分冗余链路强制为阻塞状态，其他链路处于转发状态。最终将环形网络结构修剪成无环型的树形网络结构，从而防止报文在环形网络中不断增生和无限循环，避免设备由于重复接收相同的报文造成处理能力下降。</li>\n</ul>\n<h2 id=\"STP的操作\"><a href=\"#STP的操作\" class=\"headerlink\" title=\"STP的操作\"></a>STP的操作</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313654113-f40a48de-3711-42bf-9e50-fc309acbbd5b.png\" alt=\"1\" title=\"1\"></p>\n<ul>\n<li>每个广播域选择一个根桥</li>\n<li>每个非根桥选择一个根端口<br><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727316127820-ee941b9c-37ba-487d-99ec-32cac777b13f.png\" alt=\"2\" title=\"2\"></li>\n</ul>\n<p>根端口：具有最低根路径的接口</p>\n<p>要考虑的因素：</p>\n<p>1.最低的根桥ID</p>\n<p>2.最低的根路径代价</p>\n<p>3.最低发送者桥ID</p>\n<p>4.最低端口ID</p>\n<ul>\n<li>每个段选择一个指定端口</li>\n<li>选择一个非指定端口</li>\n</ul>\n<h3 id=\"每个广播域选择一个根桥\"><a href=\"#每个广播域选择一个根桥\" class=\"headerlink\" title=\"每个广播域选择一个根桥\"></a>每个广播域选择一个根桥</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314331920-e4946ffd-1366-4585-b677-8ebf8399181c.png\" alt=\"3\" title=\"3\"></p>\n<h3 id=\"BPDU\"><a href=\"#BPDU\" class=\"headerlink\" title=\"BPDU\"></a>BPDU</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314583701-36bf04b5-c74c-427e-a2b9-9b9d7cb5bf47.png\" alt=\"4\" title=\"4\"></p>\n<ul>\n<li>Root ID：由2字节优先级和6字节MAC组成</li>\n<li>Cost of Path：路径开销是从Switch到Root Bridge的方向叠加的</li>\n<li>Port ID：端口信息由1字节端口优先级和1字节端口ID组成</li>\n<li>Maximum Time：当一段时间未收到任何BPDU，生存期达到Max Age时，网球则认为该端口连接的链路发生故障。默认20秒</li>\n<li>Hello Time：发送BPDU的周期，默认为2秒</li>\n<li>Forward Delay：BPDU全网传输延迟，默认15秒</li>\n</ul>\n<h3 id=\"STP路径开销\"><a href=\"#STP路径开销\" class=\"headerlink\" title=\"STP路径开销\"></a>STP路径开销</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314963144-5d6709e4-d43e-47f7-be99-968a0fb0dc75.png\" alt=\"5\" title=\"5\"></p>\n<ul>\n<li>最短路径是cost累加，而cost是基于链路的速率的</li>\n</ul>\n<h2 id=\"广播风暴\"><a href=\"#广播风暴\" class=\"headerlink\" title=\"广播风暴\"></a>广播风暴</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312487194-1733d1ec-81ba-467c-bea1-76866d54f980.png\" alt=\"6\" title=\"6\"> </p>\n<ul>\n<li>Host X发送广播帧</li>\n<li>交换机继续没完没了的更新广播流量</li>\n</ul>\n<h2 id=\"多帧复制\"><a href=\"#多帧复制\" class=\"headerlink\" title=\"多帧复制\"></a>多帧复制</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312759517-58f63db8-d92d-470c-ad67-dd757a1b61ff.png\" alt=\"7\" title=\"7\"></p>\n<ul>\n<li>Host X 发送一个单播数据帧给Router Y</li>\n<li>Router Y的Mac地址还没有被每个交换机学习到</li>\n<li>Router Y接收到两份相同的数据帧的拷贝</li>\n</ul>\n<h2 id=\"MAC表紊乱\"><a href=\"#MAC表紊乱\" class=\"headerlink\" title=\"MAC表紊乱\"></a>MAC表紊乱</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313026522-4391813b-1ffe-44fd-b1a8-b991d93ae6e3.png\" alt=\"8\" title=\"8\"></p>\n<ul>\n<li>Host X 发送一个单播数据给Router Y</li>\n<li>Router Y的MAC地址还没有被每个交换机学习到</li>\n<li>switches A and B 在Port1上学习到Host X的MAC地址 </li>\n<li>到达Router Y的数据帧被泛洪</li>\n<li>switches A and B 不正确的在Port2上学习到Host X的MAC地址</li>\n</ul>\n<h2 id=\"STP的端口状态\"><a href=\"#STP的端口状态\" class=\"headerlink\" title=\"STP的端口状态\"></a>STP的端口状态</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727334117182-439a3d3b-da1e-4c91-9df5-4a9566bc64b3.png\" alt=\"9\" title=\"9\"></p>\n<ul>\n<li>失效(disabled) - 该端口只是相应网管消息，并且必须先转到阻塞状态。这种状态可以是由于端口的物理状（如端口物理层没有up）态导致的，也可能是管理员手工讲端口关闭。</li>\n<li>阻塞(blocking) - 处于这个状态的端口不能够参与转发数据报文，但可以接收BPDU配置消息，并交给CPU处理。不过不能发送配置BPDU消息，也不能进行地址学习。</li>\n<li>监听(listening) - 处于这个状态的端口不参与数据转发，也不进行地址学习，但可以接收并发送BPDU配置消息。</li>\n<li>学习(learning) - 处于这个状态的端口不能转发数据，但是开始地址学习，并可以接收、处理和发送BPDU配置消息。</li>\n<li>转发(forwarding) -一旦端口进入该状态，就可以转发任何数据，同时也进行地址学习和BPDU配置消息的接 收、处理和发送。</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>STP（Spanning Tree Protocol）是一个用于局域网中消除环路的协议，它的标准是IEEE 802.1D。STP通过将部分冗余链路强制为阻塞状态，其他链路处于转发状态，将环形网络结构修剪成无环路的树形网络结构，可实现消除环路。当处于转发状态的链路不可用时，STP重新配置网络，并激活合适的备用链路状态，恢复恢复网络连通性。</p>\n<h2 id=\"为什么需要STP\"><a href=\"#为什么需要STP\" class=\"headerlink\" title=\"为什么需要STP\"></a>为什么需要STP</h2><ul>\n<li>在一个复杂的网络环境中，由于冗余备份的需要，网络设计者都倾向于在设备之间部署多条物理链路，其中一条作为主要链路，其他链路作为备份，偶然或必然中都会导致环路产生。环路会产生广播风暴，最终会导致整个网络资源被耗尽，网络瘫痪不可用。环路还会引起MAC地址表震荡导致MAC表项被破坏。</li>\n<li>STP技术可以有效解决环路问题，将彼此交互信息发现网络中的环路，将部分冗余链路强制为阻塞状态，其他链路处于转发状态。最终将环形网络结构修剪成无环型的树形网络结构，从而防止报文在环形网络中不断增生和无限循环，避免设备由于重复接收相同的报文造成处理能力下降。</li>\n</ul>\n<h2 id=\"STP的操作\"><a href=\"#STP的操作\" class=\"headerlink\" title=\"STP的操作\"></a>STP的操作</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313654113-f40a48de-3711-42bf-9e50-fc309acbbd5b.png\" alt=\"1\" title=\"1\"></p>\n<ul>\n<li>每个广播域选择一个根桥</li>\n<li>每个非根桥选择一个根端口<br><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727316127820-ee941b9c-37ba-487d-99ec-32cac777b13f.png\" alt=\"2\" title=\"2\"></li>\n</ul>\n<p>根端口：具有最低根路径的接口</p>\n<p>要考虑的因素：</p>\n<p>1.最低的根桥ID</p>\n<p>2.最低的根路径代价</p>\n<p>3.最低发送者桥ID</p>\n<p>4.最低端口ID</p>\n<ul>\n<li>每个段选择一个指定端口</li>\n<li>选择一个非指定端口</li>\n</ul>\n<h3 id=\"每个广播域选择一个根桥\"><a href=\"#每个广播域选择一个根桥\" class=\"headerlink\" title=\"每个广播域选择一个根桥\"></a>每个广播域选择一个根桥</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314331920-e4946ffd-1366-4585-b677-8ebf8399181c.png\" alt=\"3\" title=\"3\"></p>\n<h3 id=\"BPDU\"><a href=\"#BPDU\" class=\"headerlink\" title=\"BPDU\"></a>BPDU</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314583701-36bf04b5-c74c-427e-a2b9-9b9d7cb5bf47.png\" alt=\"4\" title=\"4\"></p>\n<ul>\n<li>Root ID：由2字节优先级和6字节MAC组成</li>\n<li>Cost of Path：路径开销是从Switch到Root Bridge的方向叠加的</li>\n<li>Port ID：端口信息由1字节端口优先级和1字节端口ID组成</li>\n<li>Maximum Time：当一段时间未收到任何BPDU，生存期达到Max Age时，网球则认为该端口连接的链路发生故障。默认20秒</li>\n<li>Hello Time：发送BPDU的周期，默认为2秒</li>\n<li>Forward Delay：BPDU全网传输延迟，默认15秒</li>\n</ul>\n<h3 id=\"STP路径开销\"><a href=\"#STP路径开销\" class=\"headerlink\" title=\"STP路径开销\"></a>STP路径开销</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727314963144-5d6709e4-d43e-47f7-be99-968a0fb0dc75.png\" alt=\"5\" title=\"5\"></p>\n<ul>\n<li>最短路径是cost累加，而cost是基于链路的速率的</li>\n</ul>\n<h2 id=\"广播风暴\"><a href=\"#广播风暴\" class=\"headerlink\" title=\"广播风暴\"></a>广播风暴</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312487194-1733d1ec-81ba-467c-bea1-76866d54f980.png\" alt=\"6\" title=\"6\"> </p>\n<ul>\n<li>Host X发送广播帧</li>\n<li>交换机继续没完没了的更新广播流量</li>\n</ul>\n<h2 id=\"多帧复制\"><a href=\"#多帧复制\" class=\"headerlink\" title=\"多帧复制\"></a>多帧复制</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727312759517-58f63db8-d92d-470c-ad67-dd757a1b61ff.png\" alt=\"7\" title=\"7\"></p>\n<ul>\n<li>Host X 发送一个单播数据帧给Router Y</li>\n<li>Router Y的Mac地址还没有被每个交换机学习到</li>\n<li>Router Y接收到两份相同的数据帧的拷贝</li>\n</ul>\n<h2 id=\"MAC表紊乱\"><a href=\"#MAC表紊乱\" class=\"headerlink\" title=\"MAC表紊乱\"></a>MAC表紊乱</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727313026522-4391813b-1ffe-44fd-b1a8-b991d93ae6e3.png\" alt=\"8\" title=\"8\"></p>\n<ul>\n<li>Host X 发送一个单播数据给Router Y</li>\n<li>Router Y的MAC地址还没有被每个交换机学习到</li>\n<li>switches A and B 在Port1上学习到Host X的MAC地址 </li>\n<li>到达Router Y的数据帧被泛洪</li>\n<li>switches A and B 不正确的在Port2上学习到Host X的MAC地址</li>\n</ul>\n<h2 id=\"STP的端口状态\"><a href=\"#STP的端口状态\" class=\"headerlink\" title=\"STP的端口状态\"></a>STP的端口状态</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727334117182-439a3d3b-da1e-4c91-9df5-4a9566bc64b3.png\" alt=\"9\" title=\"9\"></p>\n<ul>\n<li>失效(disabled) - 该端口只是相应网管消息，并且必须先转到阻塞状态。这种状态可以是由于端口的物理状（如端口物理层没有up）态导致的，也可能是管理员手工讲端口关闭。</li>\n<li>阻塞(blocking) - 处于这个状态的端口不能够参与转发数据报文，但可以接收BPDU配置消息，并交给CPU处理。不过不能发送配置BPDU消息，也不能进行地址学习。</li>\n<li>监听(listening) - 处于这个状态的端口不参与数据转发，也不进行地址学习，但可以接收并发送BPDU配置消息。</li>\n<li>学习(learning) - 处于这个状态的端口不能转发数据，但是开始地址学习，并可以接收、处理和发送BPDU配置消息。</li>\n<li>转发(forwarding) -一旦端口进入该状态，就可以转发任何数据，同时也进行地址学习和BPDU配置消息的接 收、处理和发送。</li>\n</ul>\n"},{"title":"VLAN基础","summary":"酥米小机器人来啦，这篇文章介绍了VLAN基础内容，包括VLAN作为虚拟局域网技术用于划分物理局域网为多个逻辑广播域，隔离不同VLAN间通讯，并详细描述了其作用如限制广播域节省带宽、增强网络安全性、提升稳定性以及灵活构建工作组，VLAN特点包括广播域局限、逻辑子网组成和基于端口划分，同时覆盖VLAN范围、TrunkAccess和Hybrid接口类型、MAC地址48位全球唯一、802.1Q帧标记细节、思科ISL私有协议以及VTP协议用于VLAN配置同步和模式ServerClientTransparent，还包括VTP修剪功能以及基础配置命令如vlan vlan-id和switchport mode设置，文中系统阐述了VLAN的核心原理和网络设备间通信管理细节以提升网络效率和安全","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261880185-f61475a1-7523-4625-bd01-30f41e930bec.png","date":"2024-10-17T07:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 简介\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261880185-f61475a1-7523-4625-bd01-30f41e930bec.png)\n\n+ VLAN即虚拟局域网，是将一个物理的LAN在逻辑上划分成多个广播域的通讯技术\n+ 每个VLAN内可以互相通讯，而每个VLAN之间是完全隔离开的，并不能直接互通，每个VLAN间的广播报文就被隔离开来。\n\n## VLAN的作用\n+ **限制广播域：**广播域被限制在一个VLAN之中，节省了带宽，提升网络处理的效率\n+ **增强局域网的安全性：**不同VLAN之间的报文广播互相隔离，有效提升安全性\n+ **提升了局域网的稳定性：**单个VLAN局域网出问题下机时不会影响到其他的VLAN正常运行\n+ **灵活构建虚拟工作组：**不同需求的用户划分到不同的VLAN之间，各个VLAN间发挥不同作用\n\n## VLAN的特点\n+ 一个VLAN中所有设备都是在同一广播域内；广播不能跨越VLAN传播\n+ 一个VLAN为一个逻辑子网；由被配置为此VLAN成员的设备组成，不同VLAN间需通过路由器实现互相通讯\n+ VLAN中成员多基于Switch端口号码，划分VLAN就是对Switch接口划分\n+ VLAN工作于OSI参考模型的第二层\n\n## VLAN的范围\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261984139-0609b985-a483-4055-bdee-b2c57a47cba0.png)\n\n+ VLAN 1-1001皆可正常使用，1范围无法进行删除，1001无法进行创建使用和删除\n\n## 接口类型\n### Trunk接口\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261657279-d246491a-12c9-465a-9ad7-2bdcddc31dee.png)\n\nTrunk一般用于路由器，交换机，AP间以及可同时收发Tagged帧和Untagged帧的终端之间支持互连，它可以允许多个VLAN的帧带Tag通过，但只允许一个VLAN的帧从该类接口上发出时不带Tag（即剥除Tag）。\n\n### Access接口\nAccess接口一般用于和不能识别Tag的用户终端（如用户主机、服务器等）相连，或者不需要区分不同VLAN成员时使用。它只能收发Untagged帧，且只能为Untagged帧添加唯一VLAN的Tag。\n\n### Hybird接口\nHybrid接口既可以用于连接不能识别Tag的用户终端（如用户主机、服务器等）和网络设备（如Hub），也可以用于连接交换机、路由器以及可同时收发Tagged帧和Untagged帧的语音终端、AP。它可以允许多个VLAN的帧带Tag通过，且允许从该类接口发出的帧根据需要配置某些VLAN的帧带Tag（即不剥除Tag）、某些VLAN的帧不带Tag（即剥除Tag）。\n\n## Mac硬件地址\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261710061-f3a8792b-648d-4b3e-a4f9-9658ce187a77.png)\n\n+ MAC地址有48位，通常表示为点十六进制数。\n+ MAC地址全球唯一，有IEEE对这些地址进行管理的和分配。\n+ 每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配。\n\n## 802.1Q Tag\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727253192833-a4d3a08b-6a08-473c-89f5-a728f93219aa.png)\n\n### 802.1Q 帧标记\n+ 默认情况下，在802.1Q Trunk上对所有的VLAN打Tag，除了Native VLAN；\n+ 交换机根据以太网帧头信息来转发数据包；\n\n### Tag标记字段详细信息\n+ Tag标记字段包含一个2 bytes EtherType（以太类型）字段、一个3Bits的PRi字段、1bit的CFI字段、12bits的VLAN ID字段；\n\n## ISL\n### 特点\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232795002-f91da91e-f3d1-4769-90f7-5a1f695d9f6b.png)\n\n+ 思科私有协议，仅可在思科的设备上互通\n+ 通过硬件（ASIC）实现\n+ ISL标识不会出现在工作站，客户端并不知道ISL的封装信息\n+ 在交换机或路由器与交换机之间，在交换机与具有ISL网卡的服务器之间可以实现；\n\n### 报文形式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232857479-d7dc114a-8b8b-411a-95d9-30e0df6bbadf.png)\n\n## VTP\n+ 一个能够宣告VLAN的配置信息的信息系统；\n+ 通过一个共有的管理域，维持VLAN配置信息的一致性；\n+ VTP只能在主干端口发送要宣告的信息；\n+ 支持混合的介质主干链接（快速以太网，FDDI，ATM）；\n\n### VTP的运作\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262262150-ca39be19-8d3a-4ca5-9740-affe0d19cdb1.png)\n\n+ VTP协议通过组播地址01-00-0C-CC-CC-CC在Trunk链路上发送VTP通告；\n+ VTP Server和Clients通过最高的修订号来同步数据库；\n+ VTP协议每隔五分钟发送一次VTP通告或者有变化时发生；\n\n### VTP模式\n#### Server\n+ 删除vlan\n+ 发送/转发信息宣告\n+ 同步\n+ 存储于NVRAM中\n+ Catalyst交换机默认是server模式\n\n#### Client\n+ 发送/转发信息宣告\n+ 同步\n+ 不会存储于NVRAM\n\n#### Transparent\n+ 创建修改删除VLAN\n+ 转发\n+ 信息宣告\n+ 不同步\n+ 存储于NVRAM\n\n### VTP Pruning（修剪）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262775728-359c02e7-1c19-4ed2-8757-71c88d6e1b6c.png)\n\n## 基础配置\n```plain\nSW1(config)# vlan vlan-id\nSW1(config-vlan)# switchport mode [mode]\nSW1(config-vlan)# switchport access vlan [vlan-id | none]\n```","source":"_posts/CCNA/VLAN基础.md","raw":"---\ntitle: VLAN基础\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了VLAN基础内容，包括VLAN作为虚拟局域网技术用于划分物理局域网为多个逻辑广播域，隔离不同VLAN间通讯，并详细描述了其作用如限制广播域节省带宽、增强网络安全性、提升稳定性以及灵活构建工作组，VLAN特点包括广播域局限、逻辑子网组成和基于端口划分，同时覆盖VLAN范围、TrunkAccess和Hybrid接口类型、MAC地址48位全球唯一、802.1Q帧标记细节、思科ISL私有协议以及VTP协议用于VLAN配置同步和模式ServerClientTransparent，还包括VTP修剪功能以及基础配置命令如vlan\n  vlan-id和switchport mode设置，文中系统阐述了VLAN的核心原理和网络设备间通信管理细节以提升网络效率和安全\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261880185-f61475a1-7523-4625-bd01-30f41e930bec.png\ndate: 2024-10-17 15:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 简介\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261880185-f61475a1-7523-4625-bd01-30f41e930bec.png)\n\n+ VLAN即虚拟局域网，是将一个物理的LAN在逻辑上划分成多个广播域的通讯技术\n+ 每个VLAN内可以互相通讯，而每个VLAN之间是完全隔离开的，并不能直接互通，每个VLAN间的广播报文就被隔离开来。\n\n## VLAN的作用\n+ **限制广播域：**广播域被限制在一个VLAN之中，节省了带宽，提升网络处理的效率\n+ **增强局域网的安全性：**不同VLAN之间的报文广播互相隔离，有效提升安全性\n+ **提升了局域网的稳定性：**单个VLAN局域网出问题下机时不会影响到其他的VLAN正常运行\n+ **灵活构建虚拟工作组：**不同需求的用户划分到不同的VLAN之间，各个VLAN间发挥不同作用\n\n## VLAN的特点\n+ 一个VLAN中所有设备都是在同一广播域内；广播不能跨越VLAN传播\n+ 一个VLAN为一个逻辑子网；由被配置为此VLAN成员的设备组成，不同VLAN间需通过路由器实现互相通讯\n+ VLAN中成员多基于Switch端口号码，划分VLAN就是对Switch接口划分\n+ VLAN工作于OSI参考模型的第二层\n\n## VLAN的范围\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261984139-0609b985-a483-4055-bdee-b2c57a47cba0.png)\n\n+ VLAN 1-1001皆可正常使用，1范围无法进行删除，1001无法进行创建使用和删除\n\n## 接口类型\n### Trunk接口\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261657279-d246491a-12c9-465a-9ad7-2bdcddc31dee.png)\n\nTrunk一般用于路由器，交换机，AP间以及可同时收发Tagged帧和Untagged帧的终端之间支持互连，它可以允许多个VLAN的帧带Tag通过，但只允许一个VLAN的帧从该类接口上发出时不带Tag（即剥除Tag）。\n\n### Access接口\nAccess接口一般用于和不能识别Tag的用户终端（如用户主机、服务器等）相连，或者不需要区分不同VLAN成员时使用。它只能收发Untagged帧，且只能为Untagged帧添加唯一VLAN的Tag。\n\n### Hybird接口\nHybrid接口既可以用于连接不能识别Tag的用户终端（如用户主机、服务器等）和网络设备（如Hub），也可以用于连接交换机、路由器以及可同时收发Tagged帧和Untagged帧的语音终端、AP。它可以允许多个VLAN的帧带Tag通过，且允许从该类接口发出的帧根据需要配置某些VLAN的帧带Tag（即不剥除Tag）、某些VLAN的帧不带Tag（即剥除Tag）。\n\n## Mac硬件地址\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261710061-f3a8792b-648d-4b3e-a4f9-9658ce187a77.png)\n\n+ MAC地址有48位，通常表示为点十六进制数。\n+ MAC地址全球唯一，有IEEE对这些地址进行管理的和分配。\n+ 每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配。\n\n## 802.1Q Tag\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727253192833-a4d3a08b-6a08-473c-89f5-a728f93219aa.png)\n\n### 802.1Q 帧标记\n+ 默认情况下，在802.1Q Trunk上对所有的VLAN打Tag，除了Native VLAN；\n+ 交换机根据以太网帧头信息来转发数据包；\n\n### Tag标记字段详细信息\n+ Tag标记字段包含一个2 bytes EtherType（以太类型）字段、一个3Bits的PRi字段、1bit的CFI字段、12bits的VLAN ID字段；\n\n## ISL\n### 特点\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232795002-f91da91e-f3d1-4769-90f7-5a1f695d9f6b.png)\n\n+ 思科私有协议，仅可在思科的设备上互通\n+ 通过硬件（ASIC）实现\n+ ISL标识不会出现在工作站，客户端并不知道ISL的封装信息\n+ 在交换机或路由器与交换机之间，在交换机与具有ISL网卡的服务器之间可以实现；\n\n### 报文形式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232857479-d7dc114a-8b8b-411a-95d9-30e0df6bbadf.png)\n\n## VTP\n+ 一个能够宣告VLAN的配置信息的信息系统；\n+ 通过一个共有的管理域，维持VLAN配置信息的一致性；\n+ VTP只能在主干端口发送要宣告的信息；\n+ 支持混合的介质主干链接（快速以太网，FDDI，ATM）；\n\n### VTP的运作\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262262150-ca39be19-8d3a-4ca5-9740-affe0d19cdb1.png)\n\n+ VTP协议通过组播地址01-00-0C-CC-CC-CC在Trunk链路上发送VTP通告；\n+ VTP Server和Clients通过最高的修订号来同步数据库；\n+ VTP协议每隔五分钟发送一次VTP通告或者有变化时发生；\n\n### VTP模式\n#### Server\n+ 删除vlan\n+ 发送/转发信息宣告\n+ 同步\n+ 存储于NVRAM中\n+ Catalyst交换机默认是server模式\n\n#### Client\n+ 发送/转发信息宣告\n+ 同步\n+ 不会存储于NVRAM\n\n#### Transparent\n+ 创建修改删除VLAN\n+ 转发\n+ 信息宣告\n+ 不同步\n+ 存储于NVRAM\n\n### VTP Pruning（修剪）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262775728-359c02e7-1c19-4ed2-8757-71c88d6e1b6c.png)\n\n## 基础配置\n```plain\nSW1(config)# vlan vlan-id\nSW1(config-vlan)# switchport mode [mode]\nSW1(config-vlan)# switchport access vlan [vlan-id | none]\n```","slug":"CCNA/VLAN基础","published":1,"updated":"2025-08-01T15:11:04.477Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955ze000rg0fygrdm1g8g","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261880185-f61475a1-7523-4625-bd01-30f41e930bec.png\"></p>\n<ul>\n<li>VLAN即虚拟局域网，是将一个物理的LAN在逻辑上划分成多个广播域的通讯技术</li>\n<li>每个VLAN内可以互相通讯，而每个VLAN之间是完全隔离开的，并不能直接互通，每个VLAN间的广播报文就被隔离开来。</li>\n</ul>\n<h2 id=\"VLAN的作用\"><a href=\"#VLAN的作用\" class=\"headerlink\" title=\"VLAN的作用\"></a>VLAN的作用</h2><ul>\n<li><strong>限制广播域：</strong>广播域被限制在一个VLAN之中，节省了带宽，提升网络处理的效率</li>\n<li><strong>增强局域网的安全性：</strong>不同VLAN之间的报文广播互相隔离，有效提升安全性</li>\n<li><strong>提升了局域网的稳定性：</strong>单个VLAN局域网出问题下机时不会影响到其他的VLAN正常运行</li>\n<li><strong>灵活构建虚拟工作组：</strong>不同需求的用户划分到不同的VLAN之间，各个VLAN间发挥不同作用</li>\n</ul>\n<h2 id=\"VLAN的特点\"><a href=\"#VLAN的特点\" class=\"headerlink\" title=\"VLAN的特点\"></a>VLAN的特点</h2><ul>\n<li>一个VLAN中所有设备都是在同一广播域内；广播不能跨越VLAN传播</li>\n<li>一个VLAN为一个逻辑子网；由被配置为此VLAN成员的设备组成，不同VLAN间需通过路由器实现互相通讯</li>\n<li>VLAN中成员多基于Switch端口号码，划分VLAN就是对Switch接口划分</li>\n<li>VLAN工作于OSI参考模型的第二层</li>\n</ul>\n<h2 id=\"VLAN的范围\"><a href=\"#VLAN的范围\" class=\"headerlink\" title=\"VLAN的范围\"></a>VLAN的范围</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261984139-0609b985-a483-4055-bdee-b2c57a47cba0.png\"></p>\n<ul>\n<li>VLAN 1-1001皆可正常使用，1范围无法进行删除，1001无法进行创建使用和删除</li>\n</ul>\n<h2 id=\"接口类型\"><a href=\"#接口类型\" class=\"headerlink\" title=\"接口类型\"></a>接口类型</h2><h3 id=\"Trunk接口\"><a href=\"#Trunk接口\" class=\"headerlink\" title=\"Trunk接口\"></a>Trunk接口</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261657279-d246491a-12c9-465a-9ad7-2bdcddc31dee.png\"></p>\n<p>Trunk一般用于路由器，交换机，AP间以及可同时收发Tagged帧和Untagged帧的终端之间支持互连，它可以允许多个VLAN的帧带Tag通过，但只允许一个VLAN的帧从该类接口上发出时不带Tag（即剥除Tag）。</p>\n<h3 id=\"Access接口\"><a href=\"#Access接口\" class=\"headerlink\" title=\"Access接口\"></a>Access接口</h3><p>Access接口一般用于和不能识别Tag的用户终端（如用户主机、服务器等）相连，或者不需要区分不同VLAN成员时使用。它只能收发Untagged帧，且只能为Untagged帧添加唯一VLAN的Tag。</p>\n<h3 id=\"Hybird接口\"><a href=\"#Hybird接口\" class=\"headerlink\" title=\"Hybird接口\"></a>Hybird接口</h3><p>Hybrid接口既可以用于连接不能识别Tag的用户终端（如用户主机、服务器等）和网络设备（如Hub），也可以用于连接交换机、路由器以及可同时收发Tagged帧和Untagged帧的语音终端、AP。它可以允许多个VLAN的帧带Tag通过，且允许从该类接口发出的帧根据需要配置某些VLAN的帧带Tag（即不剥除Tag）、某些VLAN的帧不带Tag（即剥除Tag）。</p>\n<h2 id=\"Mac硬件地址\"><a href=\"#Mac硬件地址\" class=\"headerlink\" title=\"Mac硬件地址\"></a>Mac硬件地址</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261710061-f3a8792b-648d-4b3e-a4f9-9658ce187a77.png\"></p>\n<ul>\n<li>MAC地址有48位，通常表示为点十六进制数。</li>\n<li>MAC地址全球唯一，有IEEE对这些地址进行管理的和分配。</li>\n<li>每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配。</li>\n</ul>\n<h2 id=\"802-1Q-Tag\"><a href=\"#802-1Q-Tag\" class=\"headerlink\" title=\"802.1Q Tag\"></a>802.1Q Tag</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727253192833-a4d3a08b-6a08-473c-89f5-a728f93219aa.png\"></p>\n<h3 id=\"802-1Q-帧标记\"><a href=\"#802-1Q-帧标记\" class=\"headerlink\" title=\"802.1Q 帧标记\"></a>802.1Q 帧标记</h3><ul>\n<li>默认情况下，在802.1Q Trunk上对所有的VLAN打Tag，除了Native VLAN；</li>\n<li>交换机根据以太网帧头信息来转发数据包；</li>\n</ul>\n<h3 id=\"Tag标记字段详细信息\"><a href=\"#Tag标记字段详细信息\" class=\"headerlink\" title=\"Tag标记字段详细信息\"></a>Tag标记字段详细信息</h3><ul>\n<li>Tag标记字段包含一个2 bytes EtherType（以太类型）字段、一个3Bits的PRi字段、1bit的CFI字段、12bits的VLAN ID字段；</li>\n</ul>\n<h2 id=\"ISL\"><a href=\"#ISL\" class=\"headerlink\" title=\"ISL\"></a>ISL</h2><h3 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232795002-f91da91e-f3d1-4769-90f7-5a1f695d9f6b.png\"></p>\n<ul>\n<li>思科私有协议，仅可在思科的设备上互通</li>\n<li>通过硬件（ASIC）实现</li>\n<li>ISL标识不会出现在工作站，客户端并不知道ISL的封装信息</li>\n<li>在交换机或路由器与交换机之间，在交换机与具有ISL网卡的服务器之间可以实现；</li>\n</ul>\n<h3 id=\"报文形式\"><a href=\"#报文形式\" class=\"headerlink\" title=\"报文形式\"></a>报文形式</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232857479-d7dc114a-8b8b-411a-95d9-30e0df6bbadf.png\"></p>\n<h2 id=\"VTP\"><a href=\"#VTP\" class=\"headerlink\" title=\"VTP\"></a>VTP</h2><ul>\n<li>一个能够宣告VLAN的配置信息的信息系统；</li>\n<li>通过一个共有的管理域，维持VLAN配置信息的一致性；</li>\n<li>VTP只能在主干端口发送要宣告的信息；</li>\n<li>支持混合的介质主干链接（快速以太网，FDDI，ATM）；</li>\n</ul>\n<h3 id=\"VTP的运作\"><a href=\"#VTP的运作\" class=\"headerlink\" title=\"VTP的运作\"></a>VTP的运作</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262262150-ca39be19-8d3a-4ca5-9740-affe0d19cdb1.png\"></p>\n<ul>\n<li>VTP协议通过组播地址01-00-0C-CC-CC-CC在Trunk链路上发送VTP通告；</li>\n<li>VTP Server和Clients通过最高的修订号来同步数据库；</li>\n<li>VTP协议每隔五分钟发送一次VTP通告或者有变化时发生；</li>\n</ul>\n<h3 id=\"VTP模式\"><a href=\"#VTP模式\" class=\"headerlink\" title=\"VTP模式\"></a>VTP模式</h3><h4 id=\"Server\"><a href=\"#Server\" class=\"headerlink\" title=\"Server\"></a>Server</h4><ul>\n<li>删除vlan</li>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>存储于NVRAM中</li>\n<li>Catalyst交换机默认是server模式</li>\n</ul>\n<h4 id=\"Client\"><a href=\"#Client\" class=\"headerlink\" title=\"Client\"></a>Client</h4><ul>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>不会存储于NVRAM</li>\n</ul>\n<h4 id=\"Transparent\"><a href=\"#Transparent\" class=\"headerlink\" title=\"Transparent\"></a>Transparent</h4><ul>\n<li>创建修改删除VLAN</li>\n<li>转发</li>\n<li>信息宣告</li>\n<li>不同步</li>\n<li>存储于NVRAM</li>\n</ul>\n<h3 id=\"VTP-Pruning（修剪）\"><a href=\"#VTP-Pruning（修剪）\" class=\"headerlink\" title=\"VTP Pruning（修剪）\"></a>VTP Pruning（修剪）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262775728-359c02e7-1c19-4ed2-8757-71c88d6e1b6c.png\"></p>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SW1(config)# vlan vlan-id</span><br><span class=\"line\">SW1(config-vlan)# switchport mode [mode]</span><br><span class=\"line\">SW1(config-vlan)# switchport access vlan [vlan-id | none]</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261880185-f61475a1-7523-4625-bd01-30f41e930bec.png\"></p>\n<ul>\n<li>VLAN即虚拟局域网，是将一个物理的LAN在逻辑上划分成多个广播域的通讯技术</li>\n<li>每个VLAN内可以互相通讯，而每个VLAN之间是完全隔离开的，并不能直接互通，每个VLAN间的广播报文就被隔离开来。</li>\n</ul>\n<h2 id=\"VLAN的作用\"><a href=\"#VLAN的作用\" class=\"headerlink\" title=\"VLAN的作用\"></a>VLAN的作用</h2><ul>\n<li><strong>限制广播域：</strong>广播域被限制在一个VLAN之中，节省了带宽，提升网络处理的效率</li>\n<li><strong>增强局域网的安全性：</strong>不同VLAN之间的报文广播互相隔离，有效提升安全性</li>\n<li><strong>提升了局域网的稳定性：</strong>单个VLAN局域网出问题下机时不会影响到其他的VLAN正常运行</li>\n<li><strong>灵活构建虚拟工作组：</strong>不同需求的用户划分到不同的VLAN之间，各个VLAN间发挥不同作用</li>\n</ul>\n<h2 id=\"VLAN的特点\"><a href=\"#VLAN的特点\" class=\"headerlink\" title=\"VLAN的特点\"></a>VLAN的特点</h2><ul>\n<li>一个VLAN中所有设备都是在同一广播域内；广播不能跨越VLAN传播</li>\n<li>一个VLAN为一个逻辑子网；由被配置为此VLAN成员的设备组成，不同VLAN间需通过路由器实现互相通讯</li>\n<li>VLAN中成员多基于Switch端口号码，划分VLAN就是对Switch接口划分</li>\n<li>VLAN工作于OSI参考模型的第二层</li>\n</ul>\n<h2 id=\"VLAN的范围\"><a href=\"#VLAN的范围\" class=\"headerlink\" title=\"VLAN的范围\"></a>VLAN的范围</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261984139-0609b985-a483-4055-bdee-b2c57a47cba0.png\"></p>\n<ul>\n<li>VLAN 1-1001皆可正常使用，1范围无法进行删除，1001无法进行创建使用和删除</li>\n</ul>\n<h2 id=\"接口类型\"><a href=\"#接口类型\" class=\"headerlink\" title=\"接口类型\"></a>接口类型</h2><h3 id=\"Trunk接口\"><a href=\"#Trunk接口\" class=\"headerlink\" title=\"Trunk接口\"></a>Trunk接口</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261657279-d246491a-12c9-465a-9ad7-2bdcddc31dee.png\"></p>\n<p>Trunk一般用于路由器，交换机，AP间以及可同时收发Tagged帧和Untagged帧的终端之间支持互连，它可以允许多个VLAN的帧带Tag通过，但只允许一个VLAN的帧从该类接口上发出时不带Tag（即剥除Tag）。</p>\n<h3 id=\"Access接口\"><a href=\"#Access接口\" class=\"headerlink\" title=\"Access接口\"></a>Access接口</h3><p>Access接口一般用于和不能识别Tag的用户终端（如用户主机、服务器等）相连，或者不需要区分不同VLAN成员时使用。它只能收发Untagged帧，且只能为Untagged帧添加唯一VLAN的Tag。</p>\n<h3 id=\"Hybird接口\"><a href=\"#Hybird接口\" class=\"headerlink\" title=\"Hybird接口\"></a>Hybird接口</h3><p>Hybrid接口既可以用于连接不能识别Tag的用户终端（如用户主机、服务器等）和网络设备（如Hub），也可以用于连接交换机、路由器以及可同时收发Tagged帧和Untagged帧的语音终端、AP。它可以允许多个VLAN的帧带Tag通过，且允许从该类接口发出的帧根据需要配置某些VLAN的帧带Tag（即不剥除Tag）、某些VLAN的帧不带Tag（即剥除Tag）。</p>\n<h2 id=\"Mac硬件地址\"><a href=\"#Mac硬件地址\" class=\"headerlink\" title=\"Mac硬件地址\"></a>Mac硬件地址</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727261710061-f3a8792b-648d-4b3e-a4f9-9658ce187a77.png\"></p>\n<ul>\n<li>MAC地址有48位，通常表示为点十六进制数。</li>\n<li>MAC地址全球唯一，有IEEE对这些地址进行管理的和分配。</li>\n<li>每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配。</li>\n</ul>\n<h2 id=\"802-1Q-Tag\"><a href=\"#802-1Q-Tag\" class=\"headerlink\" title=\"802.1Q Tag\"></a>802.1Q Tag</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727253192833-a4d3a08b-6a08-473c-89f5-a728f93219aa.png\"></p>\n<h3 id=\"802-1Q-帧标记\"><a href=\"#802-1Q-帧标记\" class=\"headerlink\" title=\"802.1Q 帧标记\"></a>802.1Q 帧标记</h3><ul>\n<li>默认情况下，在802.1Q Trunk上对所有的VLAN打Tag，除了Native VLAN；</li>\n<li>交换机根据以太网帧头信息来转发数据包；</li>\n</ul>\n<h3 id=\"Tag标记字段详细信息\"><a href=\"#Tag标记字段详细信息\" class=\"headerlink\" title=\"Tag标记字段详细信息\"></a>Tag标记字段详细信息</h3><ul>\n<li>Tag标记字段包含一个2 bytes EtherType（以太类型）字段、一个3Bits的PRi字段、1bit的CFI字段、12bits的VLAN ID字段；</li>\n</ul>\n<h2 id=\"ISL\"><a href=\"#ISL\" class=\"headerlink\" title=\"ISL\"></a>ISL</h2><h3 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232795002-f91da91e-f3d1-4769-90f7-5a1f695d9f6b.png\"></p>\n<ul>\n<li>思科私有协议，仅可在思科的设备上互通</li>\n<li>通过硬件（ASIC）实现</li>\n<li>ISL标识不会出现在工作站，客户端并不知道ISL的封装信息</li>\n<li>在交换机或路由器与交换机之间，在交换机与具有ISL网卡的服务器之间可以实现；</li>\n</ul>\n<h3 id=\"报文形式\"><a href=\"#报文形式\" class=\"headerlink\" title=\"报文形式\"></a>报文形式</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727232857479-d7dc114a-8b8b-411a-95d9-30e0df6bbadf.png\"></p>\n<h2 id=\"VTP\"><a href=\"#VTP\" class=\"headerlink\" title=\"VTP\"></a>VTP</h2><ul>\n<li>一个能够宣告VLAN的配置信息的信息系统；</li>\n<li>通过一个共有的管理域，维持VLAN配置信息的一致性；</li>\n<li>VTP只能在主干端口发送要宣告的信息；</li>\n<li>支持混合的介质主干链接（快速以太网，FDDI，ATM）；</li>\n</ul>\n<h3 id=\"VTP的运作\"><a href=\"#VTP的运作\" class=\"headerlink\" title=\"VTP的运作\"></a>VTP的运作</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262262150-ca39be19-8d3a-4ca5-9740-affe0d19cdb1.png\"></p>\n<ul>\n<li>VTP协议通过组播地址01-00-0C-CC-CC-CC在Trunk链路上发送VTP通告；</li>\n<li>VTP Server和Clients通过最高的修订号来同步数据库；</li>\n<li>VTP协议每隔五分钟发送一次VTP通告或者有变化时发生；</li>\n</ul>\n<h3 id=\"VTP模式\"><a href=\"#VTP模式\" class=\"headerlink\" title=\"VTP模式\"></a>VTP模式</h3><h4 id=\"Server\"><a href=\"#Server\" class=\"headerlink\" title=\"Server\"></a>Server</h4><ul>\n<li>删除vlan</li>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>存储于NVRAM中</li>\n<li>Catalyst交换机默认是server模式</li>\n</ul>\n<h4 id=\"Client\"><a href=\"#Client\" class=\"headerlink\" title=\"Client\"></a>Client</h4><ul>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>不会存储于NVRAM</li>\n</ul>\n<h4 id=\"Transparent\"><a href=\"#Transparent\" class=\"headerlink\" title=\"Transparent\"></a>Transparent</h4><ul>\n<li>创建修改删除VLAN</li>\n<li>转发</li>\n<li>信息宣告</li>\n<li>不同步</li>\n<li>存储于NVRAM</li>\n</ul>\n<h3 id=\"VTP-Pruning（修剪）\"><a href=\"#VTP-Pruning（修剪）\" class=\"headerlink\" title=\"VTP Pruning（修剪）\"></a>VTP Pruning（修剪）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1727262775728-359c02e7-1c19-4ed2-8757-71c88d6e1b6c.png\"></p>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SW1(config)# vlan vlan-id</span><br><span class=\"line\">SW1(config-vlan)# switchport mode [mode]</span><br><span class=\"line\">SW1(config-vlan)# switchport access vlan [vlan-id | none]</span><br></pre></td></tr></table></figure>"},{"title":"STP高级","summary":"酥米小机器人来啦，这篇文章介绍了STP高级主题的核心内容，涵盖技术背景如单链路故障和环路问题，通过生成树协议提供冗余和拓扑适应。主要讨论了STP标准包括802.1D、PVST+、RSTP和MSTP，以及操作过程涉及根桥选举、根端口和指定端口选择，端口状态如Blocking和Forwarding。重点强调了拓扑变更处理机制，如TCN BPDU的使用，以及RSTP相比传统STP更快收敛的优势，实现了从Listening到Forwarding的快速过渡。本文还提到了Cisco的工具如Portfast、BPDU Guard、Root Guard，用于端口优化和安全，确保网络稳定性，并提供了详细的配置命令和示例。","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728646455824-e63f2ae6-4209-407f-9b5d-2350fc785fc8.png","date":"2024-10-17T07:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## STP基础部分\n### 技术背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728646455824-e63f2ae6-4209-407f-9b5d-2350fc785fc8.png)\n\n+ 接入层交换机单链路上联，存在单链路故障\n+ 物理链路冗余，解决了单链路故障问题，但是二层环境存在环路\n+ 另一个问题的单点故障，如果任意一个汇聚设备宕机，将直接导致下联的接入网络挂掉\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728991853223-aeb82855-6fc2-4071-a881-6ef8cea0a009.png)\n\n+ 生成树可以有效的解决这个问题\n+ 通过生成树协议，在逻辑上将特定端口进行block，从而实现物理上存在冗余环境，而二层又阻止环路的产生\n+ 当拓扑发生变更的时候，生成树协议能够探测这些变化，并且及时自动的调整接口状态，从而适应网络拓扑的变化，实现链路冗余\n\n### 生成树的标准\n+ 802.1D\n+ **<font style=\"color:#DF2A3F;\">PVST+ 思科Cisco私有协议，每个VLAN拥有一颗单独的生成树实例</font>**\n+ **<font style=\"color:#DF2A3F;\">802.1W RSTP</font>**\n+ **<font style=\"color:#DF2A3F;\">802.1S MSTP</font>**\n+ PVRST+ Cisco私有，对RSTP的增强版\n\n### STP的操作\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992604910-8b3f979a-e693-4e7e-9bf2-931a2daaa69c.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992769109-d61b90f4-6537-495c-b1bf-23419d750677.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_404%2Climit_0)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993147373-c6c3f19e-038f-4f1b-a1b7-a3c112d6141f.png?x-oss-process=image%2Fformat%2Cwebp)\n\n+ 每个广播域选择一个根桥\n+ 每个非根桥上选择一个根端口\n+ 每个段选择一个指定端口\n+ 选择一个非指定端口\n    - 根端口：具有最低根路径的接口要考虑的因素：\n    - 1.最低根桥ID\n    - 2.到根桥的最低路径成本\n    - 3.最低的发送者网桥ID\n    - 4.最低的发送者端口ID\n\n### 端口的状态\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993578313-21b82a1c-9151-47a9-b82f-ff5f9eb9e944.png)\n\n+ Disable\t\t不收发任何报文\n+ Blocking\t\t不接受也不转发帧，接收但不发送BPDU，不学习MAC地址\n+ Listening\t\t不接受也不转发帧，接收并且发送BPDU，不学习MAC地址\n+ Learning\t\t不接受也不转发帧，接受并且发送BPDU，学习MAC地址\n+ Forwarding\t接受并转发帧，接受并且发送BPDU，学习MAC地址\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993852668-c4c616b2-00e0-47a0-b0ee-a1affc05056a.png)\n\n### STP 拓扑变更\n+ TCN BPDU概述\n+ 当网络拓扑出现变更的时候，最先意识到变化的交换机将发送TCN BPDU\n+ 在发生以下时间时，交换机将发送TCN：\n    - 对于正在处于转发和监听状态的接口，过渡到Block状态（链路故障的情况）\n    - 端口进入转发状态，并且网桥已经拥有指定端口\n    - 非root网桥在它指定的端口收到TCN\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994204949-b55797be-552d-4227-9276-c7fbaea939b4.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994221639-299017dc-8cba-42b7-badd-7c7c28a0e771.png)\n\n+ 1. SwitchA挂掉\n+ 2. SwitchB最先检测到拓扑变化，于是产生TCNBPDU并从根端口发送出去(因为根端口是朝着根桥的方向)，B将连续发送TCN BPDU直到指定交换机C发送TCNACK进行确认\n+ 3. SwitchB收到这个TCN BPDU，回送一个TCN ACK进行确认，同时向自己的根端口转发这个TCN BPDU\n+ 4. Root收到这个TCN，回送一个TCN ACK给C\n+ 5. Root修改自己的配置BPDU，以此来通告整个交换网络关于拓扑变更的情况。Root在配置BPDU中设置一段时间的拓扑变更(TC标志)，这段时间等于转发延迟+Max.Age，默认35S\n+ 6. 当交换机收到Root发出的这个TC标志置位的配置BPDU，它们使用转发延迟计时器(默认15S)来更新其MAC地址表中的条目。也就是说条目的寿命由原来的300S的默认值变成15S，这样能保证MAC地址条目更快速的刷新。交换机将持续这个过程，直到不再从Root收到TC BPDU消息为止。\n\n## PVST+\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994621909-130e73a6-de80-47ad-ac46-64d0b5b29a38.png)\n\n### 扩展的SystemID\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994870216-a6eb1a0d-74e6-4cab-ad8c-b2e3003d0e4b.png)\n\n+ CISCO CATALYST交换机的MAC地址池最多可以容纳1024个地址，交换机的型号决定了可用MAC的数目，并不是所有catalyst交换机都能支持到这么多个MAC\n+ 这些MAC地址作为VLAN生成树中的网桥ID的MAC地址部分。不同的交换机型号支持不同的可用MAC地址数目。交换机依照次序分配MAC地址\n+ `Show run int | include bia`能看到所有的MAC，其中第一个MAC将被生成树使用，也就是CPU的MAC。接下去就是每个以太网接口的MAC。\n+ 我们知道交换机能够支持的VLAN的数据是很庞大的，如果开启PVST+，每个VLAN-棵生成树，而没棵生成树都要有一个独立的标识，都需要耗费一个MAC的话，那么MAC地址池肯定是无法承受的。\n+ 因此需要使用到MAC地址缩减方案\n\n### Portfast\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729039809369-9c40389d-88da-496d-bca9-25a6d6234403.png)\n\n+ 在交换机上，将连接主机的接口配置为portfast\n+ Portfast接口可以绕过listening和learning状态直接进入forwarding状态\n\n\n## RSTP\n### 概述\n+ 802.1w\n+ 端口角色：根端口、指定端口、替代端口、备份端口\n+ 端口状态：转发、丢弃、学习\n+ 在思科catalyst交换机上，pvst+（pvrst+）是基于RSTP实现的perVLAN版本\n\n### BPDU\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729044484996-3b6cd7be-f733-4168-9777-129aea9b5f10.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992801739-4802c0b8-889f-443f-829d-086fd6a3fd90.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_750%2Climit_0)\n\n+ 00\t未知\n+ 01\t替代/备份\n+ 10\t根端口\n+ 11\t指定端口\n\n### BPDUs检测过程\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729045900649-8fc37524-c7fb-439f-b6ab-d3c728338bb8.jpeg)\n\n+ B丢失了到Root的路径\n+ 认为自己是Root\n+ 于是发送“我就是Root”的次优BPDU\n\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729046055735-49f106e1-3921-4aa5-a6a3-a057c15dee87.jpeg)\n\n+ C知道Root还活着\n+ 立即发送包含Root信息的BPDU给B\n+ B接受BPDU，并且把连接C的接口设定为根端口\n\n### BPDUGuard\n+ 该接口收到BPDU报文后，会立即切换到err-disable状态\n+ 常搭配portfast特性在接口上一起使用，用于连接主机\n+ 可在接口上激活，也可在全局模式上配置，两者有所不同\n\n### 边缘端口edge-ports\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729123357180-16fc75cb-fb7f-4044-a7d7-c22dc6304f23.jpeg)\n\n+ RSTP定义的端口类型与postfast十分类似\n+ 因为这些接口用于连接主机，所以一般不会产生环路。这写端口可以跳过LST或LRN直接过渡到转发状态\n+ 而且当这这些接口up down的时候不会引起拓扑变更\n+ 另外，边缘端口收到BPDU，则立即丢失边缘端口的特征，变成一个普通的Spanning Tree接口\n+ 在catalyst交换机上，可以用postfast关键字来进行手工配置\n\n### Rapid Transition to Fowarding State\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729124004050-d0224907-d9d7-40ae-adfa-a6b2fd9994e7.jpeg)\n\n+ RSTP能够在边缘端口及P2P链路上快速过度。\n+ RSTP的链路类型是通过接口的双工状态自动获取到的，如果接口时半双工，那么链路类型是shared port，如果是全双工那么就是p2p。\n+ 当然，接口的链路类型可以通过命令修改，接口模式下：`spanning-tree link-type ？`\n\n#### 链路类型\n+ P2P（点对点）\n+ shared port（共享端口） \n\n收敛对比：802.1D\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124300768-b593c142-1bfe-4859-a852-dbc976dad390.png)\n\n+ A及Root之间新增链路Link1\n+ A及root在link1两端的接口都进入Listening状态，A将收到Root发出来的BPDU\n+ A将BPDU从自己的指定端口发送出去，BPDU被泛洪到网络中\n+ B和C收到这个更优的BPDU，继续向网络中泛洪\n+ 数秒后，D收到这个BPDU，Block掉端口P1\n\nTips：**<font style=\"color:#DF2A3F;\">由于缺乏feednack机制，A连接root的接口从listening到Forwarding，需要经历15*2s的延迟。此时A、B、C下联的用户流量就出现了问题（因为D收到更优的BPDU后，将P1口block了，这时候ABC相当于在A的根端口过渡到forwarding之前都处于网络的“隔离地带”）</font>**\n\n### 收敛对比：RSTP\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124922667-c1a64149-b6c9-4514-9853-820ffa2b3a3e.png)\n\n+ A及Root之前新增链路Link1\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124961966-9914c0a0-fd55-4c36-aa6f-36f73a56c1c3.png)\n\n+ A及Root在Link1两端的接口在up之后进入designated blocking。然后双方交互BPDU消息。这个过程实际上是一个协商的过程\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125063559-0f3a0c30-32df-4e60-a446-c1f2a3ca47dd.png)\n\n+ A在收到Root发送的BPDU后，将自己的所有非边缘端口Block（这个过程称为同步sync），并且回送一个agreement消息给Root\n+ 在此之后，Root及A在link1上的端口立即都过渡到转发状态。而网路目前是没有环路的，A往下的网路目前是切断的\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125279663-95c22911-ebd8-44ab-b706-67c5fab68886.png)\n\n+ A与B和C之间，开始一轮新的协商，BC收到A发送的bPDU后，完成同步Sync过程，将自己的非边缘端口Block掉，然后都向A回送agreement信息。同时ABC互联的接口进入转发状态。在BC同步操作的过程中，B下联全是主机，因此没有端口被Blcok（已经完成同步）；而C要block掉连接D的端口\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125689365-ecd8155a-fb87-4009-82a9-c104aafbd310.png)\n\n+ 完成上一步后，生成树状态如图\n+ 最终BPDU到达D，D将P1口Block掉\n\nTips：\n\n**<font style=\"color:#DF2A3F;\">在RSTP收敛过程中，耗费是时间仅仅是BPDU从Root泛洪到网络末端的时间，不用受到任何Timer的限制，直接绕过两个转发延迟时间。因此收敛速度更快。</font>**\n\n+ 有两点需注意:\n    - 交换机之间的这种协商机制只在P2P链路上被执行\n    - 边缘端口的配置非常重要，如果配置不当有可能会在同步过程中被BLOCK。\n\n### Proposal/Agreement Squence\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729126908014-9ffda30f-cba3-4c31-8607-345dbd34c1e9.jpeg)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729126942017-56bd8d43-41d8-457f-a4c2-18f7ec77ea7c.png)\n\n**<font style=\"color:#DF2A3F;\">Root和A之间新增了一条链路，链路两端的接口在收到对方发送的BPDU前是designated blocking状态</font>**\n\n+ 当一个被选举为指定端口的接口在discarding或learning状态(目只在这个状态)，它在其发送的BPDU中进行proposalbit置位。这就是步骤1的P0的情况\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729127237066-9878cdaa-4a0b-46a8-b820-0687f9cb411e.png)\n\n+ 在A完成同步后，A就可以将新选出的根端口unblock并且发送一个agreement消息给Root。这个agreement消息是A的proposal消息的拷贝，但是agreement bit置位了。\n+ 如此一来，P0就收到了应答，立即转为forwarding。注意这时候P3接口仍处于designateddiscarding状态，于是它向它的邻居网桥去发送proposal，而且也在积极等待回传的agreement以便进入forwarding状态\n\n## Cisco STP toolkit\n+ Portfast\n+ BPDUGuard\n+ BPDUFilter\n+ UplinkFast\n+ BackboneFast\n+ RootGuard\n+ LoopGuard\n+ UDLD\n\n## 基础配置\n```plain\nSwitch(config)# spanning-tree vlan-id\t\t#激活特定VLAN的stp\nSwitch(config)# spanning-tree vlan vlan-id priorty pri\t\t#配置桥优先级，这里注意是perVLAN的，优先级默认3\nSwitch(config)# spanning-tree vlan vlan-id root {primary | secondary} [diameter diameter] #设置主根次根，该交换机在默认优先级的状态下vlan优先级为24576，如果是secondary，则为28672\n```\n\n```plain\nSwitch(config-if)# spanning-tree [vlan vlan-id] cost cost\nSwitch(config-if)# spanning-tree [vlan vlan-id] post-priority pri\nSwitch(config)# spanning-tree [vlan vlan-id] hello-time sec\nSwitch(config)# spanning-tree [vlan vlan-id] forward-time sec\nSwitch(config)# spanning-tree [vlan vlan-id] max-time sec\n```\n\n```plain\nSwitch(config)# spanning-tree postfast default\nSwitch(config-if)# spanning-tree portfast [trunk]\n```","source":"_posts/CCNA/Spanning Tree And More.md","raw":"---\ntitle: STP高级\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了STP高级主题的核心内容，涵盖技术背景如单链路故障和环路问题，通过生成树协议提供冗余和拓扑适应。主要讨论了STP标准包括802.1D、PVST+、RSTP和MSTP，以及操作过程涉及根桥选举、根端口和指定端口选择，端口状态如Blocking和Forwarding。重点强调了拓扑变更处理机制，如TCN\n  BPDU的使用，以及RSTP相比传统STP更快收敛的优势，实现了从Listening到Forwarding的快速过渡。本文还提到了Cisco的工具如Portfast、BPDU\n  Guard、Root Guard，用于端口优化和安全，确保网络稳定性，并提供了详细的配置命令和示例。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1728646455824-e63f2ae6-4209-407f-9b5d-2350fc785fc8.png\ndate: 2024-10-17 15:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## STP基础部分\n### 技术背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728646455824-e63f2ae6-4209-407f-9b5d-2350fc785fc8.png)\n\n+ 接入层交换机单链路上联，存在单链路故障\n+ 物理链路冗余，解决了单链路故障问题，但是二层环境存在环路\n+ 另一个问题的单点故障，如果任意一个汇聚设备宕机，将直接导致下联的接入网络挂掉\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728991853223-aeb82855-6fc2-4071-a881-6ef8cea0a009.png)\n\n+ 生成树可以有效的解决这个问题\n+ 通过生成树协议，在逻辑上将特定端口进行block，从而实现物理上存在冗余环境，而二层又阻止环路的产生\n+ 当拓扑发生变更的时候，生成树协议能够探测这些变化，并且及时自动的调整接口状态，从而适应网络拓扑的变化，实现链路冗余\n\n### 生成树的标准\n+ 802.1D\n+ **<font style=\"color:#DF2A3F;\">PVST+ 思科Cisco私有协议，每个VLAN拥有一颗单独的生成树实例</font>**\n+ **<font style=\"color:#DF2A3F;\">802.1W RSTP</font>**\n+ **<font style=\"color:#DF2A3F;\">802.1S MSTP</font>**\n+ PVRST+ Cisco私有，对RSTP的增强版\n\n### STP的操作\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992604910-8b3f979a-e693-4e7e-9bf2-931a2daaa69c.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992769109-d61b90f4-6537-495c-b1bf-23419d750677.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_404%2Climit_0)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993147373-c6c3f19e-038f-4f1b-a1b7-a3c112d6141f.png?x-oss-process=image%2Fformat%2Cwebp)\n\n+ 每个广播域选择一个根桥\n+ 每个非根桥上选择一个根端口\n+ 每个段选择一个指定端口\n+ 选择一个非指定端口\n    - 根端口：具有最低根路径的接口要考虑的因素：\n    - 1.最低根桥ID\n    - 2.到根桥的最低路径成本\n    - 3.最低的发送者网桥ID\n    - 4.最低的发送者端口ID\n\n### 端口的状态\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993578313-21b82a1c-9151-47a9-b82f-ff5f9eb9e944.png)\n\n+ Disable\t\t不收发任何报文\n+ Blocking\t\t不接受也不转发帧，接收但不发送BPDU，不学习MAC地址\n+ Listening\t\t不接受也不转发帧，接收并且发送BPDU，不学习MAC地址\n+ Learning\t\t不接受也不转发帧，接受并且发送BPDU，学习MAC地址\n+ Forwarding\t接受并转发帧，接受并且发送BPDU，学习MAC地址\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993852668-c4c616b2-00e0-47a0-b0ee-a1affc05056a.png)\n\n### STP 拓扑变更\n+ TCN BPDU概述\n+ 当网络拓扑出现变更的时候，最先意识到变化的交换机将发送TCN BPDU\n+ 在发生以下时间时，交换机将发送TCN：\n    - 对于正在处于转发和监听状态的接口，过渡到Block状态（链路故障的情况）\n    - 端口进入转发状态，并且网桥已经拥有指定端口\n    - 非root网桥在它指定的端口收到TCN\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994204949-b55797be-552d-4227-9276-c7fbaea939b4.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994221639-299017dc-8cba-42b7-badd-7c7c28a0e771.png)\n\n+ 1. SwitchA挂掉\n+ 2. SwitchB最先检测到拓扑变化，于是产生TCNBPDU并从根端口发送出去(因为根端口是朝着根桥的方向)，B将连续发送TCN BPDU直到指定交换机C发送TCNACK进行确认\n+ 3. SwitchB收到这个TCN BPDU，回送一个TCN ACK进行确认，同时向自己的根端口转发这个TCN BPDU\n+ 4. Root收到这个TCN，回送一个TCN ACK给C\n+ 5. Root修改自己的配置BPDU，以此来通告整个交换网络关于拓扑变更的情况。Root在配置BPDU中设置一段时间的拓扑变更(TC标志)，这段时间等于转发延迟+Max.Age，默认35S\n+ 6. 当交换机收到Root发出的这个TC标志置位的配置BPDU，它们使用转发延迟计时器(默认15S)来更新其MAC地址表中的条目。也就是说条目的寿命由原来的300S的默认值变成15S，这样能保证MAC地址条目更快速的刷新。交换机将持续这个过程，直到不再从Root收到TC BPDU消息为止。\n\n## PVST+\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994621909-130e73a6-de80-47ad-ac46-64d0b5b29a38.png)\n\n### 扩展的SystemID\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994870216-a6eb1a0d-74e6-4cab-ad8c-b2e3003d0e4b.png)\n\n+ CISCO CATALYST交换机的MAC地址池最多可以容纳1024个地址，交换机的型号决定了可用MAC的数目，并不是所有catalyst交换机都能支持到这么多个MAC\n+ 这些MAC地址作为VLAN生成树中的网桥ID的MAC地址部分。不同的交换机型号支持不同的可用MAC地址数目。交换机依照次序分配MAC地址\n+ `Show run int | include bia`能看到所有的MAC，其中第一个MAC将被生成树使用，也就是CPU的MAC。接下去就是每个以太网接口的MAC。\n+ 我们知道交换机能够支持的VLAN的数据是很庞大的，如果开启PVST+，每个VLAN-棵生成树，而没棵生成树都要有一个独立的标识，都需要耗费一个MAC的话，那么MAC地址池肯定是无法承受的。\n+ 因此需要使用到MAC地址缩减方案\n\n### Portfast\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729039809369-9c40389d-88da-496d-bca9-25a6d6234403.png)\n\n+ 在交换机上，将连接主机的接口配置为portfast\n+ Portfast接口可以绕过listening和learning状态直接进入forwarding状态\n\n\n## RSTP\n### 概述\n+ 802.1w\n+ 端口角色：根端口、指定端口、替代端口、备份端口\n+ 端口状态：转发、丢弃、学习\n+ 在思科catalyst交换机上，pvst+（pvrst+）是基于RSTP实现的perVLAN版本\n\n### BPDU\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729044484996-3b6cd7be-f733-4168-9777-129aea9b5f10.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992801739-4802c0b8-889f-443f-829d-086fd6a3fd90.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_750%2Climit_0)\n\n+ 00\t未知\n+ 01\t替代/备份\n+ 10\t根端口\n+ 11\t指定端口\n\n### BPDUs检测过程\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729045900649-8fc37524-c7fb-439f-b6ab-d3c728338bb8.jpeg)\n\n+ B丢失了到Root的路径\n+ 认为自己是Root\n+ 于是发送“我就是Root”的次优BPDU\n\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729046055735-49f106e1-3921-4aa5-a6a3-a057c15dee87.jpeg)\n\n+ C知道Root还活着\n+ 立即发送包含Root信息的BPDU给B\n+ B接受BPDU，并且把连接C的接口设定为根端口\n\n### BPDUGuard\n+ 该接口收到BPDU报文后，会立即切换到err-disable状态\n+ 常搭配portfast特性在接口上一起使用，用于连接主机\n+ 可在接口上激活，也可在全局模式上配置，两者有所不同\n\n### 边缘端口edge-ports\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729123357180-16fc75cb-fb7f-4044-a7d7-c22dc6304f23.jpeg)\n\n+ RSTP定义的端口类型与postfast十分类似\n+ 因为这些接口用于连接主机，所以一般不会产生环路。这写端口可以跳过LST或LRN直接过渡到转发状态\n+ 而且当这这些接口up down的时候不会引起拓扑变更\n+ 另外，边缘端口收到BPDU，则立即丢失边缘端口的特征，变成一个普通的Spanning Tree接口\n+ 在catalyst交换机上，可以用postfast关键字来进行手工配置\n\n### Rapid Transition to Fowarding State\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729124004050-d0224907-d9d7-40ae-adfa-a6b2fd9994e7.jpeg)\n\n+ RSTP能够在边缘端口及P2P链路上快速过度。\n+ RSTP的链路类型是通过接口的双工状态自动获取到的，如果接口时半双工，那么链路类型是shared port，如果是全双工那么就是p2p。\n+ 当然，接口的链路类型可以通过命令修改，接口模式下：`spanning-tree link-type ？`\n\n#### 链路类型\n+ P2P（点对点）\n+ shared port（共享端口） \n\n收敛对比：802.1D\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124300768-b593c142-1bfe-4859-a852-dbc976dad390.png)\n\n+ A及Root之间新增链路Link1\n+ A及root在link1两端的接口都进入Listening状态，A将收到Root发出来的BPDU\n+ A将BPDU从自己的指定端口发送出去，BPDU被泛洪到网络中\n+ B和C收到这个更优的BPDU，继续向网络中泛洪\n+ 数秒后，D收到这个BPDU，Block掉端口P1\n\nTips：**<font style=\"color:#DF2A3F;\">由于缺乏feednack机制，A连接root的接口从listening到Forwarding，需要经历15*2s的延迟。此时A、B、C下联的用户流量就出现了问题（因为D收到更优的BPDU后，将P1口block了，这时候ABC相当于在A的根端口过渡到forwarding之前都处于网络的“隔离地带”）</font>**\n\n### 收敛对比：RSTP\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124922667-c1a64149-b6c9-4514-9853-820ffa2b3a3e.png)\n\n+ A及Root之前新增链路Link1\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124961966-9914c0a0-fd55-4c36-aa6f-36f73a56c1c3.png)\n\n+ A及Root在Link1两端的接口在up之后进入designated blocking。然后双方交互BPDU消息。这个过程实际上是一个协商的过程\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125063559-0f3a0c30-32df-4e60-a446-c1f2a3ca47dd.png)\n\n+ A在收到Root发送的BPDU后，将自己的所有非边缘端口Block（这个过程称为同步sync），并且回送一个agreement消息给Root\n+ 在此之后，Root及A在link1上的端口立即都过渡到转发状态。而网路目前是没有环路的，A往下的网路目前是切断的\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125279663-95c22911-ebd8-44ab-b706-67c5fab68886.png)\n\n+ A与B和C之间，开始一轮新的协商，BC收到A发送的bPDU后，完成同步Sync过程，将自己的非边缘端口Block掉，然后都向A回送agreement信息。同时ABC互联的接口进入转发状态。在BC同步操作的过程中，B下联全是主机，因此没有端口被Blcok（已经完成同步）；而C要block掉连接D的端口\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125689365-ecd8155a-fb87-4009-82a9-c104aafbd310.png)\n\n+ 完成上一步后，生成树状态如图\n+ 最终BPDU到达D，D将P1口Block掉\n\nTips：\n\n**<font style=\"color:#DF2A3F;\">在RSTP收敛过程中，耗费是时间仅仅是BPDU从Root泛洪到网络末端的时间，不用受到任何Timer的限制，直接绕过两个转发延迟时间。因此收敛速度更快。</font>**\n\n+ 有两点需注意:\n    - 交换机之间的这种协商机制只在P2P链路上被执行\n    - 边缘端口的配置非常重要，如果配置不当有可能会在同步过程中被BLOCK。\n\n### Proposal/Agreement Squence\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729126908014-9ffda30f-cba3-4c31-8607-345dbd34c1e9.jpeg)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729126942017-56bd8d43-41d8-457f-a4c2-18f7ec77ea7c.png)\n\n**<font style=\"color:#DF2A3F;\">Root和A之间新增了一条链路，链路两端的接口在收到对方发送的BPDU前是designated blocking状态</font>**\n\n+ 当一个被选举为指定端口的接口在discarding或learning状态(目只在这个状态)，它在其发送的BPDU中进行proposalbit置位。这就是步骤1的P0的情况\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729127237066-9878cdaa-4a0b-46a8-b820-0687f9cb411e.png)\n\n+ 在A完成同步后，A就可以将新选出的根端口unblock并且发送一个agreement消息给Root。这个agreement消息是A的proposal消息的拷贝，但是agreement bit置位了。\n+ 如此一来，P0就收到了应答，立即转为forwarding。注意这时候P3接口仍处于designateddiscarding状态，于是它向它的邻居网桥去发送proposal，而且也在积极等待回传的agreement以便进入forwarding状态\n\n## Cisco STP toolkit\n+ Portfast\n+ BPDUGuard\n+ BPDUFilter\n+ UplinkFast\n+ BackboneFast\n+ RootGuard\n+ LoopGuard\n+ UDLD\n\n## 基础配置\n```plain\nSwitch(config)# spanning-tree vlan-id\t\t#激活特定VLAN的stp\nSwitch(config)# spanning-tree vlan vlan-id priorty pri\t\t#配置桥优先级，这里注意是perVLAN的，优先级默认3\nSwitch(config)# spanning-tree vlan vlan-id root {primary | secondary} [diameter diameter] #设置主根次根，该交换机在默认优先级的状态下vlan优先级为24576，如果是secondary，则为28672\n```\n\n```plain\nSwitch(config-if)# spanning-tree [vlan vlan-id] cost cost\nSwitch(config-if)# spanning-tree [vlan vlan-id] post-priority pri\nSwitch(config)# spanning-tree [vlan vlan-id] hello-time sec\nSwitch(config)# spanning-tree [vlan vlan-id] forward-time sec\nSwitch(config)# spanning-tree [vlan vlan-id] max-time sec\n```\n\n```plain\nSwitch(config)# spanning-tree postfast default\nSwitch(config-if)# spanning-tree portfast [trunk]\n```","slug":"CCNA/Spanning Tree And More","published":1,"updated":"2025-08-01T15:12:53.845Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zi000wg0fyce7ve54v","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"STP基础部分\"><a href=\"#STP基础部分\" class=\"headerlink\" title=\"STP基础部分\"></a>STP基础部分</h2><h3 id=\"技术背景\"><a href=\"#技术背景\" class=\"headerlink\" title=\"技术背景\"></a>技术背景</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728646455824-e63f2ae6-4209-407f-9b5d-2350fc785fc8.png\"></p>\n<ul>\n<li>接入层交换机单链路上联，存在单链路故障</li>\n<li>物理链路冗余，解决了单链路故障问题，但是二层环境存在环路</li>\n<li>另一个问题的单点故障，如果任意一个汇聚设备宕机，将直接导致下联的接入网络挂掉</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728991853223-aeb82855-6fc2-4071-a881-6ef8cea0a009.png\"></p>\n<ul>\n<li>生成树可以有效的解决这个问题</li>\n<li>通过生成树协议，在逻辑上将特定端口进行block，从而实现物理上存在冗余环境，而二层又阻止环路的产生</li>\n<li>当拓扑发生变更的时候，生成树协议能够探测这些变化，并且及时自动的调整接口状态，从而适应网络拓扑的变化，实现链路冗余</li>\n</ul>\n<h3 id=\"生成树的标准\"><a href=\"#生成树的标准\" class=\"headerlink\" title=\"生成树的标准\"></a>生成树的标准</h3><ul>\n<li>802.1D</li>\n<li><strong><font style=\"color:#DF2A3F;\">PVST+ 思科Cisco私有协议，每个VLAN拥有一颗单独的生成树实例</font></strong></li>\n<li><strong><font style=\"color:#DF2A3F;\">802.1W RSTP</font></strong></li>\n<li><strong><font style=\"color:#DF2A3F;\">802.1S MSTP</font></strong></li>\n<li>PVRST+ Cisco私有，对RSTP的增强版</li>\n</ul>\n<h3 id=\"STP的操作\"><a href=\"#STP的操作\" class=\"headerlink\" title=\"STP的操作\"></a>STP的操作</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992604910-8b3f979a-e693-4e7e-9bf2-931a2daaa69c.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992769109-d61b90f4-6537-495c-b1bf-23419d750677.png?x-oss-process=image/format,webp/resize,w_404,limit_0\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993147373-c6c3f19e-038f-4f1b-a1b7-a3c112d6141f.png?x-oss-process=image/format,webp\"></p>\n<ul>\n<li>每个广播域选择一个根桥</li>\n<li>每个非根桥上选择一个根端口</li>\n<li>每个段选择一个指定端口</li>\n<li>选择一个非指定端口<ul>\n<li>根端口：具有最低根路径的接口要考虑的因素：</li>\n<li>1.最低根桥ID</li>\n<li>2.到根桥的最低路径成本</li>\n<li>3.最低的发送者网桥ID</li>\n<li>4.最低的发送者端口ID</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"端口的状态\"><a href=\"#端口的状态\" class=\"headerlink\" title=\"端口的状态\"></a>端口的状态</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993578313-21b82a1c-9151-47a9-b82f-ff5f9eb9e944.png\"></p>\n<ul>\n<li>Disable\t\t不收发任何报文</li>\n<li>Blocking\t\t不接受也不转发帧，接收但不发送BPDU，不学习MAC地址</li>\n<li>Listening\t\t不接受也不转发帧，接收并且发送BPDU，不学习MAC地址</li>\n<li>Learning\t\t不接受也不转发帧，接受并且发送BPDU，学习MAC地址</li>\n<li>Forwarding\t接受并转发帧，接受并且发送BPDU，学习MAC地址</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993852668-c4c616b2-00e0-47a0-b0ee-a1affc05056a.png\"></p>\n<h3 id=\"STP-拓扑变更\"><a href=\"#STP-拓扑变更\" class=\"headerlink\" title=\"STP 拓扑变更\"></a>STP 拓扑变更</h3><ul>\n<li>TCN BPDU概述</li>\n<li>当网络拓扑出现变更的时候，最先意识到变化的交换机将发送TCN BPDU</li>\n<li>在发生以下时间时，交换机将发送TCN：<ul>\n<li>对于正在处于转发和监听状态的接口，过渡到Block状态（链路故障的情况）</li>\n<li>端口进入转发状态，并且网桥已经拥有指定端口</li>\n<li>非root网桥在它指定的端口收到TCN</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994204949-b55797be-552d-4227-9276-c7fbaea939b4.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994221639-299017dc-8cba-42b7-badd-7c7c28a0e771.png\"></p>\n<ul>\n<li><ol>\n<li>SwitchA挂掉</li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>SwitchB最先检测到拓扑变化，于是产生TCNBPDU并从根端口发送出去(因为根端口是朝着根桥的方向)，B将连续发送TCN BPDU直到指定交换机C发送TCNACK进行确认</li>\n</ol>\n</li>\n<li><ol start=\"3\">\n<li>SwitchB收到这个TCN BPDU，回送一个TCN ACK进行确认，同时向自己的根端口转发这个TCN BPDU</li>\n</ol>\n</li>\n<li><ol start=\"4\">\n<li>Root收到这个TCN，回送一个TCN ACK给C</li>\n</ol>\n</li>\n<li><ol start=\"5\">\n<li>Root修改自己的配置BPDU，以此来通告整个交换网络关于拓扑变更的情况。Root在配置BPDU中设置一段时间的拓扑变更(TC标志)，这段时间等于转发延迟+Max.Age，默认35S</li>\n</ol>\n</li>\n<li><ol start=\"6\">\n<li>当交换机收到Root发出的这个TC标志置位的配置BPDU，它们使用转发延迟计时器(默认15S)来更新其MAC地址表中的条目。也就是说条目的寿命由原来的300S的默认值变成15S，这样能保证MAC地址条目更快速的刷新。交换机将持续这个过程，直到不再从Root收到TC BPDU消息为止。</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"PVST\"><a href=\"#PVST\" class=\"headerlink\" title=\"PVST+\"></a>PVST+</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994621909-130e73a6-de80-47ad-ac46-64d0b5b29a38.png\"></p>\n<h3 id=\"扩展的SystemID\"><a href=\"#扩展的SystemID\" class=\"headerlink\" title=\"扩展的SystemID\"></a>扩展的SystemID</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994870216-a6eb1a0d-74e6-4cab-ad8c-b2e3003d0e4b.png\"></p>\n<ul>\n<li>CISCO CATALYST交换机的MAC地址池最多可以容纳1024个地址，交换机的型号决定了可用MAC的数目，并不是所有catalyst交换机都能支持到这么多个MAC</li>\n<li>这些MAC地址作为VLAN生成树中的网桥ID的MAC地址部分。不同的交换机型号支持不同的可用MAC地址数目。交换机依照次序分配MAC地址</li>\n<li><code>Show run int | include bia</code>能看到所有的MAC，其中第一个MAC将被生成树使用，也就是CPU的MAC。接下去就是每个以太网接口的MAC。</li>\n<li>我们知道交换机能够支持的VLAN的数据是很庞大的，如果开启PVST+，每个VLAN-棵生成树，而没棵生成树都要有一个独立的标识，都需要耗费一个MAC的话，那么MAC地址池肯定是无法承受的。</li>\n<li>因此需要使用到MAC地址缩减方案</li>\n</ul>\n<h3 id=\"Portfast\"><a href=\"#Portfast\" class=\"headerlink\" title=\"Portfast\"></a>Portfast</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729039809369-9c40389d-88da-496d-bca9-25a6d6234403.png\"></p>\n<ul>\n<li>在交换机上，将连接主机的接口配置为portfast</li>\n<li>Portfast接口可以绕过listening和learning状态直接进入forwarding状态</li>\n</ul>\n<h2 id=\"RSTP\"><a href=\"#RSTP\" class=\"headerlink\" title=\"RSTP\"></a>RSTP</h2><h3 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h3><ul>\n<li>802.1w</li>\n<li>端口角色：根端口、指定端口、替代端口、备份端口</li>\n<li>端口状态：转发、丢弃、学习</li>\n<li>在思科catalyst交换机上，pvst+（pvrst+）是基于RSTP实现的perVLAN版本</li>\n</ul>\n<h3 id=\"BPDU\"><a href=\"#BPDU\" class=\"headerlink\" title=\"BPDU\"></a>BPDU</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729044484996-3b6cd7be-f733-4168-9777-129aea9b5f10.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992801739-4802c0b8-889f-443f-829d-086fd6a3fd90.png?x-oss-process=image/format,webp/resize,w_750,limit_0\"></p>\n<ul>\n<li>00\t未知</li>\n<li>01\t替代&#x2F;备份</li>\n<li>10\t根端口</li>\n<li>11\t指定端口</li>\n</ul>\n<h3 id=\"BPDUs检测过程\"><a href=\"#BPDUs检测过程\" class=\"headerlink\" title=\"BPDUs检测过程\"></a>BPDUs检测过程</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729045900649-8fc37524-c7fb-439f-b6ab-d3c728338bb8.jpeg\"></p>\n<ul>\n<li>B丢失了到Root的路径</li>\n<li>认为自己是Root</li>\n<li>于是发送“我就是Root”的次优BPDU</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729046055735-49f106e1-3921-4aa5-a6a3-a057c15dee87.jpeg\"></p>\n<ul>\n<li>C知道Root还活着</li>\n<li>立即发送包含Root信息的BPDU给B</li>\n<li>B接受BPDU，并且把连接C的接口设定为根端口</li>\n</ul>\n<h3 id=\"BPDUGuard\"><a href=\"#BPDUGuard\" class=\"headerlink\" title=\"BPDUGuard\"></a>BPDUGuard</h3><ul>\n<li>该接口收到BPDU报文后，会立即切换到err-disable状态</li>\n<li>常搭配portfast特性在接口上一起使用，用于连接主机</li>\n<li>可在接口上激活，也可在全局模式上配置，两者有所不同</li>\n</ul>\n<h3 id=\"边缘端口edge-ports\"><a href=\"#边缘端口edge-ports\" class=\"headerlink\" title=\"边缘端口edge-ports\"></a>边缘端口edge-ports</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729123357180-16fc75cb-fb7f-4044-a7d7-c22dc6304f23.jpeg\"></p>\n<ul>\n<li>RSTP定义的端口类型与postfast十分类似</li>\n<li>因为这些接口用于连接主机，所以一般不会产生环路。这写端口可以跳过LST或LRN直接过渡到转发状态</li>\n<li>而且当这这些接口up down的时候不会引起拓扑变更</li>\n<li>另外，边缘端口收到BPDU，则立即丢失边缘端口的特征，变成一个普通的Spanning Tree接口</li>\n<li>在catalyst交换机上，可以用postfast关键字来进行手工配置</li>\n</ul>\n<h3 id=\"Rapid-Transition-to-Fowarding-State\"><a href=\"#Rapid-Transition-to-Fowarding-State\" class=\"headerlink\" title=\"Rapid Transition to Fowarding State\"></a>Rapid Transition to Fowarding State</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729124004050-d0224907-d9d7-40ae-adfa-a6b2fd9994e7.jpeg\"></p>\n<ul>\n<li>RSTP能够在边缘端口及P2P链路上快速过度。</li>\n<li>RSTP的链路类型是通过接口的双工状态自动获取到的，如果接口时半双工，那么链路类型是shared port，如果是全双工那么就是p2p。</li>\n<li>当然，接口的链路类型可以通过命令修改，接口模式下：<code>spanning-tree link-type ？</code></li>\n</ul>\n<h4 id=\"链路类型\"><a href=\"#链路类型\" class=\"headerlink\" title=\"链路类型\"></a>链路类型</h4><ul>\n<li>P2P（点对点）</li>\n<li>shared port（共享端口）</li>\n</ul>\n<p>收敛对比：802.1D<br><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124300768-b593c142-1bfe-4859-a852-dbc976dad390.png\"></p>\n<ul>\n<li>A及Root之间新增链路Link1</li>\n<li>A及root在link1两端的接口都进入Listening状态，A将收到Root发出来的BPDU</li>\n<li>A将BPDU从自己的指定端口发送出去，BPDU被泛洪到网络中</li>\n<li>B和C收到这个更优的BPDU，继续向网络中泛洪</li>\n<li>数秒后，D收到这个BPDU，Block掉端口P1</li>\n</ul>\n<p>Tips：**<font style=\"color:#DF2A3F;\">由于缺乏feednack机制，A连接root的接口从listening到Forwarding，需要经历15<em>2s的延迟。此时A、B、C下联的用户流量就出现了问题（因为D收到更优的BPDU后，将P1口block了，这时候ABC相当于在A的根端口过渡到forwarding之前都处于网络的“隔离地带”）</em></font>*</p>\n<h3 id=\"收敛对比：RSTP\"><a href=\"#收敛对比：RSTP\" class=\"headerlink\" title=\"收敛对比：RSTP\"></a>收敛对比：RSTP</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124922667-c1a64149-b6c9-4514-9853-820ffa2b3a3e.png\"></p>\n<ul>\n<li>A及Root之前新增链路Link1</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124961966-9914c0a0-fd55-4c36-aa6f-36f73a56c1c3.png\"></p>\n<ul>\n<li>A及Root在Link1两端的接口在up之后进入designated blocking。然后双方交互BPDU消息。这个过程实际上是一个协商的过程</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125063559-0f3a0c30-32df-4e60-a446-c1f2a3ca47dd.png\"></p>\n<ul>\n<li>A在收到Root发送的BPDU后，将自己的所有非边缘端口Block（这个过程称为同步sync），并且回送一个agreement消息给Root</li>\n<li>在此之后，Root及A在link1上的端口立即都过渡到转发状态。而网路目前是没有环路的，A往下的网路目前是切断的</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125279663-95c22911-ebd8-44ab-b706-67c5fab68886.png\"></p>\n<ul>\n<li>A与B和C之间，开始一轮新的协商，BC收到A发送的bPDU后，完成同步Sync过程，将自己的非边缘端口Block掉，然后都向A回送agreement信息。同时ABC互联的接口进入转发状态。在BC同步操作的过程中，B下联全是主机，因此没有端口被Blcok（已经完成同步）；而C要block掉连接D的端口</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125689365-ecd8155a-fb87-4009-82a9-c104aafbd310.png\"></p>\n<ul>\n<li>完成上一步后，生成树状态如图</li>\n<li>最终BPDU到达D，D将P1口Block掉</li>\n</ul>\n<p>Tips：</p>\n<p><strong><font style=\"color:#DF2A3F;\">在RSTP收敛过程中，耗费是时间仅仅是BPDU从Root泛洪到网络末端的时间，不用受到任何Timer的限制，直接绕过两个转发延迟时间。因此收敛速度更快。</font></strong></p>\n<ul>\n<li>有两点需注意:<ul>\n<li>交换机之间的这种协商机制只在P2P链路上被执行</li>\n<li>边缘端口的配置非常重要，如果配置不当有可能会在同步过程中被BLOCK。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Proposal-Agreement-Squence\"><a href=\"#Proposal-Agreement-Squence\" class=\"headerlink\" title=\"Proposal&#x2F;Agreement Squence\"></a>Proposal&#x2F;Agreement Squence</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729126908014-9ffda30f-cba3-4c31-8607-345dbd34c1e9.jpeg\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729126942017-56bd8d43-41d8-457f-a4c2-18f7ec77ea7c.png\"></p>\n<p><strong><font style=\"color:#DF2A3F;\">Root和A之间新增了一条链路，链路两端的接口在收到对方发送的BPDU前是designated blocking状态</font></strong></p>\n<ul>\n<li>当一个被选举为指定端口的接口在discarding或learning状态(目只在这个状态)，它在其发送的BPDU中进行proposalbit置位。这就是步骤1的P0的情况</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729127237066-9878cdaa-4a0b-46a8-b820-0687f9cb411e.png\"></p>\n<ul>\n<li>在A完成同步后，A就可以将新选出的根端口unblock并且发送一个agreement消息给Root。这个agreement消息是A的proposal消息的拷贝，但是agreement bit置位了。</li>\n<li>如此一来，P0就收到了应答，立即转为forwarding。注意这时候P3接口仍处于designateddiscarding状态，于是它向它的邻居网桥去发送proposal，而且也在积极等待回传的agreement以便进入forwarding状态</li>\n</ul>\n<h2 id=\"Cisco-STP-toolkit\"><a href=\"#Cisco-STP-toolkit\" class=\"headerlink\" title=\"Cisco STP toolkit\"></a>Cisco STP toolkit</h2><ul>\n<li>Portfast</li>\n<li>BPDUGuard</li>\n<li>BPDUFilter</li>\n<li>UplinkFast</li>\n<li>BackboneFast</li>\n<li>RootGuard</li>\n<li>LoopGuard</li>\n<li>UDLD</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# spanning-tree vlan-id\t\t#激活特定VLAN的stp</span><br><span class=\"line\">Switch(config)# spanning-tree vlan vlan-id priorty pri\t\t#配置桥优先级，这里注意是perVLAN的，优先级默认3</span><br><span class=\"line\">Switch(config)# spanning-tree vlan vlan-id root &#123;primary | secondary&#125; [diameter diameter] #设置主根次根，该交换机在默认优先级的状态下vlan优先级为24576，如果是secondary，则为28672</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config-if)# spanning-tree [vlan vlan-id] cost cost</span><br><span class=\"line\">Switch(config-if)# spanning-tree [vlan vlan-id] post-priority pri</span><br><span class=\"line\">Switch(config)# spanning-tree [vlan vlan-id] hello-time sec</span><br><span class=\"line\">Switch(config)# spanning-tree [vlan vlan-id] forward-time sec</span><br><span class=\"line\">Switch(config)# spanning-tree [vlan vlan-id] max-time sec</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# spanning-tree postfast default</span><br><span class=\"line\">Switch(config-if)# spanning-tree portfast [trunk]</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"STP基础部分\"><a href=\"#STP基础部分\" class=\"headerlink\" title=\"STP基础部分\"></a>STP基础部分</h2><h3 id=\"技术背景\"><a href=\"#技术背景\" class=\"headerlink\" title=\"技术背景\"></a>技术背景</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728646455824-e63f2ae6-4209-407f-9b5d-2350fc785fc8.png\"></p>\n<ul>\n<li>接入层交换机单链路上联，存在单链路故障</li>\n<li>物理链路冗余，解决了单链路故障问题，但是二层环境存在环路</li>\n<li>另一个问题的单点故障，如果任意一个汇聚设备宕机，将直接导致下联的接入网络挂掉</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728991853223-aeb82855-6fc2-4071-a881-6ef8cea0a009.png\"></p>\n<ul>\n<li>生成树可以有效的解决这个问题</li>\n<li>通过生成树协议，在逻辑上将特定端口进行block，从而实现物理上存在冗余环境，而二层又阻止环路的产生</li>\n<li>当拓扑发生变更的时候，生成树协议能够探测这些变化，并且及时自动的调整接口状态，从而适应网络拓扑的变化，实现链路冗余</li>\n</ul>\n<h3 id=\"生成树的标准\"><a href=\"#生成树的标准\" class=\"headerlink\" title=\"生成树的标准\"></a>生成树的标准</h3><ul>\n<li>802.1D</li>\n<li><strong><font style=\"color:#DF2A3F;\">PVST+ 思科Cisco私有协议，每个VLAN拥有一颗单独的生成树实例</font></strong></li>\n<li><strong><font style=\"color:#DF2A3F;\">802.1W RSTP</font></strong></li>\n<li><strong><font style=\"color:#DF2A3F;\">802.1S MSTP</font></strong></li>\n<li>PVRST+ Cisco私有，对RSTP的增强版</li>\n</ul>\n<h3 id=\"STP的操作\"><a href=\"#STP的操作\" class=\"headerlink\" title=\"STP的操作\"></a>STP的操作</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992604910-8b3f979a-e693-4e7e-9bf2-931a2daaa69c.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992769109-d61b90f4-6537-495c-b1bf-23419d750677.png?x-oss-process=image/format,webp/resize,w_404,limit_0\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993147373-c6c3f19e-038f-4f1b-a1b7-a3c112d6141f.png?x-oss-process=image/format,webp\"></p>\n<ul>\n<li>每个广播域选择一个根桥</li>\n<li>每个非根桥上选择一个根端口</li>\n<li>每个段选择一个指定端口</li>\n<li>选择一个非指定端口<ul>\n<li>根端口：具有最低根路径的接口要考虑的因素：</li>\n<li>1.最低根桥ID</li>\n<li>2.到根桥的最低路径成本</li>\n<li>3.最低的发送者网桥ID</li>\n<li>4.最低的发送者端口ID</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"端口的状态\"><a href=\"#端口的状态\" class=\"headerlink\" title=\"端口的状态\"></a>端口的状态</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993578313-21b82a1c-9151-47a9-b82f-ff5f9eb9e944.png\"></p>\n<ul>\n<li>Disable\t\t不收发任何报文</li>\n<li>Blocking\t\t不接受也不转发帧，接收但不发送BPDU，不学习MAC地址</li>\n<li>Listening\t\t不接受也不转发帧，接收并且发送BPDU，不学习MAC地址</li>\n<li>Learning\t\t不接受也不转发帧，接受并且发送BPDU，学习MAC地址</li>\n<li>Forwarding\t接受并转发帧，接受并且发送BPDU，学习MAC地址</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728993852668-c4c616b2-00e0-47a0-b0ee-a1affc05056a.png\"></p>\n<h3 id=\"STP-拓扑变更\"><a href=\"#STP-拓扑变更\" class=\"headerlink\" title=\"STP 拓扑变更\"></a>STP 拓扑变更</h3><ul>\n<li>TCN BPDU概述</li>\n<li>当网络拓扑出现变更的时候，最先意识到变化的交换机将发送TCN BPDU</li>\n<li>在发生以下时间时，交换机将发送TCN：<ul>\n<li>对于正在处于转发和监听状态的接口，过渡到Block状态（链路故障的情况）</li>\n<li>端口进入转发状态，并且网桥已经拥有指定端口</li>\n<li>非root网桥在它指定的端口收到TCN</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994204949-b55797be-552d-4227-9276-c7fbaea939b4.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994221639-299017dc-8cba-42b7-badd-7c7c28a0e771.png\"></p>\n<ul>\n<li><ol>\n<li>SwitchA挂掉</li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>SwitchB最先检测到拓扑变化，于是产生TCNBPDU并从根端口发送出去(因为根端口是朝着根桥的方向)，B将连续发送TCN BPDU直到指定交换机C发送TCNACK进行确认</li>\n</ol>\n</li>\n<li><ol start=\"3\">\n<li>SwitchB收到这个TCN BPDU，回送一个TCN ACK进行确认，同时向自己的根端口转发这个TCN BPDU</li>\n</ol>\n</li>\n<li><ol start=\"4\">\n<li>Root收到这个TCN，回送一个TCN ACK给C</li>\n</ol>\n</li>\n<li><ol start=\"5\">\n<li>Root修改自己的配置BPDU，以此来通告整个交换网络关于拓扑变更的情况。Root在配置BPDU中设置一段时间的拓扑变更(TC标志)，这段时间等于转发延迟+Max.Age，默认35S</li>\n</ol>\n</li>\n<li><ol start=\"6\">\n<li>当交换机收到Root发出的这个TC标志置位的配置BPDU，它们使用转发延迟计时器(默认15S)来更新其MAC地址表中的条目。也就是说条目的寿命由原来的300S的默认值变成15S，这样能保证MAC地址条目更快速的刷新。交换机将持续这个过程，直到不再从Root收到TC BPDU消息为止。</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"PVST\"><a href=\"#PVST\" class=\"headerlink\" title=\"PVST+\"></a>PVST+</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994621909-130e73a6-de80-47ad-ac46-64d0b5b29a38.png\"></p>\n<h3 id=\"扩展的SystemID\"><a href=\"#扩展的SystemID\" class=\"headerlink\" title=\"扩展的SystemID\"></a>扩展的SystemID</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728994870216-a6eb1a0d-74e6-4cab-ad8c-b2e3003d0e4b.png\"></p>\n<ul>\n<li>CISCO CATALYST交换机的MAC地址池最多可以容纳1024个地址，交换机的型号决定了可用MAC的数目，并不是所有catalyst交换机都能支持到这么多个MAC</li>\n<li>这些MAC地址作为VLAN生成树中的网桥ID的MAC地址部分。不同的交换机型号支持不同的可用MAC地址数目。交换机依照次序分配MAC地址</li>\n<li><code>Show run int | include bia</code>能看到所有的MAC，其中第一个MAC将被生成树使用，也就是CPU的MAC。接下去就是每个以太网接口的MAC。</li>\n<li>我们知道交换机能够支持的VLAN的数据是很庞大的，如果开启PVST+，每个VLAN-棵生成树，而没棵生成树都要有一个独立的标识，都需要耗费一个MAC的话，那么MAC地址池肯定是无法承受的。</li>\n<li>因此需要使用到MAC地址缩减方案</li>\n</ul>\n<h3 id=\"Portfast\"><a href=\"#Portfast\" class=\"headerlink\" title=\"Portfast\"></a>Portfast</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729039809369-9c40389d-88da-496d-bca9-25a6d6234403.png\"></p>\n<ul>\n<li>在交换机上，将连接主机的接口配置为portfast</li>\n<li>Portfast接口可以绕过listening和learning状态直接进入forwarding状态</li>\n</ul>\n<h2 id=\"RSTP\"><a href=\"#RSTP\" class=\"headerlink\" title=\"RSTP\"></a>RSTP</h2><h3 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h3><ul>\n<li>802.1w</li>\n<li>端口角色：根端口、指定端口、替代端口、备份端口</li>\n<li>端口状态：转发、丢弃、学习</li>\n<li>在思科catalyst交换机上，pvst+（pvrst+）是基于RSTP实现的perVLAN版本</li>\n</ul>\n<h3 id=\"BPDU\"><a href=\"#BPDU\" class=\"headerlink\" title=\"BPDU\"></a>BPDU</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729044484996-3b6cd7be-f733-4168-9777-129aea9b5f10.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728992801739-4802c0b8-889f-443f-829d-086fd6a3fd90.png?x-oss-process=image/format,webp/resize,w_750,limit_0\"></p>\n<ul>\n<li>00\t未知</li>\n<li>01\t替代&#x2F;备份</li>\n<li>10\t根端口</li>\n<li>11\t指定端口</li>\n</ul>\n<h3 id=\"BPDUs检测过程\"><a href=\"#BPDUs检测过程\" class=\"headerlink\" title=\"BPDUs检测过程\"></a>BPDUs检测过程</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729045900649-8fc37524-c7fb-439f-b6ab-d3c728338bb8.jpeg\"></p>\n<ul>\n<li>B丢失了到Root的路径</li>\n<li>认为自己是Root</li>\n<li>于是发送“我就是Root”的次优BPDU</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729046055735-49f106e1-3921-4aa5-a6a3-a057c15dee87.jpeg\"></p>\n<ul>\n<li>C知道Root还活着</li>\n<li>立即发送包含Root信息的BPDU给B</li>\n<li>B接受BPDU，并且把连接C的接口设定为根端口</li>\n</ul>\n<h3 id=\"BPDUGuard\"><a href=\"#BPDUGuard\" class=\"headerlink\" title=\"BPDUGuard\"></a>BPDUGuard</h3><ul>\n<li>该接口收到BPDU报文后，会立即切换到err-disable状态</li>\n<li>常搭配portfast特性在接口上一起使用，用于连接主机</li>\n<li>可在接口上激活，也可在全局模式上配置，两者有所不同</li>\n</ul>\n<h3 id=\"边缘端口edge-ports\"><a href=\"#边缘端口edge-ports\" class=\"headerlink\" title=\"边缘端口edge-ports\"></a>边缘端口edge-ports</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729123357180-16fc75cb-fb7f-4044-a7d7-c22dc6304f23.jpeg\"></p>\n<ul>\n<li>RSTP定义的端口类型与postfast十分类似</li>\n<li>因为这些接口用于连接主机，所以一般不会产生环路。这写端口可以跳过LST或LRN直接过渡到转发状态</li>\n<li>而且当这这些接口up down的时候不会引起拓扑变更</li>\n<li>另外，边缘端口收到BPDU，则立即丢失边缘端口的特征，变成一个普通的Spanning Tree接口</li>\n<li>在catalyst交换机上，可以用postfast关键字来进行手工配置</li>\n</ul>\n<h3 id=\"Rapid-Transition-to-Fowarding-State\"><a href=\"#Rapid-Transition-to-Fowarding-State\" class=\"headerlink\" title=\"Rapid Transition to Fowarding State\"></a>Rapid Transition to Fowarding State</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729124004050-d0224907-d9d7-40ae-adfa-a6b2fd9994e7.jpeg\"></p>\n<ul>\n<li>RSTP能够在边缘端口及P2P链路上快速过度。</li>\n<li>RSTP的链路类型是通过接口的双工状态自动获取到的，如果接口时半双工，那么链路类型是shared port，如果是全双工那么就是p2p。</li>\n<li>当然，接口的链路类型可以通过命令修改，接口模式下：<code>spanning-tree link-type ？</code></li>\n</ul>\n<h4 id=\"链路类型\"><a href=\"#链路类型\" class=\"headerlink\" title=\"链路类型\"></a>链路类型</h4><ul>\n<li>P2P（点对点）</li>\n<li>shared port（共享端口）</li>\n</ul>\n<p>收敛对比：802.1D<br><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124300768-b593c142-1bfe-4859-a852-dbc976dad390.png\"></p>\n<ul>\n<li>A及Root之间新增链路Link1</li>\n<li>A及root在link1两端的接口都进入Listening状态，A将收到Root发出来的BPDU</li>\n<li>A将BPDU从自己的指定端口发送出去，BPDU被泛洪到网络中</li>\n<li>B和C收到这个更优的BPDU，继续向网络中泛洪</li>\n<li>数秒后，D收到这个BPDU，Block掉端口P1</li>\n</ul>\n<p>Tips：**<font style=\"color:#DF2A3F;\">由于缺乏feednack机制，A连接root的接口从listening到Forwarding，需要经历15<em>2s的延迟。此时A、B、C下联的用户流量就出现了问题（因为D收到更优的BPDU后，将P1口block了，这时候ABC相当于在A的根端口过渡到forwarding之前都处于网络的“隔离地带”）</em></font>*</p>\n<h3 id=\"收敛对比：RSTP\"><a href=\"#收敛对比：RSTP\" class=\"headerlink\" title=\"收敛对比：RSTP\"></a>收敛对比：RSTP</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124922667-c1a64149-b6c9-4514-9853-820ffa2b3a3e.png\"></p>\n<ul>\n<li>A及Root之前新增链路Link1</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729124961966-9914c0a0-fd55-4c36-aa6f-36f73a56c1c3.png\"></p>\n<ul>\n<li>A及Root在Link1两端的接口在up之后进入designated blocking。然后双方交互BPDU消息。这个过程实际上是一个协商的过程</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125063559-0f3a0c30-32df-4e60-a446-c1f2a3ca47dd.png\"></p>\n<ul>\n<li>A在收到Root发送的BPDU后，将自己的所有非边缘端口Block（这个过程称为同步sync），并且回送一个agreement消息给Root</li>\n<li>在此之后，Root及A在link1上的端口立即都过渡到转发状态。而网路目前是没有环路的，A往下的网路目前是切断的</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125279663-95c22911-ebd8-44ab-b706-67c5fab68886.png\"></p>\n<ul>\n<li>A与B和C之间，开始一轮新的协商，BC收到A发送的bPDU后，完成同步Sync过程，将自己的非边缘端口Block掉，然后都向A回送agreement信息。同时ABC互联的接口进入转发状态。在BC同步操作的过程中，B下联全是主机，因此没有端口被Blcok（已经完成同步）；而C要block掉连接D的端口</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729125689365-ecd8155a-fb87-4009-82a9-c104aafbd310.png\"></p>\n<ul>\n<li>完成上一步后，生成树状态如图</li>\n<li>最终BPDU到达D，D将P1口Block掉</li>\n</ul>\n<p>Tips：</p>\n<p><strong><font style=\"color:#DF2A3F;\">在RSTP收敛过程中，耗费是时间仅仅是BPDU从Root泛洪到网络末端的时间，不用受到任何Timer的限制，直接绕过两个转发延迟时间。因此收敛速度更快。</font></strong></p>\n<ul>\n<li>有两点需注意:<ul>\n<li>交换机之间的这种协商机制只在P2P链路上被执行</li>\n<li>边缘端口的配置非常重要，如果配置不当有可能会在同步过程中被BLOCK。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Proposal-Agreement-Squence\"><a href=\"#Proposal-Agreement-Squence\" class=\"headerlink\" title=\"Proposal&#x2F;Agreement Squence\"></a>Proposal&#x2F;Agreement Squence</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729126908014-9ffda30f-cba3-4c31-8607-345dbd34c1e9.jpeg\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729126942017-56bd8d43-41d8-457f-a4c2-18f7ec77ea7c.png\"></p>\n<p><strong><font style=\"color:#DF2A3F;\">Root和A之间新增了一条链路，链路两端的接口在收到对方发送的BPDU前是designated blocking状态</font></strong></p>\n<ul>\n<li>当一个被选举为指定端口的接口在discarding或learning状态(目只在这个状态)，它在其发送的BPDU中进行proposalbit置位。这就是步骤1的P0的情况</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729127237066-9878cdaa-4a0b-46a8-b820-0687f9cb411e.png\"></p>\n<ul>\n<li>在A完成同步后，A就可以将新选出的根端口unblock并且发送一个agreement消息给Root。这个agreement消息是A的proposal消息的拷贝，但是agreement bit置位了。</li>\n<li>如此一来，P0就收到了应答，立即转为forwarding。注意这时候P3接口仍处于designateddiscarding状态，于是它向它的邻居网桥去发送proposal，而且也在积极等待回传的agreement以便进入forwarding状态</li>\n</ul>\n<h2 id=\"Cisco-STP-toolkit\"><a href=\"#Cisco-STP-toolkit\" class=\"headerlink\" title=\"Cisco STP toolkit\"></a>Cisco STP toolkit</h2><ul>\n<li>Portfast</li>\n<li>BPDUGuard</li>\n<li>BPDUFilter</li>\n<li>UplinkFast</li>\n<li>BackboneFast</li>\n<li>RootGuard</li>\n<li>LoopGuard</li>\n<li>UDLD</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# spanning-tree vlan-id\t\t#激活特定VLAN的stp</span><br><span class=\"line\">Switch(config)# spanning-tree vlan vlan-id priorty pri\t\t#配置桥优先级，这里注意是perVLAN的，优先级默认3</span><br><span class=\"line\">Switch(config)# spanning-tree vlan vlan-id root &#123;primary | secondary&#125; [diameter diameter] #设置主根次根，该交换机在默认优先级的状态下vlan优先级为24576，如果是secondary，则为28672</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config-if)# spanning-tree [vlan vlan-id] cost cost</span><br><span class=\"line\">Switch(config-if)# spanning-tree [vlan vlan-id] post-priority pri</span><br><span class=\"line\">Switch(config)# spanning-tree [vlan vlan-id] hello-time sec</span><br><span class=\"line\">Switch(config)# spanning-tree [vlan vlan-id] forward-time sec</span><br><span class=\"line\">Switch(config)# spanning-tree [vlan vlan-id] max-time sec</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# spanning-tree postfast default</span><br><span class=\"line\">Switch(config-if)# spanning-tree portfast [trunk]</span><br></pre></td></tr></table></figure>"},{"title":"VLSM和子网划分基础","summary":"酥米小机器人来啦，这篇文章详细介绍了VLSM和子网划分的基础知识，包括IPv4地址的基本概念如32位二进制表示、点分十进制格式以及二进制与十进制转换；接着阐述了IP地址的五类网络系统、特殊地址如127.0.0.1回环地址和0.0.0.0空地址；覆盖了单播、组播、广播三种通讯类型，并解释了网络地址用于标识网络、广播地址用于向整个网络发送数据、主机地址分配给终端设备的定义；还简要提及了公网与私有地址的区别；然后解释了划分子网的必要原因，如解决A或B类网络主机过多导致的管理问题和性能优化；深入探讨了子网掩码的作用是区分网络号与主机号；并指导了划分子网的步骤，包括向主机位借位、根据地址类别确定掩码、修改掩码找到子网、计算子网号、主机段范围和广播地址；通过这些内容，读者能够掌握子网划分技巧，提升网络设计的效率和可管理性","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346483856-c5afe761-4939-4551-9121-403cde372526.png","date":"2024-10-17T07:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 什么是IP（v4）地址？\n+ 32位\n+ 点分十进制\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346483856-c5afe761-4939-4551-9121-403cde372526.png)\n\n+ 十进制与二进制的转换\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346736794-9facc6d2-b099-4632-ba63-1fff0cc06538.png)\n\n## IP地址的类别\n+ 详解见附件表格\n\n### 特殊地址\n+ 127.0.0.1 回环\n+ 0.0.0.0 空地址\n\n### 通讯类型\n+ 单播\n+ 组播\n+ 广播\n\n### 地址类型\n+ **<font style=\"color:#DF2A3F;\">网络地址：</font>** 代指网络的地址。在网络的IPv4地址范围内，最小地址保留为网络地址。此地址的主机部分的每个主机位为0\n+ **<font style=\"color:#DF2A3F;\">广播地址：</font>** 用于向网络中的所有主机发送数据的特殊地址。广播地址使用该网络范围内的最大地址。即主机部分的各比特位全部为1的地址\n+ **<font style=\"color:#DF2A3F;\">主机地址：</font>** 分配给网络中终端设备的地址\n\n### 公网、私有地址\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728351711647-589eb4fc-6491-4c49-a018-a5f006366124.png)\n\n## 为什么要划分子网？\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728348829408-7687d102-2ca3-4736-9b17-d553c72c65df.png)\n\n+ 一个A或B类地址，网络主机过多，划分子网可以有效解决管理的问题\n+ 划分子网也可以解决效率和性能的问题\n\n### 掩码的作用\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349082195-118bf88e-93f0-4dba-9d1b-32d81556acea.png)\n\n### 如何划分\n+ 向主机位借位\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349853356-7a427b0e-819e-4cf5-9194-66190b055562.png)\n\n+ 判断类别 找掩码\n+ 变更掩码 找子网\n+ 得出子网号\n+ 得出主机段\n+ 得出广播号","source":"_posts/CCNA/VLSM和子网划分基础.md","raw":"---\ntitle: VLSM和子网划分基础\nsummary: >-\n  酥米小机器人来啦，这篇文章详细介绍了VLSM和子网划分的基础知识，包括IPv4地址的基本概念如32位二进制表示、点分十进制格式以及二进制与十进制转换；接着阐述了IP地址的五类网络系统、特殊地址如127.0.0.1回环地址和0.0.0.0空地址；覆盖了单播、组播、广播三种通讯类型，并解释了网络地址用于标识网络、广播地址用于向整个网络发送数据、主机地址分配给终端设备的定义；还简要提及了公网与私有地址的区别；然后解释了划分子网的必要原因，如解决A或B类网络主机过多导致的管理问题和性能优化；深入探讨了子网掩码的作用是区分网络号与主机号；并指导了划分子网的步骤，包括向主机位借位、根据地址类别确定掩码、修改掩码找到子网、计算子网号、主机段范围和广播地址；通过这些内容，读者能够掌握子网划分技巧，提升网络设计的效率和可管理性\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346483856-c5afe761-4939-4551-9121-403cde372526.png\ndate: 2024-10-17 15:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 什么是IP（v4）地址？\n+ 32位\n+ 点分十进制\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346483856-c5afe761-4939-4551-9121-403cde372526.png)\n\n+ 十进制与二进制的转换\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346736794-9facc6d2-b099-4632-ba63-1fff0cc06538.png)\n\n## IP地址的类别\n+ 详解见附件表格\n\n### 特殊地址\n+ 127.0.0.1 回环\n+ 0.0.0.0 空地址\n\n### 通讯类型\n+ 单播\n+ 组播\n+ 广播\n\n### 地址类型\n+ **<font style=\"color:#DF2A3F;\">网络地址：</font>** 代指网络的地址。在网络的IPv4地址范围内，最小地址保留为网络地址。此地址的主机部分的每个主机位为0\n+ **<font style=\"color:#DF2A3F;\">广播地址：</font>** 用于向网络中的所有主机发送数据的特殊地址。广播地址使用该网络范围内的最大地址。即主机部分的各比特位全部为1的地址\n+ **<font style=\"color:#DF2A3F;\">主机地址：</font>** 分配给网络中终端设备的地址\n\n### 公网、私有地址\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728351711647-589eb4fc-6491-4c49-a018-a5f006366124.png)\n\n## 为什么要划分子网？\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728348829408-7687d102-2ca3-4736-9b17-d553c72c65df.png)\n\n+ 一个A或B类地址，网络主机过多，划分子网可以有效解决管理的问题\n+ 划分子网也可以解决效率和性能的问题\n\n### 掩码的作用\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349082195-118bf88e-93f0-4dba-9d1b-32d81556acea.png)\n\n### 如何划分\n+ 向主机位借位\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349853356-7a427b0e-819e-4cf5-9194-66190b055562.png)\n\n+ 判断类别 找掩码\n+ 变更掩码 找子网\n+ 得出子网号\n+ 得出主机段\n+ 得出广播号","slug":"CCNA/VLSM和子网划分基础","published":1,"updated":"2025-08-03T04:55:31.418Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zk0010g0fyanf7b7ho","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"什么是IP（v4）地址？\"><a href=\"#什么是IP（v4）地址？\" class=\"headerlink\" title=\"什么是IP（v4）地址？\"></a>什么是IP（v4）地址？</h2><ul>\n<li>32位</li>\n<li>点分十进制</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346483856-c5afe761-4939-4551-9121-403cde372526.png\"></p>\n<ul>\n<li>十进制与二进制的转换</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346736794-9facc6d2-b099-4632-ba63-1fff0cc06538.png\"></p>\n<h2 id=\"IP地址的类别\"><a href=\"#IP地址的类别\" class=\"headerlink\" title=\"IP地址的类别\"></a>IP地址的类别</h2><ul>\n<li>详解见附件表格</li>\n</ul>\n<h3 id=\"特殊地址\"><a href=\"#特殊地址\" class=\"headerlink\" title=\"特殊地址\"></a>特殊地址</h3><ul>\n<li>127.0.0.1 回环</li>\n<li>0.0.0.0 空地址</li>\n</ul>\n<h3 id=\"通讯类型\"><a href=\"#通讯类型\" class=\"headerlink\" title=\"通讯类型\"></a>通讯类型</h3><ul>\n<li>单播</li>\n<li>组播</li>\n<li>广播</li>\n</ul>\n<h3 id=\"地址类型\"><a href=\"#地址类型\" class=\"headerlink\" title=\"地址类型\"></a>地址类型</h3><ul>\n<li><strong><font style=\"color:#DF2A3F;\">网络地址：</font></strong> 代指网络的地址。在网络的IPv4地址范围内，最小地址保留为网络地址。此地址的主机部分的每个主机位为0</li>\n<li><strong><font style=\"color:#DF2A3F;\">广播地址：</font></strong> 用于向网络中的所有主机发送数据的特殊地址。广播地址使用该网络范围内的最大地址。即主机部分的各比特位全部为1的地址</li>\n<li><strong><font style=\"color:#DF2A3F;\">主机地址：</font></strong> 分配给网络中终端设备的地址</li>\n</ul>\n<h3 id=\"公网、私有地址\"><a href=\"#公网、私有地址\" class=\"headerlink\" title=\"公网、私有地址\"></a>公网、私有地址</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728351711647-589eb4fc-6491-4c49-a018-a5f006366124.png\"></p>\n<h2 id=\"为什么要划分子网？\"><a href=\"#为什么要划分子网？\" class=\"headerlink\" title=\"为什么要划分子网？\"></a>为什么要划分子网？</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728348829408-7687d102-2ca3-4736-9b17-d553c72c65df.png\"></p>\n<ul>\n<li>一个A或B类地址，网络主机过多，划分子网可以有效解决管理的问题</li>\n<li>划分子网也可以解决效率和性能的问题</li>\n</ul>\n<h3 id=\"掩码的作用\"><a href=\"#掩码的作用\" class=\"headerlink\" title=\"掩码的作用\"></a>掩码的作用</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349082195-118bf88e-93f0-4dba-9d1b-32d81556acea.png\"></p>\n<h3 id=\"如何划分\"><a href=\"#如何划分\" class=\"headerlink\" title=\"如何划分\"></a>如何划分</h3><ul>\n<li>向主机位借位</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349853356-7a427b0e-819e-4cf5-9194-66190b055562.png\"></p>\n<ul>\n<li>判断类别 找掩码</li>\n<li>变更掩码 找子网</li>\n<li>得出子网号</li>\n<li>得出主机段</li>\n<li>得出广播号</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"什么是IP（v4）地址？\"><a href=\"#什么是IP（v4）地址？\" class=\"headerlink\" title=\"什么是IP（v4）地址？\"></a>什么是IP（v4）地址？</h2><ul>\n<li>32位</li>\n<li>点分十进制</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346483856-c5afe761-4939-4551-9121-403cde372526.png\"></p>\n<ul>\n<li>十进制与二进制的转换</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728346736794-9facc6d2-b099-4632-ba63-1fff0cc06538.png\"></p>\n<h2 id=\"IP地址的类别\"><a href=\"#IP地址的类别\" class=\"headerlink\" title=\"IP地址的类别\"></a>IP地址的类别</h2><ul>\n<li>详解见附件表格</li>\n</ul>\n<h3 id=\"特殊地址\"><a href=\"#特殊地址\" class=\"headerlink\" title=\"特殊地址\"></a>特殊地址</h3><ul>\n<li>127.0.0.1 回环</li>\n<li>0.0.0.0 空地址</li>\n</ul>\n<h3 id=\"通讯类型\"><a href=\"#通讯类型\" class=\"headerlink\" title=\"通讯类型\"></a>通讯类型</h3><ul>\n<li>单播</li>\n<li>组播</li>\n<li>广播</li>\n</ul>\n<h3 id=\"地址类型\"><a href=\"#地址类型\" class=\"headerlink\" title=\"地址类型\"></a>地址类型</h3><ul>\n<li><strong><font style=\"color:#DF2A3F;\">网络地址：</font></strong> 代指网络的地址。在网络的IPv4地址范围内，最小地址保留为网络地址。此地址的主机部分的每个主机位为0</li>\n<li><strong><font style=\"color:#DF2A3F;\">广播地址：</font></strong> 用于向网络中的所有主机发送数据的特殊地址。广播地址使用该网络范围内的最大地址。即主机部分的各比特位全部为1的地址</li>\n<li><strong><font style=\"color:#DF2A3F;\">主机地址：</font></strong> 分配给网络中终端设备的地址</li>\n</ul>\n<h3 id=\"公网、私有地址\"><a href=\"#公网、私有地址\" class=\"headerlink\" title=\"公网、私有地址\"></a>公网、私有地址</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728351711647-589eb4fc-6491-4c49-a018-a5f006366124.png\"></p>\n<h2 id=\"为什么要划分子网？\"><a href=\"#为什么要划分子网？\" class=\"headerlink\" title=\"为什么要划分子网？\"></a>为什么要划分子网？</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728348829408-7687d102-2ca3-4736-9b17-d553c72c65df.png\"></p>\n<ul>\n<li>一个A或B类地址，网络主机过多，划分子网可以有效解决管理的问题</li>\n<li>划分子网也可以解决效率和性能的问题</li>\n</ul>\n<h3 id=\"掩码的作用\"><a href=\"#掩码的作用\" class=\"headerlink\" title=\"掩码的作用\"></a>掩码的作用</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349082195-118bf88e-93f0-4dba-9d1b-32d81556acea.png\"></p>\n<h3 id=\"如何划分\"><a href=\"#如何划分\" class=\"headerlink\" title=\"如何划分\"></a>如何划分</h3><ul>\n<li>向主机位借位</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728349853356-7a427b0e-819e-4cf5-9194-66190b055562.png\"></p>\n<ul>\n<li>判断类别 找掩码</li>\n<li>变更掩码 找子网</li>\n<li>得出子网号</li>\n<li>得出主机段</li>\n<li>得出广播号</li>\n</ul>\n"},{"title":"WAN广域网和PPP","summary":"酥米小机器人来啦，这篇文章详细介绍了WAN广域网（Wide Area Network）的基础知识包括其定义为跨越地理范围连接不同LAN的数据通信链路特性如需向运营商购买接入方式涉及OSI物理层和数据链路层操作常见接入方式有专线如DDN和E1电路交换如ISDN分组交换如Frame Relay以及物理层接口特性核心聚焦PPP协议它作为广泛应用的点对点封装协议支持链路建立IP地址分配多种网络层协议身份验证通过LCP链路控制协议和NCP网络控制协议协商管理并提供PAP和CHAP两种认证方法文章全面概述了WAN联网基础与点对点通信机制帮助读者理解广域网技术应用在180字","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728352642968-6c903617-d770-4e08-a656-48689e47b8ba.png","date":"2024-10-17T07:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## WAN广域网简介\n### 为什么需要WAN？\n+ 分区或分支结构的员工需要与总部通信并共享数据\n+ 组织经常需要与其他组织远距离共享信息\n+ 经常出差的员工需要访问公司网络信息\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728352642968-6c903617-d770-4e08-a656-48689e47b8ba.png)\n\n### 什么是广域网网络\n+ 用于连接LAN的，跨地理位置的数据通信链路，例如同属一个公司的不同分支机构（处于不同的地理位置）之间的互联链路。\n+ WAN链路一般需要向运营商购买\n+ WAN链路的地理跨越范围比LAN更广\n+ 链路类型多样，用户可以根据自己的需要选择\n\n### WAN在OSI\n+ WAN操作主要集中在第一层和第二层上\n    - 物理层（OSI第一层）协议描述链接通信服务提供商提供的服务所需的电器，机械，操作和功能特性\n    - 数据链路层（OSI第二层）协议定义如何封装传向远程位置的数据以及最终数据帧的传输机制\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353337164-42582bff-217e-454d-8dbc-fe1f3bc85c06.png)\n\n## WAN广域网接入方式\n### 专线\n+ 如DDN、POS、E1、以太网专线等\n+ 点对点的专有连接（安全、高传输质量）\n+ 支持多种物理介质与物理接口标准\n+ 稳定可靠，配置与维护见到\n+ 适合长时间的业务流量需求；流量相对较高\n+ ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353876877-28916c58-781f-47d9-ba12-635cb027e336.png)\n\n### 电路交换\n+ 定义：由SP为企业原创网络节点间通讯提供的临时数据传输通道，其操作特性类似电话拨号技术\n+ 最常见的如ISDN，ADSL\n+ 逻辑连接持久有效，按需拨号\n+ 传输介质主要为电话线，也可以为光纤\n+ 带宽主要为56Kbps，64Kbps，128Kbps，2mbps\n+ 稳定性较差，配置和维护较复杂\n+ PSTN模拟拨号（异步）\n    - 利用传统承载语音模拟信号的电话线来承载数字信号业务的拨号技术\n    - 数/模信号转换\n    - 带宽小，信号质量取决于电话介质信号质量\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354678348-2904e2c4-ddf7-4932-8d38-37832016b8e1.png)\n\n\n\n### 分组交换（包交换）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354731782-d6d2ee9b-6c6d-4a97-8643-f73a2264092a.png)\n\n+ 分组交换设备根据数据帧的二层地址来进行路径的选择\n+ **PVC永久虚电路**\t在交换开始时就已经建立了路由\n+ **SVC交换虚电路**\t根据需要建立\n+ 常用业务如x.25、FrameRelay\n\n### VPN\n暂时搁置\n\n### 无线\n暂时搁置\n\n### WAN物理层\n+ WAN物理层协议描述连接WAN服务所需的电气、机械、操作和功能特性。\n+ WAN物理层还描述DTE和DCE之间的接口\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354974355-5ce0a711-97a2-4f7d-a876-9e26997bfcfe.png)\n\n## 常见的封装协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728355030117-4df0f986-8894-4697-9f68-e6b08ddde778.png)\n\n+ 专用线路\tPPP、HDLC\n+ 电路交换\tTelephone company\n+ 分组交换\tFrameRelay\n\n### HDLC\n+ 专用线路在数据链层一般采用HDLC或PPP封装\n+ 专用线路是一条永久的点对点线路\n+ HDLC（High-Level Data Link Control）高级数据链路控制协议是一种在同步链路上传输数据的二层协议\n+ HDLC由SDLC协议发展而来\n+ 每个厂家的HDLC可能有所不同，因此不同厂家之间的HDLC未必能够兼容\n\n#### 普通HDLC\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369039384-68b71f94-66c2-4fe0-9cfc-ece2a5e2c406.png)\n\n+ 传统ISO HDLC只支持单协议环境\n\n#### 思科HDLC\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369091407-173357fe-3f75-43a2-8634-b3a83b477383.png)\n\n+ 思科HDLC支持多协议\n+ 增加了Proprietary私有字节用于识别\n\n## PPP简介\nPPP协议是目前使用最广泛的广域网点对点链路封装协议之一，它具有以下特性\n\n+ 能够控制数据链路的建立\n+ 能够对IP地址进行分配和使用\n+ 支持多种网络层协议\n+ 能够配置和测试数据链路\n+ 能够进行错误检测\n+ 提供身份验证\n+ 有协商选项，能够对网络层的地址和数据压缩等进行协商、\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369245419-e64a57e6-5864-4b17-9f6f-203c0a850654.png)\n\n+ PPP使用基于数据链路层的点对点传输，即PPP封装\n+ PPP上层支持三层协议，分别为TCP/IP、IPX、AppleTalk\n\n## PPP的层次结构\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369696975-78542e05-1ace-451b-894c-8ad9e6e115ce.png)\n\n+ PPP工作在数据链路层\n+ PPP主要由NCP和LCP两个协议配合组合而来\n\n### PPP的组件\n+ 链路控制协议LCP（Link Control Protocol)\n    - LCP负责创建，维护或终止一条数据链路\n+ 网络控制协议NCP（Network Control Protocol)\n    - NCP是一个协议族，负责解决物理连接上运行什么网络协议，以及解决上层网络协议发生的问题。\n+ 认证协议\n    - 最常用的包括口令验证协议PAP（PasswordAuthenticationProtocol）和挑战握手验证协议CHAP（Challenge-HandshakeAuthentication Protocol）\n\n## PPP会话的建立\n+ 链路的建立和配置协商\n    - 通信的发起方发送LCP frame来配置和检测数据链路\n+ 链路质量检测，认证阶段(可选)\n    - 判断链路的质量是否能携带网络层信息。 如果使用身份验证的话，那么验证过程发\n    - 生在这步\n+ 网络层协议的配置协商\n    - 通信的发起方发送NCP frame用以选择和配置网络层协议。配置完毕，通信双方可以发送各自的网络展协议数据分组\n\n## PAP认证（单向）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371375625-0300c2f8-8136-45e5-8923-6bd1f53e11da.png)\n\n+ 2次握手\n+ 密码以明文的形式直接发送\n\n## CHAP认证（单向）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371472275-484410a9-4d45-4013-ba20-6350f19a1f34.png)\n\n\n\n## 基础配置\n```plain\nRouter(config)# int s0/0\t#进入接口\nRouter(config)# hostname name\t#（可选）指定路由器名字\nRouter(config)# username name password password\t#（可选）标示远端路由的用户名和密码，配置在认证服务端\nRouter(config-if)# encapsulation ppp\t#修改接口类型为PPP协议\nRouter(config-if)# ppp authentication {chap|chap pap|pap chap|pap}\t#（可选）启用PAP或者CHAP认证，配置在认证服务端\n```","source":"_posts/CCNA/WAN广域网和PPP.md","raw":"---\ntitle: WAN广域网和PPP\nsummary: >-\n  酥米小机器人来啦，这篇文章详细介绍了WAN广域网（Wide Area\n  Network）的基础知识包括其定义为跨越地理范围连接不同LAN的数据通信链路特性如需向运营商购买接入方式涉及OSI物理层和数据链路层操作常见接入方式有专线如DDN和E1电路交换如ISDN分组交换如Frame\n  Relay以及物理层接口特性核心聚焦PPP协议它作为广泛应用的点对点封装协议支持链路建立IP地址分配多种网络层协议身份验证通过LCP链路控制协议和NCP网络控制协议协商管理并提供PAP和CHAP两种认证方法文章全面概述了WAN联网基础与点对点通信机制帮助读者理解广域网技术应用在180字\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1728352642968-6c903617-d770-4e08-a656-48689e47b8ba.png\ndate: 2024-10-17 15:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## WAN广域网简介\n### 为什么需要WAN？\n+ 分区或分支结构的员工需要与总部通信并共享数据\n+ 组织经常需要与其他组织远距离共享信息\n+ 经常出差的员工需要访问公司网络信息\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728352642968-6c903617-d770-4e08-a656-48689e47b8ba.png)\n\n### 什么是广域网网络\n+ 用于连接LAN的，跨地理位置的数据通信链路，例如同属一个公司的不同分支机构（处于不同的地理位置）之间的互联链路。\n+ WAN链路一般需要向运营商购买\n+ WAN链路的地理跨越范围比LAN更广\n+ 链路类型多样，用户可以根据自己的需要选择\n\n### WAN在OSI\n+ WAN操作主要集中在第一层和第二层上\n    - 物理层（OSI第一层）协议描述链接通信服务提供商提供的服务所需的电器，机械，操作和功能特性\n    - 数据链路层（OSI第二层）协议定义如何封装传向远程位置的数据以及最终数据帧的传输机制\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353337164-42582bff-217e-454d-8dbc-fe1f3bc85c06.png)\n\n## WAN广域网接入方式\n### 专线\n+ 如DDN、POS、E1、以太网专线等\n+ 点对点的专有连接（安全、高传输质量）\n+ 支持多种物理介质与物理接口标准\n+ 稳定可靠，配置与维护见到\n+ 适合长时间的业务流量需求；流量相对较高\n+ ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353876877-28916c58-781f-47d9-ba12-635cb027e336.png)\n\n### 电路交换\n+ 定义：由SP为企业原创网络节点间通讯提供的临时数据传输通道，其操作特性类似电话拨号技术\n+ 最常见的如ISDN，ADSL\n+ 逻辑连接持久有效，按需拨号\n+ 传输介质主要为电话线，也可以为光纤\n+ 带宽主要为56Kbps，64Kbps，128Kbps，2mbps\n+ 稳定性较差，配置和维护较复杂\n+ PSTN模拟拨号（异步）\n    - 利用传统承载语音模拟信号的电话线来承载数字信号业务的拨号技术\n    - 数/模信号转换\n    - 带宽小，信号质量取决于电话介质信号质量\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354678348-2904e2c4-ddf7-4932-8d38-37832016b8e1.png)\n\n\n\n### 分组交换（包交换）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354731782-d6d2ee9b-6c6d-4a97-8643-f73a2264092a.png)\n\n+ 分组交换设备根据数据帧的二层地址来进行路径的选择\n+ **PVC永久虚电路**\t在交换开始时就已经建立了路由\n+ **SVC交换虚电路**\t根据需要建立\n+ 常用业务如x.25、FrameRelay\n\n### VPN\n暂时搁置\n\n### 无线\n暂时搁置\n\n### WAN物理层\n+ WAN物理层协议描述连接WAN服务所需的电气、机械、操作和功能特性。\n+ WAN物理层还描述DTE和DCE之间的接口\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354974355-5ce0a711-97a2-4f7d-a876-9e26997bfcfe.png)\n\n## 常见的封装协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728355030117-4df0f986-8894-4697-9f68-e6b08ddde778.png)\n\n+ 专用线路\tPPP、HDLC\n+ 电路交换\tTelephone company\n+ 分组交换\tFrameRelay\n\n### HDLC\n+ 专用线路在数据链层一般采用HDLC或PPP封装\n+ 专用线路是一条永久的点对点线路\n+ HDLC（High-Level Data Link Control）高级数据链路控制协议是一种在同步链路上传输数据的二层协议\n+ HDLC由SDLC协议发展而来\n+ 每个厂家的HDLC可能有所不同，因此不同厂家之间的HDLC未必能够兼容\n\n#### 普通HDLC\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369039384-68b71f94-66c2-4fe0-9cfc-ece2a5e2c406.png)\n\n+ 传统ISO HDLC只支持单协议环境\n\n#### 思科HDLC\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369091407-173357fe-3f75-43a2-8634-b3a83b477383.png)\n\n+ 思科HDLC支持多协议\n+ 增加了Proprietary私有字节用于识别\n\n## PPP简介\nPPP协议是目前使用最广泛的广域网点对点链路封装协议之一，它具有以下特性\n\n+ 能够控制数据链路的建立\n+ 能够对IP地址进行分配和使用\n+ 支持多种网络层协议\n+ 能够配置和测试数据链路\n+ 能够进行错误检测\n+ 提供身份验证\n+ 有协商选项，能够对网络层的地址和数据压缩等进行协商、\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369245419-e64a57e6-5864-4b17-9f6f-203c0a850654.png)\n\n+ PPP使用基于数据链路层的点对点传输，即PPP封装\n+ PPP上层支持三层协议，分别为TCP/IP、IPX、AppleTalk\n\n## PPP的层次结构\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369696975-78542e05-1ace-451b-894c-8ad9e6e115ce.png)\n\n+ PPP工作在数据链路层\n+ PPP主要由NCP和LCP两个协议配合组合而来\n\n### PPP的组件\n+ 链路控制协议LCP（Link Control Protocol)\n    - LCP负责创建，维护或终止一条数据链路\n+ 网络控制协议NCP（Network Control Protocol)\n    - NCP是一个协议族，负责解决物理连接上运行什么网络协议，以及解决上层网络协议发生的问题。\n+ 认证协议\n    - 最常用的包括口令验证协议PAP（PasswordAuthenticationProtocol）和挑战握手验证协议CHAP（Challenge-HandshakeAuthentication Protocol）\n\n## PPP会话的建立\n+ 链路的建立和配置协商\n    - 通信的发起方发送LCP frame来配置和检测数据链路\n+ 链路质量检测，认证阶段(可选)\n    - 判断链路的质量是否能携带网络层信息。 如果使用身份验证的话，那么验证过程发\n    - 生在这步\n+ 网络层协议的配置协商\n    - 通信的发起方发送NCP frame用以选择和配置网络层协议。配置完毕，通信双方可以发送各自的网络展协议数据分组\n\n## PAP认证（单向）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371375625-0300c2f8-8136-45e5-8923-6bd1f53e11da.png)\n\n+ 2次握手\n+ 密码以明文的形式直接发送\n\n## CHAP认证（单向）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371472275-484410a9-4d45-4013-ba20-6350f19a1f34.png)\n\n\n\n## 基础配置\n```plain\nRouter(config)# int s0/0\t#进入接口\nRouter(config)# hostname name\t#（可选）指定路由器名字\nRouter(config)# username name password password\t#（可选）标示远端路由的用户名和密码，配置在认证服务端\nRouter(config-if)# encapsulation ppp\t#修改接口类型为PPP协议\nRouter(config-if)# ppp authentication {chap|chap pap|pap chap|pap}\t#（可选）启用PAP或者CHAP认证，配置在认证服务端\n```","slug":"CCNA/WAN广域网和PPP","published":1,"updated":"2025-08-03T04:55:37.048Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zn0015g0fyb1ica6if","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"WAN广域网简介\"><a href=\"#WAN广域网简介\" class=\"headerlink\" title=\"WAN广域网简介\"></a>WAN广域网简介</h2><h3 id=\"为什么需要WAN？\"><a href=\"#为什么需要WAN？\" class=\"headerlink\" title=\"为什么需要WAN？\"></a>为什么需要WAN？</h3><ul>\n<li>分区或分支结构的员工需要与总部通信并共享数据</li>\n<li>组织经常需要与其他组织远距离共享信息</li>\n<li>经常出差的员工需要访问公司网络信息</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728352642968-6c903617-d770-4e08-a656-48689e47b8ba.png\"></p>\n<h3 id=\"什么是广域网网络\"><a href=\"#什么是广域网网络\" class=\"headerlink\" title=\"什么是广域网网络\"></a>什么是广域网网络</h3><ul>\n<li>用于连接LAN的，跨地理位置的数据通信链路，例如同属一个公司的不同分支机构（处于不同的地理位置）之间的互联链路。</li>\n<li>WAN链路一般需要向运营商购买</li>\n<li>WAN链路的地理跨越范围比LAN更广</li>\n<li>链路类型多样，用户可以根据自己的需要选择</li>\n</ul>\n<h3 id=\"WAN在OSI\"><a href=\"#WAN在OSI\" class=\"headerlink\" title=\"WAN在OSI\"></a>WAN在OSI</h3><ul>\n<li>WAN操作主要集中在第一层和第二层上<ul>\n<li>物理层（OSI第一层）协议描述链接通信服务提供商提供的服务所需的电器，机械，操作和功能特性</li>\n<li>数据链路层（OSI第二层）协议定义如何封装传向远程位置的数据以及最终数据帧的传输机制</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353337164-42582bff-217e-454d-8dbc-fe1f3bc85c06.png\"></p>\n<h2 id=\"WAN广域网接入方式\"><a href=\"#WAN广域网接入方式\" class=\"headerlink\" title=\"WAN广域网接入方式\"></a>WAN广域网接入方式</h2><h3 id=\"专线\"><a href=\"#专线\" class=\"headerlink\" title=\"专线\"></a>专线</h3><ul>\n<li>如DDN、POS、E1、以太网专线等</li>\n<li>点对点的专有连接（安全、高传输质量）</li>\n<li>支持多种物理介质与物理接口标准</li>\n<li>稳定可靠，配置与维护见到</li>\n<li>适合长时间的业务流量需求；流量相对较高</li>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353876877-28916c58-781f-47d9-ba12-635cb027e336.png\"></li>\n</ul>\n<h3 id=\"电路交换\"><a href=\"#电路交换\" class=\"headerlink\" title=\"电路交换\"></a>电路交换</h3><ul>\n<li>定义：由SP为企业原创网络节点间通讯提供的临时数据传输通道，其操作特性类似电话拨号技术</li>\n<li>最常见的如ISDN，ADSL</li>\n<li>逻辑连接持久有效，按需拨号</li>\n<li>传输介质主要为电话线，也可以为光纤</li>\n<li>带宽主要为56Kbps，64Kbps，128Kbps，2mbps</li>\n<li>稳定性较差，配置和维护较复杂</li>\n<li>PSTN模拟拨号（异步）<ul>\n<li>利用传统承载语音模拟信号的电话线来承载数字信号业务的拨号技术</li>\n<li>数&#x2F;模信号转换</li>\n<li>带宽小，信号质量取决于电话介质信号质量</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354678348-2904e2c4-ddf7-4932-8d38-37832016b8e1.png\"></p>\n<h3 id=\"分组交换（包交换）\"><a href=\"#分组交换（包交换）\" class=\"headerlink\" title=\"分组交换（包交换）\"></a>分组交换（包交换）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354731782-d6d2ee9b-6c6d-4a97-8643-f73a2264092a.png\"></p>\n<ul>\n<li>分组交换设备根据数据帧的二层地址来进行路径的选择</li>\n<li><strong>PVC永久虚电路</strong>\t在交换开始时就已经建立了路由</li>\n<li><strong>SVC交换虚电路</strong>\t根据需要建立</li>\n<li>常用业务如x.25、FrameRelay</li>\n</ul>\n<h3 id=\"VPN\"><a href=\"#VPN\" class=\"headerlink\" title=\"VPN\"></a>VPN</h3><p>暂时搁置</p>\n<h3 id=\"无线\"><a href=\"#无线\" class=\"headerlink\" title=\"无线\"></a>无线</h3><p>暂时搁置</p>\n<h3 id=\"WAN物理层\"><a href=\"#WAN物理层\" class=\"headerlink\" title=\"WAN物理层\"></a>WAN物理层</h3><ul>\n<li>WAN物理层协议描述连接WAN服务所需的电气、机械、操作和功能特性。</li>\n<li>WAN物理层还描述DTE和DCE之间的接口</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354974355-5ce0a711-97a2-4f7d-a876-9e26997bfcfe.png\"></p>\n<h2 id=\"常见的封装协议\"><a href=\"#常见的封装协议\" class=\"headerlink\" title=\"常见的封装协议\"></a>常见的封装协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728355030117-4df0f986-8894-4697-9f68-e6b08ddde778.png\"></p>\n<ul>\n<li>专用线路\tPPP、HDLC</li>\n<li>电路交换\tTelephone company</li>\n<li>分组交换\tFrameRelay</li>\n</ul>\n<h3 id=\"HDLC\"><a href=\"#HDLC\" class=\"headerlink\" title=\"HDLC\"></a>HDLC</h3><ul>\n<li>专用线路在数据链层一般采用HDLC或PPP封装</li>\n<li>专用线路是一条永久的点对点线路</li>\n<li>HDLC（High-Level Data Link Control）高级数据链路控制协议是一种在同步链路上传输数据的二层协议</li>\n<li>HDLC由SDLC协议发展而来</li>\n<li>每个厂家的HDLC可能有所不同，因此不同厂家之间的HDLC未必能够兼容</li>\n</ul>\n<h4 id=\"普通HDLC\"><a href=\"#普通HDLC\" class=\"headerlink\" title=\"普通HDLC\"></a>普通HDLC</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369039384-68b71f94-66c2-4fe0-9cfc-ece2a5e2c406.png\"></p>\n<ul>\n<li>传统ISO HDLC只支持单协议环境</li>\n</ul>\n<h4 id=\"思科HDLC\"><a href=\"#思科HDLC\" class=\"headerlink\" title=\"思科HDLC\"></a>思科HDLC</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369091407-173357fe-3f75-43a2-8634-b3a83b477383.png\"></p>\n<ul>\n<li>思科HDLC支持多协议</li>\n<li>增加了Proprietary私有字节用于识别</li>\n</ul>\n<h2 id=\"PPP简介\"><a href=\"#PPP简介\" class=\"headerlink\" title=\"PPP简介\"></a>PPP简介</h2><p>PPP协议是目前使用最广泛的广域网点对点链路封装协议之一，它具有以下特性</p>\n<ul>\n<li>能够控制数据链路的建立</li>\n<li>能够对IP地址进行分配和使用</li>\n<li>支持多种网络层协议</li>\n<li>能够配置和测试数据链路</li>\n<li>能够进行错误检测</li>\n<li>提供身份验证</li>\n<li>有协商选项，能够对网络层的地址和数据压缩等进行协商、</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369245419-e64a57e6-5864-4b17-9f6f-203c0a850654.png\"></p>\n<ul>\n<li>PPP使用基于数据链路层的点对点传输，即PPP封装</li>\n<li>PPP上层支持三层协议，分别为TCP&#x2F;IP、IPX、AppleTalk</li>\n</ul>\n<h2 id=\"PPP的层次结构\"><a href=\"#PPP的层次结构\" class=\"headerlink\" title=\"PPP的层次结构\"></a>PPP的层次结构</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369696975-78542e05-1ace-451b-894c-8ad9e6e115ce.png\"></p>\n<ul>\n<li>PPP工作在数据链路层</li>\n<li>PPP主要由NCP和LCP两个协议配合组合而来</li>\n</ul>\n<h3 id=\"PPP的组件\"><a href=\"#PPP的组件\" class=\"headerlink\" title=\"PPP的组件\"></a>PPP的组件</h3><ul>\n<li>链路控制协议LCP（Link Control Protocol)<ul>\n<li>LCP负责创建，维护或终止一条数据链路</li>\n</ul>\n</li>\n<li>网络控制协议NCP（Network Control Protocol)<ul>\n<li>NCP是一个协议族，负责解决物理连接上运行什么网络协议，以及解决上层网络协议发生的问题。</li>\n</ul>\n</li>\n<li>认证协议<ul>\n<li>最常用的包括口令验证协议PAP（PasswordAuthenticationProtocol）和挑战握手验证协议CHAP（Challenge-HandshakeAuthentication Protocol）</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"PPP会话的建立\"><a href=\"#PPP会话的建立\" class=\"headerlink\" title=\"PPP会话的建立\"></a>PPP会话的建立</h2><ul>\n<li>链路的建立和配置协商<ul>\n<li>通信的发起方发送LCP frame来配置和检测数据链路</li>\n</ul>\n</li>\n<li>链路质量检测，认证阶段(可选)<ul>\n<li>判断链路的质量是否能携带网络层信息。 如果使用身份验证的话，那么验证过程发</li>\n<li>生在这步</li>\n</ul>\n</li>\n<li>网络层协议的配置协商<ul>\n<li>通信的发起方发送NCP frame用以选择和配置网络层协议。配置完毕，通信双方可以发送各自的网络展协议数据分组</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"PAP认证（单向）\"><a href=\"#PAP认证（单向）\" class=\"headerlink\" title=\"PAP认证（单向）\"></a>PAP认证（单向）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371375625-0300c2f8-8136-45e5-8923-6bd1f53e11da.png\"></p>\n<ul>\n<li>2次握手</li>\n<li>密码以明文的形式直接发送</li>\n</ul>\n<h2 id=\"CHAP认证（单向）\"><a href=\"#CHAP认证（单向）\" class=\"headerlink\" title=\"CHAP认证（单向）\"></a>CHAP认证（单向）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371472275-484410a9-4d45-4013-ba20-6350f19a1f34.png\"></p>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# int s0/0\t#进入接口</span><br><span class=\"line\">Router(config)# hostname name\t#（可选）指定路由器名字</span><br><span class=\"line\">Router(config)# username name password password\t#（可选）标示远端路由的用户名和密码，配置在认证服务端</span><br><span class=\"line\">Router(config-if)# encapsulation ppp\t#修改接口类型为PPP协议</span><br><span class=\"line\">Router(config-if)# ppp authentication &#123;chap|chap pap|pap chap|pap&#125;\t#（可选）启用PAP或者CHAP认证，配置在认证服务端</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"WAN广域网简介\"><a href=\"#WAN广域网简介\" class=\"headerlink\" title=\"WAN广域网简介\"></a>WAN广域网简介</h2><h3 id=\"为什么需要WAN？\"><a href=\"#为什么需要WAN？\" class=\"headerlink\" title=\"为什么需要WAN？\"></a>为什么需要WAN？</h3><ul>\n<li>分区或分支结构的员工需要与总部通信并共享数据</li>\n<li>组织经常需要与其他组织远距离共享信息</li>\n<li>经常出差的员工需要访问公司网络信息</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728352642968-6c903617-d770-4e08-a656-48689e47b8ba.png\"></p>\n<h3 id=\"什么是广域网网络\"><a href=\"#什么是广域网网络\" class=\"headerlink\" title=\"什么是广域网网络\"></a>什么是广域网网络</h3><ul>\n<li>用于连接LAN的，跨地理位置的数据通信链路，例如同属一个公司的不同分支机构（处于不同的地理位置）之间的互联链路。</li>\n<li>WAN链路一般需要向运营商购买</li>\n<li>WAN链路的地理跨越范围比LAN更广</li>\n<li>链路类型多样，用户可以根据自己的需要选择</li>\n</ul>\n<h3 id=\"WAN在OSI\"><a href=\"#WAN在OSI\" class=\"headerlink\" title=\"WAN在OSI\"></a>WAN在OSI</h3><ul>\n<li>WAN操作主要集中在第一层和第二层上<ul>\n<li>物理层（OSI第一层）协议描述链接通信服务提供商提供的服务所需的电器，机械，操作和功能特性</li>\n<li>数据链路层（OSI第二层）协议定义如何封装传向远程位置的数据以及最终数据帧的传输机制</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353337164-42582bff-217e-454d-8dbc-fe1f3bc85c06.png\"></p>\n<h2 id=\"WAN广域网接入方式\"><a href=\"#WAN广域网接入方式\" class=\"headerlink\" title=\"WAN广域网接入方式\"></a>WAN广域网接入方式</h2><h3 id=\"专线\"><a href=\"#专线\" class=\"headerlink\" title=\"专线\"></a>专线</h3><ul>\n<li>如DDN、POS、E1、以太网专线等</li>\n<li>点对点的专有连接（安全、高传输质量）</li>\n<li>支持多种物理介质与物理接口标准</li>\n<li>稳定可靠，配置与维护见到</li>\n<li>适合长时间的业务流量需求；流量相对较高</li>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728353876877-28916c58-781f-47d9-ba12-635cb027e336.png\"></li>\n</ul>\n<h3 id=\"电路交换\"><a href=\"#电路交换\" class=\"headerlink\" title=\"电路交换\"></a>电路交换</h3><ul>\n<li>定义：由SP为企业原创网络节点间通讯提供的临时数据传输通道，其操作特性类似电话拨号技术</li>\n<li>最常见的如ISDN，ADSL</li>\n<li>逻辑连接持久有效，按需拨号</li>\n<li>传输介质主要为电话线，也可以为光纤</li>\n<li>带宽主要为56Kbps，64Kbps，128Kbps，2mbps</li>\n<li>稳定性较差，配置和维护较复杂</li>\n<li>PSTN模拟拨号（异步）<ul>\n<li>利用传统承载语音模拟信号的电话线来承载数字信号业务的拨号技术</li>\n<li>数&#x2F;模信号转换</li>\n<li>带宽小，信号质量取决于电话介质信号质量</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354678348-2904e2c4-ddf7-4932-8d38-37832016b8e1.png\"></p>\n<h3 id=\"分组交换（包交换）\"><a href=\"#分组交换（包交换）\" class=\"headerlink\" title=\"分组交换（包交换）\"></a>分组交换（包交换）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354731782-d6d2ee9b-6c6d-4a97-8643-f73a2264092a.png\"></p>\n<ul>\n<li>分组交换设备根据数据帧的二层地址来进行路径的选择</li>\n<li><strong>PVC永久虚电路</strong>\t在交换开始时就已经建立了路由</li>\n<li><strong>SVC交换虚电路</strong>\t根据需要建立</li>\n<li>常用业务如x.25、FrameRelay</li>\n</ul>\n<h3 id=\"VPN\"><a href=\"#VPN\" class=\"headerlink\" title=\"VPN\"></a>VPN</h3><p>暂时搁置</p>\n<h3 id=\"无线\"><a href=\"#无线\" class=\"headerlink\" title=\"无线\"></a>无线</h3><p>暂时搁置</p>\n<h3 id=\"WAN物理层\"><a href=\"#WAN物理层\" class=\"headerlink\" title=\"WAN物理层\"></a>WAN物理层</h3><ul>\n<li>WAN物理层协议描述连接WAN服务所需的电气、机械、操作和功能特性。</li>\n<li>WAN物理层还描述DTE和DCE之间的接口</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728354974355-5ce0a711-97a2-4f7d-a876-9e26997bfcfe.png\"></p>\n<h2 id=\"常见的封装协议\"><a href=\"#常见的封装协议\" class=\"headerlink\" title=\"常见的封装协议\"></a>常见的封装协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728355030117-4df0f986-8894-4697-9f68-e6b08ddde778.png\"></p>\n<ul>\n<li>专用线路\tPPP、HDLC</li>\n<li>电路交换\tTelephone company</li>\n<li>分组交换\tFrameRelay</li>\n</ul>\n<h3 id=\"HDLC\"><a href=\"#HDLC\" class=\"headerlink\" title=\"HDLC\"></a>HDLC</h3><ul>\n<li>专用线路在数据链层一般采用HDLC或PPP封装</li>\n<li>专用线路是一条永久的点对点线路</li>\n<li>HDLC（High-Level Data Link Control）高级数据链路控制协议是一种在同步链路上传输数据的二层协议</li>\n<li>HDLC由SDLC协议发展而来</li>\n<li>每个厂家的HDLC可能有所不同，因此不同厂家之间的HDLC未必能够兼容</li>\n</ul>\n<h4 id=\"普通HDLC\"><a href=\"#普通HDLC\" class=\"headerlink\" title=\"普通HDLC\"></a>普通HDLC</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369039384-68b71f94-66c2-4fe0-9cfc-ece2a5e2c406.png\"></p>\n<ul>\n<li>传统ISO HDLC只支持单协议环境</li>\n</ul>\n<h4 id=\"思科HDLC\"><a href=\"#思科HDLC\" class=\"headerlink\" title=\"思科HDLC\"></a>思科HDLC</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369091407-173357fe-3f75-43a2-8634-b3a83b477383.png\"></p>\n<ul>\n<li>思科HDLC支持多协议</li>\n<li>增加了Proprietary私有字节用于识别</li>\n</ul>\n<h2 id=\"PPP简介\"><a href=\"#PPP简介\" class=\"headerlink\" title=\"PPP简介\"></a>PPP简介</h2><p>PPP协议是目前使用最广泛的广域网点对点链路封装协议之一，它具有以下特性</p>\n<ul>\n<li>能够控制数据链路的建立</li>\n<li>能够对IP地址进行分配和使用</li>\n<li>支持多种网络层协议</li>\n<li>能够配置和测试数据链路</li>\n<li>能够进行错误检测</li>\n<li>提供身份验证</li>\n<li>有协商选项，能够对网络层的地址和数据压缩等进行协商、</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369245419-e64a57e6-5864-4b17-9f6f-203c0a850654.png\"></p>\n<ul>\n<li>PPP使用基于数据链路层的点对点传输，即PPP封装</li>\n<li>PPP上层支持三层协议，分别为TCP&#x2F;IP、IPX、AppleTalk</li>\n</ul>\n<h2 id=\"PPP的层次结构\"><a href=\"#PPP的层次结构\" class=\"headerlink\" title=\"PPP的层次结构\"></a>PPP的层次结构</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728369696975-78542e05-1ace-451b-894c-8ad9e6e115ce.png\"></p>\n<ul>\n<li>PPP工作在数据链路层</li>\n<li>PPP主要由NCP和LCP两个协议配合组合而来</li>\n</ul>\n<h3 id=\"PPP的组件\"><a href=\"#PPP的组件\" class=\"headerlink\" title=\"PPP的组件\"></a>PPP的组件</h3><ul>\n<li>链路控制协议LCP（Link Control Protocol)<ul>\n<li>LCP负责创建，维护或终止一条数据链路</li>\n</ul>\n</li>\n<li>网络控制协议NCP（Network Control Protocol)<ul>\n<li>NCP是一个协议族，负责解决物理连接上运行什么网络协议，以及解决上层网络协议发生的问题。</li>\n</ul>\n</li>\n<li>认证协议<ul>\n<li>最常用的包括口令验证协议PAP（PasswordAuthenticationProtocol）和挑战握手验证协议CHAP（Challenge-HandshakeAuthentication Protocol）</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"PPP会话的建立\"><a href=\"#PPP会话的建立\" class=\"headerlink\" title=\"PPP会话的建立\"></a>PPP会话的建立</h2><ul>\n<li>链路的建立和配置协商<ul>\n<li>通信的发起方发送LCP frame来配置和检测数据链路</li>\n</ul>\n</li>\n<li>链路质量检测，认证阶段(可选)<ul>\n<li>判断链路的质量是否能携带网络层信息。 如果使用身份验证的话，那么验证过程发</li>\n<li>生在这步</li>\n</ul>\n</li>\n<li>网络层协议的配置协商<ul>\n<li>通信的发起方发送NCP frame用以选择和配置网络层协议。配置完毕，通信双方可以发送各自的网络展协议数据分组</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"PAP认证（单向）\"><a href=\"#PAP认证（单向）\" class=\"headerlink\" title=\"PAP认证（单向）\"></a>PAP认证（单向）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371375625-0300c2f8-8136-45e5-8923-6bd1f53e11da.png\"></p>\n<ul>\n<li>2次握手</li>\n<li>密码以明文的形式直接发送</li>\n</ul>\n<h2 id=\"CHAP认证（单向）\"><a href=\"#CHAP认证（单向）\" class=\"headerlink\" title=\"CHAP认证（单向）\"></a>CHAP认证（单向）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1728371472275-484410a9-4d45-4013-ba20-6350f19a1f34.png\"></p>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# int s0/0\t#进入接口</span><br><span class=\"line\">Router(config)# hostname name\t#（可选）指定路由器名字</span><br><span class=\"line\">Router(config)# username name password password\t#（可选）标示远端路由的用户名和密码，配置在认证服务端</span><br><span class=\"line\">Router(config-if)# encapsulation ppp\t#修改接口类型为PPP协议</span><br><span class=\"line\">Router(config-if)# ppp authentication &#123;chap|chap pap|pap chap|pap&#125;\t#（可选）启用PAP或者CHAP认证，配置在认证服务端</span><br></pre></td></tr></table></figure>"},{"title":"帧中继FrameDelay","summary":"酥米小机器人来啦，这篇文章介绍了帧中继（Frame Relay）作为一种广泛使用的广域网（WAN）协议，主要聚焦于其基本原理和关键组件帧中继使用虚电路连接提供面向连接的服务，速率范围在56K到2M之间核心概念包括虚电路（VC）作为逻辑连接标识，DLCI用于本地标识连接，以及LMI作为本地管理接口用于链路维护拓扑结构涵盖星型、全互联和部分互联设计，前者简化管理但后者成本高地址映射涉及DLCI与IP地址的映射方式，可通过手工配置或自动发现（Inverse ARP）文章还涵盖帧中 relay的特性，如模拟广播方法和基本配置示例，通过特定路由器命令实现虚电路映射及协议封装，整体强调其高效带宽共享和灵活网络设计特性","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image78afa5a21ee4c356.png","date":"2024-10-17T07:01:46.000Z","_content":"\n## 简介\n![](https://img.picgo.net/2024/11/19/image78afa5a21ee4c356.png)\n\n+ 使用虚电路进行连接\n+ 提供面向对象的服务\n+ 应用非常广泛的WAN协议\n+ FR交换设备在用户路由器间建立虚电路，提供基于分组交换的二层通道\n+ 面向连接的数据链路技术\n+ 速率：56K - 2M\n\n## 帧中继术语VC\n![](https://img.picgo.net/2024/11/19/image-1822fb32e7964aa45.md.png)\n\n### 虚电路（VC）\n+ 通告帧中继实现的逻辑连接叫做虚电路（VC）\n+ 利用虚电路，帧中继允许多个用户共享带宽，而无需使用多条专用物理路线，虚电路是以DLCI标识的\n\n### DLCI（Data Link Connection Identifilier）数据链路连接标识\n+ 通常由帧中继服务提供商（例如电话公司）分配\n+ 帧中继DLCI仅具有本地意义\n+ DLCI 0到15和1008到1023留作特殊用途。服务提供商分配的DLCI范围通常为16到1007\n\n### LMI（本地管理接口）\n+ 是一种信令标准，用作管理链路连接及keepalive的机制\n+ 终端路由器（DTE）和帧中继交换机（DCE）之间的帧中继设备没10秒（或大概如此）轮询一次网络\n+ 思科路由器支持三种LMI，分别是Cisco，Ansi和q933a\n\n路由器从帧中继交换机的帧封装接口接受LMI信息，并将虚链路状态更为下列3钟状态之一：\n\n+ Active State正常状态 \n+ Inactive State远程路由器没有在工作\n+ Delete State接口没有收到交换机的仍和LMI信息，可能是映射问题或者线路问题\n\n## 帧中继拓扑\n\n\n### 星型结构（Hub-and-spoke）\n![](https://img.picgo.net/2024/11/19/image-2376cc5397034bbb7.md.png)\n\n#### 特点\n\n+ 从一点连接到各处（集中点）\n\n\n\n### 全互联（Full Mesh）\n![](https://img.picgo.net/2024/11/19/image-329c02835daa6f3fe.md.png)\n\n#### 特点\n\n+ 互相连接\n\n#### 缺点\n\n+ 代价过大\n\n\n\n### 部分互联（Partial-Mesh）\n![](https://img.picgo.net/2024/11/19/image-42dad52386351e79e.md.png)\n\n#### 特点\n\n+ 节省成本的同时保证稳定性\n\n## 帧中继 地址映射\n![](https://img.picgo.net/2024/11/19/image-58ee3b624d6f870af.png)\n\n+ 帧中继映射条目，DLCI从运营商处获取，映射关系为远端的IP地址到本地DICI之间的联系\n+ 可以通过手工配置或Inverse ARP自动发现\n\n## Tips\n+ 帧中继虽不支持广播，但可以“模拟”广播的操作，做法即是通过向所有的PVC发送一份数据的拷贝\n+ 在建立PVC的时候，通过invers-arp自动建立映射，默认就开启上述特性，如果是手工映射，则必须加上boardcast关键字\n\n## 基础配置\n### 简单例子\n![](https://img.picgo.net/2024/11/19/image-6b7b1ff832a361354.md.png)\n\n```plain\nRouter(config)# int s0/0\nRouter(config-if)# ip add 10.1.123.1 255.255.255.0\nRouter(config-if)# encapsulation frame-relay\nRouter(config-if)# no frame-relay inverse-arp #关闭insverse-arp\nRouter(config-if)# frame-relay map ip 10.1.123.2 102 broadcast #手工配置帧中继映射\nRouter(config-if)# frame-relay map ip 10.1.123.3 103 broadcast\n```\n\n```plain\nRouter(config)# int s0/0\nRouter(config-if)# ip add 10.1.123.2 255.255.255.0\nRouter(config-if)# encapsulation frame-relay\nRouter(config-if)# no frame-relay inverse-arp  #关闭insverse-arp\nRouter(config-if)# frame-relay map ip 10.1.123.1 201 broadcast #手工配置帧中继映射\n```","source":"_posts/CCNA/帧中继FrameDelay.md","raw":"---\ntitle: 帧中继FrameDelay\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了帧中继（Frame\n  Relay）作为一种广泛使用的广域网（WAN）协议，主要聚焦于其基本原理和关键组件帧中继使用虚电路连接提供面向连接的服务，速率范围在56K到2M之间核心概念包括虚电路（VC）作为逻辑连接标识，DLCI用于本地标识连接，以及LMI作为本地管理接口用于链路维护拓扑结构涵盖星型、全互联和部分互联设计，前者简化管理但后者成本高地址映射涉及DLCI与IP地址的映射方式，可通过手工配置或自动发现（Inverse\n  ARP）文章还涵盖帧中 relay的特性，如模拟广播方法和基本配置示例，通过特定路由器命令实现虚电路映射及协议封装，整体强调其高效带宽共享和灵活网络设计特性\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image78afa5a21ee4c356.png\ndate: 2024-10-17 15:01:46\n---\n\n## 简介\n![](https://img.picgo.net/2024/11/19/image78afa5a21ee4c356.png)\n\n+ 使用虚电路进行连接\n+ 提供面向对象的服务\n+ 应用非常广泛的WAN协议\n+ FR交换设备在用户路由器间建立虚电路，提供基于分组交换的二层通道\n+ 面向连接的数据链路技术\n+ 速率：56K - 2M\n\n## 帧中继术语VC\n![](https://img.picgo.net/2024/11/19/image-1822fb32e7964aa45.md.png)\n\n### 虚电路（VC）\n+ 通告帧中继实现的逻辑连接叫做虚电路（VC）\n+ 利用虚电路，帧中继允许多个用户共享带宽，而无需使用多条专用物理路线，虚电路是以DLCI标识的\n\n### DLCI（Data Link Connection Identifilier）数据链路连接标识\n+ 通常由帧中继服务提供商（例如电话公司）分配\n+ 帧中继DLCI仅具有本地意义\n+ DLCI 0到15和1008到1023留作特殊用途。服务提供商分配的DLCI范围通常为16到1007\n\n### LMI（本地管理接口）\n+ 是一种信令标准，用作管理链路连接及keepalive的机制\n+ 终端路由器（DTE）和帧中继交换机（DCE）之间的帧中继设备没10秒（或大概如此）轮询一次网络\n+ 思科路由器支持三种LMI，分别是Cisco，Ansi和q933a\n\n路由器从帧中继交换机的帧封装接口接受LMI信息，并将虚链路状态更为下列3钟状态之一：\n\n+ Active State正常状态 \n+ Inactive State远程路由器没有在工作\n+ Delete State接口没有收到交换机的仍和LMI信息，可能是映射问题或者线路问题\n\n## 帧中继拓扑\n\n\n### 星型结构（Hub-and-spoke）\n![](https://img.picgo.net/2024/11/19/image-2376cc5397034bbb7.md.png)\n\n#### 特点\n\n+ 从一点连接到各处（集中点）\n\n\n\n### 全互联（Full Mesh）\n![](https://img.picgo.net/2024/11/19/image-329c02835daa6f3fe.md.png)\n\n#### 特点\n\n+ 互相连接\n\n#### 缺点\n\n+ 代价过大\n\n\n\n### 部分互联（Partial-Mesh）\n![](https://img.picgo.net/2024/11/19/image-42dad52386351e79e.md.png)\n\n#### 特点\n\n+ 节省成本的同时保证稳定性\n\n## 帧中继 地址映射\n![](https://img.picgo.net/2024/11/19/image-58ee3b624d6f870af.png)\n\n+ 帧中继映射条目，DLCI从运营商处获取，映射关系为远端的IP地址到本地DICI之间的联系\n+ 可以通过手工配置或Inverse ARP自动发现\n\n## Tips\n+ 帧中继虽不支持广播，但可以“模拟”广播的操作，做法即是通过向所有的PVC发送一份数据的拷贝\n+ 在建立PVC的时候，通过invers-arp自动建立映射，默认就开启上述特性，如果是手工映射，则必须加上boardcast关键字\n\n## 基础配置\n### 简单例子\n![](https://img.picgo.net/2024/11/19/image-6b7b1ff832a361354.md.png)\n\n```plain\nRouter(config)# int s0/0\nRouter(config-if)# ip add 10.1.123.1 255.255.255.0\nRouter(config-if)# encapsulation frame-relay\nRouter(config-if)# no frame-relay inverse-arp #关闭insverse-arp\nRouter(config-if)# frame-relay map ip 10.1.123.2 102 broadcast #手工配置帧中继映射\nRouter(config-if)# frame-relay map ip 10.1.123.3 103 broadcast\n```\n\n```plain\nRouter(config)# int s0/0\nRouter(config-if)# ip add 10.1.123.2 255.255.255.0\nRouter(config-if)# encapsulation frame-relay\nRouter(config-if)# no frame-relay inverse-arp  #关闭insverse-arp\nRouter(config-if)# frame-relay map ip 10.1.123.1 201 broadcast #手工配置帧中继映射\n```","slug":"CCNA/帧中继FrameDelay","published":1,"updated":"2025-08-02T10:16:12.984Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zq0019g0fyd10n8hmq","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p><img src=\"https://img.picgo.net/2024/11/19/image78afa5a21ee4c356.png\"></p>\n<ul>\n<li>使用虚电路进行连接</li>\n<li>提供面向对象的服务</li>\n<li>应用非常广泛的WAN协议</li>\n<li>FR交换设备在用户路由器间建立虚电路，提供基于分组交换的二层通道</li>\n<li>面向连接的数据链路技术</li>\n<li>速率：56K - 2M</li>\n</ul>\n<h2 id=\"帧中继术语VC\"><a href=\"#帧中继术语VC\" class=\"headerlink\" title=\"帧中继术语VC\"></a>帧中继术语VC</h2><p><img src=\"https://img.picgo.net/2024/11/19/image-1822fb32e7964aa45.md.png\"></p>\n<h3 id=\"虚电路（VC）\"><a href=\"#虚电路（VC）\" class=\"headerlink\" title=\"虚电路（VC）\"></a>虚电路（VC）</h3><ul>\n<li>通告帧中继实现的逻辑连接叫做虚电路（VC）</li>\n<li>利用虚电路，帧中继允许多个用户共享带宽，而无需使用多条专用物理路线，虚电路是以DLCI标识的</li>\n</ul>\n<h3 id=\"DLCI（Data-Link-Connection-Identifilier）数据链路连接标识\"><a href=\"#DLCI（Data-Link-Connection-Identifilier）数据链路连接标识\" class=\"headerlink\" title=\"DLCI（Data Link Connection Identifilier）数据链路连接标识\"></a>DLCI（Data Link Connection Identifilier）数据链路连接标识</h3><ul>\n<li>通常由帧中继服务提供商（例如电话公司）分配</li>\n<li>帧中继DLCI仅具有本地意义</li>\n<li>DLCI 0到15和1008到1023留作特殊用途。服务提供商分配的DLCI范围通常为16到1007</li>\n</ul>\n<h3 id=\"LMI（本地管理接口）\"><a href=\"#LMI（本地管理接口）\" class=\"headerlink\" title=\"LMI（本地管理接口）\"></a>LMI（本地管理接口）</h3><ul>\n<li>是一种信令标准，用作管理链路连接及keepalive的机制</li>\n<li>终端路由器（DTE）和帧中继交换机（DCE）之间的帧中继设备没10秒（或大概如此）轮询一次网络</li>\n<li>思科路由器支持三种LMI，分别是Cisco，Ansi和q933a</li>\n</ul>\n<p>路由器从帧中继交换机的帧封装接口接受LMI信息，并将虚链路状态更为下列3钟状态之一：</p>\n<ul>\n<li>Active State正常状态 </li>\n<li>Inactive State远程路由器没有在工作</li>\n<li>Delete State接口没有收到交换机的仍和LMI信息，可能是映射问题或者线路问题</li>\n</ul>\n<h2 id=\"帧中继拓扑\"><a href=\"#帧中继拓扑\" class=\"headerlink\" title=\"帧中继拓扑\"></a>帧中继拓扑</h2><h3 id=\"星型结构（Hub-and-spoke）\"><a href=\"#星型结构（Hub-and-spoke）\" class=\"headerlink\" title=\"星型结构（Hub-and-spoke）\"></a>星型结构（Hub-and-spoke）</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-2376cc5397034bbb7.md.png\"></p>\n<h4 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h4><ul>\n<li>从一点连接到各处（集中点）</li>\n</ul>\n<h3 id=\"全互联（Full-Mesh）\"><a href=\"#全互联（Full-Mesh）\" class=\"headerlink\" title=\"全互联（Full Mesh）\"></a>全互联（Full Mesh）</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-329c02835daa6f3fe.md.png\"></p>\n<h4 id=\"特点-1\"><a href=\"#特点-1\" class=\"headerlink\" title=\"特点\"></a>特点</h4><ul>\n<li>互相连接</li>\n</ul>\n<h4 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点\"></a>缺点</h4><ul>\n<li>代价过大</li>\n</ul>\n<h3 id=\"部分互联（Partial-Mesh）\"><a href=\"#部分互联（Partial-Mesh）\" class=\"headerlink\" title=\"部分互联（Partial-Mesh）\"></a>部分互联（Partial-Mesh）</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-42dad52386351e79e.md.png\"></p>\n<h4 id=\"特点-2\"><a href=\"#特点-2\" class=\"headerlink\" title=\"特点\"></a>特点</h4><ul>\n<li>节省成本的同时保证稳定性</li>\n</ul>\n<h2 id=\"帧中继-地址映射\"><a href=\"#帧中继-地址映射\" class=\"headerlink\" title=\"帧中继 地址映射\"></a>帧中继 地址映射</h2><p><img src=\"https://img.picgo.net/2024/11/19/image-58ee3b624d6f870af.png\"></p>\n<ul>\n<li>帧中继映射条目，DLCI从运营商处获取，映射关系为远端的IP地址到本地DICI之间的联系</li>\n<li>可以通过手工配置或Inverse ARP自动发现</li>\n</ul>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><ul>\n<li>帧中继虽不支持广播，但可以“模拟”广播的操作，做法即是通过向所有的PVC发送一份数据的拷贝</li>\n<li>在建立PVC的时候，通过invers-arp自动建立映射，默认就开启上述特性，如果是手工映射，则必须加上boardcast关键字</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><h3 id=\"简单例子\"><a href=\"#简单例子\" class=\"headerlink\" title=\"简单例子\"></a>简单例子</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-6b7b1ff832a361354.md.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# int s0/0</span><br><span class=\"line\">Router(config-if)# ip add 10.1.123.1 255.255.255.0</span><br><span class=\"line\">Router(config-if)# encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)# no frame-relay inverse-arp #关闭insverse-arp</span><br><span class=\"line\">Router(config-if)# frame-relay map ip 10.1.123.2 102 broadcast #手工配置帧中继映射</span><br><span class=\"line\">Router(config-if)# frame-relay map ip 10.1.123.3 103 broadcast</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# int s0/0</span><br><span class=\"line\">Router(config-if)# ip add 10.1.123.2 255.255.255.0</span><br><span class=\"line\">Router(config-if)# encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)# no frame-relay inverse-arp  #关闭insverse-arp</span><br><span class=\"line\">Router(config-if)# frame-relay map ip 10.1.123.1 201 broadcast #手工配置帧中继映射</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p><img src=\"https://img.picgo.net/2024/11/19/image78afa5a21ee4c356.png\"></p>\n<ul>\n<li>使用虚电路进行连接</li>\n<li>提供面向对象的服务</li>\n<li>应用非常广泛的WAN协议</li>\n<li>FR交换设备在用户路由器间建立虚电路，提供基于分组交换的二层通道</li>\n<li>面向连接的数据链路技术</li>\n<li>速率：56K - 2M</li>\n</ul>\n<h2 id=\"帧中继术语VC\"><a href=\"#帧中继术语VC\" class=\"headerlink\" title=\"帧中继术语VC\"></a>帧中继术语VC</h2><p><img src=\"https://img.picgo.net/2024/11/19/image-1822fb32e7964aa45.md.png\"></p>\n<h3 id=\"虚电路（VC）\"><a href=\"#虚电路（VC）\" class=\"headerlink\" title=\"虚电路（VC）\"></a>虚电路（VC）</h3><ul>\n<li>通告帧中继实现的逻辑连接叫做虚电路（VC）</li>\n<li>利用虚电路，帧中继允许多个用户共享带宽，而无需使用多条专用物理路线，虚电路是以DLCI标识的</li>\n</ul>\n<h3 id=\"DLCI（Data-Link-Connection-Identifilier）数据链路连接标识\"><a href=\"#DLCI（Data-Link-Connection-Identifilier）数据链路连接标识\" class=\"headerlink\" title=\"DLCI（Data Link Connection Identifilier）数据链路连接标识\"></a>DLCI（Data Link Connection Identifilier）数据链路连接标识</h3><ul>\n<li>通常由帧中继服务提供商（例如电话公司）分配</li>\n<li>帧中继DLCI仅具有本地意义</li>\n<li>DLCI 0到15和1008到1023留作特殊用途。服务提供商分配的DLCI范围通常为16到1007</li>\n</ul>\n<h3 id=\"LMI（本地管理接口）\"><a href=\"#LMI（本地管理接口）\" class=\"headerlink\" title=\"LMI（本地管理接口）\"></a>LMI（本地管理接口）</h3><ul>\n<li>是一种信令标准，用作管理链路连接及keepalive的机制</li>\n<li>终端路由器（DTE）和帧中继交换机（DCE）之间的帧中继设备没10秒（或大概如此）轮询一次网络</li>\n<li>思科路由器支持三种LMI，分别是Cisco，Ansi和q933a</li>\n</ul>\n<p>路由器从帧中继交换机的帧封装接口接受LMI信息，并将虚链路状态更为下列3钟状态之一：</p>\n<ul>\n<li>Active State正常状态 </li>\n<li>Inactive State远程路由器没有在工作</li>\n<li>Delete State接口没有收到交换机的仍和LMI信息，可能是映射问题或者线路问题</li>\n</ul>\n<h2 id=\"帧中继拓扑\"><a href=\"#帧中继拓扑\" class=\"headerlink\" title=\"帧中继拓扑\"></a>帧中继拓扑</h2><h3 id=\"星型结构（Hub-and-spoke）\"><a href=\"#星型结构（Hub-and-spoke）\" class=\"headerlink\" title=\"星型结构（Hub-and-spoke）\"></a>星型结构（Hub-and-spoke）</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-2376cc5397034bbb7.md.png\"></p>\n<h4 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h4><ul>\n<li>从一点连接到各处（集中点）</li>\n</ul>\n<h3 id=\"全互联（Full-Mesh）\"><a href=\"#全互联（Full-Mesh）\" class=\"headerlink\" title=\"全互联（Full Mesh）\"></a>全互联（Full Mesh）</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-329c02835daa6f3fe.md.png\"></p>\n<h4 id=\"特点-1\"><a href=\"#特点-1\" class=\"headerlink\" title=\"特点\"></a>特点</h4><ul>\n<li>互相连接</li>\n</ul>\n<h4 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点\"></a>缺点</h4><ul>\n<li>代价过大</li>\n</ul>\n<h3 id=\"部分互联（Partial-Mesh）\"><a href=\"#部分互联（Partial-Mesh）\" class=\"headerlink\" title=\"部分互联（Partial-Mesh）\"></a>部分互联（Partial-Mesh）</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-42dad52386351e79e.md.png\"></p>\n<h4 id=\"特点-2\"><a href=\"#特点-2\" class=\"headerlink\" title=\"特点\"></a>特点</h4><ul>\n<li>节省成本的同时保证稳定性</li>\n</ul>\n<h2 id=\"帧中继-地址映射\"><a href=\"#帧中继-地址映射\" class=\"headerlink\" title=\"帧中继 地址映射\"></a>帧中继 地址映射</h2><p><img src=\"https://img.picgo.net/2024/11/19/image-58ee3b624d6f870af.png\"></p>\n<ul>\n<li>帧中继映射条目，DLCI从运营商处获取，映射关系为远端的IP地址到本地DICI之间的联系</li>\n<li>可以通过手工配置或Inverse ARP自动发现</li>\n</ul>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><ul>\n<li>帧中继虽不支持广播，但可以“模拟”广播的操作，做法即是通过向所有的PVC发送一份数据的拷贝</li>\n<li>在建立PVC的时候，通过invers-arp自动建立映射，默认就开启上述特性，如果是手工映射，则必须加上boardcast关键字</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><h3 id=\"简单例子\"><a href=\"#简单例子\" class=\"headerlink\" title=\"简单例子\"></a>简单例子</h3><p><img src=\"https://img.picgo.net/2024/11/19/image-6b7b1ff832a361354.md.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# int s0/0</span><br><span class=\"line\">Router(config-if)# ip add 10.1.123.1 255.255.255.0</span><br><span class=\"line\">Router(config-if)# encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)# no frame-relay inverse-arp #关闭insverse-arp</span><br><span class=\"line\">Router(config-if)# frame-relay map ip 10.1.123.2 102 broadcast #手工配置帧中继映射</span><br><span class=\"line\">Router(config-if)# frame-relay map ip 10.1.123.3 103 broadcast</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# int s0/0</span><br><span class=\"line\">Router(config-if)# ip add 10.1.123.2 255.255.255.0</span><br><span class=\"line\">Router(config-if)# encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)# no frame-relay inverse-arp  #关闭insverse-arp</span><br><span class=\"line\">Router(config-if)# frame-relay map ip 10.1.123.1 201 broadcast #手工配置帧中继映射</span><br></pre></td></tr></table></figure>"},{"title":"静态路由+思科系统操作","summary":"酥米小机器人来啦，这篇文章介绍了静态路由的基本概念，它是网络管理员手动配置的路由方法，路径固定不变且依赖手动更新，适用于拓扑简单的中小型网络环境，主要特点是永久存在于路由表中、默认不可通告给其他路由器、可能因单向性需配置回程路由，以及递归性可能导致下一跳计算问题；此外描述了静态路由的配置命令如ip route，故障排查工具如ping和show ip route；内容还包括思科系统组件，如CPU执行指令、RAM存储临时数据、ROM保存bootstr软件、FLASH存储Cisco IOS；路由器启动过程包括Power-On self Test、加载IOS和配置文件；以及通过控制台或Telnet访问CLI的操作，涉及用户模式、特权模式、全局配置模式和线路模式等基本命令示例。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png","date":"2024-10-17T07:01:46.000Z","_content":"\n# 静态路由部分\n## 简介\n路由是指从源主机到目的主机的转发过程\n\n## 路由器的工作内容\n+ 路由器知道目标地址\n+ 发现到达目标地址的可能的路由\n+ 选择最佳路径（路由表）\n+ 维护路由信息\n\n## 主要特点\n静态路由需要管理员根据实际需要一条条自己手动配置，路由器不会自动生成所需的静态路由的。静态路由中包括目标节点或目标网络的IP地址，还可以包括下一跳IP地址（通常是下一个路由器与本地路由器连接的接口IP地址），以及在本路由器上使用该静态路由时的数据包出接口等。\n\n### 路由路径相对固定\n因为静态路由是手动配置的，静态的，所以每个配置的静态路由在本地路由器上的路径基本上是不变的，除非由管理员自己修改。另外，当网络的拓扑结构或链路的状态发生变化时，这些静态路由也不能自动修改，需要网络管理员需要手工去修改路由表中相关的静态路由信息。\n\n### 永久存在\n也因为静态路由是由管理员手工创建的，所以一旦创建完成，它会永久在路由表中存在的，除非管理员自己删除了它，或者静态路由中指定的出接口关闭，或者下一跳IP地址不可达。\n\n### 不可通告性\n静态路由信息在默认情况下是私有的，不会通告给其它路由器，也就是当在一个路由器上配置了某条静态路由时，它不会被通告到网络中相连的其它路由器上。但网络管理员还是可以通过重发布静态路由为其它动态路由，使得网络中其它路由器也可获此静态路由。\n\n### 单向性\n静态路由是具有单向性的，也就是它仅为数据提供沿着下一跳的方向进行路由，不提供反向路由。所以如果你想要使源节点与目标节点或网络进行双向通信，就必须同时配置回程静态路由。\n\n### 递归性\n静态路由没有建立邻接关系的Hello包，静态路由也不会被通告邻居路由器，所以它的下一跳是路径中其它路由器中的任一一个接口，只是能保证到达下一跳就行了。这就是静态路由的“递归性”。\n\n### 适用于小型网络\n静态路由一般适用于比较简单的小型网络环境，因为在这样的环境中，网络管理员易于清楚地了解网络的拓扑结构，便于设置正确的路由信息。同时小型网络所需配置的静态路由条目不会太多。如果网络规模较大，拓扑结构比较复杂，则不宜采用静态路由，因为这样的配置工作量实在太大。\n\n### 协议\n+ 被动路由协议（Routed protocols）：用来在路由器之间传递用户的信息\n+ 主动路由协议（Routing protocols）：用于维护路由器的路由表\n\n### 路由的来源\n+ 直连路由-直接连接到路由器上的网络\n+ 静态路由-管理员手工构建路由器表\n+ 动态路由-路由器之间动态学习到的路由表\n\n### 静态路由的配置\n```plain\nR1(config)# ip route network-address subnet-mask {ip-add|exit-interface}\n```\n### 故障排查\n+ Ping-测试连通性\n+ Traceroute-追踪两段中的每一跳\n+ Show IP route-用于显示路由表\n+ Show IP interface brief-接口信息摘要\n+ show cdp neighbors detail-用于收集毗邻信息\n\n# 思科系统操作\n## 路由器组件\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png)\n\n### 路由器的组成及功能\n+ CPU-执行操作系统的指令\n+ 随机访问存储器（RAM）-RAM中的内容断电丢失\n    - 运行操作系统\n    - 运行配置文件\n    - IP路由表\n    - ARP 缓存\n    - 数据包缓冲区\n+ 制度存储器（ROM）\n    - bootstrap指令\n    - 基本的自检软件\n    - 迷你版IOS\n+ 非易失RAM（NVRAM）\n    - 存储启动配置\n+ 运存（FLASH）\n    - 运行操作系统（Cisco IOS）\n+ Interfaces\n    - 拥有多种物理接口用于连接网络接口类型举例\n\n### 路由器启动多个主要步骤\n+ 检测路由器硬件\n    - Power-On self Test（POST）\n    - 执行bootstrap\n+ 定位加载Cisco IOS软件\n    - 定位IOS\n    - 加载IOS\n+ 定位加载启动配置文件或进入配置模式\n    - 启动程序搜寻配置文件\n\n### 访问CLI的方法\n![](https://img.picgo.net/2024/11/19/imageeff692d72ed7c5bb.md.png)\n\n+ 控制台\n+ Telnet或者SSH\n+ 辅助端口\n\n### 使用CLI的帮助\n+ 命令提示及补全\n+ 命令语法检查\n+ 热键和快捷方式\n\n## Cisco IOS主要模式\n![](https://img.picgo.net/2024/11/19/image3e21dadccda03905.md.png)\n\n+ 用户执行模式 \">\"\n+ 特权执行模式 \"#\"\n+ 全局配置模式\n+ 其他特定配置模式\n\n### 全局配置模式\n+ 从全局配置模式可进入多种不同的配置模式。其中每种模式可以用于配置IOS设备的特定部分或特定功能。下表列出了这些模式中的一小部分\n\n### 接口模式\n+ 用于配置一个网络接口（Fa0/0、s0/0/0等）\n\n### 线路模式\n+ 用于配置一条线路（实际线路或者虚拟线路）（例如控制台、aux或vty等等）\n\n### 路由配置模式\n+ 用于配置一个路由选择协议进程的相关参数\n\n## 模式的切换\n![](https://img.picgo.net/2024/11/19/image72ccdef2cf22f781.md.png)\n\n### 基础指令\n```plain\nRouter(config)# hostname device-name #配置设备名称\n```\n\n```plain\nRouter(config)# line console 0\nRouter(config-line)# password password \nRouter(config)# login\n```\n\n```plain\nRouter(config)# enable password password\nRouter(config)# enable secret password\n```\n\n```plain\nRouter(config)# line vty 0 4\nRouter(config-line)# password password \nRouter(config)# login\n```\n\n```plain\nR1# write\nR1# copy running-config startup-config\n```\n\n```plain\nR1# erase startup-config\nR1# delete flash:config.text\n```","source":"_posts/CCNA/静态路由+思科系统操作.md","raw":"---\ntitle: 静态路由+思科系统操作\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了静态路由的基本概念，它是网络管理员手动配置的路由方法，路径固定不变且依赖手动更新，适用于拓扑简单的中小型网络环境，主要特点是永久存在于路由表中、默认不可通告给其他路由器、可能因单向性需配置回程路由，以及递归性可能导致下一跳计算问题；此外描述了静态路由的配置命令如ip\n  route，故障排查工具如ping和show ip\n  route；内容还包括思科系统组件，如CPU执行指令、RAM存储临时数据、ROM保存bootstr软件、FLASH存储Cisco\n  IOS；路由器启动过程包括Power-On self\n  Test、加载IOS和配置文件；以及通过控制台或Telnet访问CLI的操作，涉及用户模式、特权模式、全局配置模式和线路模式等基本命令示例。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNA\ncover: https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png\ndate: 2024-10-17 15:01:46\n---\n\n# 静态路由部分\n## 简介\n路由是指从源主机到目的主机的转发过程\n\n## 路由器的工作内容\n+ 路由器知道目标地址\n+ 发现到达目标地址的可能的路由\n+ 选择最佳路径（路由表）\n+ 维护路由信息\n\n## 主要特点\n静态路由需要管理员根据实际需要一条条自己手动配置，路由器不会自动生成所需的静态路由的。静态路由中包括目标节点或目标网络的IP地址，还可以包括下一跳IP地址（通常是下一个路由器与本地路由器连接的接口IP地址），以及在本路由器上使用该静态路由时的数据包出接口等。\n\n### 路由路径相对固定\n因为静态路由是手动配置的，静态的，所以每个配置的静态路由在本地路由器上的路径基本上是不变的，除非由管理员自己修改。另外，当网络的拓扑结构或链路的状态发生变化时，这些静态路由也不能自动修改，需要网络管理员需要手工去修改路由表中相关的静态路由信息。\n\n### 永久存在\n也因为静态路由是由管理员手工创建的，所以一旦创建完成，它会永久在路由表中存在的，除非管理员自己删除了它，或者静态路由中指定的出接口关闭，或者下一跳IP地址不可达。\n\n### 不可通告性\n静态路由信息在默认情况下是私有的，不会通告给其它路由器，也就是当在一个路由器上配置了某条静态路由时，它不会被通告到网络中相连的其它路由器上。但网络管理员还是可以通过重发布静态路由为其它动态路由，使得网络中其它路由器也可获此静态路由。\n\n### 单向性\n静态路由是具有单向性的，也就是它仅为数据提供沿着下一跳的方向进行路由，不提供反向路由。所以如果你想要使源节点与目标节点或网络进行双向通信，就必须同时配置回程静态路由。\n\n### 递归性\n静态路由没有建立邻接关系的Hello包，静态路由也不会被通告邻居路由器，所以它的下一跳是路径中其它路由器中的任一一个接口，只是能保证到达下一跳就行了。这就是静态路由的“递归性”。\n\n### 适用于小型网络\n静态路由一般适用于比较简单的小型网络环境，因为在这样的环境中，网络管理员易于清楚地了解网络的拓扑结构，便于设置正确的路由信息。同时小型网络所需配置的静态路由条目不会太多。如果网络规模较大，拓扑结构比较复杂，则不宜采用静态路由，因为这样的配置工作量实在太大。\n\n### 协议\n+ 被动路由协议（Routed protocols）：用来在路由器之间传递用户的信息\n+ 主动路由协议（Routing protocols）：用于维护路由器的路由表\n\n### 路由的来源\n+ 直连路由-直接连接到路由器上的网络\n+ 静态路由-管理员手工构建路由器表\n+ 动态路由-路由器之间动态学习到的路由表\n\n### 静态路由的配置\n```plain\nR1(config)# ip route network-address subnet-mask {ip-add|exit-interface}\n```\n### 故障排查\n+ Ping-测试连通性\n+ Traceroute-追踪两段中的每一跳\n+ Show IP route-用于显示路由表\n+ Show IP interface brief-接口信息摘要\n+ show cdp neighbors detail-用于收集毗邻信息\n\n# 思科系统操作\n## 路由器组件\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png)\n\n### 路由器的组成及功能\n+ CPU-执行操作系统的指令\n+ 随机访问存储器（RAM）-RAM中的内容断电丢失\n    - 运行操作系统\n    - 运行配置文件\n    - IP路由表\n    - ARP 缓存\n    - 数据包缓冲区\n+ 制度存储器（ROM）\n    - bootstrap指令\n    - 基本的自检软件\n    - 迷你版IOS\n+ 非易失RAM（NVRAM）\n    - 存储启动配置\n+ 运存（FLASH）\n    - 运行操作系统（Cisco IOS）\n+ Interfaces\n    - 拥有多种物理接口用于连接网络接口类型举例\n\n### 路由器启动多个主要步骤\n+ 检测路由器硬件\n    - Power-On self Test（POST）\n    - 执行bootstrap\n+ 定位加载Cisco IOS软件\n    - 定位IOS\n    - 加载IOS\n+ 定位加载启动配置文件或进入配置模式\n    - 启动程序搜寻配置文件\n\n### 访问CLI的方法\n![](https://img.picgo.net/2024/11/19/imageeff692d72ed7c5bb.md.png)\n\n+ 控制台\n+ Telnet或者SSH\n+ 辅助端口\n\n### 使用CLI的帮助\n+ 命令提示及补全\n+ 命令语法检查\n+ 热键和快捷方式\n\n## Cisco IOS主要模式\n![](https://img.picgo.net/2024/11/19/image3e21dadccda03905.md.png)\n\n+ 用户执行模式 \">\"\n+ 特权执行模式 \"#\"\n+ 全局配置模式\n+ 其他特定配置模式\n\n### 全局配置模式\n+ 从全局配置模式可进入多种不同的配置模式。其中每种模式可以用于配置IOS设备的特定部分或特定功能。下表列出了这些模式中的一小部分\n\n### 接口模式\n+ 用于配置一个网络接口（Fa0/0、s0/0/0等）\n\n### 线路模式\n+ 用于配置一条线路（实际线路或者虚拟线路）（例如控制台、aux或vty等等）\n\n### 路由配置模式\n+ 用于配置一个路由选择协议进程的相关参数\n\n## 模式的切换\n![](https://img.picgo.net/2024/11/19/image72ccdef2cf22f781.md.png)\n\n### 基础指令\n```plain\nRouter(config)# hostname device-name #配置设备名称\n```\n\n```plain\nRouter(config)# line console 0\nRouter(config-line)# password password \nRouter(config)# login\n```\n\n```plain\nRouter(config)# enable password password\nRouter(config)# enable secret password\n```\n\n```plain\nRouter(config)# line vty 0 4\nRouter(config-line)# password password \nRouter(config)# login\n```\n\n```plain\nR1# write\nR1# copy running-config startup-config\n```\n\n```plain\nR1# erase startup-config\nR1# delete flash:config.text\n```","slug":"CCNA/静态路由+思科系统操作","published":1,"updated":"2025-08-02T10:16:12.984Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zs001eg0fy8zn4fo96","content":"<h1 id=\"静态路由部分\"><a href=\"#静态路由部分\" class=\"headerlink\" title=\"静态路由部分\"></a>静态路由部分</h1><h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>路由是指从源主机到目的主机的转发过程</p>\n<h2 id=\"路由器的工作内容\"><a href=\"#路由器的工作内容\" class=\"headerlink\" title=\"路由器的工作内容\"></a>路由器的工作内容</h2><ul>\n<li>路由器知道目标地址</li>\n<li>发现到达目标地址的可能的路由</li>\n<li>选择最佳路径（路由表）</li>\n<li>维护路由信息</li>\n</ul>\n<h2 id=\"主要特点\"><a href=\"#主要特点\" class=\"headerlink\" title=\"主要特点\"></a>主要特点</h2><p>静态路由需要管理员根据实际需要一条条自己手动配置，路由器不会自动生成所需的静态路由的。静态路由中包括目标节点或目标网络的IP地址，还可以包括下一跳IP地址（通常是下一个路由器与本地路由器连接的接口IP地址），以及在本路由器上使用该静态路由时的数据包出接口等。</p>\n<h3 id=\"路由路径相对固定\"><a href=\"#路由路径相对固定\" class=\"headerlink\" title=\"路由路径相对固定\"></a>路由路径相对固定</h3><p>因为静态路由是手动配置的，静态的，所以每个配置的静态路由在本地路由器上的路径基本上是不变的，除非由管理员自己修改。另外，当网络的拓扑结构或链路的状态发生变化时，这些静态路由也不能自动修改，需要网络管理员需要手工去修改路由表中相关的静态路由信息。</p>\n<h3 id=\"永久存在\"><a href=\"#永久存在\" class=\"headerlink\" title=\"永久存在\"></a>永久存在</h3><p>也因为静态路由是由管理员手工创建的，所以一旦创建完成，它会永久在路由表中存在的，除非管理员自己删除了它，或者静态路由中指定的出接口关闭，或者下一跳IP地址不可达。</p>\n<h3 id=\"不可通告性\"><a href=\"#不可通告性\" class=\"headerlink\" title=\"不可通告性\"></a>不可通告性</h3><p>静态路由信息在默认情况下是私有的，不会通告给其它路由器，也就是当在一个路由器上配置了某条静态路由时，它不会被通告到网络中相连的其它路由器上。但网络管理员还是可以通过重发布静态路由为其它动态路由，使得网络中其它路由器也可获此静态路由。</p>\n<h3 id=\"单向性\"><a href=\"#单向性\" class=\"headerlink\" title=\"单向性\"></a>单向性</h3><p>静态路由是具有单向性的，也就是它仅为数据提供沿着下一跳的方向进行路由，不提供反向路由。所以如果你想要使源节点与目标节点或网络进行双向通信，就必须同时配置回程静态路由。</p>\n<h3 id=\"递归性\"><a href=\"#递归性\" class=\"headerlink\" title=\"递归性\"></a>递归性</h3><p>静态路由没有建立邻接关系的Hello包，静态路由也不会被通告邻居路由器，所以它的下一跳是路径中其它路由器中的任一一个接口，只是能保证到达下一跳就行了。这就是静态路由的“递归性”。</p>\n<h3 id=\"适用于小型网络\"><a href=\"#适用于小型网络\" class=\"headerlink\" title=\"适用于小型网络\"></a>适用于小型网络</h3><p>静态路由一般适用于比较简单的小型网络环境，因为在这样的环境中，网络管理员易于清楚地了解网络的拓扑结构，便于设置正确的路由信息。同时小型网络所需配置的静态路由条目不会太多。如果网络规模较大，拓扑结构比较复杂，则不宜采用静态路由，因为这样的配置工作量实在太大。</p>\n<h3 id=\"协议\"><a href=\"#协议\" class=\"headerlink\" title=\"协议\"></a>协议</h3><ul>\n<li>被动路由协议（Routed protocols）：用来在路由器之间传递用户的信息</li>\n<li>主动路由协议（Routing protocols）：用于维护路由器的路由表</li>\n</ul>\n<h3 id=\"路由的来源\"><a href=\"#路由的来源\" class=\"headerlink\" title=\"路由的来源\"></a>路由的来源</h3><ul>\n<li>直连路由-直接连接到路由器上的网络</li>\n<li>静态路由-管理员手工构建路由器表</li>\n<li>动态路由-路由器之间动态学习到的路由表</li>\n</ul>\n<h3 id=\"静态路由的配置\"><a href=\"#静态路由的配置\" class=\"headerlink\" title=\"静态路由的配置\"></a>静态路由的配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1(config)# ip route network-address subnet-mask &#123;ip-add|exit-interface&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"故障排查\"><a href=\"#故障排查\" class=\"headerlink\" title=\"故障排查\"></a>故障排查</h3><ul>\n<li>Ping-测试连通性</li>\n<li>Traceroute-追踪两段中的每一跳</li>\n<li>Show IP route-用于显示路由表</li>\n<li>Show IP interface brief-接口信息摘要</li>\n<li>show cdp neighbors detail-用于收集毗邻信息</li>\n</ul>\n<h1 id=\"思科系统操作\"><a href=\"#思科系统操作\" class=\"headerlink\" title=\"思科系统操作\"></a>思科系统操作</h1><h2 id=\"路由器组件\"><a href=\"#路由器组件\" class=\"headerlink\" title=\"路由器组件\"></a>路由器组件</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png\"></p>\n<h3 id=\"路由器的组成及功能\"><a href=\"#路由器的组成及功能\" class=\"headerlink\" title=\"路由器的组成及功能\"></a>路由器的组成及功能</h3><ul>\n<li>CPU-执行操作系统的指令</li>\n<li>随机访问存储器（RAM）-RAM中的内容断电丢失<ul>\n<li>运行操作系统</li>\n<li>运行配置文件</li>\n<li>IP路由表</li>\n<li>ARP 缓存</li>\n<li>数据包缓冲区</li>\n</ul>\n</li>\n<li>制度存储器（ROM）<ul>\n<li>bootstrap指令</li>\n<li>基本的自检软件</li>\n<li>迷你版IOS</li>\n</ul>\n</li>\n<li>非易失RAM（NVRAM）<ul>\n<li>存储启动配置</li>\n</ul>\n</li>\n<li>运存（FLASH）<ul>\n<li>运行操作系统（Cisco IOS）</li>\n</ul>\n</li>\n<li>Interfaces<ul>\n<li>拥有多种物理接口用于连接网络接口类型举例</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"路由器启动多个主要步骤\"><a href=\"#路由器启动多个主要步骤\" class=\"headerlink\" title=\"路由器启动多个主要步骤\"></a>路由器启动多个主要步骤</h3><ul>\n<li>检测路由器硬件<ul>\n<li>Power-On self Test（POST）</li>\n<li>执行bootstrap</li>\n</ul>\n</li>\n<li>定位加载Cisco IOS软件<ul>\n<li>定位IOS</li>\n<li>加载IOS</li>\n</ul>\n</li>\n<li>定位加载启动配置文件或进入配置模式<ul>\n<li>启动程序搜寻配置文件</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"访问CLI的方法\"><a href=\"#访问CLI的方法\" class=\"headerlink\" title=\"访问CLI的方法\"></a>访问CLI的方法</h3><p><img src=\"https://img.picgo.net/2024/11/19/imageeff692d72ed7c5bb.md.png\"></p>\n<ul>\n<li>控制台</li>\n<li>Telnet或者SSH</li>\n<li>辅助端口</li>\n</ul>\n<h3 id=\"使用CLI的帮助\"><a href=\"#使用CLI的帮助\" class=\"headerlink\" title=\"使用CLI的帮助\"></a>使用CLI的帮助</h3><ul>\n<li>命令提示及补全</li>\n<li>命令语法检查</li>\n<li>热键和快捷方式</li>\n</ul>\n<h2 id=\"Cisco-IOS主要模式\"><a href=\"#Cisco-IOS主要模式\" class=\"headerlink\" title=\"Cisco IOS主要模式\"></a>Cisco IOS主要模式</h2><p><img src=\"https://img.picgo.net/2024/11/19/image3e21dadccda03905.md.png\"></p>\n<ul>\n<li>用户执行模式 “&gt;”</li>\n<li>特权执行模式 “#”</li>\n<li>全局配置模式</li>\n<li>其他特定配置模式</li>\n</ul>\n<h3 id=\"全局配置模式\"><a href=\"#全局配置模式\" class=\"headerlink\" title=\"全局配置模式\"></a>全局配置模式</h3><ul>\n<li>从全局配置模式可进入多种不同的配置模式。其中每种模式可以用于配置IOS设备的特定部分或特定功能。下表列出了这些模式中的一小部分</li>\n</ul>\n<h3 id=\"接口模式\"><a href=\"#接口模式\" class=\"headerlink\" title=\"接口模式\"></a>接口模式</h3><ul>\n<li>用于配置一个网络接口（Fa0&#x2F;0、s0&#x2F;0&#x2F;0等）</li>\n</ul>\n<h3 id=\"线路模式\"><a href=\"#线路模式\" class=\"headerlink\" title=\"线路模式\"></a>线路模式</h3><ul>\n<li>用于配置一条线路（实际线路或者虚拟线路）（例如控制台、aux或vty等等）</li>\n</ul>\n<h3 id=\"路由配置模式\"><a href=\"#路由配置模式\" class=\"headerlink\" title=\"路由配置模式\"></a>路由配置模式</h3><ul>\n<li>用于配置一个路由选择协议进程的相关参数</li>\n</ul>\n<h2 id=\"模式的切换\"><a href=\"#模式的切换\" class=\"headerlink\" title=\"模式的切换\"></a>模式的切换</h2><p><img src=\"https://img.picgo.net/2024/11/19/image72ccdef2cf22f781.md.png\"></p>\n<h3 id=\"基础指令\"><a href=\"#基础指令\" class=\"headerlink\" title=\"基础指令\"></a>基础指令</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# hostname device-name #配置设备名称</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# line console 0</span><br><span class=\"line\">Router(config-line)# password password </span><br><span class=\"line\">Router(config)# login</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# enable password password</span><br><span class=\"line\">Router(config)# enable secret password</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# line vty 0 4</span><br><span class=\"line\">Router(config-line)# password password </span><br><span class=\"line\">Router(config)# login</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1# write</span><br><span class=\"line\">R1# copy running-config startup-config</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1# erase startup-config</span><br><span class=\"line\">R1# delete flash:config.text</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h1 id=\"静态路由部分\"><a href=\"#静态路由部分\" class=\"headerlink\" title=\"静态路由部分\"></a>静态路由部分</h1><h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>路由是指从源主机到目的主机的转发过程</p>\n<h2 id=\"路由器的工作内容\"><a href=\"#路由器的工作内容\" class=\"headerlink\" title=\"路由器的工作内容\"></a>路由器的工作内容</h2><ul>\n<li>路由器知道目标地址</li>\n<li>发现到达目标地址的可能的路由</li>\n<li>选择最佳路径（路由表）</li>\n<li>维护路由信息</li>\n</ul>\n<h2 id=\"主要特点\"><a href=\"#主要特点\" class=\"headerlink\" title=\"主要特点\"></a>主要特点</h2><p>静态路由需要管理员根据实际需要一条条自己手动配置，路由器不会自动生成所需的静态路由的。静态路由中包括目标节点或目标网络的IP地址，还可以包括下一跳IP地址（通常是下一个路由器与本地路由器连接的接口IP地址），以及在本路由器上使用该静态路由时的数据包出接口等。</p>\n<h3 id=\"路由路径相对固定\"><a href=\"#路由路径相对固定\" class=\"headerlink\" title=\"路由路径相对固定\"></a>路由路径相对固定</h3><p>因为静态路由是手动配置的，静态的，所以每个配置的静态路由在本地路由器上的路径基本上是不变的，除非由管理员自己修改。另外，当网络的拓扑结构或链路的状态发生变化时，这些静态路由也不能自动修改，需要网络管理员需要手工去修改路由表中相关的静态路由信息。</p>\n<h3 id=\"永久存在\"><a href=\"#永久存在\" class=\"headerlink\" title=\"永久存在\"></a>永久存在</h3><p>也因为静态路由是由管理员手工创建的，所以一旦创建完成，它会永久在路由表中存在的，除非管理员自己删除了它，或者静态路由中指定的出接口关闭，或者下一跳IP地址不可达。</p>\n<h3 id=\"不可通告性\"><a href=\"#不可通告性\" class=\"headerlink\" title=\"不可通告性\"></a>不可通告性</h3><p>静态路由信息在默认情况下是私有的，不会通告给其它路由器，也就是当在一个路由器上配置了某条静态路由时，它不会被通告到网络中相连的其它路由器上。但网络管理员还是可以通过重发布静态路由为其它动态路由，使得网络中其它路由器也可获此静态路由。</p>\n<h3 id=\"单向性\"><a href=\"#单向性\" class=\"headerlink\" title=\"单向性\"></a>单向性</h3><p>静态路由是具有单向性的，也就是它仅为数据提供沿着下一跳的方向进行路由，不提供反向路由。所以如果你想要使源节点与目标节点或网络进行双向通信，就必须同时配置回程静态路由。</p>\n<h3 id=\"递归性\"><a href=\"#递归性\" class=\"headerlink\" title=\"递归性\"></a>递归性</h3><p>静态路由没有建立邻接关系的Hello包，静态路由也不会被通告邻居路由器，所以它的下一跳是路径中其它路由器中的任一一个接口，只是能保证到达下一跳就行了。这就是静态路由的“递归性”。</p>\n<h3 id=\"适用于小型网络\"><a href=\"#适用于小型网络\" class=\"headerlink\" title=\"适用于小型网络\"></a>适用于小型网络</h3><p>静态路由一般适用于比较简单的小型网络环境，因为在这样的环境中，网络管理员易于清楚地了解网络的拓扑结构，便于设置正确的路由信息。同时小型网络所需配置的静态路由条目不会太多。如果网络规模较大，拓扑结构比较复杂，则不宜采用静态路由，因为这样的配置工作量实在太大。</p>\n<h3 id=\"协议\"><a href=\"#协议\" class=\"headerlink\" title=\"协议\"></a>协议</h3><ul>\n<li>被动路由协议（Routed protocols）：用来在路由器之间传递用户的信息</li>\n<li>主动路由协议（Routing protocols）：用于维护路由器的路由表</li>\n</ul>\n<h3 id=\"路由的来源\"><a href=\"#路由的来源\" class=\"headerlink\" title=\"路由的来源\"></a>路由的来源</h3><ul>\n<li>直连路由-直接连接到路由器上的网络</li>\n<li>静态路由-管理员手工构建路由器表</li>\n<li>动态路由-路由器之间动态学习到的路由表</li>\n</ul>\n<h3 id=\"静态路由的配置\"><a href=\"#静态路由的配置\" class=\"headerlink\" title=\"静态路由的配置\"></a>静态路由的配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1(config)# ip route network-address subnet-mask &#123;ip-add|exit-interface&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"故障排查\"><a href=\"#故障排查\" class=\"headerlink\" title=\"故障排查\"></a>故障排查</h3><ul>\n<li>Ping-测试连通性</li>\n<li>Traceroute-追踪两段中的每一跳</li>\n<li>Show IP route-用于显示路由表</li>\n<li>Show IP interface brief-接口信息摘要</li>\n<li>show cdp neighbors detail-用于收集毗邻信息</li>\n</ul>\n<h1 id=\"思科系统操作\"><a href=\"#思科系统操作\" class=\"headerlink\" title=\"思科系统操作\"></a>思科系统操作</h1><h2 id=\"路由器组件\"><a href=\"#路由器组件\" class=\"headerlink\" title=\"路由器组件\"></a>路由器组件</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/image8c1410e694adfd3b.md.png\"></p>\n<h3 id=\"路由器的组成及功能\"><a href=\"#路由器的组成及功能\" class=\"headerlink\" title=\"路由器的组成及功能\"></a>路由器的组成及功能</h3><ul>\n<li>CPU-执行操作系统的指令</li>\n<li>随机访问存储器（RAM）-RAM中的内容断电丢失<ul>\n<li>运行操作系统</li>\n<li>运行配置文件</li>\n<li>IP路由表</li>\n<li>ARP 缓存</li>\n<li>数据包缓冲区</li>\n</ul>\n</li>\n<li>制度存储器（ROM）<ul>\n<li>bootstrap指令</li>\n<li>基本的自检软件</li>\n<li>迷你版IOS</li>\n</ul>\n</li>\n<li>非易失RAM（NVRAM）<ul>\n<li>存储启动配置</li>\n</ul>\n</li>\n<li>运存（FLASH）<ul>\n<li>运行操作系统（Cisco IOS）</li>\n</ul>\n</li>\n<li>Interfaces<ul>\n<li>拥有多种物理接口用于连接网络接口类型举例</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"路由器启动多个主要步骤\"><a href=\"#路由器启动多个主要步骤\" class=\"headerlink\" title=\"路由器启动多个主要步骤\"></a>路由器启动多个主要步骤</h3><ul>\n<li>检测路由器硬件<ul>\n<li>Power-On self Test（POST）</li>\n<li>执行bootstrap</li>\n</ul>\n</li>\n<li>定位加载Cisco IOS软件<ul>\n<li>定位IOS</li>\n<li>加载IOS</li>\n</ul>\n</li>\n<li>定位加载启动配置文件或进入配置模式<ul>\n<li>启动程序搜寻配置文件</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"访问CLI的方法\"><a href=\"#访问CLI的方法\" class=\"headerlink\" title=\"访问CLI的方法\"></a>访问CLI的方法</h3><p><img src=\"https://img.picgo.net/2024/11/19/imageeff692d72ed7c5bb.md.png\"></p>\n<ul>\n<li>控制台</li>\n<li>Telnet或者SSH</li>\n<li>辅助端口</li>\n</ul>\n<h3 id=\"使用CLI的帮助\"><a href=\"#使用CLI的帮助\" class=\"headerlink\" title=\"使用CLI的帮助\"></a>使用CLI的帮助</h3><ul>\n<li>命令提示及补全</li>\n<li>命令语法检查</li>\n<li>热键和快捷方式</li>\n</ul>\n<h2 id=\"Cisco-IOS主要模式\"><a href=\"#Cisco-IOS主要模式\" class=\"headerlink\" title=\"Cisco IOS主要模式\"></a>Cisco IOS主要模式</h2><p><img src=\"https://img.picgo.net/2024/11/19/image3e21dadccda03905.md.png\"></p>\n<ul>\n<li>用户执行模式 “&gt;”</li>\n<li>特权执行模式 “#”</li>\n<li>全局配置模式</li>\n<li>其他特定配置模式</li>\n</ul>\n<h3 id=\"全局配置模式\"><a href=\"#全局配置模式\" class=\"headerlink\" title=\"全局配置模式\"></a>全局配置模式</h3><ul>\n<li>从全局配置模式可进入多种不同的配置模式。其中每种模式可以用于配置IOS设备的特定部分或特定功能。下表列出了这些模式中的一小部分</li>\n</ul>\n<h3 id=\"接口模式\"><a href=\"#接口模式\" class=\"headerlink\" title=\"接口模式\"></a>接口模式</h3><ul>\n<li>用于配置一个网络接口（Fa0&#x2F;0、s0&#x2F;0&#x2F;0等）</li>\n</ul>\n<h3 id=\"线路模式\"><a href=\"#线路模式\" class=\"headerlink\" title=\"线路模式\"></a>线路模式</h3><ul>\n<li>用于配置一条线路（实际线路或者虚拟线路）（例如控制台、aux或vty等等）</li>\n</ul>\n<h3 id=\"路由配置模式\"><a href=\"#路由配置模式\" class=\"headerlink\" title=\"路由配置模式\"></a>路由配置模式</h3><ul>\n<li>用于配置一个路由选择协议进程的相关参数</li>\n</ul>\n<h2 id=\"模式的切换\"><a href=\"#模式的切换\" class=\"headerlink\" title=\"模式的切换\"></a>模式的切换</h2><p><img src=\"https://img.picgo.net/2024/11/19/image72ccdef2cf22f781.md.png\"></p>\n<h3 id=\"基础指令\"><a href=\"#基础指令\" class=\"headerlink\" title=\"基础指令\"></a>基础指令</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# hostname device-name #配置设备名称</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# line console 0</span><br><span class=\"line\">Router(config-line)# password password </span><br><span class=\"line\">Router(config)# login</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# enable password password</span><br><span class=\"line\">Router(config)# enable secret password</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# line vty 0 4</span><br><span class=\"line\">Router(config-line)# password password </span><br><span class=\"line\">Router(config)# login</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1# write</span><br><span class=\"line\">R1# copy running-config startup-config</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1# erase startup-config</span><br><span class=\"line\">R1# delete flash:config.text</span><br></pre></td></tr></table></figure>"},{"title":"DHCP协议详解和配置","summary":"酥米小机器人来啦，这篇文章介绍了DHCP协议，是动态主机配置协议基于UDP端口67和68用于自动分配IP地址的核心内容，涵盖了实施背景、传输方式、DHCP中继问题如客户端与服务器不在同一网段时的广播转发障碍及Cisco设备上的中继配置命令，还涉及Relay Agent Option支持如Option82的插入用于远程ID和电路ID管理，以及基于策略分配IP地址的流程，并详细说明了手动绑定配置使用ip dhcp pool命令直接映射MAC地址到IP地址，所有内容均围绕DHCP在网络环境中的关键作用和实际配置示例展开，重点关注中继机制的处理策略以确保设备间通信无阻和地址分配效率。","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165474365-eb0dcff1-1d39-4423-8a7f-d50f6cccc494.png","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## DHCP实施背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165474365-eb0dcff1-1d39-4423-8a7f-d50f6cccc494.png)\n\n## 简介\n+ Dynamic Host Configuration Protocol\n+ 基于UDP协议 端口67及68\n+ bootPC:67（客户端端口号）；bootPS：68（服务端端口号）\n\n## 传输方式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729166164894-3746dc53-16a4-4763-89f7-d07c779b2eae.png)\n\n## DHCP中继问题\n### 案例一\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498106851-c554df3c-3861-47ee-b981-06b274a46d00.png)\n\n+ PC客户端与DHCP server不在同一个网段PC发出的广播DHCP discover包到达三层设备被三层接口丢弃，因此数据无法到达DHCP服务器\n\n### 案例二\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498165849-924f9898-3555-4794-99e5-54ee26ea93f9.png)\n\n+ 在三层交换机(或路由器)上部署DHCP中继，使得DHCPserver能够收到Discover消息\n\n### 案例三\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729498256138-90c814b3-f678-4c44-8db8-3b81f95deabb.jpeg)\n\n`cisco(config-if)# ip helper-address _address_`\n\n+ 激活中继功能，并为UDP广播包设置中继目标IP(单播包的目标IP地址)\n+ 注意是在接口上配置，该接口为沿途阻挡该广播消息的第一个接口\n\n`cisco(config)# ip forward-protocol { udp [ port ]}`\n\n+ 选择被中继的协议(可选)\n\n### 注意事项1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498637688-ede34ac4-38ae-472e-98e0-44d3c9108741.png)\n\n`cisco(config)# interface vlan 10`\n\n`cisco(config-if)# ip helper-address 192 168.200.200`\n\n### 注意事项2\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498803330-8cc66a37-1efb-4664-8343-02bccde28ebf.png)\n\n```plain\ninterface fast0/0\nip helper-address 10.1.1.200\nip helper-address 10.1.2.200\nip helper-address 10.1.2.201\n!!每个地址都会发送一个单播\n```\n\n## Relay Agent Option Support\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498968783-22fd05b0-fe27-4135-ae7d-8748bb83d552.png)\n\n+ 发送广播\n+ Option82插入remoteID及circuitID\n+ 如果识别option82，则查看插入的option值\n+ 除去option字段，实施策略，将IP分配给client\n+ 基于option值，返回IP address及策略\n\n## DHCP配置\n### 手工配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729499528933-45786e82-4126-41d6-9cf8-54dc67e32103.png)\n\n+ 手动绑定是手动映射到DHCP数据库中的主机的MAC地址的IP地址。手动绑定存储在DHCP服务器上的NVRAM中\n+ 绑定只是特殊的地址池。手动绑定数量没有限制，但每个主机池只能配置一个手动绑定的配置池\n\n`ip dhcp pool BIND`\n\n`host 192.168.1.111 255.255.255.0`\n\n`client-identifier unique-identifier`\n\n+ DHCP clients require client identifiers. The unique identification ofthe client is specified in dotted hexadecimal notation, for example.01b7.0813.8811.66,where 01 represents the Ethernet media type.（DHCP客户端需要客户端标识符。客户端的唯一标识符用点十六进制表示法指定，例如01b7.0813.8811.66，其中01表示以太网介质类型。）\n+ 也可以在服务器上通过show ip dhcp bingding抓取客户端的client-identifier","source":"_posts/CCNP/CCNP交换 DHCP协议详解及配置.md","raw":"---\ntitle: DHCP协议详解和配置\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了DHCP协议，是动态主机配置协议基于UDP端口67和68用于自动分配IP地址的核心内容，涵盖了实施背景、传输方式、DHCP中继问题如客户端与服务器不在同一网段时的广播转发障碍及Cisco设备上的中继配置命令，还涉及Relay\n  Agent Option支持如Option82的插入用于远程ID和电路ID管理，以及基于策略分配IP地址的流程，并详细说明了手动绑定配置使用ip dhcp\n  pool命令直接映射MAC地址到IP地址，所有内容均围绕DHCP在网络环境中的关键作用和实际配置示例展开，重点关注中继机制的处理策略以确保设备间通信无阻和地址分配效率。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165474365-eb0dcff1-1d39-4423-8a7f-d50f6cccc494.png\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## DHCP实施背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165474365-eb0dcff1-1d39-4423-8a7f-d50f6cccc494.png)\n\n## 简介\n+ Dynamic Host Configuration Protocol\n+ 基于UDP协议 端口67及68\n+ bootPC:67（客户端端口号）；bootPS：68（服务端端口号）\n\n## 传输方式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729166164894-3746dc53-16a4-4763-89f7-d07c779b2eae.png)\n\n## DHCP中继问题\n### 案例一\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498106851-c554df3c-3861-47ee-b981-06b274a46d00.png)\n\n+ PC客户端与DHCP server不在同一个网段PC发出的广播DHCP discover包到达三层设备被三层接口丢弃，因此数据无法到达DHCP服务器\n\n### 案例二\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498165849-924f9898-3555-4794-99e5-54ee26ea93f9.png)\n\n+ 在三层交换机(或路由器)上部署DHCP中继，使得DHCPserver能够收到Discover消息\n\n### 案例三\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729498256138-90c814b3-f678-4c44-8db8-3b81f95deabb.jpeg)\n\n`cisco(config-if)# ip helper-address _address_`\n\n+ 激活中继功能，并为UDP广播包设置中继目标IP(单播包的目标IP地址)\n+ 注意是在接口上配置，该接口为沿途阻挡该广播消息的第一个接口\n\n`cisco(config)# ip forward-protocol { udp [ port ]}`\n\n+ 选择被中继的协议(可选)\n\n### 注意事项1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498637688-ede34ac4-38ae-472e-98e0-44d3c9108741.png)\n\n`cisco(config)# interface vlan 10`\n\n`cisco(config-if)# ip helper-address 192 168.200.200`\n\n### 注意事项2\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498803330-8cc66a37-1efb-4664-8343-02bccde28ebf.png)\n\n```plain\ninterface fast0/0\nip helper-address 10.1.1.200\nip helper-address 10.1.2.200\nip helper-address 10.1.2.201\n!!每个地址都会发送一个单播\n```\n\n## Relay Agent Option Support\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498968783-22fd05b0-fe27-4135-ae7d-8748bb83d552.png)\n\n+ 发送广播\n+ Option82插入remoteID及circuitID\n+ 如果识别option82，则查看插入的option值\n+ 除去option字段，实施策略，将IP分配给client\n+ 基于option值，返回IP address及策略\n\n## DHCP配置\n### 手工配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729499528933-45786e82-4126-41d6-9cf8-54dc67e32103.png)\n\n+ 手动绑定是手动映射到DHCP数据库中的主机的MAC地址的IP地址。手动绑定存储在DHCP服务器上的NVRAM中\n+ 绑定只是特殊的地址池。手动绑定数量没有限制，但每个主机池只能配置一个手动绑定的配置池\n\n`ip dhcp pool BIND`\n\n`host 192.168.1.111 255.255.255.0`\n\n`client-identifier unique-identifier`\n\n+ DHCP clients require client identifiers. The unique identification ofthe client is specified in dotted hexadecimal notation, for example.01b7.0813.8811.66,where 01 represents the Ethernet media type.（DHCP客户端需要客户端标识符。客户端的唯一标识符用点十六进制表示法指定，例如01b7.0813.8811.66，其中01表示以太网介质类型。）\n+ 也可以在服务器上通过show ip dhcp bingding抓取客户端的client-identifier","slug":"CCNP/CCNP交换 DHCP协议详解及配置","published":1,"updated":"2025-09-21T10:35:24.786Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zu001ig0fy4n3p9ttg","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"DHCP实施背景\"><a href=\"#DHCP实施背景\" class=\"headerlink\" title=\"DHCP实施背景\"></a>DHCP实施背景</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165474365-eb0dcff1-1d39-4423-8a7f-d50f6cccc494.png\"></p>\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><ul>\n<li>Dynamic Host Configuration Protocol</li>\n<li>基于UDP协议 端口67及68</li>\n<li>bootPC:67（客户端端口号）；bootPS：68（服务端端口号）</li>\n</ul>\n<h2 id=\"传输方式\"><a href=\"#传输方式\" class=\"headerlink\" title=\"传输方式\"></a>传输方式</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729166164894-3746dc53-16a4-4763-89f7-d07c779b2eae.png\"></p>\n<h2 id=\"DHCP中继问题\"><a href=\"#DHCP中继问题\" class=\"headerlink\" title=\"DHCP中继问题\"></a>DHCP中继问题</h2><h3 id=\"案例一\"><a href=\"#案例一\" class=\"headerlink\" title=\"案例一\"></a>案例一</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498106851-c554df3c-3861-47ee-b981-06b274a46d00.png\"></p>\n<ul>\n<li>PC客户端与DHCP server不在同一个网段PC发出的广播DHCP discover包到达三层设备被三层接口丢弃，因此数据无法到达DHCP服务器</li>\n</ul>\n<h3 id=\"案例二\"><a href=\"#案例二\" class=\"headerlink\" title=\"案例二\"></a>案例二</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498165849-924f9898-3555-4794-99e5-54ee26ea93f9.png\"></p>\n<ul>\n<li>在三层交换机(或路由器)上部署DHCP中继，使得DHCPserver能够收到Discover消息</li>\n</ul>\n<h3 id=\"案例三\"><a href=\"#案例三\" class=\"headerlink\" title=\"案例三\"></a>案例三</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729498256138-90c814b3-f678-4c44-8db8-3b81f95deabb.jpeg\"></p>\n<p><code>cisco(config-if)# ip helper-address _address_</code></p>\n<ul>\n<li>激活中继功能，并为UDP广播包设置中继目标IP(单播包的目标IP地址)</li>\n<li>注意是在接口上配置，该接口为沿途阻挡该广播消息的第一个接口</li>\n</ul>\n<p><code>cisco(config)# ip forward-protocol &#123; udp [ port ]&#125;</code></p>\n<ul>\n<li>选择被中继的协议(可选)</li>\n</ul>\n<h3 id=\"注意事项1\"><a href=\"#注意事项1\" class=\"headerlink\" title=\"注意事项1\"></a>注意事项1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498637688-ede34ac4-38ae-472e-98e0-44d3c9108741.png\"></p>\n<p><code>cisco(config)# interface vlan 10</code></p>\n<p><code>cisco(config-if)# ip helper-address 192 168.200.200</code></p>\n<h3 id=\"注意事项2\"><a href=\"#注意事项2\" class=\"headerlink\" title=\"注意事项2\"></a>注意事项2</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498803330-8cc66a37-1efb-4664-8343-02bccde28ebf.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface fast0/0</span><br><span class=\"line\">ip helper-address 10.1.1.200</span><br><span class=\"line\">ip helper-address 10.1.2.200</span><br><span class=\"line\">ip helper-address 10.1.2.201</span><br><span class=\"line\">!!每个地址都会发送一个单播</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Relay-Agent-Option-Support\"><a href=\"#Relay-Agent-Option-Support\" class=\"headerlink\" title=\"Relay Agent Option Support\"></a>Relay Agent Option Support</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498968783-22fd05b0-fe27-4135-ae7d-8748bb83d552.png\"></p>\n<ul>\n<li>发送广播</li>\n<li>Option82插入remoteID及circuitID</li>\n<li>如果识别option82，则查看插入的option值</li>\n<li>除去option字段，实施策略，将IP分配给client</li>\n<li>基于option值，返回IP address及策略</li>\n</ul>\n<h2 id=\"DHCP配置\"><a href=\"#DHCP配置\" class=\"headerlink\" title=\"DHCP配置\"></a>DHCP配置</h2><h3 id=\"手工配置\"><a href=\"#手工配置\" class=\"headerlink\" title=\"手工配置\"></a>手工配置</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729499528933-45786e82-4126-41d6-9cf8-54dc67e32103.png\"></p>\n<ul>\n<li>手动绑定是手动映射到DHCP数据库中的主机的MAC地址的IP地址。手动绑定存储在DHCP服务器上的NVRAM中</li>\n<li>绑定只是特殊的地址池。手动绑定数量没有限制，但每个主机池只能配置一个手动绑定的配置池</li>\n</ul>\n<p><code>ip dhcp pool BIND</code></p>\n<p><code>host 192.168.1.111 255.255.255.0</code></p>\n<p><code>client-identifier unique-identifier</code></p>\n<ul>\n<li>DHCP clients require client identifiers. The unique identification ofthe client is specified in dotted hexadecimal notation, for example.01b7.0813.8811.66,where 01 represents the Ethernet media type.（DHCP客户端需要客户端标识符。客户端的唯一标识符用点十六进制表示法指定，例如01b7.0813.8811.66，其中01表示以太网介质类型。）</li>\n<li>也可以在服务器上通过show ip dhcp bingding抓取客户端的client-identifier</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"DHCP实施背景\"><a href=\"#DHCP实施背景\" class=\"headerlink\" title=\"DHCP实施背景\"></a>DHCP实施背景</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165474365-eb0dcff1-1d39-4423-8a7f-d50f6cccc494.png\"></p>\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><ul>\n<li>Dynamic Host Configuration Protocol</li>\n<li>基于UDP协议 端口67及68</li>\n<li>bootPC:67（客户端端口号）；bootPS：68（服务端端口号）</li>\n</ul>\n<h2 id=\"传输方式\"><a href=\"#传输方式\" class=\"headerlink\" title=\"传输方式\"></a>传输方式</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729166164894-3746dc53-16a4-4763-89f7-d07c779b2eae.png\"></p>\n<h2 id=\"DHCP中继问题\"><a href=\"#DHCP中继问题\" class=\"headerlink\" title=\"DHCP中继问题\"></a>DHCP中继问题</h2><h3 id=\"案例一\"><a href=\"#案例一\" class=\"headerlink\" title=\"案例一\"></a>案例一</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498106851-c554df3c-3861-47ee-b981-06b274a46d00.png\"></p>\n<ul>\n<li>PC客户端与DHCP server不在同一个网段PC发出的广播DHCP discover包到达三层设备被三层接口丢弃，因此数据无法到达DHCP服务器</li>\n</ul>\n<h3 id=\"案例二\"><a href=\"#案例二\" class=\"headerlink\" title=\"案例二\"></a>案例二</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498165849-924f9898-3555-4794-99e5-54ee26ea93f9.png\"></p>\n<ul>\n<li>在三层交换机(或路由器)上部署DHCP中继，使得DHCPserver能够收到Discover消息</li>\n</ul>\n<h3 id=\"案例三\"><a href=\"#案例三\" class=\"headerlink\" title=\"案例三\"></a>案例三</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1729498256138-90c814b3-f678-4c44-8db8-3b81f95deabb.jpeg\"></p>\n<p><code>cisco(config-if)# ip helper-address _address_</code></p>\n<ul>\n<li>激活中继功能，并为UDP广播包设置中继目标IP(单播包的目标IP地址)</li>\n<li>注意是在接口上配置，该接口为沿途阻挡该广播消息的第一个接口</li>\n</ul>\n<p><code>cisco(config)# ip forward-protocol &#123; udp [ port ]&#125;</code></p>\n<ul>\n<li>选择被中继的协议(可选)</li>\n</ul>\n<h3 id=\"注意事项1\"><a href=\"#注意事项1\" class=\"headerlink\" title=\"注意事项1\"></a>注意事项1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498637688-ede34ac4-38ae-472e-98e0-44d3c9108741.png\"></p>\n<p><code>cisco(config)# interface vlan 10</code></p>\n<p><code>cisco(config-if)# ip helper-address 192 168.200.200</code></p>\n<h3 id=\"注意事项2\"><a href=\"#注意事项2\" class=\"headerlink\" title=\"注意事项2\"></a>注意事项2</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498803330-8cc66a37-1efb-4664-8343-02bccde28ebf.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface fast0/0</span><br><span class=\"line\">ip helper-address 10.1.1.200</span><br><span class=\"line\">ip helper-address 10.1.2.200</span><br><span class=\"line\">ip helper-address 10.1.2.201</span><br><span class=\"line\">!!每个地址都会发送一个单播</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Relay-Agent-Option-Support\"><a href=\"#Relay-Agent-Option-Support\" class=\"headerlink\" title=\"Relay Agent Option Support\"></a>Relay Agent Option Support</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729498968783-22fd05b0-fe27-4135-ae7d-8748bb83d552.png\"></p>\n<ul>\n<li>发送广播</li>\n<li>Option82插入remoteID及circuitID</li>\n<li>如果识别option82，则查看插入的option值</li>\n<li>除去option字段，实施策略，将IP分配给client</li>\n<li>基于option值，返回IP address及策略</li>\n</ul>\n<h2 id=\"DHCP配置\"><a href=\"#DHCP配置\" class=\"headerlink\" title=\"DHCP配置\"></a>DHCP配置</h2><h3 id=\"手工配置\"><a href=\"#手工配置\" class=\"headerlink\" title=\"手工配置\"></a>手工配置</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729499528933-45786e82-4126-41d6-9cf8-54dc67e32103.png\"></p>\n<ul>\n<li>手动绑定是手动映射到DHCP数据库中的主机的MAC地址的IP地址。手动绑定存储在DHCP服务器上的NVRAM中</li>\n<li>绑定只是特殊的地址池。手动绑定数量没有限制，但每个主机池只能配置一个手动绑定的配置池</li>\n</ul>\n<p><code>ip dhcp pool BIND</code></p>\n<p><code>host 192.168.1.111 255.255.255.0</code></p>\n<p><code>client-identifier unique-identifier</code></p>\n<ul>\n<li>DHCP clients require client identifiers. The unique identification ofthe client is specified in dotted hexadecimal notation, for example.01b7.0813.8811.66,where 01 represents the Ethernet media type.（DHCP客户端需要客户端标识符。客户端的唯一标识符用点十六进制表示法指定，例如01b7.0813.8811.66，其中01表示以太网介质类型。）</li>\n<li>也可以在服务器上通过show ip dhcp bingding抓取客户端的client-identifier</li>\n</ul>\n"},{"title":"EtherChannal详解","summary":"酥米小机器人来啦，这篇文章主要详解EtherChannel技术其通过逻辑聚合多条物理链路提升带宽并实现负载均衡和冗余支持将多个物理接口视为单一逻辑接口同时支持Switch ports和Routed ports配置时需选择端口并确定使用PAgP或LACP协议通过channel-group命令设置组ID及接口模式如desirable或auto建立逻辑接口后可进一步配置实施要点包括port-channel接口一旦创建即形成逻辑接口后续配置在该逻辑接口中完成最多支持8个端口捆绑物理接口需保持speedduplex接口模式及VLAN配置一致负载均衡可基于MAC端口或IP地址默认采用源目IP地址对策略通过相关命令可查看和调整负载均衡方式","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210282296-45cab1db-f0cb-412a-9681-ea25c5371e44.png","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210282296-45cab1db-f0cb-412a-9681-ea25c5371e44.png)\n\n+ 解决方案提供更多的带宽对类似链路进行逻辑聚合\n+ 看成一个逻辑链接\n+ 提供负载平衡和冗余支持\n+ 支持Switch ports和Routed ports\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210552290-923b722e-fa59-400d-8ad0-01aeeb5febe7.png)\n\n## PAgP modes\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211184779-0808aa71-e83c-42d3-a943-ba7fa545e288.png)\n\n+ On\t通道成员不协商(无协议)\n+ Desirable\t主动询问对方是否可以/将\n+ Auto\t被动等待对方询问\n+ Off\t未在接口上配置的 EtherChannel\n\n## LACP modes\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211269400-1daba43d-af56-4eec-96ee-5d97aee5b79c.png)\n\n+ On\t通道成员不协商(无协议)\n+ Active\t主动询问对方是否可以/将\n+ Passive\t被动等待对方询问\n+ Off\t未在接口上配置的 EtherChannel\n\n### EtherChannel的配置\n+ 选择用于Channel的端口\n+ 选择PAgP或LACP\n+ 在接口上配置channel-group\n    - 设置channel-groupID\n    - 根据特定的协议，选择接口模式完成\n+ 上述步骤后，逻辑的etherchannel接口就建立好了。\n    - 可以进一步对这个逻辑的etherchannel接口进行配置\n\n## EtherChannel的实施要点\n+ **Port-channel接口一旦建立完成后，就形成了一个个逻辑的接口，后续针对该接口的配置在port-channel逻辑接口中完成**\n+ **最大支持8个端口做捆绑**\n+ **Port-channel接口不能成为SPAN的目的接口**\n+ **隶属于一个port-channel的物理接口需有相同的如下配置**\n    - 相同的speed和duplex\n    - 相同的接口模式(access、trunk)\n    - 如果是trunk模式，那么native vlan及allowed vlan需相同\n    - 如果是access模式，所属vlan需相同\n\n## EC的负载均衡\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729212993237-1a809b68-e3bc-4757-acee-38be5f7f66fe.png) \n\n+ EtherChannel支持在同一个port-channel的链路中执行负载均衡\n+ 负载均衡动作可以基于MAC、端口、IP(源IP、目的IP或两者)\n+ 默认的行为:源目IP地址对(src-dst-ip)\n\n`Switch(config)# port-channelload-balance type`\n\n`Switch# show etherchannelload-balance`\n\n## EC的配置\n```plain\nSwitch(config)# int range f0/1 - 2\t#进入接口范围\nSwitch(config-if-range)# switchport\t#将接口配置为二层接口\nSwitch(config-if-range)# switchport trunk encapsulation dot1q\t#trunk封装协议为dot1q\nSwitch(config-if-range)# switchport mode trunk\t#设置接口模式为Trunk模式\nSwitch(config-if-range)# channel-protocol pagp/lacp\nSwitch(config-if-range)# channel-group 1 mode desirable\t#配置etherchannel，ID为1，模式为desirable\n```","source":"_posts/CCNP/CCNP交换 EtherChannel.md","raw":"---\ntitle: EtherChannal详解\nsummary: >-\n  酥米小机器人来啦，这篇文章主要详解EtherChannel技术其通过逻辑聚合多条物理链路提升带宽并实现负载均衡和冗余支持将多个物理接口视为单一逻辑接口同时支持Switch\n  ports和Routed\n  ports配置时需选择端口并确定使用PAgP或LACP协议通过channel-group命令设置组ID及接口模式如desirable或auto建立逻辑接口后可进一步配置实施要点包括port-channel接口一旦创建即形成逻辑接口后续配置在该逻辑接口中完成最多支持8个端口捆绑物理接口需保持speedduplex接口模式及VLAN配置一致负载均衡可基于MAC端口或IP地址默认采用源目IP地址对策略通过相关命令可查看和调整负载均衡方式\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210282296-45cab1db-f0cb-412a-9681-ea25c5371e44.png\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210282296-45cab1db-f0cb-412a-9681-ea25c5371e44.png)\n\n+ 解决方案提供更多的带宽对类似链路进行逻辑聚合\n+ 看成一个逻辑链接\n+ 提供负载平衡和冗余支持\n+ 支持Switch ports和Routed ports\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210552290-923b722e-fa59-400d-8ad0-01aeeb5febe7.png)\n\n## PAgP modes\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211184779-0808aa71-e83c-42d3-a943-ba7fa545e288.png)\n\n+ On\t通道成员不协商(无协议)\n+ Desirable\t主动询问对方是否可以/将\n+ Auto\t被动等待对方询问\n+ Off\t未在接口上配置的 EtherChannel\n\n## LACP modes\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211269400-1daba43d-af56-4eec-96ee-5d97aee5b79c.png)\n\n+ On\t通道成员不协商(无协议)\n+ Active\t主动询问对方是否可以/将\n+ Passive\t被动等待对方询问\n+ Off\t未在接口上配置的 EtherChannel\n\n### EtherChannel的配置\n+ 选择用于Channel的端口\n+ 选择PAgP或LACP\n+ 在接口上配置channel-group\n    - 设置channel-groupID\n    - 根据特定的协议，选择接口模式完成\n+ 上述步骤后，逻辑的etherchannel接口就建立好了。\n    - 可以进一步对这个逻辑的etherchannel接口进行配置\n\n## EtherChannel的实施要点\n+ **Port-channel接口一旦建立完成后，就形成了一个个逻辑的接口，后续针对该接口的配置在port-channel逻辑接口中完成**\n+ **最大支持8个端口做捆绑**\n+ **Port-channel接口不能成为SPAN的目的接口**\n+ **隶属于一个port-channel的物理接口需有相同的如下配置**\n    - 相同的speed和duplex\n    - 相同的接口模式(access、trunk)\n    - 如果是trunk模式，那么native vlan及allowed vlan需相同\n    - 如果是access模式，所属vlan需相同\n\n## EC的负载均衡\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729212993237-1a809b68-e3bc-4757-acee-38be5f7f66fe.png) \n\n+ EtherChannel支持在同一个port-channel的链路中执行负载均衡\n+ 负载均衡动作可以基于MAC、端口、IP(源IP、目的IP或两者)\n+ 默认的行为:源目IP地址对(src-dst-ip)\n\n`Switch(config)# port-channelload-balance type`\n\n`Switch# show etherchannelload-balance`\n\n## EC的配置\n```plain\nSwitch(config)# int range f0/1 - 2\t#进入接口范围\nSwitch(config-if-range)# switchport\t#将接口配置为二层接口\nSwitch(config-if-range)# switchport trunk encapsulation dot1q\t#trunk封装协议为dot1q\nSwitch(config-if-range)# switchport mode trunk\t#设置接口模式为Trunk模式\nSwitch(config-if-range)# channel-protocol pagp/lacp\nSwitch(config-if-range)# channel-group 1 mode desirable\t#配置etherchannel，ID为1，模式为desirable\n```","slug":"CCNP/CCNP交换 EtherChannel","published":1,"updated":"2025-08-02T09:53:40.249Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zx001ng0fy9f8teqwd","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210282296-45cab1db-f0cb-412a-9681-ea25c5371e44.png\"></p>\n<ul>\n<li>解决方案提供更多的带宽对类似链路进行逻辑聚合</li>\n<li>看成一个逻辑链接</li>\n<li>提供负载平衡和冗余支持</li>\n<li>支持Switch ports和Routed ports</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210552290-923b722e-fa59-400d-8ad0-01aeeb5febe7.png\"></p>\n<h2 id=\"PAgP-modes\"><a href=\"#PAgP-modes\" class=\"headerlink\" title=\"PAgP modes\"></a>PAgP modes</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211184779-0808aa71-e83c-42d3-a943-ba7fa545e288.png\"></p>\n<ul>\n<li>On\t通道成员不协商(无协议)</li>\n<li>Desirable\t主动询问对方是否可以&#x2F;将</li>\n<li>Auto\t被动等待对方询问</li>\n<li>Off\t未在接口上配置的 EtherChannel</li>\n</ul>\n<h2 id=\"LACP-modes\"><a href=\"#LACP-modes\" class=\"headerlink\" title=\"LACP modes\"></a>LACP modes</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211269400-1daba43d-af56-4eec-96ee-5d97aee5b79c.png\"></p>\n<ul>\n<li>On\t通道成员不协商(无协议)</li>\n<li>Active\t主动询问对方是否可以&#x2F;将</li>\n<li>Passive\t被动等待对方询问</li>\n<li>Off\t未在接口上配置的 EtherChannel</li>\n</ul>\n<h3 id=\"EtherChannel的配置\"><a href=\"#EtherChannel的配置\" class=\"headerlink\" title=\"EtherChannel的配置\"></a>EtherChannel的配置</h3><ul>\n<li>选择用于Channel的端口</li>\n<li>选择PAgP或LACP</li>\n<li>在接口上配置channel-group<ul>\n<li>设置channel-groupID</li>\n<li>根据特定的协议，选择接口模式完成</li>\n</ul>\n</li>\n<li>上述步骤后，逻辑的etherchannel接口就建立好了。<ul>\n<li>可以进一步对这个逻辑的etherchannel接口进行配置</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"EtherChannel的实施要点\"><a href=\"#EtherChannel的实施要点\" class=\"headerlink\" title=\"EtherChannel的实施要点\"></a>EtherChannel的实施要点</h2><ul>\n<li><strong>Port-channel接口一旦建立完成后，就形成了一个个逻辑的接口，后续针对该接口的配置在port-channel逻辑接口中完成</strong></li>\n<li><strong>最大支持8个端口做捆绑</strong></li>\n<li><strong>Port-channel接口不能成为SPAN的目的接口</strong></li>\n<li><strong>隶属于一个port-channel的物理接口需有相同的如下配置</strong><ul>\n<li>相同的speed和duplex</li>\n<li>相同的接口模式(access、trunk)</li>\n<li>如果是trunk模式，那么native vlan及allowed vlan需相同</li>\n<li>如果是access模式，所属vlan需相同</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"EC的负载均衡\"><a href=\"#EC的负载均衡\" class=\"headerlink\" title=\"EC的负载均衡\"></a>EC的负载均衡</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729212993237-1a809b68-e3bc-4757-acee-38be5f7f66fe.png\"> </p>\n<ul>\n<li>EtherChannel支持在同一个port-channel的链路中执行负载均衡</li>\n<li>负载均衡动作可以基于MAC、端口、IP(源IP、目的IP或两者)</li>\n<li>默认的行为:源目IP地址对(src-dst-ip)</li>\n</ul>\n<p><code>Switch(config)# port-channelload-balance type</code></p>\n<p><code>Switch# show etherchannelload-balance</code></p>\n<h2 id=\"EC的配置\"><a href=\"#EC的配置\" class=\"headerlink\" title=\"EC的配置\"></a>EC的配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# int range f0/1 - 2\t#进入接口范围</span><br><span class=\"line\">Switch(config-if-range)# switchport\t#将接口配置为二层接口</span><br><span class=\"line\">Switch(config-if-range)# switchport trunk encapsulation dot1q\t#trunk封装协议为dot1q</span><br><span class=\"line\">Switch(config-if-range)# switchport mode trunk\t#设置接口模式为Trunk模式</span><br><span class=\"line\">Switch(config-if-range)# channel-protocol pagp/lacp</span><br><span class=\"line\">Switch(config-if-range)# channel-group 1 mode desirable\t#配置etherchannel，ID为1，模式为desirable</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210282296-45cab1db-f0cb-412a-9681-ea25c5371e44.png\"></p>\n<ul>\n<li>解决方案提供更多的带宽对类似链路进行逻辑聚合</li>\n<li>看成一个逻辑链接</li>\n<li>提供负载平衡和冗余支持</li>\n<li>支持Switch ports和Routed ports</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729210552290-923b722e-fa59-400d-8ad0-01aeeb5febe7.png\"></p>\n<h2 id=\"PAgP-modes\"><a href=\"#PAgP-modes\" class=\"headerlink\" title=\"PAgP modes\"></a>PAgP modes</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211184779-0808aa71-e83c-42d3-a943-ba7fa545e288.png\"></p>\n<ul>\n<li>On\t通道成员不协商(无协议)</li>\n<li>Desirable\t主动询问对方是否可以&#x2F;将</li>\n<li>Auto\t被动等待对方询问</li>\n<li>Off\t未在接口上配置的 EtherChannel</li>\n</ul>\n<h2 id=\"LACP-modes\"><a href=\"#LACP-modes\" class=\"headerlink\" title=\"LACP modes\"></a>LACP modes</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729211269400-1daba43d-af56-4eec-96ee-5d97aee5b79c.png\"></p>\n<ul>\n<li>On\t通道成员不协商(无协议)</li>\n<li>Active\t主动询问对方是否可以&#x2F;将</li>\n<li>Passive\t被动等待对方询问</li>\n<li>Off\t未在接口上配置的 EtherChannel</li>\n</ul>\n<h3 id=\"EtherChannel的配置\"><a href=\"#EtherChannel的配置\" class=\"headerlink\" title=\"EtherChannel的配置\"></a>EtherChannel的配置</h3><ul>\n<li>选择用于Channel的端口</li>\n<li>选择PAgP或LACP</li>\n<li>在接口上配置channel-group<ul>\n<li>设置channel-groupID</li>\n<li>根据特定的协议，选择接口模式完成</li>\n</ul>\n</li>\n<li>上述步骤后，逻辑的etherchannel接口就建立好了。<ul>\n<li>可以进一步对这个逻辑的etherchannel接口进行配置</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"EtherChannel的实施要点\"><a href=\"#EtherChannel的实施要点\" class=\"headerlink\" title=\"EtherChannel的实施要点\"></a>EtherChannel的实施要点</h2><ul>\n<li><strong>Port-channel接口一旦建立完成后，就形成了一个个逻辑的接口，后续针对该接口的配置在port-channel逻辑接口中完成</strong></li>\n<li><strong>最大支持8个端口做捆绑</strong></li>\n<li><strong>Port-channel接口不能成为SPAN的目的接口</strong></li>\n<li><strong>隶属于一个port-channel的物理接口需有相同的如下配置</strong><ul>\n<li>相同的speed和duplex</li>\n<li>相同的接口模式(access、trunk)</li>\n<li>如果是trunk模式，那么native vlan及allowed vlan需相同</li>\n<li>如果是access模式，所属vlan需相同</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"EC的负载均衡\"><a href=\"#EC的负载均衡\" class=\"headerlink\" title=\"EC的负载均衡\"></a>EC的负载均衡</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729212993237-1a809b68-e3bc-4757-acee-38be5f7f66fe.png\"> </p>\n<ul>\n<li>EtherChannel支持在同一个port-channel的链路中执行负载均衡</li>\n<li>负载均衡动作可以基于MAC、端口、IP(源IP、目的IP或两者)</li>\n<li>默认的行为:源目IP地址对(src-dst-ip)</li>\n</ul>\n<p><code>Switch(config)# port-channelload-balance type</code></p>\n<p><code>Switch# show etherchannelload-balance</code></p>\n<h2 id=\"EC的配置\"><a href=\"#EC的配置\" class=\"headerlink\" title=\"EC的配置\"></a>EC的配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# int range f0/1 - 2\t#进入接口范围</span><br><span class=\"line\">Switch(config-if-range)# switchport\t#将接口配置为二层接口</span><br><span class=\"line\">Switch(config-if-range)# switchport trunk encapsulation dot1q\t#trunk封装协议为dot1q</span><br><span class=\"line\">Switch(config-if-range)# switchport mode trunk\t#设置接口模式为Trunk模式</span><br><span class=\"line\">Switch(config-if-range)# channel-protocol pagp/lacp</span><br><span class=\"line\">Switch(config-if-range)# channel-group 1 mode desirable\t#配置etherchannel，ID为1，模式为desirable</span><br></pre></td></tr></table></figure>"},{"title":"HSRP & VRRP & GLBP","summary":"酥米小机器人来啦，这篇文章介绍了HSRP VRRP GLBP三种网关冗余协议技术背景指出网络网关或关键节点故障会导致业务中断链路失效无法检测会威胁稳定性HSRP通过同一LAN内多个路由器协同工作仅一个处于Active状态共享虚拟IP地址作为主机默认网关Active路由器负责数据转发和ARP响应备份路由器监听状态并准备接管虚拟路由器MAC地址采用0000.0c07.acxx格式xx为组ID状态机包括初始化学习发报坚守活跃状态HSRP版本1和2区别在于组ID范围虚拟MAC地址以及Hello包发送地址配置需注意组ID和虚拟IP一致性优先级默认100track功能可跟踪接口状态变化优先级调整preempt命令允许抢占主控权确保网络高可用性","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729500335707-435129c9-bd7e-4f38-b119-d5de25de2a06.png","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 技术背景\n+ 一旦网络网关或关键节点出现故障，将对业务造成灾难性故障\n+ 链路失效无法检测，业务稳定性受到威胁\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729500335707-435129c9-bd7e-4f38-b119-d5de25de2a06.png)\n\n## HSRP部分\n### HSRP带来了什么？\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729509362499-499539a3-5928-4791-9d99-59e51b53948f.png)\n\n+ 利用HSRP，一组路由器(同一个LAN中的接口)协同工作，但只有一个处于Active状态。在一个HSRP组内的多个路由器共用一个虚拟的IP地址，该地址被作为局域网内所有主机的缺省网关地址\n+ HSRP决定哪个路由器被激活，该被激活的路由器负责接收发过来的数据包并进行路由。以及相应PC对于其网关的ARP请求\n+ 备份路由器侦听active路由器的状态，并准备随时接替Active router的工作\n\n### HSRP名词\n+ HSRP路由器\n    - 运行HSRP的路由器，一台HSRP路由器（的接口）可同时参与到多个HSRP组中，在不同的组中，一台HSRP路由器可以充当不同的角色\n+ HSRP组\n    - 由多个HSRP路由器组成，属于同一HSRP组的HSRP路由器互相交换信息，每一组由一个组ID进行标识\n+ 虚拟路由器\n    - 对于每一个HSRP组，抽象出来的一个逻辑路由器，该路由器充当网络用户的网关\n+ 虚拟IF地址、MAC地址\n    - 用于标识虚拟的路由器，该地址实际上就是用户的默认网关\n    - MAC地址为虚拟的\n+ Active、Standby路由器\n    - Active路由器：就是在HSRP组实际转发数据包的路由器，在每一个VRRP组中，仅有Active响应对虚拟IP地址的ARP请求\n    - Standby路由器：就是在HSRP组中处于监听状态的路由器，一旦Active路由器出现故障，Standby路由器就开始接替工作\n    - 选举依据：HSRP接口优先级和接口IP地址（比大）\n\n### 虚拟路由器MAC地址\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510085320-82db06f3-14f2-4a97-858e-175ce2ce09da.png)\n\n+ HSRP使用一个格式为： 0000.0c07.acxx的MAC作为虚拟路由器的MAC，其中xx是该HSRP组的组ID\n\n### Active / Standby Router\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510204882-1d45a331-3678-400a-bbd7-2025306e8adc.png)\n\n+ Active Router\n    - 响应底下PC对网关的ARP请求(使用虚拟MAC响应)\n    - 承担实际的流量转发任务\n    - 周期性发送Hello包以告知自己的存活情况\n+ Standby Router\n    - 侦听Active router发送的hello包\n    - 当Active Router出现问题的时候接替它的位置，成为Active router\n\n### HSRP状态机\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510296618-b22b16a8-8238-4639-94bf-3a9dbcb27855.png)\n\nInitial（初始化状态）——Listen（学习状态）——Speak（发报状态【打招呼模式】）——Standby（坚守状态）——Active（活跃状态）\n\n### HSRP version\n+ HSRP version1（默认）\n    - 组ID范围：0-255\n    - 虚拟MAC：0000.0c07.acxx\n    - Hello包发送到224.0.0.2\n+ HSRP version2（要看具体的IOS版本）\n    - 组ID范围：0-4095\n    - 虚拟MAC：0000.0C9F。Fxxx\n    - Hello包发送到224.0.0.102\n    - HSRP v1及v2的报文类型不同\n    - Standby 1 version 2\n\n### HSRP的配置\n#### 基础配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510472919-88f35300-8cdb-4884-a07c-ff8322cf0a63.png)\n\n+ 接口HSRP优先级默认为100\n+ 要注意HSRP group ID必须一致、虚拟IP必须一致\n\n```plain\nInterface fast0/0\nip address 10.1.1.253 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\t#虚拟IP\nstandby 1 priority 120\t#优先级\n```\n\n```plain\nInterface fast0/0\nip address 10.1.1.252 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\n```\n\n#### HSRP track\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510845997-404129ea-46c6-4676-9a0b-55971f01f2a8.png)\n\n+ HSRP的track特性允许我们跟踪某个本地接口的up/down，当接口down掉后，HSRP自动减去一个自定义的值，从而让standby设备顶上\n\n```plain\nInterface fast0/0\nip address 10.1.1.253 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\nstandby 1 priority 120\nstandby 1track serial 1/0 30\n```\n\n```plain\nInterface fast0/0\nip address 10.1.1.252 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\nstandby 1 preempt\n```","source":"_posts/CCNP/CCNP交换 HSRP VRRP GLBP.md","raw":"---\ntitle: HSRP & VRRP & GLBP\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了HSRP VRRP\n  GLBP三种网关冗余协议技术背景指出网络网关或关键节点故障会导致业务中断链路失效无法检测会威胁稳定性HSRP通过同一LAN内多个路由器协同工作仅一个处于Active状态共享虚拟IP地址作为主机默认网关Active路由器负责数据转发和ARP响应备份路由器监听状态并准备接管虚拟路由器MAC地址采用0000.0c07.acxx格式xx为组ID状态机包括初始化学习发报坚守活跃状态HSRP版本1和2区别在于组ID范围虚拟MAC地址以及Hello包发送地址配置需注意组ID和虚拟IP一致性优先级默认100track功能可跟踪接口状态变化优先级调整preempt命令允许抢占主控权确保网络高可用性\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1729500335707-435129c9-bd7e-4f38-b119-d5de25de2a06.png\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 技术背景\n+ 一旦网络网关或关键节点出现故障，将对业务造成灾难性故障\n+ 链路失效无法检测，业务稳定性受到威胁\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729500335707-435129c9-bd7e-4f38-b119-d5de25de2a06.png)\n\n## HSRP部分\n### HSRP带来了什么？\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729509362499-499539a3-5928-4791-9d99-59e51b53948f.png)\n\n+ 利用HSRP，一组路由器(同一个LAN中的接口)协同工作，但只有一个处于Active状态。在一个HSRP组内的多个路由器共用一个虚拟的IP地址，该地址被作为局域网内所有主机的缺省网关地址\n+ HSRP决定哪个路由器被激活，该被激活的路由器负责接收发过来的数据包并进行路由。以及相应PC对于其网关的ARP请求\n+ 备份路由器侦听active路由器的状态，并准备随时接替Active router的工作\n\n### HSRP名词\n+ HSRP路由器\n    - 运行HSRP的路由器，一台HSRP路由器（的接口）可同时参与到多个HSRP组中，在不同的组中，一台HSRP路由器可以充当不同的角色\n+ HSRP组\n    - 由多个HSRP路由器组成，属于同一HSRP组的HSRP路由器互相交换信息，每一组由一个组ID进行标识\n+ 虚拟路由器\n    - 对于每一个HSRP组，抽象出来的一个逻辑路由器，该路由器充当网络用户的网关\n+ 虚拟IF地址、MAC地址\n    - 用于标识虚拟的路由器，该地址实际上就是用户的默认网关\n    - MAC地址为虚拟的\n+ Active、Standby路由器\n    - Active路由器：就是在HSRP组实际转发数据包的路由器，在每一个VRRP组中，仅有Active响应对虚拟IP地址的ARP请求\n    - Standby路由器：就是在HSRP组中处于监听状态的路由器，一旦Active路由器出现故障，Standby路由器就开始接替工作\n    - 选举依据：HSRP接口优先级和接口IP地址（比大）\n\n### 虚拟路由器MAC地址\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510085320-82db06f3-14f2-4a97-858e-175ce2ce09da.png)\n\n+ HSRP使用一个格式为： 0000.0c07.acxx的MAC作为虚拟路由器的MAC，其中xx是该HSRP组的组ID\n\n### Active / Standby Router\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510204882-1d45a331-3678-400a-bbd7-2025306e8adc.png)\n\n+ Active Router\n    - 响应底下PC对网关的ARP请求(使用虚拟MAC响应)\n    - 承担实际的流量转发任务\n    - 周期性发送Hello包以告知自己的存活情况\n+ Standby Router\n    - 侦听Active router发送的hello包\n    - 当Active Router出现问题的时候接替它的位置，成为Active router\n\n### HSRP状态机\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510296618-b22b16a8-8238-4639-94bf-3a9dbcb27855.png)\n\nInitial（初始化状态）——Listen（学习状态）——Speak（发报状态【打招呼模式】）——Standby（坚守状态）——Active（活跃状态）\n\n### HSRP version\n+ HSRP version1（默认）\n    - 组ID范围：0-255\n    - 虚拟MAC：0000.0c07.acxx\n    - Hello包发送到224.0.0.2\n+ HSRP version2（要看具体的IOS版本）\n    - 组ID范围：0-4095\n    - 虚拟MAC：0000.0C9F。Fxxx\n    - Hello包发送到224.0.0.102\n    - HSRP v1及v2的报文类型不同\n    - Standby 1 version 2\n\n### HSRP的配置\n#### 基础配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510472919-88f35300-8cdb-4884-a07c-ff8322cf0a63.png)\n\n+ 接口HSRP优先级默认为100\n+ 要注意HSRP group ID必须一致、虚拟IP必须一致\n\n```plain\nInterface fast0/0\nip address 10.1.1.253 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\t#虚拟IP\nstandby 1 priority 120\t#优先级\n```\n\n```plain\nInterface fast0/0\nip address 10.1.1.252 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\n```\n\n#### HSRP track\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510845997-404129ea-46c6-4676-9a0b-55971f01f2a8.png)\n\n+ HSRP的track特性允许我们跟踪某个本地接口的up/down，当接口down掉后，HSRP自动减去一个自定义的值，从而让standby设备顶上\n\n```plain\nInterface fast0/0\nip address 10.1.1.253 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\nstandby 1 priority 120\nstandby 1track serial 1/0 30\n```\n\n```plain\nInterface fast0/0\nip address 10.1.1.252 255.255.255.0\nno shutdown\nstandby 1 ip 10.1.1.254\nstandby 1 preempt\n```","slug":"CCNP/CCNP交换 HSRP VRRP GLBP","published":1,"updated":"2025-08-02T09:53:45.241Z","comments":1,"layout":"post","photos":[],"_id":"cmgu955zz001rg0fy4r7wbm6t","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"技术背景\"><a href=\"#技术背景\" class=\"headerlink\" title=\"技术背景\"></a>技术背景</h2><ul>\n<li>一旦网络网关或关键节点出现故障，将对业务造成灾难性故障</li>\n<li>链路失效无法检测，业务稳定性受到威胁</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729500335707-435129c9-bd7e-4f38-b119-d5de25de2a06.png\"></p>\n<h2 id=\"HSRP部分\"><a href=\"#HSRP部分\" class=\"headerlink\" title=\"HSRP部分\"></a>HSRP部分</h2><h3 id=\"HSRP带来了什么？\"><a href=\"#HSRP带来了什么？\" class=\"headerlink\" title=\"HSRP带来了什么？\"></a>HSRP带来了什么？</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729509362499-499539a3-5928-4791-9d99-59e51b53948f.png\"></p>\n<ul>\n<li>利用HSRP，一组路由器(同一个LAN中的接口)协同工作，但只有一个处于Active状态。在一个HSRP组内的多个路由器共用一个虚拟的IP地址，该地址被作为局域网内所有主机的缺省网关地址</li>\n<li>HSRP决定哪个路由器被激活，该被激活的路由器负责接收发过来的数据包并进行路由。以及相应PC对于其网关的ARP请求</li>\n<li>备份路由器侦听active路由器的状态，并准备随时接替Active router的工作</li>\n</ul>\n<h3 id=\"HSRP名词\"><a href=\"#HSRP名词\" class=\"headerlink\" title=\"HSRP名词\"></a>HSRP名词</h3><ul>\n<li>HSRP路由器<ul>\n<li>运行HSRP的路由器，一台HSRP路由器（的接口）可同时参与到多个HSRP组中，在不同的组中，一台HSRP路由器可以充当不同的角色</li>\n</ul>\n</li>\n<li>HSRP组<ul>\n<li>由多个HSRP路由器组成，属于同一HSRP组的HSRP路由器互相交换信息，每一组由一个组ID进行标识</li>\n</ul>\n</li>\n<li>虚拟路由器<ul>\n<li>对于每一个HSRP组，抽象出来的一个逻辑路由器，该路由器充当网络用户的网关</li>\n</ul>\n</li>\n<li>虚拟IF地址、MAC地址<ul>\n<li>用于标识虚拟的路由器，该地址实际上就是用户的默认网关</li>\n<li>MAC地址为虚拟的</li>\n</ul>\n</li>\n<li>Active、Standby路由器<ul>\n<li>Active路由器：就是在HSRP组实际转发数据包的路由器，在每一个VRRP组中，仅有Active响应对虚拟IP地址的ARP请求</li>\n<li>Standby路由器：就是在HSRP组中处于监听状态的路由器，一旦Active路由器出现故障，Standby路由器就开始接替工作</li>\n<li>选举依据：HSRP接口优先级和接口IP地址（比大）</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"虚拟路由器MAC地址\"><a href=\"#虚拟路由器MAC地址\" class=\"headerlink\" title=\"虚拟路由器MAC地址\"></a>虚拟路由器MAC地址</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510085320-82db06f3-14f2-4a97-858e-175ce2ce09da.png\"></p>\n<ul>\n<li>HSRP使用一个格式为： 0000.0c07.acxx的MAC作为虚拟路由器的MAC，其中xx是该HSRP组的组ID</li>\n</ul>\n<h3 id=\"Active-Standby-Router\"><a href=\"#Active-Standby-Router\" class=\"headerlink\" title=\"Active &#x2F; Standby Router\"></a>Active &#x2F; Standby Router</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510204882-1d45a331-3678-400a-bbd7-2025306e8adc.png\"></p>\n<ul>\n<li>Active Router<ul>\n<li>响应底下PC对网关的ARP请求(使用虚拟MAC响应)</li>\n<li>承担实际的流量转发任务</li>\n<li>周期性发送Hello包以告知自己的存活情况</li>\n</ul>\n</li>\n<li>Standby Router<ul>\n<li>侦听Active router发送的hello包</li>\n<li>当Active Router出现问题的时候接替它的位置，成为Active router</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"HSRP状态机\"><a href=\"#HSRP状态机\" class=\"headerlink\" title=\"HSRP状态机\"></a>HSRP状态机</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510296618-b22b16a8-8238-4639-94bf-3a9dbcb27855.png\"></p>\n<p>Initial（初始化状态）——Listen（学习状态）——Speak（发报状态【打招呼模式】）——Standby（坚守状态）——Active（活跃状态）</p>\n<h3 id=\"HSRP-version\"><a href=\"#HSRP-version\" class=\"headerlink\" title=\"HSRP version\"></a>HSRP version</h3><ul>\n<li>HSRP version1（默认）<ul>\n<li>组ID范围：0-255</li>\n<li>虚拟MAC：0000.0c07.acxx</li>\n<li>Hello包发送到224.0.0.2</li>\n</ul>\n</li>\n<li>HSRP version2（要看具体的IOS版本）<ul>\n<li>组ID范围：0-4095</li>\n<li>虚拟MAC：0000.0C9F。Fxxx</li>\n<li>Hello包发送到224.0.0.102</li>\n<li>HSRP v1及v2的报文类型不同</li>\n<li>Standby 1 version 2</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"HSRP的配置\"><a href=\"#HSRP的配置\" class=\"headerlink\" title=\"HSRP的配置\"></a>HSRP的配置</h3><h4 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510472919-88f35300-8cdb-4884-a07c-ff8322cf0a63.png\"></p>\n<ul>\n<li>接口HSRP优先级默认为100</li>\n<li>要注意HSRP group ID必须一致、虚拟IP必须一致</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.253 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254\t#虚拟IP</span><br><span class=\"line\">standby 1 priority 120\t#优先级</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.252 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"HSRP-track\"><a href=\"#HSRP-track\" class=\"headerlink\" title=\"HSRP track\"></a>HSRP track</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510845997-404129ea-46c6-4676-9a0b-55971f01f2a8.png\"></p>\n<ul>\n<li>HSRP的track特性允许我们跟踪某个本地接口的up&#x2F;down，当接口down掉后，HSRP自动减去一个自定义的值，从而让standby设备顶上</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.253 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254</span><br><span class=\"line\">standby 1 priority 120</span><br><span class=\"line\">standby 1track serial 1/0 30</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.252 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254</span><br><span class=\"line\">standby 1 preempt</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"技术背景\"><a href=\"#技术背景\" class=\"headerlink\" title=\"技术背景\"></a>技术背景</h2><ul>\n<li>一旦网络网关或关键节点出现故障，将对业务造成灾难性故障</li>\n<li>链路失效无法检测，业务稳定性受到威胁</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729500335707-435129c9-bd7e-4f38-b119-d5de25de2a06.png\"></p>\n<h2 id=\"HSRP部分\"><a href=\"#HSRP部分\" class=\"headerlink\" title=\"HSRP部分\"></a>HSRP部分</h2><h3 id=\"HSRP带来了什么？\"><a href=\"#HSRP带来了什么？\" class=\"headerlink\" title=\"HSRP带来了什么？\"></a>HSRP带来了什么？</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729509362499-499539a3-5928-4791-9d99-59e51b53948f.png\"></p>\n<ul>\n<li>利用HSRP，一组路由器(同一个LAN中的接口)协同工作，但只有一个处于Active状态。在一个HSRP组内的多个路由器共用一个虚拟的IP地址，该地址被作为局域网内所有主机的缺省网关地址</li>\n<li>HSRP决定哪个路由器被激活，该被激活的路由器负责接收发过来的数据包并进行路由。以及相应PC对于其网关的ARP请求</li>\n<li>备份路由器侦听active路由器的状态，并准备随时接替Active router的工作</li>\n</ul>\n<h3 id=\"HSRP名词\"><a href=\"#HSRP名词\" class=\"headerlink\" title=\"HSRP名词\"></a>HSRP名词</h3><ul>\n<li>HSRP路由器<ul>\n<li>运行HSRP的路由器，一台HSRP路由器（的接口）可同时参与到多个HSRP组中，在不同的组中，一台HSRP路由器可以充当不同的角色</li>\n</ul>\n</li>\n<li>HSRP组<ul>\n<li>由多个HSRP路由器组成，属于同一HSRP组的HSRP路由器互相交换信息，每一组由一个组ID进行标识</li>\n</ul>\n</li>\n<li>虚拟路由器<ul>\n<li>对于每一个HSRP组，抽象出来的一个逻辑路由器，该路由器充当网络用户的网关</li>\n</ul>\n</li>\n<li>虚拟IF地址、MAC地址<ul>\n<li>用于标识虚拟的路由器，该地址实际上就是用户的默认网关</li>\n<li>MAC地址为虚拟的</li>\n</ul>\n</li>\n<li>Active、Standby路由器<ul>\n<li>Active路由器：就是在HSRP组实际转发数据包的路由器，在每一个VRRP组中，仅有Active响应对虚拟IP地址的ARP请求</li>\n<li>Standby路由器：就是在HSRP组中处于监听状态的路由器，一旦Active路由器出现故障，Standby路由器就开始接替工作</li>\n<li>选举依据：HSRP接口优先级和接口IP地址（比大）</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"虚拟路由器MAC地址\"><a href=\"#虚拟路由器MAC地址\" class=\"headerlink\" title=\"虚拟路由器MAC地址\"></a>虚拟路由器MAC地址</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510085320-82db06f3-14f2-4a97-858e-175ce2ce09da.png\"></p>\n<ul>\n<li>HSRP使用一个格式为： 0000.0c07.acxx的MAC作为虚拟路由器的MAC，其中xx是该HSRP组的组ID</li>\n</ul>\n<h3 id=\"Active-Standby-Router\"><a href=\"#Active-Standby-Router\" class=\"headerlink\" title=\"Active &#x2F; Standby Router\"></a>Active &#x2F; Standby Router</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510204882-1d45a331-3678-400a-bbd7-2025306e8adc.png\"></p>\n<ul>\n<li>Active Router<ul>\n<li>响应底下PC对网关的ARP请求(使用虚拟MAC响应)</li>\n<li>承担实际的流量转发任务</li>\n<li>周期性发送Hello包以告知自己的存活情况</li>\n</ul>\n</li>\n<li>Standby Router<ul>\n<li>侦听Active router发送的hello包</li>\n<li>当Active Router出现问题的时候接替它的位置，成为Active router</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"HSRP状态机\"><a href=\"#HSRP状态机\" class=\"headerlink\" title=\"HSRP状态机\"></a>HSRP状态机</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510296618-b22b16a8-8238-4639-94bf-3a9dbcb27855.png\"></p>\n<p>Initial（初始化状态）——Listen（学习状态）——Speak（发报状态【打招呼模式】）——Standby（坚守状态）——Active（活跃状态）</p>\n<h3 id=\"HSRP-version\"><a href=\"#HSRP-version\" class=\"headerlink\" title=\"HSRP version\"></a>HSRP version</h3><ul>\n<li>HSRP version1（默认）<ul>\n<li>组ID范围：0-255</li>\n<li>虚拟MAC：0000.0c07.acxx</li>\n<li>Hello包发送到224.0.0.2</li>\n</ul>\n</li>\n<li>HSRP version2（要看具体的IOS版本）<ul>\n<li>组ID范围：0-4095</li>\n<li>虚拟MAC：0000.0C9F。Fxxx</li>\n<li>Hello包发送到224.0.0.102</li>\n<li>HSRP v1及v2的报文类型不同</li>\n<li>Standby 1 version 2</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"HSRP的配置\"><a href=\"#HSRP的配置\" class=\"headerlink\" title=\"HSRP的配置\"></a>HSRP的配置</h3><h4 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510472919-88f35300-8cdb-4884-a07c-ff8322cf0a63.png\"></p>\n<ul>\n<li>接口HSRP优先级默认为100</li>\n<li>要注意HSRP group ID必须一致、虚拟IP必须一致</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.253 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254\t#虚拟IP</span><br><span class=\"line\">standby 1 priority 120\t#优先级</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.252 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"HSRP-track\"><a href=\"#HSRP-track\" class=\"headerlink\" title=\"HSRP track\"></a>HSRP track</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729510845997-404129ea-46c6-4676-9a0b-55971f01f2a8.png\"></p>\n<ul>\n<li>HSRP的track特性允许我们跟踪某个本地接口的up&#x2F;down，当接口down掉后，HSRP自动减去一个自定义的值，从而让standby设备顶上</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.253 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254</span><br><span class=\"line\">standby 1 priority 120</span><br><span class=\"line\">standby 1track serial 1/0 30</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Interface fast0/0</span><br><span class=\"line\">ip address 10.1.1.252 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">standby 1 ip 10.1.1.254</span><br><span class=\"line\">standby 1 preempt</span><br></pre></td></tr></table></figure>"},{"title":"Lay2 Switching and VLAN","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(10).png","summary":"酥米小机器人来啦，这篇文章主要讲解了L2交换和VLAN相关技术知识，包括基于硬件的L2交换特点如线速转发低延迟定义MAC地址，不同帧类型如IPARP RARP和IPXSPX的区分，MAC地址48位结构及全球唯一性，VLAN通过划分逻辑广播域实现设备隔离通信，Trunk链路用于传输多VLAN信息需两端匹配干道 protocol，ISL和802.1Q两种VLAN encapsulation方式差异，其中ISL为思科私有协议支持2的10次方个VLAN，802.1Q为IEEE标准协议重新计算FCS，Native VLAN设置规则及默认vlan1的重要性，同时涉及交换机端口配置命令如switchport trunk native vlan和vlan dot1q tag native","date":"2024-10-17T07:01:46.000Z","_content":"\n## Lay2 Switching\n### 简介</h3>\n+ 基于硬件的交换\n+ 线速转发性能\n+ 低延迟\n+ 定义MAC地址\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(10).png)\n\n### Lay2 Frame\n+ 类型字段取值为0800的帧代表IP协议\n+ 类型字段取值为0806的帧代表ARP协议帧\n+ 类型字段取值为0835的帧代表RARP协议帧\n+ 类型字段取值为8137的帧代表IPX和SPX传输协议帧\n\nEthernet II帧\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(9).png)\n\n802.3帧\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(8).png)\n\nMAC\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(7).png)\n\n+ MAC地址有48位，通常被表示为点分十六进制数\n+ MAC地址全球唯一，由IEEE对这些地址进行管理和分配\n+ 每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配\n\n## VLAN概率回顾\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(6).png)\n\n\n\n+ 形成逻辑的广播域，不同之间的VLAN互相隔离\n+ 一个VLAN中所有设备都是在同一广播域内，不同的VLAN为不同的广播域VLAN之间互相隔离，广播不能跨越VLAN传播，因此不同VLAN之间的设备一般无法互访，不同VLAN间需通过三层设备实现相互通信\n+ 一个VLAN一般为一个逻辑子网，由被配置为此VLAN成员的设备组成VLAN中成员多基于交换机的端口分配，划分VLAN就是对交换机的接口划分\n+ VLAN工作于OSI参考模型的第二层\n+ VLAN是二层交换机的一个非常根本的工作机制\n\n\n\n## Trunk概念回顾\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(5).png)\n\n+ 当一条链路，需要承载多VLAN信息的时候，需使用trunk来实现\n+ Trunk两端的交换机需擦用相同的干道协议\n+ 一般见于交换机之间或交换机与路由器、服务器之间\n\n## ISL与802.1Q\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(4).png)\n\n### ISL\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(3).png)\n\n+ 思科私有协议\n+ 支持PVST\n+ 在原始数据帧基础上封装ISL头及新的FCS\n+ 没有修改原始的数据帧，因此处理效率比802.1Q高\n+ VLAN字段，15分比特目前用了十个，那么最多支持2的10次方=1024个VLAN\n\n### 802.1Q\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(2).png)\n\n+ IEEE共有协议\n+ 插入Tag字段，同时重新计算FCS\n\n## Native VLAN\n+ Native VLAN所属的帧在经过trunk时不打标签\n+ Native VLAN在Trunk两端必须匹配，否则会出现VLAN流量互串\n+ 默认native vlan是vlan1\n+ 建议将一个生僻的VLAN配置成Native VLAN\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(1).png)\n\n### 基础配置\n```plain\nRouter(config-if)# switchport trunk native vlan ? #在trunk设置native vlan\nRouter(config)# vlan dot1q tag native #也对native vlan打标签\n```","source":"_posts/CCNP/CCNP交换 Lay2 Switching and VLAN.md","raw":"---\ntitle: Lay2 Switching and VLAN\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(10).png\nsummary: >-\n  酥米小机器人来啦，这篇文章主要讲解了L2交换和VLAN相关技术知识，包括基于硬件的L2交换特点如线速转发低延迟定义MAC地址，不同帧类型如IPARP\n  RARP和IPXSPX的区分，MAC地址48位结构及全球唯一性，VLAN通过划分逻辑广播域实现设备隔离通信，Trunk链路用于传输多VLAN信息需两端匹配干道\n  protocol，ISL和802.1Q两种VLAN\n  encapsulation方式差异，其中ISL为思科私有协议支持2的10次方个VLAN，802.1Q为IEEE标准协议重新计算FCS，Native\n  VLAN设置规则及默认vlan1的重要性，同时涉及交换机端口配置命令如switchport trunk native vlan和vlan dot1q tag\n  native\ndate: 2024-10-17 15:01:46\n---\n\n## Lay2 Switching\n### 简介</h3>\n+ 基于硬件的交换\n+ 线速转发性能\n+ 低延迟\n+ 定义MAC地址\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(10).png)\n\n### Lay2 Frame\n+ 类型字段取值为0800的帧代表IP协议\n+ 类型字段取值为0806的帧代表ARP协议帧\n+ 类型字段取值为0835的帧代表RARP协议帧\n+ 类型字段取值为8137的帧代表IPX和SPX传输协议帧\n\nEthernet II帧\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(9).png)\n\n802.3帧\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(8).png)\n\nMAC\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(7).png)\n\n+ MAC地址有48位，通常被表示为点分十六进制数\n+ MAC地址全球唯一，由IEEE对这些地址进行管理和分配\n+ 每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配\n\n## VLAN概率回顾\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(6).png)\n\n\n\n+ 形成逻辑的广播域，不同之间的VLAN互相隔离\n+ 一个VLAN中所有设备都是在同一广播域内，不同的VLAN为不同的广播域VLAN之间互相隔离，广播不能跨越VLAN传播，因此不同VLAN之间的设备一般无法互访，不同VLAN间需通过三层设备实现相互通信\n+ 一个VLAN一般为一个逻辑子网，由被配置为此VLAN成员的设备组成VLAN中成员多基于交换机的端口分配，划分VLAN就是对交换机的接口划分\n+ VLAN工作于OSI参考模型的第二层\n+ VLAN是二层交换机的一个非常根本的工作机制\n\n\n\n## Trunk概念回顾\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(5).png)\n\n+ 当一条链路，需要承载多VLAN信息的时候，需使用trunk来实现\n+ Trunk两端的交换机需擦用相同的干道协议\n+ 一般见于交换机之间或交换机与路由器、服务器之间\n\n## ISL与802.1Q\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(4).png)\n\n### ISL\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(3).png)\n\n+ 思科私有协议\n+ 支持PVST\n+ 在原始数据帧基础上封装ISL头及新的FCS\n+ 没有修改原始的数据帧，因此处理效率比802.1Q高\n+ VLAN字段，15分比特目前用了十个，那么最多支持2的10次方=1024个VLAN\n\n### 802.1Q\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(2).png)\n\n+ IEEE共有协议\n+ 插入Tag字段，同时重新计算FCS\n\n## Native VLAN\n+ Native VLAN所属的帧在经过trunk时不打标签\n+ Native VLAN在Trunk两端必须匹配，否则会出现VLAN流量互串\n+ 默认native vlan是vlan1\n+ 建议将一个生僻的VLAN配置成Native VLAN\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(1).png)\n\n### 基础配置\n```plain\nRouter(config-if)# switchport trunk native vlan ? #在trunk设置native vlan\nRouter(config)# vlan dot1q tag native #也对native vlan打标签\n```","slug":"CCNP/CCNP交换 Lay2 Switching and VLAN","published":1,"updated":"2025-08-02T10:17:53.224Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95601001wg0fyfcqt4m71","content":"<h2 id=\"Lay2-Switching\"><a href=\"#Lay2-Switching\" class=\"headerlink\" title=\"Lay2 Switching\"></a>Lay2 Switching</h2><h3 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h3><ul>\n<li>基于硬件的交换</li>\n<li>线速转发性能</li>\n<li>低延迟</li>\n<li>定义MAC地址</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(10).png\"></p>\n<h3 id=\"Lay2-Frame\"><a href=\"#Lay2-Frame\" class=\"headerlink\" title=\"Lay2 Frame\"></a>Lay2 Frame</h3><ul>\n<li>类型字段取值为0800的帧代表IP协议</li>\n<li>类型字段取值为0806的帧代表ARP协议帧</li>\n<li>类型字段取值为0835的帧代表RARP协议帧</li>\n<li>类型字段取值为8137的帧代表IPX和SPX传输协议帧</li>\n</ul>\n<p>Ethernet II帧</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(9).png\"></p>\n<p>802.3帧</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(8).png\"></p>\n<p>MAC<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(7).png\"></p>\n<ul>\n<li>MAC地址有48位，通常被表示为点分十六进制数</li>\n<li>MAC地址全球唯一，由IEEE对这些地址进行管理和分配</li>\n<li>每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配</li>\n</ul>\n<h2 id=\"VLAN概率回顾\"><a href=\"#VLAN概率回顾\" class=\"headerlink\" title=\"VLAN概率回顾\"></a>VLAN概率回顾</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(6).png\"></p>\n<ul>\n<li>形成逻辑的广播域，不同之间的VLAN互相隔离</li>\n<li>一个VLAN中所有设备都是在同一广播域内，不同的VLAN为不同的广播域VLAN之间互相隔离，广播不能跨越VLAN传播，因此不同VLAN之间的设备一般无法互访，不同VLAN间需通过三层设备实现相互通信</li>\n<li>一个VLAN一般为一个逻辑子网，由被配置为此VLAN成员的设备组成VLAN中成员多基于交换机的端口分配，划分VLAN就是对交换机的接口划分</li>\n<li>VLAN工作于OSI参考模型的第二层</li>\n<li>VLAN是二层交换机的一个非常根本的工作机制</li>\n</ul>\n<h2 id=\"Trunk概念回顾\"><a href=\"#Trunk概念回顾\" class=\"headerlink\" title=\"Trunk概念回顾\"></a>Trunk概念回顾</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(5).png\"></p>\n<ul>\n<li>当一条链路，需要承载多VLAN信息的时候，需使用trunk来实现</li>\n<li>Trunk两端的交换机需擦用相同的干道协议</li>\n<li>一般见于交换机之间或交换机与路由器、服务器之间</li>\n</ul>\n<h2 id=\"ISL与802-1Q\"><a href=\"#ISL与802-1Q\" class=\"headerlink\" title=\"ISL与802.1Q\"></a>ISL与802.1Q</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(4).png\"></p>\n<h3 id=\"ISL\"><a href=\"#ISL\" class=\"headerlink\" title=\"ISL\"></a>ISL</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(3).png\"></p>\n<ul>\n<li>思科私有协议</li>\n<li>支持PVST</li>\n<li>在原始数据帧基础上封装ISL头及新的FCS</li>\n<li>没有修改原始的数据帧，因此处理效率比802.1Q高</li>\n<li>VLAN字段，15分比特目前用了十个，那么最多支持2的10次方&#x3D;1024个VLAN</li>\n</ul>\n<h3 id=\"802-1Q\"><a href=\"#802-1Q\" class=\"headerlink\" title=\"802.1Q\"></a>802.1Q</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(2).png\"></p>\n<ul>\n<li>IEEE共有协议</li>\n<li>插入Tag字段，同时重新计算FCS</li>\n</ul>\n<h2 id=\"Native-VLAN\"><a href=\"#Native-VLAN\" class=\"headerlink\" title=\"Native VLAN\"></a>Native VLAN</h2><ul>\n<li>Native VLAN所属的帧在经过trunk时不打标签</li>\n<li>Native VLAN在Trunk两端必须匹配，否则会出现VLAN流量互串</li>\n<li>默认native vlan是vlan1</li>\n<li>建议将一个生僻的VLAN配置成Native VLAN</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(1).png\"></p>\n<h3 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)# switchport trunk native vlan ? #在trunk设置native vlan</span><br><span class=\"line\">Router(config)# vlan dot1q tag native #也对native vlan打标签</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h2 id=\"Lay2-Switching\"><a href=\"#Lay2-Switching\" class=\"headerlink\" title=\"Lay2 Switching\"></a>Lay2 Switching</h2><h3 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h3><ul>\n<li>基于硬件的交换</li>\n<li>线速转发性能</li>\n<li>低延迟</li>\n<li>定义MAC地址</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(10).png\"></p>\n<h3 id=\"Lay2-Frame\"><a href=\"#Lay2-Frame\" class=\"headerlink\" title=\"Lay2 Frame\"></a>Lay2 Frame</h3><ul>\n<li>类型字段取值为0800的帧代表IP协议</li>\n<li>类型字段取值为0806的帧代表ARP协议帧</li>\n<li>类型字段取值为0835的帧代表RARP协议帧</li>\n<li>类型字段取值为8137的帧代表IPX和SPX传输协议帧</li>\n</ul>\n<p>Ethernet II帧</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(9).png\"></p>\n<p>802.3帧</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(8).png\"></p>\n<p>MAC<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(7).png\"></p>\n<ul>\n<li>MAC地址有48位，通常被表示为点分十六进制数</li>\n<li>MAC地址全球唯一，由IEEE对这些地址进行管理和分配</li>\n<li>每个地址由两部分组成，分别是供应商代码和序列号。其中前24位二进制代表该供应商代码。剩下的24位由厂商自己分配</li>\n</ul>\n<h2 id=\"VLAN概率回顾\"><a href=\"#VLAN概率回顾\" class=\"headerlink\" title=\"VLAN概率回顾\"></a>VLAN概率回顾</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(6).png\"></p>\n<ul>\n<li>形成逻辑的广播域，不同之间的VLAN互相隔离</li>\n<li>一个VLAN中所有设备都是在同一广播域内，不同的VLAN为不同的广播域VLAN之间互相隔离，广播不能跨越VLAN传播，因此不同VLAN之间的设备一般无法互访，不同VLAN间需通过三层设备实现相互通信</li>\n<li>一个VLAN一般为一个逻辑子网，由被配置为此VLAN成员的设备组成VLAN中成员多基于交换机的端口分配，划分VLAN就是对交换机的接口划分</li>\n<li>VLAN工作于OSI参考模型的第二层</li>\n<li>VLAN是二层交换机的一个非常根本的工作机制</li>\n</ul>\n<h2 id=\"Trunk概念回顾\"><a href=\"#Trunk概念回顾\" class=\"headerlink\" title=\"Trunk概念回顾\"></a>Trunk概念回顾</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(5).png\"></p>\n<ul>\n<li>当一条链路，需要承载多VLAN信息的时候，需使用trunk来实现</li>\n<li>Trunk两端的交换机需擦用相同的干道协议</li>\n<li>一般见于交换机之间或交换机与路由器、服务器之间</li>\n</ul>\n<h2 id=\"ISL与802-1Q\"><a href=\"#ISL与802-1Q\" class=\"headerlink\" title=\"ISL与802.1Q\"></a>ISL与802.1Q</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(4).png\"></p>\n<h3 id=\"ISL\"><a href=\"#ISL\" class=\"headerlink\" title=\"ISL\"></a>ISL</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(3).png\"></p>\n<ul>\n<li>思科私有协议</li>\n<li>支持PVST</li>\n<li>在原始数据帧基础上封装ISL头及新的FCS</li>\n<li>没有修改原始的数据帧，因此处理效率比802.1Q高</li>\n<li>VLAN字段，15分比特目前用了十个，那么最多支持2的10次方&#x3D;1024个VLAN</li>\n</ul>\n<h3 id=\"802-1Q\"><a href=\"#802-1Q\" class=\"headerlink\" title=\"802.1Q\"></a>802.1Q</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(2).png\"></p>\n<ul>\n<li>IEEE共有协议</li>\n<li>插入Tag字段，同时重新计算FCS</li>\n</ul>\n<h2 id=\"Native-VLAN\"><a href=\"#Native-VLAN\" class=\"headerlink\" title=\"Native VLAN\"></a>Native VLAN</h2><ul>\n<li>Native VLAN所属的帧在经过trunk时不打标签</li>\n<li>Native VLAN在Trunk两端必须匹配，否则会出现VLAN流量互串</li>\n<li>默认native vlan是vlan1</li>\n<li>建议将一个生僻的VLAN配置成Native VLAN</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Lay2sw%26vlan%20(1).png\"></p>\n<h3 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)# switchport trunk native vlan ? #在trunk设置native vlan</span><br><span class=\"line\">Router(config)# vlan dot1q tag native #也对native vlan打标签</span><br></pre></td></tr></table></figure>"},{"title":"Trunk VTP and pVLAN","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(4).png","summary":"酥米小机器人来啦，这篇文章主要介绍Trunk VTP和私有VLAN（pVLAN）的网络配置知识首先讲解VLAN编号范围其中0和4095为保留系统使用1为思科默认VLAN2-1001用于以太网VLAN1002-1005为FDDI及TokenRing保留1006-4094用于以太网特殊平台再说明Trunking配置方式包括手工静态配置和DTP动态协商协议VTP作为思科私有协议用于简化VLAN信息同步需在trunk链路上传递并每隔5分钟或有变化时发送通告其模式分为Server可管理VLANClient仅同步Transparent可转发但不同步最后阐述pVLAN结构通过主VLAN和辅助VLAN划分同一IP网段提升安全性隔离VLAN内部及跨隔离VLAN无法通信仅可通过混杂端口与主VLAN或辅助VLAN设备通信团体VLAN则允许同团体端口通信但需通过SV或路由器接口实现并指出混杂端口可与所有其他端口通信VLAN端口类型包括独立隔离混杂及团体模式","date":"2024-10-17T07:01:46.000Z","_content":"\n## VLAN范围（Dot1Q）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(4).png)\n\n+ 0，4095\t保留，系统使用\n+ 1\t思科默认vlan\n+ 2-1001\tFor Ethernet VLANs\n+ 1002-1005\t思科默认为FDDI及TokenRing\n+ 1006-4094\t只能为Ethernet使用，在一些特殊平台使用\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(2).png)\n\n## Trunking配置\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(3).png)\n\n+ Trunk可以手工静态配置或者通过DTP进行协商\n+ DTP是的交换机之间能够进行trunk协商\n\n\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(5).png)\n\n## Trunk相关配置\n```plain\nSwitch(config)# switchport mode access\t#接口设置access模式\nSwitch(config)# switchport mode encapsulation {dot1q | ISL}\t#如果接口是trunk，设置干道协议类型\nSwitch(config)# switchport mode dynamic {auto | desirable}\t#将接口设置为DTP动态协商，可选auto或者desirable\nSwitch(config)# switchport nonegotiate\t#将接口设置为nonegotiate，不发送DTP帧，如果配置非协商，那么就必须手工配置接口模式，为access或者trunk\n```\n\n## VTP（VLAN Trunking Protocol）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(7).png)\n\n+ 思科的私有协议\n+ 只能传递VLAN信息\n+ 简化大型园区网中VLAN信息库同步的问题（同一个VTP管理域中）\n+ 只同步VLAN信息\n+ 需要交换机之间的trunk链路支持\n\n## VTP模式\n### Server\n+ 可创建修改删除VLAN\n+ 发送/转发信息宣告\n+ 同步\n+ VLAN信息存储于NVRAM\n+ Catalyst交换机默认是server模式\n\n### Client\n+ 不能创建修改删除VLAN\n+ 发送/转发信息宣告\n+ 同步\n+ VLAN信息不会存贮于NVRAM\n\n### Transparent\n+ 可创建修改删除VLAN \n+ 转发信息宣告\n+ 不同步 不始发\n+ VLAN信息存贮于NVRAM\n\n### Tips：\n+ 删除VLAN配置请使用`delete flash:config.text`，切勿使用`delete flash:`，这将会清除flash中的IOS固件\n\n## VTP的运作\n+ VTP协议通过组播地址0100-0CCC-CCCC在trunk链路上发送VTP通告\n+ VTP Server和clients通过最高的修订号来同步数据部\n+ VTP协议每隔5分钟发送一次VTP通告或者有变化时发生\n\n![](https://img.picgo.net/2024/11/19/image-5b89cbafacef6088c.png)\n\n## VTP的配置\n```plain\nSwitch(config)# vtp domain cisco\t#配置VTP域名\nSwitch(config)# vtp mode { server | client | transparent }\t#配置本机VTP模式\nSwitch(config)# vtp password x\t#（可选）配置密码\n```\n\n## 私有VLAN（PVLAN）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(1).png)\n\n+ 主VLAN\n+ 辅助VLAN\n+ 团体VLANs\n+ 混杂端口\n\n## PVLANs\n+ 将一个VLAN划分成几个单独的VLAN，这些VLAN都使用同一个IP网段\n+ 可以提高安全性，降低子网数目，提高IP利用率\n+ 尽管网络设备处于同一个子网中，但是他们属于不同的pVlan，pVlans之间的通信还是必须通过默认网关来实现。 \n+ 每个pVLAN包括一个主VLAN以及多个辅助VLAN。\n+ 所有的辅助VLAN都映射到主VLAN。辅助VLAN分为团体VLAN和隔离VLAN。\n+ 相同团体VLAN能够互相通信(lay2)，但是团体VLAN之间必须通过设置SV或者路由器接口才能通信。\n+ 相同隔离VLAN内部(端口之间)以及隔离VLAN之间都是不能够互相通信的，只能与混杂接口通信。\n+ 一个主VLAN只能有一个Isolate vlan\n+ 混杂端口能够与PVLAN中的任何设备通信，不管对方是处于主VLAN，还是辅助VLAN.\n\n## VLAN port types\n+ 独立（Isolated）\n    - 仅与混杂端口通信\n+ 混杂（Promiscuous）\n    - 与所有其他端口通信\n+ 团体模式（Community）\n    - 与团体其他接口和所有混杂接口进行沟通","source":"_posts/CCNP/CCNP交换 Trunk VTP and pVLAN.md","raw":"---\ntitle: Trunk VTP and pVLAN\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(4).png\nsummary: >-\n  酥米小机器人来啦，这篇文章主要介绍Trunk\n  VTP和私有VLAN（pVLAN）的网络配置知识首先讲解VLAN编号范围其中0和4095为保留系统使用1为思科默认VLAN2-1001用于以太网VLAN1002-1005为FDDI及TokenRing保留1006-4094用于以太网特殊平台再说明Trunking配置方式包括手工静态配置和DTP动态协商协议VTP作为思科私有协议用于简化VLAN信息同步需在trunk链路上传递并每隔5分钟或有变化时发送通告其模式分为Server可管理VLANClient仅同步Transparent可转发但不同步最后阐述pVLAN结构通过主VLAN和辅助VLAN划分同一IP网段提升安全性隔离VLAN内部及跨隔离VLAN无法通信仅可通过混杂端口与主VLAN或辅助VLAN设备通信团体VLAN则允许同团体端口通信但需通过SV或路由器接口实现并指出混杂端口可与所有其他端口通信VLAN端口类型包括独立隔离混杂及团体模式\ndate: 2024-10-17 15:01:46\n---\n\n## VLAN范围（Dot1Q）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(4).png)\n\n+ 0，4095\t保留，系统使用\n+ 1\t思科默认vlan\n+ 2-1001\tFor Ethernet VLANs\n+ 1002-1005\t思科默认为FDDI及TokenRing\n+ 1006-4094\t只能为Ethernet使用，在一些特殊平台使用\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(2).png)\n\n## Trunking配置\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(3).png)\n\n+ Trunk可以手工静态配置或者通过DTP进行协商\n+ DTP是的交换机之间能够进行trunk协商\n\n\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(5).png)\n\n## Trunk相关配置\n```plain\nSwitch(config)# switchport mode access\t#接口设置access模式\nSwitch(config)# switchport mode encapsulation {dot1q | ISL}\t#如果接口是trunk，设置干道协议类型\nSwitch(config)# switchport mode dynamic {auto | desirable}\t#将接口设置为DTP动态协商，可选auto或者desirable\nSwitch(config)# switchport nonegotiate\t#将接口设置为nonegotiate，不发送DTP帧，如果配置非协商，那么就必须手工配置接口模式，为access或者trunk\n```\n\n## VTP（VLAN Trunking Protocol）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(7).png)\n\n+ 思科的私有协议\n+ 只能传递VLAN信息\n+ 简化大型园区网中VLAN信息库同步的问题（同一个VTP管理域中）\n+ 只同步VLAN信息\n+ 需要交换机之间的trunk链路支持\n\n## VTP模式\n### Server\n+ 可创建修改删除VLAN\n+ 发送/转发信息宣告\n+ 同步\n+ VLAN信息存储于NVRAM\n+ Catalyst交换机默认是server模式\n\n### Client\n+ 不能创建修改删除VLAN\n+ 发送/转发信息宣告\n+ 同步\n+ VLAN信息不会存贮于NVRAM\n\n### Transparent\n+ 可创建修改删除VLAN \n+ 转发信息宣告\n+ 不同步 不始发\n+ VLAN信息存贮于NVRAM\n\n### Tips：\n+ 删除VLAN配置请使用`delete flash:config.text`，切勿使用`delete flash:`，这将会清除flash中的IOS固件\n\n## VTP的运作\n+ VTP协议通过组播地址0100-0CCC-CCCC在trunk链路上发送VTP通告\n+ VTP Server和clients通过最高的修订号来同步数据部\n+ VTP协议每隔5分钟发送一次VTP通告或者有变化时发生\n\n![](https://img.picgo.net/2024/11/19/image-5b89cbafacef6088c.png)\n\n## VTP的配置\n```plain\nSwitch(config)# vtp domain cisco\t#配置VTP域名\nSwitch(config)# vtp mode { server | client | transparent }\t#配置本机VTP模式\nSwitch(config)# vtp password x\t#（可选）配置密码\n```\n\n## 私有VLAN（PVLAN）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(1).png)\n\n+ 主VLAN\n+ 辅助VLAN\n+ 团体VLANs\n+ 混杂端口\n\n## PVLANs\n+ 将一个VLAN划分成几个单独的VLAN，这些VLAN都使用同一个IP网段\n+ 可以提高安全性，降低子网数目，提高IP利用率\n+ 尽管网络设备处于同一个子网中，但是他们属于不同的pVlan，pVlans之间的通信还是必须通过默认网关来实现。 \n+ 每个pVLAN包括一个主VLAN以及多个辅助VLAN。\n+ 所有的辅助VLAN都映射到主VLAN。辅助VLAN分为团体VLAN和隔离VLAN。\n+ 相同团体VLAN能够互相通信(lay2)，但是团体VLAN之间必须通过设置SV或者路由器接口才能通信。\n+ 相同隔离VLAN内部(端口之间)以及隔离VLAN之间都是不能够互相通信的，只能与混杂接口通信。\n+ 一个主VLAN只能有一个Isolate vlan\n+ 混杂端口能够与PVLAN中的任何设备通信，不管对方是处于主VLAN，还是辅助VLAN.\n\n## VLAN port types\n+ 独立（Isolated）\n    - 仅与混杂端口通信\n+ 混杂（Promiscuous）\n    - 与所有其他端口通信\n+ 团体模式（Community）\n    - 与团体其他接口和所有混杂接口进行沟通","slug":"CCNP/CCNP交换 Trunk VTP and pVLAN","published":1,"updated":"2025-08-02T10:17:53.082Z","comments":1,"layout":"post","photos":[],"_id":"cmgu956030020g0fy04x0edfb","content":"<h2 id=\"VLAN范围（Dot1Q）\"><a href=\"#VLAN范围（Dot1Q）\" class=\"headerlink\" title=\"VLAN范围（Dot1Q）\"></a>VLAN范围（Dot1Q）</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(4).png\"></p>\n<ul>\n<li>0，4095\t保留，系统使用</li>\n<li>1\t思科默认vlan</li>\n<li>2-1001\tFor Ethernet VLANs</li>\n<li>1002-1005\t思科默认为FDDI及TokenRing</li>\n<li>1006-4094\t只能为Ethernet使用，在一些特殊平台使用</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(2).png\"></p>\n<h2 id=\"Trunking配置\"><a href=\"#Trunking配置\" class=\"headerlink\" title=\"Trunking配置\"></a>Trunking配置</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(3).png\"></p>\n<ul>\n<li>Trunk可以手工静态配置或者通过DTP进行协商</li>\n<li>DTP是的交换机之间能够进行trunk协商</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(5).png\"></p>\n<h2 id=\"Trunk相关配置\"><a href=\"#Trunk相关配置\" class=\"headerlink\" title=\"Trunk相关配置\"></a>Trunk相关配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# switchport mode access\t#接口设置access模式</span><br><span class=\"line\">Switch(config)# switchport mode encapsulation &#123;dot1q | ISL&#125;\t#如果接口是trunk，设置干道协议类型</span><br><span class=\"line\">Switch(config)# switchport mode dynamic &#123;auto | desirable&#125;\t#将接口设置为DTP动态协商，可选auto或者desirable</span><br><span class=\"line\">Switch(config)# switchport nonegotiate\t#将接口设置为nonegotiate，不发送DTP帧，如果配置非协商，那么就必须手工配置接口模式，为access或者trunk</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"VTP（VLAN-Trunking-Protocol）\"><a href=\"#VTP（VLAN-Trunking-Protocol）\" class=\"headerlink\" title=\"VTP（VLAN Trunking Protocol）\"></a>VTP（VLAN Trunking Protocol）</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(7).png\"></p>\n<ul>\n<li>思科的私有协议</li>\n<li>只能传递VLAN信息</li>\n<li>简化大型园区网中VLAN信息库同步的问题（同一个VTP管理域中）</li>\n<li>只同步VLAN信息</li>\n<li>需要交换机之间的trunk链路支持</li>\n</ul>\n<h2 id=\"VTP模式\"><a href=\"#VTP模式\" class=\"headerlink\" title=\"VTP模式\"></a>VTP模式</h2><h3 id=\"Server\"><a href=\"#Server\" class=\"headerlink\" title=\"Server\"></a>Server</h3><ul>\n<li>可创建修改删除VLAN</li>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>VLAN信息存储于NVRAM</li>\n<li>Catalyst交换机默认是server模式</li>\n</ul>\n<h3 id=\"Client\"><a href=\"#Client\" class=\"headerlink\" title=\"Client\"></a>Client</h3><ul>\n<li>不能创建修改删除VLAN</li>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>VLAN信息不会存贮于NVRAM</li>\n</ul>\n<h3 id=\"Transparent\"><a href=\"#Transparent\" class=\"headerlink\" title=\"Transparent\"></a>Transparent</h3><ul>\n<li>可创建修改删除VLAN </li>\n<li>转发信息宣告</li>\n<li>不同步 不始发</li>\n<li>VLAN信息存贮于NVRAM</li>\n</ul>\n<h3 id=\"Tips：\"><a href=\"#Tips：\" class=\"headerlink\" title=\"Tips：\"></a>Tips：</h3><ul>\n<li>删除VLAN配置请使用<code>delete flash:config.text</code>，切勿使用<code>delete flash:</code>，这将会清除flash中的IOS固件</li>\n</ul>\n<h2 id=\"VTP的运作\"><a href=\"#VTP的运作\" class=\"headerlink\" title=\"VTP的运作\"></a>VTP的运作</h2><ul>\n<li>VTP协议通过组播地址0100-0CCC-CCCC在trunk链路上发送VTP通告</li>\n<li>VTP Server和clients通过最高的修订号来同步数据部</li>\n<li>VTP协议每隔5分钟发送一次VTP通告或者有变化时发生</li>\n</ul>\n<p><img src=\"https://img.picgo.net/2024/11/19/image-5b89cbafacef6088c.png\"></p>\n<h2 id=\"VTP的配置\"><a href=\"#VTP的配置\" class=\"headerlink\" title=\"VTP的配置\"></a>VTP的配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# vtp domain cisco\t#配置VTP域名</span><br><span class=\"line\">Switch(config)# vtp mode &#123; server | client | transparent &#125;\t#配置本机VTP模式</span><br><span class=\"line\">Switch(config)# vtp password x\t#（可选）配置密码</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"私有VLAN（PVLAN）\"><a href=\"#私有VLAN（PVLAN）\" class=\"headerlink\" title=\"私有VLAN（PVLAN）\"></a>私有VLAN（PVLAN）</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(1).png\"></p>\n<ul>\n<li>主VLAN</li>\n<li>辅助VLAN</li>\n<li>团体VLANs</li>\n<li>混杂端口</li>\n</ul>\n<h2 id=\"PVLANs\"><a href=\"#PVLANs\" class=\"headerlink\" title=\"PVLANs\"></a>PVLANs</h2><ul>\n<li>将一个VLAN划分成几个单独的VLAN，这些VLAN都使用同一个IP网段</li>\n<li>可以提高安全性，降低子网数目，提高IP利用率</li>\n<li>尽管网络设备处于同一个子网中，但是他们属于不同的pVlan，pVlans之间的通信还是必须通过默认网关来实现。 </li>\n<li>每个pVLAN包括一个主VLAN以及多个辅助VLAN。</li>\n<li>所有的辅助VLAN都映射到主VLAN。辅助VLAN分为团体VLAN和隔离VLAN。</li>\n<li>相同团体VLAN能够互相通信(lay2)，但是团体VLAN之间必须通过设置SV或者路由器接口才能通信。</li>\n<li>相同隔离VLAN内部(端口之间)以及隔离VLAN之间都是不能够互相通信的，只能与混杂接口通信。</li>\n<li>一个主VLAN只能有一个Isolate vlan</li>\n<li>混杂端口能够与PVLAN中的任何设备通信，不管对方是处于主VLAN，还是辅助VLAN.</li>\n</ul>\n<h2 id=\"VLAN-port-types\"><a href=\"#VLAN-port-types\" class=\"headerlink\" title=\"VLAN port types\"></a>VLAN port types</h2><ul>\n<li>独立（Isolated）<ul>\n<li>仅与混杂端口通信</li>\n</ul>\n</li>\n<li>混杂（Promiscuous）<ul>\n<li>与所有其他端口通信</li>\n</ul>\n</li>\n<li>团体模式（Community）<ul>\n<li>与团体其他接口和所有混杂接口进行沟通</li>\n</ul>\n</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<h2 id=\"VLAN范围（Dot1Q）\"><a href=\"#VLAN范围（Dot1Q）\" class=\"headerlink\" title=\"VLAN范围（Dot1Q）\"></a>VLAN范围（Dot1Q）</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(4).png\"></p>\n<ul>\n<li>0，4095\t保留，系统使用</li>\n<li>1\t思科默认vlan</li>\n<li>2-1001\tFor Ethernet VLANs</li>\n<li>1002-1005\t思科默认为FDDI及TokenRing</li>\n<li>1006-4094\t只能为Ethernet使用，在一些特殊平台使用</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(2).png\"></p>\n<h2 id=\"Trunking配置\"><a href=\"#Trunking配置\" class=\"headerlink\" title=\"Trunking配置\"></a>Trunking配置</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(3).png\"></p>\n<ul>\n<li>Trunk可以手工静态配置或者通过DTP进行协商</li>\n<li>DTP是的交换机之间能够进行trunk协商</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(5).png\"></p>\n<h2 id=\"Trunk相关配置\"><a href=\"#Trunk相关配置\" class=\"headerlink\" title=\"Trunk相关配置\"></a>Trunk相关配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# switchport mode access\t#接口设置access模式</span><br><span class=\"line\">Switch(config)# switchport mode encapsulation &#123;dot1q | ISL&#125;\t#如果接口是trunk，设置干道协议类型</span><br><span class=\"line\">Switch(config)# switchport mode dynamic &#123;auto | desirable&#125;\t#将接口设置为DTP动态协商，可选auto或者desirable</span><br><span class=\"line\">Switch(config)# switchport nonegotiate\t#将接口设置为nonegotiate，不发送DTP帧，如果配置非协商，那么就必须手工配置接口模式，为access或者trunk</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"VTP（VLAN-Trunking-Protocol）\"><a href=\"#VTP（VLAN-Trunking-Protocol）\" class=\"headerlink\" title=\"VTP（VLAN Trunking Protocol）\"></a>VTP（VLAN Trunking Protocol）</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(7).png\"></p>\n<ul>\n<li>思科的私有协议</li>\n<li>只能传递VLAN信息</li>\n<li>简化大型园区网中VLAN信息库同步的问题（同一个VTP管理域中）</li>\n<li>只同步VLAN信息</li>\n<li>需要交换机之间的trunk链路支持</li>\n</ul>\n<h2 id=\"VTP模式\"><a href=\"#VTP模式\" class=\"headerlink\" title=\"VTP模式\"></a>VTP模式</h2><h3 id=\"Server\"><a href=\"#Server\" class=\"headerlink\" title=\"Server\"></a>Server</h3><ul>\n<li>可创建修改删除VLAN</li>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>VLAN信息存储于NVRAM</li>\n<li>Catalyst交换机默认是server模式</li>\n</ul>\n<h3 id=\"Client\"><a href=\"#Client\" class=\"headerlink\" title=\"Client\"></a>Client</h3><ul>\n<li>不能创建修改删除VLAN</li>\n<li>发送&#x2F;转发信息宣告</li>\n<li>同步</li>\n<li>VLAN信息不会存贮于NVRAM</li>\n</ul>\n<h3 id=\"Transparent\"><a href=\"#Transparent\" class=\"headerlink\" title=\"Transparent\"></a>Transparent</h3><ul>\n<li>可创建修改删除VLAN </li>\n<li>转发信息宣告</li>\n<li>不同步 不始发</li>\n<li>VLAN信息存贮于NVRAM</li>\n</ul>\n<h3 id=\"Tips：\"><a href=\"#Tips：\" class=\"headerlink\" title=\"Tips：\"></a>Tips：</h3><ul>\n<li>删除VLAN配置请使用<code>delete flash:config.text</code>，切勿使用<code>delete flash:</code>，这将会清除flash中的IOS固件</li>\n</ul>\n<h2 id=\"VTP的运作\"><a href=\"#VTP的运作\" class=\"headerlink\" title=\"VTP的运作\"></a>VTP的运作</h2><ul>\n<li>VTP协议通过组播地址0100-0CCC-CCCC在trunk链路上发送VTP通告</li>\n<li>VTP Server和clients通过最高的修订号来同步数据部</li>\n<li>VTP协议每隔5分钟发送一次VTP通告或者有变化时发生</li>\n</ul>\n<p><img src=\"https://img.picgo.net/2024/11/19/image-5b89cbafacef6088c.png\"></p>\n<h2 id=\"VTP的配置\"><a href=\"#VTP的配置\" class=\"headerlink\" title=\"VTP的配置\"></a>VTP的配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# vtp domain cisco\t#配置VTP域名</span><br><span class=\"line\">Switch(config)# vtp mode &#123; server | client | transparent &#125;\t#配置本机VTP模式</span><br><span class=\"line\">Switch(config)# vtp password x\t#（可选）配置密码</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"私有VLAN（PVLAN）\"><a href=\"#私有VLAN（PVLAN）\" class=\"headerlink\" title=\"私有VLAN（PVLAN）\"></a>私有VLAN（PVLAN）</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/vtppvlan%20(1).png\"></p>\n<ul>\n<li>主VLAN</li>\n<li>辅助VLAN</li>\n<li>团体VLANs</li>\n<li>混杂端口</li>\n</ul>\n<h2 id=\"PVLANs\"><a href=\"#PVLANs\" class=\"headerlink\" title=\"PVLANs\"></a>PVLANs</h2><ul>\n<li>将一个VLAN划分成几个单独的VLAN，这些VLAN都使用同一个IP网段</li>\n<li>可以提高安全性，降低子网数目，提高IP利用率</li>\n<li>尽管网络设备处于同一个子网中，但是他们属于不同的pVlan，pVlans之间的通信还是必须通过默认网关来实现。 </li>\n<li>每个pVLAN包括一个主VLAN以及多个辅助VLAN。</li>\n<li>所有的辅助VLAN都映射到主VLAN。辅助VLAN分为团体VLAN和隔离VLAN。</li>\n<li>相同团体VLAN能够互相通信(lay2)，但是团体VLAN之间必须通过设置SV或者路由器接口才能通信。</li>\n<li>相同隔离VLAN内部(端口之间)以及隔离VLAN之间都是不能够互相通信的，只能与混杂接口通信。</li>\n<li>一个主VLAN只能有一个Isolate vlan</li>\n<li>混杂端口能够与PVLAN中的任何设备通信，不管对方是处于主VLAN，还是辅助VLAN.</li>\n</ul>\n<h2 id=\"VLAN-port-types\"><a href=\"#VLAN-port-types\" class=\"headerlink\" title=\"VLAN port types\"></a>VLAN port types</h2><ul>\n<li>独立（Isolated）<ul>\n<li>仅与混杂端口通信</li>\n</ul>\n</li>\n<li>混杂（Promiscuous）<ul>\n<li>与所有其他端口通信</li>\n</ul>\n</li>\n<li>团体模式（Community）<ul>\n<li>与团体其他接口和所有混杂接口进行沟通</li>\n</ul>\n</li>\n</ul>\n"},{"title":"VLAN间的路由及三层交换机的部署","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153334630-a8c6d042-08e1-4b43-87f8-aa6252bf8900.png","summary":"酥米小机器人来啦，这篇文章主要讲解了VLAN间路由及三层交换机的部署方法不同VLAN互访需求可通过单臂路由实现而如今路由技术已具备硬件转发能力并解决了交换网络的二层环路与LAN隔离问题Switch Virtual Interface（SVI）作为VLAN的三层逻辑接口需要满足对应VLAN存在且激活、接口未处于administratively down状态以及至少有一个二层接口处于forwarding状态才能正常工作SVI autostate exclude功能可使特定接口脱离up-down状态计算与SVI口状态无关交换机管理VLAN用于设备管理二层交换机仅能配置一个VLAN接口IP地址三层交换环境则支持多个管理VLAN端口模式区分二层access/trunk与三层路由接口SVI配置需开启三层路由功能创建VLAN并为SVI分配IP地址同时配置路由接口和静态路由实现跨VLAN通信","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## Q & A\n### 如何满足不同VLAN的互访需求？\n+ 解决方案1：单臂路由\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153334630-a8c6d042-08e1-4b43-87f8-aa6252bf8900.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153355876-a7ca5fed-7f69-4e14-82d7-b5d7aa717043.png)\n\n## 路由 VS. 交换的园区网结构\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729162997065-d2ea58a5-246a-44d6-925d-3b16b41a0532.png)\n\n+ 在过去，交换是基于硬件的转发，而路由是基于软件的转发，因此园区网络更多的采用交换网络的设计\n+ 而如今，路由已经几乎与交换一样快，也能够基于硬件做转发，与此同时路由的设计很好的解决了交换网络的二层环路问题，以及LAN的隔离问题\n\n## Switch Virtual interface（SVI）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163085261-9648ecce-8584-479f-a56a-bf5679c5b3bf.png)\n\n## SVI autostate exclude command\n+ SVI口的Line-state在以下条件满足的情况下才会是UP\n    - SVI对应的VLAN必须在vlan database中存在并且是激活的\n    - Vlan interface存在并且不能说administratively down的\n    - 必须至少有一个二层接口（SVI对于VLAN的access接口或者trunk口）是UP的，而且必须是spanning-tree的forwarding状态\n+ SVI autostate exclude特性可以让特定接口跳出上述up-and-down的计算过程，也就是说该接口的up down与SVI口的up down无关了\n\n`Switch(config)# int f0/24`\n\n`Switch(config-if)# switchport auto-state exclude`\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729164827120-91130c8c-63de-4e8f-8628-0259875e2c44.png)\n\n## 交换机管理VLAN\n### 二层交换机的管理VLAN\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165022772-166a0a14-8a04-4f1f-be6f-226ecbf1918a.png)\n\n+ 交换机的管理VLAN用于交换机本身的设备管理\n+ 二层交换机只能有一个VLAN接口可以拥有IP地址，具体的VLAN可以根据实际需求选定\n+ 有了这个VLAN接口，PC就能够telnet到交换机上执行管理操作\n+ 用户VLAN与交换管理VLAN重叠会有什么问题？\n\n### 三层交换环境的管理VLAN\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165215265-252a3155-b8c1-4065-9cc0-764a2291e798.png)\n\n## 三层交换机的端口模式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163463953-598b285c-b189-41f6-80b0-e3a5a7637588.png)\n\n+ 二层接口：access模式，trunk模式\n+ 三层接口：路由接口（no switchport或称为routed port）、SVI接口\n\n## 基础配置\n```plain\nSwitch(config)# ip routing\n#\t开启三层交换机路由功能\n\nSwitch(config)# vlan 10\nSwitch(config-vlan)# name name\n# 创建VLAN\n\nSwitch(config)# int vlan 10 \nSwitch(config-Vlanif10)# ip add x.x.x.x mask \nSwitch(config-Vlanif10)# no sh\n#\t配置VLAN对于SVI接口\n\nSwitch(config)# int f0/1\nSwitch(config-if)# no switchport\nSwitch(config-if)# ip add x.x.x.x mask\nSwitch(config-if)# no sh\n#\t配置no switchport（routed port）三层接口\n\nSwitch(config)# ip route 0.0.0.0 0.0.0.0 x.x.x.x\n#\t配置静态路由\n```","source":"_posts/CCNP/CCNP交换 VLAN间的路由及三层交换机的部署.md","raw":"---\ntitle: VLAN间的路由及三层交换机的部署\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153334630-a8c6d042-08e1-4b43-87f8-aa6252bf8900.png\nsummary: >-\n  酥米小机器人来啦，这篇文章主要讲解了VLAN间路由及三层交换机的部署方法不同VLAN互访需求可通过单臂路由实现而如今路由技术已具备硬件转发能力并解决了交换网络的二层环路与LAN隔离问题Switch\n  Virtual Interface（SVI）作为VLAN的三层逻辑接口需要满足对应VLAN存在且激活、接口未处于administratively\n  down状态以及至少有一个二层接口处于forwarding状态才能正常工作SVI autostate\n  exclude功能可使特定接口脱离up-down状态计算与SVI口状态无关交换机管理VLAN用于设备管理二层交换机仅能配置一个VLAN接口IP地址三层交换环境则支持多个管理VLAN端口模式区分二层access/trunk与三层路由接口SVI配置需开启三层路由功能创建VLAN并为SVI分配IP地址同时配置路由接口和静态路由实现跨VLAN通信\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## Q & A\n### 如何满足不同VLAN的互访需求？\n+ 解决方案1：单臂路由\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153334630-a8c6d042-08e1-4b43-87f8-aa6252bf8900.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153355876-a7ca5fed-7f69-4e14-82d7-b5d7aa717043.png)\n\n## 路由 VS. 交换的园区网结构\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729162997065-d2ea58a5-246a-44d6-925d-3b16b41a0532.png)\n\n+ 在过去，交换是基于硬件的转发，而路由是基于软件的转发，因此园区网络更多的采用交换网络的设计\n+ 而如今，路由已经几乎与交换一样快，也能够基于硬件做转发，与此同时路由的设计很好的解决了交换网络的二层环路问题，以及LAN的隔离问题\n\n## Switch Virtual interface（SVI）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163085261-9648ecce-8584-479f-a56a-bf5679c5b3bf.png)\n\n## SVI autostate exclude command\n+ SVI口的Line-state在以下条件满足的情况下才会是UP\n    - SVI对应的VLAN必须在vlan database中存在并且是激活的\n    - Vlan interface存在并且不能说administratively down的\n    - 必须至少有一个二层接口（SVI对于VLAN的access接口或者trunk口）是UP的，而且必须是spanning-tree的forwarding状态\n+ SVI autostate exclude特性可以让特定接口跳出上述up-and-down的计算过程，也就是说该接口的up down与SVI口的up down无关了\n\n`Switch(config)# int f0/24`\n\n`Switch(config-if)# switchport auto-state exclude`\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729164827120-91130c8c-63de-4e8f-8628-0259875e2c44.png)\n\n## 交换机管理VLAN\n### 二层交换机的管理VLAN\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165022772-166a0a14-8a04-4f1f-be6f-226ecbf1918a.png)\n\n+ 交换机的管理VLAN用于交换机本身的设备管理\n+ 二层交换机只能有一个VLAN接口可以拥有IP地址，具体的VLAN可以根据实际需求选定\n+ 有了这个VLAN接口，PC就能够telnet到交换机上执行管理操作\n+ 用户VLAN与交换管理VLAN重叠会有什么问题？\n\n### 三层交换环境的管理VLAN\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165215265-252a3155-b8c1-4065-9cc0-764a2291e798.png)\n\n## 三层交换机的端口模式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163463953-598b285c-b189-41f6-80b0-e3a5a7637588.png)\n\n+ 二层接口：access模式，trunk模式\n+ 三层接口：路由接口（no switchport或称为routed port）、SVI接口\n\n## 基础配置\n```plain\nSwitch(config)# ip routing\n#\t开启三层交换机路由功能\n\nSwitch(config)# vlan 10\nSwitch(config-vlan)# name name\n# 创建VLAN\n\nSwitch(config)# int vlan 10 \nSwitch(config-Vlanif10)# ip add x.x.x.x mask \nSwitch(config-Vlanif10)# no sh\n#\t配置VLAN对于SVI接口\n\nSwitch(config)# int f0/1\nSwitch(config-if)# no switchport\nSwitch(config-if)# ip add x.x.x.x mask\nSwitch(config-if)# no sh\n#\t配置no switchport（routed port）三层接口\n\nSwitch(config)# ip route 0.0.0.0 0.0.0.0 x.x.x.x\n#\t配置静态路由\n```","slug":"CCNP/CCNP交换 VLAN间的路由及三层交换机的部署","published":1,"updated":"2025-08-02T15:09:26.545Z","comments":1,"layout":"post","photos":[],"_id":"cmgu956050025g0fy6sq97pv0","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"Q-A\"><a href=\"#Q-A\" class=\"headerlink\" title=\"Q &amp; A\"></a>Q &amp; A</h2><h3 id=\"如何满足不同VLAN的互访需求？\"><a href=\"#如何满足不同VLAN的互访需求？\" class=\"headerlink\" title=\"如何满足不同VLAN的互访需求？\"></a>如何满足不同VLAN的互访需求？</h3><ul>\n<li>解决方案1：单臂路由</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153334630-a8c6d042-08e1-4b43-87f8-aa6252bf8900.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153355876-a7ca5fed-7f69-4e14-82d7-b5d7aa717043.png\"></p>\n<h2 id=\"路由-VS-交换的园区网结构\"><a href=\"#路由-VS-交换的园区网结构\" class=\"headerlink\" title=\"路由 VS. 交换的园区网结构\"></a>路由 VS. 交换的园区网结构</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729162997065-d2ea58a5-246a-44d6-925d-3b16b41a0532.png\"></p>\n<ul>\n<li>在过去，交换是基于硬件的转发，而路由是基于软件的转发，因此园区网络更多的采用交换网络的设计</li>\n<li>而如今，路由已经几乎与交换一样快，也能够基于硬件做转发，与此同时路由的设计很好的解决了交换网络的二层环路问题，以及LAN的隔离问题</li>\n</ul>\n<h2 id=\"Switch-Virtual-interface（SVI）\"><a href=\"#Switch-Virtual-interface（SVI）\" class=\"headerlink\" title=\"Switch Virtual interface（SVI）\"></a>Switch Virtual interface（SVI）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163085261-9648ecce-8584-479f-a56a-bf5679c5b3bf.png\"></p>\n<h2 id=\"SVI-autostate-exclude-command\"><a href=\"#SVI-autostate-exclude-command\" class=\"headerlink\" title=\"SVI autostate exclude command\"></a>SVI autostate exclude command</h2><ul>\n<li>SVI口的Line-state在以下条件满足的情况下才会是UP<ul>\n<li>SVI对应的VLAN必须在vlan database中存在并且是激活的</li>\n<li>Vlan interface存在并且不能说administratively down的</li>\n<li>必须至少有一个二层接口（SVI对于VLAN的access接口或者trunk口）是UP的，而且必须是spanning-tree的forwarding状态</li>\n</ul>\n</li>\n<li>SVI autostate exclude特性可以让特定接口跳出上述up-and-down的计算过程，也就是说该接口的up down与SVI口的up down无关了</li>\n</ul>\n<p><code>Switch(config)# int f0/24</code></p>\n<p><code>Switch(config-if)# switchport auto-state exclude</code></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729164827120-91130c8c-63de-4e8f-8628-0259875e2c44.png\"></p>\n<h2 id=\"交换机管理VLAN\"><a href=\"#交换机管理VLAN\" class=\"headerlink\" title=\"交换机管理VLAN\"></a>交换机管理VLAN</h2><h3 id=\"二层交换机的管理VLAN\"><a href=\"#二层交换机的管理VLAN\" class=\"headerlink\" title=\"二层交换机的管理VLAN\"></a>二层交换机的管理VLAN</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165022772-166a0a14-8a04-4f1f-be6f-226ecbf1918a.png\"></p>\n<ul>\n<li>交换机的管理VLAN用于交换机本身的设备管理</li>\n<li>二层交换机只能有一个VLAN接口可以拥有IP地址，具体的VLAN可以根据实际需求选定</li>\n<li>有了这个VLAN接口，PC就能够telnet到交换机上执行管理操作</li>\n<li>用户VLAN与交换管理VLAN重叠会有什么问题？</li>\n</ul>\n<h3 id=\"三层交换环境的管理VLAN\"><a href=\"#三层交换环境的管理VLAN\" class=\"headerlink\" title=\"三层交换环境的管理VLAN\"></a>三层交换环境的管理VLAN</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165215265-252a3155-b8c1-4065-9cc0-764a2291e798.png\"></p>\n<h2 id=\"三层交换机的端口模式\"><a href=\"#三层交换机的端口模式\" class=\"headerlink\" title=\"三层交换机的端口模式\"></a>三层交换机的端口模式</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163463953-598b285c-b189-41f6-80b0-e3a5a7637588.png\"></p>\n<ul>\n<li>二层接口：access模式，trunk模式</li>\n<li>三层接口：路由接口（no switchport或称为routed port）、SVI接口</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# ip routing</span><br><span class=\"line\">#\t开启三层交换机路由功能</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# vlan 10</span><br><span class=\"line\">Switch(config-vlan)# name name</span><br><span class=\"line\"># 创建VLAN</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# int vlan 10 </span><br><span class=\"line\">Switch(config-Vlanif10)# ip add x.x.x.x mask </span><br><span class=\"line\">Switch(config-Vlanif10)# no sh</span><br><span class=\"line\">#\t配置VLAN对于SVI接口</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# int f0/1</span><br><span class=\"line\">Switch(config-if)# no switchport</span><br><span class=\"line\">Switch(config-if)# ip add x.x.x.x mask</span><br><span class=\"line\">Switch(config-if)# no sh</span><br><span class=\"line\">#\t配置no switchport（routed port）三层接口</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# ip route 0.0.0.0 0.0.0.0 x.x.x.x</span><br><span class=\"line\">#\t配置静态路由</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"Q-A\"><a href=\"#Q-A\" class=\"headerlink\" title=\"Q &amp; A\"></a>Q &amp; A</h2><h3 id=\"如何满足不同VLAN的互访需求？\"><a href=\"#如何满足不同VLAN的互访需求？\" class=\"headerlink\" title=\"如何满足不同VLAN的互访需求？\"></a>如何满足不同VLAN的互访需求？</h3><ul>\n<li>解决方案1：单臂路由</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153334630-a8c6d042-08e1-4b43-87f8-aa6252bf8900.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729153355876-a7ca5fed-7f69-4e14-82d7-b5d7aa717043.png\"></p>\n<h2 id=\"路由-VS-交换的园区网结构\"><a href=\"#路由-VS-交换的园区网结构\" class=\"headerlink\" title=\"路由 VS. 交换的园区网结构\"></a>路由 VS. 交换的园区网结构</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729162997065-d2ea58a5-246a-44d6-925d-3b16b41a0532.png\"></p>\n<ul>\n<li>在过去，交换是基于硬件的转发，而路由是基于软件的转发，因此园区网络更多的采用交换网络的设计</li>\n<li>而如今，路由已经几乎与交换一样快，也能够基于硬件做转发，与此同时路由的设计很好的解决了交换网络的二层环路问题，以及LAN的隔离问题</li>\n</ul>\n<h2 id=\"Switch-Virtual-interface（SVI）\"><a href=\"#Switch-Virtual-interface（SVI）\" class=\"headerlink\" title=\"Switch Virtual interface（SVI）\"></a>Switch Virtual interface（SVI）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163085261-9648ecce-8584-479f-a56a-bf5679c5b3bf.png\"></p>\n<h2 id=\"SVI-autostate-exclude-command\"><a href=\"#SVI-autostate-exclude-command\" class=\"headerlink\" title=\"SVI autostate exclude command\"></a>SVI autostate exclude command</h2><ul>\n<li>SVI口的Line-state在以下条件满足的情况下才会是UP<ul>\n<li>SVI对应的VLAN必须在vlan database中存在并且是激活的</li>\n<li>Vlan interface存在并且不能说administratively down的</li>\n<li>必须至少有一个二层接口（SVI对于VLAN的access接口或者trunk口）是UP的，而且必须是spanning-tree的forwarding状态</li>\n</ul>\n</li>\n<li>SVI autostate exclude特性可以让特定接口跳出上述up-and-down的计算过程，也就是说该接口的up down与SVI口的up down无关了</li>\n</ul>\n<p><code>Switch(config)# int f0/24</code></p>\n<p><code>Switch(config-if)# switchport auto-state exclude</code></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729164827120-91130c8c-63de-4e8f-8628-0259875e2c44.png\"></p>\n<h2 id=\"交换机管理VLAN\"><a href=\"#交换机管理VLAN\" class=\"headerlink\" title=\"交换机管理VLAN\"></a>交换机管理VLAN</h2><h3 id=\"二层交换机的管理VLAN\"><a href=\"#二层交换机的管理VLAN\" class=\"headerlink\" title=\"二层交换机的管理VLAN\"></a>二层交换机的管理VLAN</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165022772-166a0a14-8a04-4f1f-be6f-226ecbf1918a.png\"></p>\n<ul>\n<li>交换机的管理VLAN用于交换机本身的设备管理</li>\n<li>二层交换机只能有一个VLAN接口可以拥有IP地址，具体的VLAN可以根据实际需求选定</li>\n<li>有了这个VLAN接口，PC就能够telnet到交换机上执行管理操作</li>\n<li>用户VLAN与交换管理VLAN重叠会有什么问题？</li>\n</ul>\n<h3 id=\"三层交换环境的管理VLAN\"><a href=\"#三层交换环境的管理VLAN\" class=\"headerlink\" title=\"三层交换环境的管理VLAN\"></a>三层交换环境的管理VLAN</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729165215265-252a3155-b8c1-4065-9cc0-764a2291e798.png\"></p>\n<h2 id=\"三层交换机的端口模式\"><a href=\"#三层交换机的端口模式\" class=\"headerlink\" title=\"三层交换机的端口模式\"></a>三层交换机的端口模式</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729163463953-598b285c-b189-41f6-80b0-e3a5a7637588.png\"></p>\n<ul>\n<li>二层接口：access模式，trunk模式</li>\n<li>三层接口：路由接口（no switchport或称为routed port）、SVI接口</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Switch(config)# ip routing</span><br><span class=\"line\">#\t开启三层交换机路由功能</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# vlan 10</span><br><span class=\"line\">Switch(config-vlan)# name name</span><br><span class=\"line\"># 创建VLAN</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# int vlan 10 </span><br><span class=\"line\">Switch(config-Vlanif10)# ip add x.x.x.x mask </span><br><span class=\"line\">Switch(config-Vlanif10)# no sh</span><br><span class=\"line\">#\t配置VLAN对于SVI接口</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# int f0/1</span><br><span class=\"line\">Switch(config-if)# no switchport</span><br><span class=\"line\">Switch(config-if)# ip add x.x.x.x mask</span><br><span class=\"line\">Switch(config-if)# no sh</span><br><span class=\"line\">#\t配置no switchport（routed port）三层接口</span><br><span class=\"line\"></span><br><span class=\"line\">Switch(config)# ip route 0.0.0.0 0.0.0.0 x.x.x.x</span><br><span class=\"line\">#\t配置静态路由</span><br></pre></td></tr></table></figure>"},{"title":"BGP详解","summary":"酥米小机器人来啦，这篇文章介绍了BGP（边界网关路由协议）作为一种路径矢量协议，其主要功能是跨自治系统传输路由信息，支持承载大量路由（IGP仅千条）、VPN应用和强大策略路由能力。文章概述了BGP的V1、V2、V4和MBGP四个版本，以及企业连接ISP的连接方式如单宿、双宿、多宿和双双宿，并解释了三大使用理由：大规模路由处理、VPN支撑和灵活策略。对比IGP，BGP无拓扑发现，但通过AS_PATH机制防止环路，使用TCP端口179建立EBGP和IBGP邻居。核心内容包括AS定义、路由通告规则、同步机制、配置示例和维护方法，并探讨了关键属性如权重、本地优先级、AS路径和MED，强调了BGP在Internet中的关键作用和网络稳定性。","cover":"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730806229082-7508981d-6da2-4ef1-a7a8-12d8b9d550a9.jpeg","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## BGP概述\n+ BGP为BorderGateway Protgcol边界网关路由协议(路径矢量)\n+ 主要作用是在AS之间传递路由信息\n+ 目前BGR有4个版本:V1、V2、V4、V4+(即MBGP)\n+ 企业连接到SP\n    - 连接到两家或是多家ISP，提供链路的可靠性，连接方式如下\n    - 1.Single homed单宿:只连接到一家ISP且没有冗余链路\n    - 2.Dualhomed双宿:只连接到一家ISP，使用两条链路来提供冗余\n    - 3.Multihomed多宿:连接到多家ISP\n    - 4.DualMultihomed双多宿:连接到多家ISP，同时使用两条链路\n\n## 使用BGP的三大理由\n+ 大量路由需要承载，IGP只能容纳千条，而BGP可以容纳上万\n+ 支撑MPLS/VPN的应用，传递客户VPN路由\n+ 策略能力强，可以很好的实现路由决策与数据控制\n\n## IGP具有以下某些特性或者全部特性\n+ 执行拓扑发现\n+ 尽力完成快速收敛\n+ 需要周期性的更新来确保路由选择信息的精准性\n+ 受同一个管理机构的控制\n+ 采取共同的路由选择策略\n+ 提供了优先的策略控制能力\n\n## 关于BGP\n+ AS:autonomoussystem自治系统，指的是在同一个组织管理下使用相同策略的设备的集合\n+ 不同AS通过AS号区分，AS号取值范围1-65535，其中64512-65535是私有AS号。IANA负责AS号的分发。\n+ 中国电信163 AS号:4134\n+ 中国电信CN2 AS号:4809 \n+ 中国网通 AS号:9929\n\n## BGP的矢量特征\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730806229082-7508981d-6da2-4ef1-a7a8-12d8b9d550a9.jpeg)\n\n+ 路径矢量信息中包含一个BGP自治系统列表\n+ BGP路由器不接受路径列表中包含其AS号的路由更新，是**无环路**的\n+ BGP支持对BGP自治系统路径应用路由策略\n+ BGP路由器只能将其使用的路由通告给邻接自治系统中的对等体\n\n## BGP特征\n+ BGP使用TCP为输出层协议，TCP端口号为179\n+ BGP路由器之间建立TCP连接，这些路由器称为BGP对等体也叫BGP邻居：**<font style=\"color:#DF2A3F;\">EBGP、IBGP</font>**\n+ 对等体之间交换整个BGP路由表\n+ BGP路由器只发送增量更新或者触发更新（不会周期性更新）\n+ 具有丰富的路径属性\n+ BGP通告成千上万的路由，可采用TCP滑动窗口的机制，停止并等待确认前，可以发送65576个字节\n\n## BGP packets\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730807035348-b0a84008-40e6-4ca5-b299-e9f24f59896e.png)\n\n\n\n### 报文类型\n| 报文名称 | 作用是什么 | 什么时候发包 |\n| --- | --- | --- |\n| OPEN | 协商BGP邻居的各项参数，建立邻居关系 | 通过TCP建立BGP连接，发送open报文 |\n| UPDATE | 进行路由信息的交换 | 连接建立后，有路由需要发送或路由变化时，发送UPDATE通告对端路由信息 |\n| NOTIFICATION | 报告错误，终止邻居关系 | 当BGP在运行时发现错误时，要发送NOTIFICATION报文通报BGP对端 |\n| KEEPALIVE | 维持邻居关系 | 定时发送KEEPALIVE报文以保持BGP邻居关系的有效性 |\n| Route-refresh | 为保证网络稳定，触发更新路由的机制 | 当路由策略发生变化时，触发请求邻居重新通告路由 |\n\n\n## BGP的有限状态机\n| Peer状态名称 | 发什么包 | 在做什么 |\n| --- | --- | --- |\n| Idle | 尝试建立TCP连接 | 准备开始TCP的连接并监视远程peer启动TCP连接，启用BGP时，要准备足够的资源 |\n| Connect | 发TCP包 | 正在进行TCP连接，等待完成中，认证都在TCP建立期间完成的。如果TCP连接不上则进入Active状态，反复尝试连接 |\n| Active | 发TCP包 | TCP连接没建立成功，反复尝试TCP连接 |\n| OpenSent | 发Open包 | TCP连接建立已经成功，开始发送Open包，Open包携带参数协商对等体的建立 |\n| OpenConfim | 发Keepalive包 | 参数、能力特性协商成功，开始自己发送Keepalive包 |\n| Established | 发Update包 | 已经收到对方的Keepalive包，双方能力特性一致，开始使用Update通告路由信息 |\n\n\n## BGP Peer\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730809493082-98e0e6ca-f4f0-4d60-921c-277b67c3c35c.png)\n\n+ 运行BGP的路由器被称为BGP speaker\n+ BGP对等体也叫BGP邻居，建立基于TCP的关系\n+ EBGP：BGP位于不同自治相同的路由器之间，称为EBGP\n+ 建立EBGP邻接关系，必须满足三个条件\n    - EBGP之间自治系统号不同\n    - 定义邻居建立TCP会话\n    - neighbor中指定的IP地址要可达\n\n## 中转AS中的IBGP路由传递\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892076962-e019b9cc-49c5-4659-b378-ac6690db7cfa.png)\n\n### 全互联IBGP邻居关系\n+ IBGP全互联虽然能解决transit AS内的路由黑洞问题，但是却造成BGP路由器需要耗费大量资源维护大量BGP连接的新问题\n    - 路由反射器\n    - 联邦\n\n## IBGP水平分割原则\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892484804-5d4f1364-9a3c-4165-bd3e-40e75f989e0c.png)\n\n+ BGP防环是通过AS_PATH实现的，而AS_PATH仅仅实在路由离开后AS才会被更改，因此再AS内，IBGP就没有EBGP的防环能力，为了防止环路的出现，BGP路由器不会将从IBGP邻居学习过来的路由再通告给自己其他IBGP邻居\n+ 由于水平分割原则存在，BGP要求AS内，需保证IBGP全互联（neighbor命令 指定）\n+ （根本原因是在AS内部，AS_PATH不会改变，无法使用AS_PATH防环，因此很容易出现环路）\n\n## BGP路由通告规则\n+ 当存在多条路径时，BGP router只选取最优的路由（BEST）来使用（没有负载的情况下）\n+ BGP只把自己使用的路由，也就是自己认为Best的路由传递给BGP Peer\n+ BGP Speaker从EBGP获得的路由会向它所有的BGP相邻体通告（包括EBGP和IBGP）\n+ BGP Speaker从IBGP获得的路由不向它的IBGP相邻体通告（避免循环，水平分割；存在路由RR的情况下除外）\n+ BGP Speaker从IBGP获得的路由是否通告给它的EBGP Peer要视IGP和BGP同步的情况来决定\n\n## BGP同步\n+ BGP同步规则指出，BGP路由器不应使用通过IBGP获悉的路由或将其通告给外部邻居，除非该路由是本地或者通过IGP获悉的\n+ 思科Cisco IOS默认关闭同步\n+ 同步关闭，则BGP可以将使用这样的路由，并将其通告给外部BGP邻居：从IBGP邻居那里获悉的且没有出现在本地路由表中的路由\n+ 同步开启，则路由器通过IBGP获悉路由后，将等待IGP将该路由传遍整个自治系统，然后再将其通告给外部对等体\n\n## Tables\n+ BGP邻居表：邻居列表\n+ BGP表：包含了从邻居学习的所有路由，以及到达目的网段的多个路径和属性\n+ 路由表：列出了到达目的网段的最佳路径，EBGP路由AD为20，IBGP路由AD为200\n\n## Next-Hop\n+ BGP是AS·by-AS的路由协议，而不是router-by-router的路由协议\n+ 在BGP中，next-hop并不意味着是下一台路由器，而是到达下一个AS的IP地址\n+ EBGP中，默认next-hop为发送更新的邻居路由器的IP地址\n+ IBGP中，从EBGP传来的next-hop属性在IBGP中保持不变的被传递\n\n### 修改next-hop\n+ 为了防止路由黑洞问题，R1、R2、R3建立IBGP全互联且均用各自的LOOPBACK接口建立IBGP关系\n\n## 配置BGP\n### 基础配置\n`**Router(config)# router bgp** _autonomous-system_`\n\n+ 仅仅执行router bgp不能再路由器上激活BGP，必须执行至少一个子命令才能再路由器激活BGP进程\n+ 在路由器上职能配置一个BGP实例\n\n### 指定BGP邻居及激活BGP会话\n`Router(config-router)# neighbor {ip-address | peer-group-name } remote-as autonomous-system`\n\n+ 邻居指定的ip地址必须路由可达\n+ BGP路由都需手工指定，不能像IGP那样通过协议自动发现\n+ AS决定与邻居建立的是EBGP还是IBGP会话\n\n### 指定BGP将通告的网络\n`Router(config-router)#network network-number [mask network-mask] [route-map map-tag]`\n\n+ network命今与IGP不同，BGP命令network为通告哪些IP路由进BGP进程，而不是在接口上启用BGP \n+ network支持无类前缀，前缀必须与路由表中的条目完全匹配\n+ 如果不指定mask，只通告主类网络号，而且仅当主类网络中至少有一个子网出现在IP路由表中，BGP才会将该主类网络作为一条BGP路由通告\n+ 指定了mask，则仅当路由选择表中有与该网络完全匹配的条目时才被通告出去\n\n### BGP同步\n`Router(config-router)# no synchronization`\n\n+ 关闭同步(默认关闭)\n\n`Router(config-router)# synchronization`\n\n+ 开启同步\n\n### BGP router-id\n`Router(config-router)# bgp router-id x.x.x.x`\n\n+ 手工设置BGP routerlD\n\n### 示例1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894784939-f4d16b2c-c930-4ab1-a48c-c47743e91c9d.png)\n\n### 指定更新源\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894818299-aa7e1866-0994-4faa-88c4-156f792c9c65.png)\n\n### BGP身份验证\nRouter(config-router)# neighbor {ip-address | peer-group-name} password string\n\n+ BGP支持MD5邻居身份验证\n+ 启用身份验证后，将对通过的对等体之间的TCP连接传输所有的数据等进行验证\n+ 认证都是在TCP建立连接的时候完成的\n\n## 维护BGP\n+ 重置BGP会话\n+ 将新策略应用于所有路由，必须触发一个更新\n\n### 三种触发更新的方式\n+ 硬重置\n+ 软重置\n+ 路由刷新\n\n### 硬重置\n+ 断开相应TCP连接，通过这些会话收到的所有信息都将失效，并从BGP中删除\n+ （不建议优先使用硬路由，谨慎！这将删除数据，请三思而后行！！！！）\n    - `clear ip bgp {neighbor-address}`\n    - `clear ip bgp *`\n\n### 软重置\n+ 不拆除并重建TCP或者BGP连接，而是仅出发更新操作以便让新的路由策略生效\n+ 软重置可以仅由于出站或入站策略，也可同时用于出入站策略\n\n#### 出站软重置\n+ 不会拆除TCP连接，不会重置BGP会话，仅促发更新操作以便让新的路由策略生效（发送update消息）\n+ 需要修改出站策略时，建议使用该命令\n+ `clear ip bgp soft out`\n\n#### 入站软重置\n+ 本地发送route-refresh给所有的BGP邻居\n+ `clear ip bgp soft in`\n\n注：CISCOIOS 12.1开始全面支持入站路由的动态软重配置，但在之前的版本在使用入站软重配置之前必须首先在BGP进程中增加如下配置:neighbor x.x.x.x soft-reconfiguration inbound然后再使用clear ip bgp soft in命令这条命令会将x.x.x.x邻居发送过来的BGP路由存储在内存中，当配置入站软重置后，路由器不再向邻居发送更新请求，而是直接在内存中存储的路由中执行新配置的入站策略，以此来防止触发大批量的路由更新而造成资源的浪费，但是这种操作仍会耗费内存，因此在使用的时候要非常慎重。\n\n## BGP属性\n| 公认属性<br/>（Well-known） | 公认必遵<br/>（Well-known mandatory） | BGP 必须都能识别，且在更新消息必须包含 | Origin<br/>AS-Path<br/>Next hop |\n| --- | --- | --- | --- |\n| | 公认自决<br/>（Well-known discretionary） | BGP 必须都能识别，更新消息可包含可不包含 | Local-Preference<br/>ATOMIC_Aggregate |\n| 可选属性<br/>（Optional） | 可选传递<br/>（Optional transitive） | 可以不支持该属性，但即使不支持也应当接受包含该属性的路由并传递给其他邻居 | Community<br/>Aggregator |\n| | 可选非传递<br/>（Opinional non-transitive） | 可以不支持该属性，不识别的BGP进程可以忽略包含这个属性的更新消息，并且不传递给其他BGP邻居 | MED<br/>Originator_ID<br/>Cluster_list<br/>*Weight |\n\n\n## WEIGHT\n+ 在路由器本地配置，只提供本地路由策略，不会传播给任何BGP邻居\n+ 范围：0~65535；越大越优先\n+ 路由器本地始发的路径默认权重是32768，从其他BGP邻居学到的为0\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410361179-24230caa-4101-4214-b7b2-e36684c17565.png)\n\n## LOCAL PREFERENCE\n+ **<font style=\"color:#DF2A3F;\">公认自由决定属性</font>**\n+ 告诉AS中的路由器，哪条路径是离开AS的首选路径\n+ LP越高路径越优\n+ 只发送给IBGP邻居，而不能传给EBGP邻居\n+ 默认本地优先级为100\n+ ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410490396-d8420a3c-2906-416b-944d-863e909fac07.png)\n\n## AS-Path（公认强制属性）\n+ 是前往目标网络的路由经过的自治系统号列表，通告该路由的自治系统号位于列表末尾\n+ 作用：确认无环，通告时给EBGP时会加上自己的AS号；通告给IBGP时不修改AS-Path\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410691990-01881309-1058-46d1-a075-114e2b239fd1.png)\n\n### 四种类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411052266-03328819-94f7-4586-8077-d5e506eee364.png)\n\n+ **<font style=\"color:#DF2A3F;\">AS_SET</font>**：一个去往特定目的地所经路径上的无序AS列表\n+ **<font style=\"color:#DF2A3F;\">AS_SEQENCE</font>**：一个有序的AS号列表\n+ **<font style=\"color:#DF2A3F;\">AS_CONFED_SEQUENCE</font>**：一个去往特地目的地所经路径上的有序AS号列表，其用法与AS_SEQENCE完全一样，区别于该列表的AS号属于本地联邦中的AS\n+ **<font style=\"color:#DF2A3F;\">AS_CONFED_SET</font>**：一个去往特定目的地上的无序AS号列表，其用法与AS_SET一样，区别在于列表中的AS号属于本地联邦中的AA\n\n## Origin（公认强制属性）\n+ 标识路由的起源，有下列三种可能：\n    - i\t通过BGP network，也就是起源于IGP，因为BGP network必须保证该网络在路由表中\n    - e\t是由EGP这种早期协议重发布而来\n    - ？\tIncomplete，从其他渠道学习到的，路由来源不完全（确认该路由来源的信息不完全）。（重发布的路由）\n+ 路由优选顺序：lowest origin code（IGP>EGP>Incomplete）\n\n## MED（可选非传递属性）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411803897-0b6bf6f9-e658-48a4-a306-7a8d455526f8.png)\n\n+ 是一种度量值，用于外部邻居指出进入AS的首选路径，即当入口有多个时，自治系统可以使用MED动态的影响其他AS如何选择进入路径\n+ 度量值越小路径越优\n+ MED是在AS之间切换，MED发送给EBGP对等体。这些路由器在AS内传播MED，不传递给下一个AS\n+ 默认情况下，仅当路径来自同一个AS中的不同EBGP邻居时，路由器才比较他们的MED属性\n+ MED影响进入AS的数据流:LP影响离开AS的数据流\n\n### 比较原则及配置注意事项\n+ 本地在将一条BGP路由通告给EBGP Peer时，是否携带MED值,需要根据以下条件进行判断(不对EBGP Peer使用Route-map的情况下)\n    - 如果该BGP路由是本地始发(network或redistribute)的,则携带MED值发送给EBGP Peer(如果MED为空,则设置为0)\n    - 如果该BGP路由是从其他BGP Peer学习过来的，那么将该路由通告给EBGPPeer时不携带MED\n+ 本地在将一条BGP路由通告给IBGPPeer时，一定会携带MED值\n    - 如果接收或产生的路由的MED为空,那么在向IBGP Peer通告时,将MED设置为0\n+ 总结1、2两点就是MED在IBGP之间传递没有问题(不会丢失)，但是在EBGP之间传递要看路由是否起源于自己。\n\n## NEXT_HOP（公认强制属性）2\n+ 如果路由传递自EBGP peer\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412077866-bf31be10-26e7-4487-8738-b72ccc505e38.png)\n\n+ 如果路由传递自IBGP邻居，并描述的是AS外的目的地\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412193230-54295d0a-b300-4fea-bf2b-203de0f4a3e0.png)\n\n+ 如果路由传递自IBGP邻居，并由AS内BGP路由器引入\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412344784-f2e1be11-a76c-4738-9ecf-dc9a4e8884c9.png)\n\nTips：如果IBGP peer使用network或重发布的方式引入IGP路由，那么通告者将使用这些路由的IGP下一跳作为NH；如果这些路由是该IBGP peer配置的BGP汇总路由，则NH为其更新源IP。\n\n### On Shared Media\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413016975-73d4cf2b-a590-4d19-a73b-aeef941be1d8.png)\n\n+ RouterB将路由100.100.100.0/24传递给A，NEXT_HOP为10.1.123.2\n+ RouterA将路由100.100.100.0/24传递给C，此时NEXT_HOP保持不变\n+ 如果路由器收到某条BGP路由，该路由的NEXT_HOP地址值与EBGP邻居(更新对象)同属一个网段，那么该条路由的NEXTHOP地址将保持不变并传递给它的BGP邻居\n\n### On NBMA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413248307-5df17964-315e-4c31-8d2b-5b159d9bcf53.png)\n\n+ 如果中间的多路访问不是Ethernet，而是帧中继（NBMA）呢？\n\n## COMMUNITY\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731458979252-74a8f3c5-cb61-494c-8820-44d1f21f23cf.png)\n\n+ 可选传递属性\n+ 一种标记，用于简化路由策略的执行\n+ 可以将某些路由分配一个特定的COMMUNITY属性，之后就可以基于COMMUNITY值而不是每条路由进行BGP属性的设置了\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460387790-d039cfe4-b94c-44ce-a4f2-0d89f944d64a.png)\n\n### 几个众所周知的值\n```plain\nroute-map test permit 10\nset community ?\n<1-4294967295>\tcommunity number\naa:nn\t\t\t\t\t\tcommunity number in aa:nn format\nadditive\t\t\t\tAdd to the existing community\ninternet\t\t\t\tInternet (well-known community)\nlocal-AS\t\t\t\tDo not send outside local AS (well-known community)\nno-advertise\t\tDo not advertise to any peer (well-known community)\nno-export\t\t\t\tDo not export to next AS (well-known community)\nnone\t\t\t\t\t\tNo community attribute\n```\n\n\n\n**Route**\n\nCommunity=no-adv\n\nR2不会将该路由再通告给任何BGP peer\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460836560-e5a0cea7-a8fa-4bd1-a0d9-bbefda45b523.png)\n\n## Atomi_Aggregate及aggregator\n172.16.0.0/16\n\n汇总路由丢失明确路由的路径属性\n\n需要给下游邻居告警，并提示“汇总点”及汇总地AS\n\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1731461244712-db15a1db-b381-40ae-8c8e-83d80a966bf6.jpeg)\n\n`aggregate-address 172.16.0.0 255.255.0.0 summary-only`\n\n```plain\nR4# show ip bgp 172.16.0.0\nBGP routing table entry for 172.16.0.0/16, version 4\nPaths:(1 available, best #1, table Default-lP-Routing-Table)\nFlag:0x820\nNot advertised to any peer\n300,(aggregated by 300 3.3.3.3)\n10.1.34.3 from 10.1.34.3 (3.3.3.3)\nOrigin lGP, metric 0, localpref 100, valid, external,atomic-aggregate, best\n```\n\n### 报文案例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461667500-f2c080c5-fc71-4b5c-984c-22dcd23c405a.png)\n\n## BGP自动汇总\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461782082-4df50a90-5604-4b26-93cd-52ae719c6130.png)\n\n+ 若R1开启auto-summary，并用重发布直连的方式引入1.1.1.0/24，则该子网会被汇总\n+ 若R1开启auto-summary,且network1.1.1.0 mask 255.255.255.0，则仍以明细更新\n+ 若R1开启auto-summary,且network1.0.0.0 mask 255.0.0.0,则该子网会被汇总\n+ 上面这条network等同于network 1.0.0.0(network的有类宣告)\n\n**<font style=\"color:#DF2A3F;\">因此BGP自动汇总(auto-summary)只汇总重发布引入的路由，以及使用network命令有类宣告方式引入的路由。目前CISCO IOS默认关闭自动汇总。</font>**\n\n## <font style=\"color:#000000;\">BGP手动汇总</font>\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121752791-989f633a-4d0d-48dd-ac50-8335ac3782e9.png)\n\n+ 可以考虑在R3上创建静态的汇总路由\n\n`ip route 172.16.0.0 255.255.0.0 null0`\n\n+ 然后再将汇总路由network进BGP\n+ 不推荐此方法\n\n### 针对特定邻居取消抑制\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121996017-8e7e4481-a185-40b9-85c2-3742644693c5.png)\n\n```plain\naccess-ist 1 permit 172.16.1.0\nroute-map unsupp permit 10\n  match ip address 11\nrouter bgp 300\n  neighbor 10.1.35.5 unsuppress-map unsupp\n  aggregate-address 172.16.0.0 255.255.0.0 as-set summary-only\n```\n\n### advertise-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122218668-609b391f-86ce-4a69-9cd4-22e981484fd5.png)\n\n```plain\nip prefix-list list1 permit 172.16.1.0/24\nip prefix-list list1 permit 172.16.2.0/24\nroute-map adv permit 10\n  match ip address prefix-list list1\naggregate-address 172.16.0.0 255.255.0.0 summary-only as-set advertise-map adv\n```\n\n### attrubute-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122395149-ba69abf1-caa8-4996-a318-f50e5741822e.png)\n\n```plain\nroute-map attr permit 10\n  set ?\naggregate-address 172.16.0.0 255.255.0.0 summary-only as-set attribute-map attr\n```\n\n### 终方案\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122474434-007e0670-c4db-4dd8-9b54-e9c5ded166c2.png)\n\n```plain\naggregate-address 172.16.0.0 255.255.0.0 summary-only as-set\n```\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122543075-6fe96b97-2d36-4b13-9bd8-ec7c21098471.png)\n\n```plain\naccess-list 1 permit 172.16.2.0\naccess-list 1 permit 172.16.11.0\nroute-map suppmap permit 10\n  match ip address 1\naggregate-address 172.16.0.0 255.255.0.0 suppress-map suppmap\n```\n\n## 正则表达式\n+ 正则表达式（regular expresion）是按照一定的模板来匹配字符串的公式。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122792066-d45f8c40-28be-44fc-9ef2-fe1d61632c39.png)\n\n### 原子字符\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122829384-9067e136-8d1b-4941-a29a-d059b397d1ce.png)\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122859463-f2706ecb-995d-434a-adcd-fb3603038c63.png)\n\n### 乘法字符\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122918646-e2bfab69-bfb0-4d20-99e2-2e598f14cf10.png)\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122964843-3d32c0ca-e4f3-4de0-9ec0-3260d8a107af.png)\n\n+ 一个乘法字符可以应用于一个单字符或多个字符，如果用于多字符，需将字符串放入（ ）中\n\n### 范围字符\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122937086-5335bee7-7d2d-4911-b02c-c4bd1c6cdc3a.png)\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123043302-ae7c2612-b283-4ed8-be08-c8ed67973230.png)\n\n### 使用正则表达式匹配AS_PATH\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123094575-e9208cd3-efbf-46e1-92d6-728495dcb98d.png)\n\n+ AS_PATH可以当作字符串并使用正则表达式进行匹配\n+ String中的 \"__\" 为空格，这也是一个字符，也有可能被匹配\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123298715-383afd98-b548-4353-bc46-54d9ee5187f6.png)\n\n+ 注意as-path access-list也是默认含隐拒绝所有\n\n### 使用as-path access-list 匹配路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123415356-86bd5433-a930-4f66-a9a1-7d144b63fec7.png)\n\n#### 示例1 搭配filter-list\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123497581-877d75ef-a72f-4ab8-aa0a-e4a792edcf90.png)\n\n+ 在R3上可做策略\n\n```plain\nip as-path access-ist 1deny _600$\nip as-path access-list 1 permit .*\nrouter bgp 300\n  neighbor 10.1.23.2 filter-list 1 in\n```\n\n#### 示例2 搭配route-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123628617-406b7486-d886-41d5-9ed5-115603b2032f.png)\n\n+ R3可做策略\n\n```plain\nip as-path access-ist 1 permit _600$\nroute-map setCommu permit 10\n  match as-path 1\n  set community no-advertise\nroute-map setCommu permit 10\n\nrouter bgp 300\n  neighbor 10.1.23.2 route-map setcommu in\n```\n\n### 配置命令\n`Router(config)# ip as-path access-list num {permit|deny} regexp`\n\n+ 配置as-path access-list\n\n`Router(config-router)# neighbor x.x.x.x filter-list as-path-filter {inlout}`\n\n+ 关联as-path access-list到filter-list，起到路由过滤作用\n\n#### 验证及查看\n`Router# show ip as-path-access-list`\n\n+ 查看配置的 as-path access-list\n\n`Router# show ip bgp regexp xx`\n\n+ 显示BGP表中所有被该正则表达式匹配上的路由，这是一个非常不错的工具\n\n`Router# show ip bgp filter-list access-list-num`\n\n+ 显示BGP表中所有被该filter-list匹配的路由\n\n## 通告community操控路由\n### BGP Communities\n+ BGP communities是一种路由标记方法，用于确保路由过滤和选择的连续性\n+ 可选传递属性，不支持该属性的BGP router原封不动的将community值传递给下游BGP邻居\n\n### Community\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124090787-e2d027b9-f95b-466a-b5e8-86d7bdb3805c.png)\n\n+ 使用全局配置命令切换：\n\n`ip bgp-community new-format`\n\n### BGP路径操纵\n#### 设置Community\n```plain\nroute-map test permit 10\nset community ?\n<1-4294967295>\t\tcommunity number\naa:nn\t\t\t\t\t\t\tcommunity number in aa:nn format\nadditive\t\t\t\t\tAdd to the existing community\ninternet\t\t\t\t\tInternet(well-known community)\nlocal-AS\t\t\t\t\tDo not send outside local AS (well-known community)\nno-advertise\t\t\tDo not advertise to any peer (well-known community)\nno-export\t\t\t\t\tDo not export to next AS (well-known community)\nnone\t\t\t\t\t\t\tNo community attribute\n```\n\n### 总所周知的值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124385448-cf61fcfb-a43e-4fb0-b8af-97b8e047e12d.png)\n\n**Route**\n\n+ Community=local-as\n+ 该路由只能在本AS内传递（如果定义了联邦，则为只在联邦成员AS传递）\n\n### 为路由前缀分配Community\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124481538-4caea059-33d5-4c50-89d2-305d5b25bf67.png)\n\n+ R1配置如下：\n\n```plain\nip prefix-ist 11 permit 11.11.11.0/24\nroute-map test permit 10\n  match ip address prefix-list 11\n  set community 100:11\n  \nrouter bgp 100\n  network 11.11.11.0 mask 255.255.255.0\n  neighbor 10.1.12.2 remote-as 200\n  neighbor 10.1.12.2 send-community\n  neighbor 10.1.12.2 route-map test out\n```\n\n### 为路由前缀分配多个Community\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124672973-08971d75-7687-4f0c-a733-782014d85b5c.png)\n\n+ R2的配置如下：\n\n```plain\nip community-ist 11 permit 100:11\nroute-map test permit 10\n  match community 11\n  set community no-export additive\n\nrouter bgp 200\n  neighbor 10.1.12.1 remote-as 100\n  neighbor 10.1.23.3 remote-as 300\n  neighbor 10.1.23.3 send-community\n  neighbor 10.1.23.3 route-map test out\n```\n\n### 为路由前缀分配多个Community（cont.）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124846029-37b26bce-3e5b-41e6-949a-f6f5eca0889c.png)\n\n+ R3上查看11.11.11.0的BGP路由：\n\n```plain\nR3#sh ip b 11.11.11.0\nBGP routing table entry for 11.11.11.0/24,version 5\nPaths:(1 available, best #1, table Default-P-Routing-Table, not advertised\nto EBGP peer)\nFlag:0x820\n  Not advertised to any peer\n  200 100\n    10.1.23.2 from 10.1.23.2 10.1.23.2)\n    Origin lGP, localpref 100, valid, external, best\n    Community:100:11 no-export\n```\n\n### 用community-list匹配团体属性\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124981265-f03cbe06-2d35-4141-82f4-4bc934728879.png)\n\n`lp community-list 1 permit 100:11`\n\n+ 匹配。匹配community中包含100:11的路由\n\n`lp community-list 1 permit 100:11 no-adv`\n\n+ 不匹配。要求100:11及no-adv两者都有才匹配成立\n\n`lp community-list 1 permit 100:11`\n\n`Ip community-list 1 permit no-export(或将no-export换成no-adv)`\n\n+ 匹配。只要community中包含100:11或no-export\n\n### 用community-list匹配团体属性（cont.）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125149714-85e3e77c-fab0-4cb2-aae7-d89f093f56c3.png)\n\n`ip community-list 12 permit internet`\n\n+ 所有路由默认都属于internet\n\n### 用community-list匹配团体属性 严格匹配\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125250291-e5171d9b-624d-4446-b988-3117e17dd97d.png)\n\n```plain\nlp community-list 11 permit no-export\nroute-map test permit 10\nmatch community 11 exact-match\t\t// 严格匹配\n严格匹配community属性为no-export的路由，多一点，少一点都不行\n\nShow lp community-ist 1 [exact-match]\n查看community-list 1\n```\n\n### 删除某个或多个community值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125335491-71efe10e-6c26-4e45-afe6-6f30821e8c97.png)\n\n+ **一条路由，允许携带多个community值，构成一个community列表，那么如何删除某个或者某几个community值?譬如只想删除11路由的no-export属性**\n\n```plain\nip community-list standard del permit no-export\t\t// 匹配要删除的commu值\nroute-map test permit 10\n  set comm-list del delete\t\t// 用这条命令删除\n```\n\n### 删除多个community值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125474298-a0ab0f1a-bc22-46f8-bce2-e8fcd77cebf0.png)\n\n```plain\nip community-list standard del permit no-export\t\t// 用多行community-list\nip community-list standard del permit 100:11\t\t// 用多行community-list\nroute-map test permit 10\n  set comm-list del delete\n```\n\n### 配置community-list\n`lp community-list 1-99 permit|deny value [value...]`\n\n定义标准的community-list，使用internet关键字匹配任何community\n\n`lp community-list 100-199 permit|deny regexp`\n\n定义扩展的community-list，可使用正则表达式匹配community\n\n`show ip community-list`\n\n查看配置的community-list\n\n`show ip bgp x.x.x.x`\n\n查看BGP路由的详细信息，包括community\n\n## Prefix-list\n### 配置实例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125724825-5fc79afd-ba57-4220-a7e3-c07cbc16d21f.png)\n\n+ R2上，过滤掉12.12.12.0/24路由，其他放行\n\n```plain\nR2(config)# ip prefix-list 12 deny 12.12.12.0/24\nR2(config)# ip prefix-list 12 permit 0.0.0.0/0 le 32\nR2(config)# router bgp 12\nR2(config-router)# neighbor 10.1.23.3 prefix-list 12 out\n```\n\n## distribute-list\n### 配置实例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125796770-bb717766-917b-4aca-9dce-e03e43310a11.png)\n\n+ R2上，过滤掉12.12.12.0/24路由，其他放行\n\n```plain\nR2(config)# access-ist 1 deny 12.12.12.0\nR2(config)# access-list 1 permit any\nR2(config)# router bgp 12\nR2(config-router)# neighbor 10.1.23.3 distribute-list 1 out\n```\n\n## Route-map\n### 可以在以下的BGP命令中使用route-map关键字\n+ neighbor\n+ bgp dampening\n+ network\n+ redistribute\n\n### 可以为特定的目的在不同的命令中调用定义好的route-map\n+ suppress-map\n+ unsuppress-map\n+ advertise-map\n+ inject-map\n+ exist-map\n+ non-exist-map\n+ tabel-map\n\n### match语句能匹配\n+ Access-list\n+ Ip prefix-list\n+ Ip next-hop\n+ local-preference\n+ metric\n+ Tag\n+ AS PATH\n+ BGP community\n+ IGP route-type(internal/external)\n\n### set语句能设置\n+ Origin\n+ Weight\n+ BGP community\n+ LOCAL PREFERENCE\n+ MED\n\n### 配置实例 关联network 执行策略\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126321432-30b4a9e2-5670-4e5c-b28e-b11d6398051b.png)\n\n+ _**R1上，network引入路由时设置路径属性**_\n\n```plain\nip prefix-list 11 permit 11.11.11.0/24\nip prefix-ist 12 permit 12.12.12.0/24\nroute-map RP1 permit 10\n  set community 100:11\nroute-map RP2 permit 20\n  set community 100:12\nrouter bgp 100\n  network 11.11.11.0 mask 255.255.255.0 route-map RP1\n  network 12.12.12.0 mask 255.255.255.0 route-map RP2\n  neighbor 10.1.12.2 send-community\n```\n\n+ **该策略对所有BGP邻居有效**\n\n### 关联neighbor，针对特定邻居执行策略\n**R1上，对R2传递路由时，设定MED属性值**\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126749376-550e409c-c6c6-419c-8ca7-fa6ec14c3a1d.png)\n\n```plain\nip prefix-list 11 permit 11.11.11.0/24\nip prefix-list 12 permit 12.12.12.0/24\nroute-map RP permit 10\n  match ip address 11\n  set metric 1000\nroute-map RP permit 20\n  match ip address 12\n  set metric 2000\nrouter bgp 100\n  neighbor 10.1.12.2 route-map RP out\n```\n\n### 配置实例 重发布关联route-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126794524-8909f174-b61c-467b-9e8e-4a56528ab197.png)\n\n**R2上，将OSPF路由重发布进BGP**\n\n```plain\nrouter bgp 200\nredistribute ospf 1 route-map RP match ?\nneighbor 10.1.12.1 remote-as 100\nno auto-summary\n```\n\n**redistribute ospf 1**\n\n+ 默认只重发布Intra-Area及Inter-Area路由\n+ match extemnal只重发布E1及E2\n+ match external 1只重发布E1;external 2只重发布E2\n+ match nssa-external 只重发布NSSA外部路由\n\n### Policy-list\n+ 可预先将包含一组match语句的route-map定义成一个命令列表，这个列表称为policy-list\n+ 这些policy-list可以在route-map中被调用\n+ 一个policy-list就像个只包含match语句的route-map当route-map被执行，被其调用的policy-list中所包含的match语句将一并被遍历且执行match动作\n+ 这是一种在大中型网络中运用、使得配置“模块化”的特性\n\n#### 特性\n+ Ipv6不支持\n+ 12.0(22)S 和12.2(15)T之前的CISCOIOS版本不支持该特性，另外更老的IOS版本的路由器重启存在路由策略配置丢失的风险\n+ Policy-list中不能包含set语句，但是它被route-map调用后，该route-map中可以包含set语句\n+ Policy-list只在BGP中支持，其他的IP路由协议并不支持这个特性\n\n#### 配置\n```plain\nip policy-list as100 permit\n  match as-path 1\n  match community 1\n```\n\n+ 上述命令创建一个policy-list\n+ Policy-list只能包含match语句\n\n```plain\nroute-map RP permit 10\n  match policy-list as100\n  match ip address prefix-list 100\n  set local-preference 300\n```\n\n+ 上述命令在route-map中调用定义好的policy-list\n+ 一个route-map中可调用多个policy-list\n\n## ORF\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127261820-c5da6b86-80e8-429d-bc1a-2a6100b878e4.png)\n\n### 配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127420812-f87e5d92-541e-4e91-91ee-8da2c7342e7e.png)\n\n+ R2的配置（sender）\n\n```plain\nrouter bgp 12\n  address-family ipv4 unicast\n  neighbor 10.1.12.1 capability orf prefix-ist send\n  neighbor 10.1.12.1 prefix-list FILTER in\n\nip prefix-ist FlLTER deny 1.1.1.0/24\nip prefix-list FlLTER permit\n```\n\n+ R1的配置（receiver）\n\n```plain\nrouter bgp 12\n  address-family ipv4 unicast\n  neighbor 10.1.12.2 capability orf prefix-list receive\n```\n\n+ 注意：省去基本配置，如手工指定BGP邻居\n\n### 一些\n+ ORF消息包含以下内容\n    - AFl/SAFlipv4 unicast\n    - ORF TYPE\n    - When to refresh\n    - List of ORF entries\n+ ORF类型不同，ORFentries也不尽相同\n+ 每种ORF类型都需要进行ORF能力的协商\n\n## 路由拆分 BGP Deaggregation\n### 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127855820-e4b03bc3-1426-46bb-b770-6e35ac5f0b46.png)\n\n### 配置\n+ Conditional inject的配置如下(BGP路由选择进程模式下)\n\n`bgp inject-map map1 exist-map map2 [copy attributes]`\n\n+ 上述命令的意思是当map2所匹配的汇总路由正常时，在本地BGP RIB中注入map1中定义的明细路由。\n+ 当汇总路由挂掉，这条明细也就跟着消失，这就是所谓的条件注入-conditional injection。\n+ 下面我们在看来一下这两个route-map的详细内容，这些是需要格外注意的。\n+ exist-map使用的route-map最少具有以下两个match语句\n\n`match ip address prefix-list`\n\n+ 上面这条match语句用来匹配汇总路由\n\n`match ip route-source`\n\n+ 上面这条match语句用来匹配发送该汇总路由的邻居IP。如果指定了copyattributes选项，那么被inject的明细路由会继承汇总路由的路径属性，否则明细将被当成本地生成的路由。\n+ Inject-map使用的route-map中\n\n`Set ip address prefix-list`\n\n+ 上面的这条set命令用来定义将被注入到本地BGPRIB的明细路由。被注入的前缀可以使用\n\n`Show ip bgpinjected-path`\n\n+ 来显示\n\n## 路由反射器\n### 中转AS中的IBGP问题\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138789405-9509b338-52b2-4cd0-b7b8-716ee84b829a.png)\n\n+ AS内要求IBGP全互联（IBGP水平分割）\n+ BGP routers\n    - 需维护大量的TCP和BGP链接\n    - 网络中充斥着BGP路由信息\n+ 解决方案\n    - 路由反射器\n    - BGP联邦\n\n### 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138923248-9e3c4eb2-ccea-4481-8feb-28e80a14bd4e.png)\n\n+ 因为IBGP水平分割原则，导致AS内部需要维护大量的BGP链接（要求IBGP全互联），从而影响网络性能，路由反射器可以“放宽”水平分割原则，缓解该问题\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139053948-4ababdc6-fc58-4813-a03b-65e6b92fa662.png)\n\n+ Route Reflector\n+ Client\n\n### 联邦内的BGP路由路径属性\n+ 在联邦内部保留外部路由的NEXT_HOP属性\n+ 公布给联邦的路由的MED属性在整个联邦范围内予以保留\n+ 路由的LP属性在整个联邦范围内予以保留\n+ 在联邦范围内，将成员AS号压入AS PATH，但不公布到联邦外，并且使用TYPE3、4的AS PATH\n+ AS PATH中的联邦成员AS号用于在联邦内部避免环路;联邦内成员AS号不参与AS PATH长度计算\n\n### 路由反射原则\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139094878-a409c072-6d0f-48f0-8f54-d88dc4810e2a.png)\n\n+ 如果路由学习自非client IBGP对等体，则反射给所有client\n+ 如果路由学习自—client，则反射给所有非client IBGP邻居和除了该client以外的所有client\n+ 如果路由学习自EBGP邻居，则发送给所有的client和非client IBGP邻居\n\n### 实例1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139249267-49816366-cad0-4367-bc94-0694daae41ae.png)\n\n+ 如果路由学习自一client，则反射给所有非client IBGP邻居和除了该client以外的所有client\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139304799-ced25330-ed76-4b30-8385-39709a182131.png)\n\n+ 如果路由学习至自client IBG对等体，则反射给所有的client\n\n### 路由反射器下的防环\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139376642-4f17a413-a0ac-4a12-b60a-b5f67e6af3da.png)\n\n+ 由于AS PATH属性在AS内部不会发生变化(仅当路由离开本AS才会被更新)，因此AS内才有水平分割的机制用于防止环路，而路由反射器实际上是放宽了水平分割原则，这个就会给环路带来一定的隐患，因此路由反射器需使用以下两个属性防止环路ORIGINATOR ID和CLUSTER LIST是路由反射器使用的可选非传递属性，用来防止环路。\n\n### Originator_ID、Cluster_list\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140109190-57da2edc-e4e2-44dd-859d-498ca74c3909.png)\n\n#### Originator_ID\n+ 每当一条路由被路由反射器反射时，该路由的始发IBGP路由器的Router-ID将会被存在路由的originator_ID属性中\n+ 当一台路由器收到IBGP路由且其originatorID与该路由器的RouterID相同，则路由器忽略该条路由\n+ Originator_ID及Cluster-list属性将会影响BGP路径决策\n\n#### Originator_ID的值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140502948-58450af4-a6d4-4764-b425-43380d718b4b.png)\n\n### 路由反射原则\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140292005-dd4b4b29-9070-492d-9038-64a94ac51f6e.png)\n\n+ 如果路由学习自非client lBGP对等体，则反射给所有client\n+ 如果路由学习自一client，则反射给所有非ctientIBGP邻居和除了该client以外的所有client\n+ 如果路由学习自EBGP邻居，则发送给所有client和非clientIBGP邻居\n\n### 路由反射簇\n+ 路由反射簇包括反射器及其Client\n+ 每一个簇都有唯一的簇ID\n+ 每当一条路由被反射器反射后，该反射器(该簇)的ClusterID就会被添加至路由的Cluster list属性中\n+ 每当反射器收到一条Cluster list属性已经包含该簇的ClusterID的路由时，该路由基于防环的目的将不被反射\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140660257-05943ad7-9a7c-4dab-af52-05dac354ea2b.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140718784-4731164f-0b69-4428-b4ff-cbeeaab41843.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140920126-45d22e04-6ac7-4ea2-b433-4ecf734da20a.png)\n\n### 路由反射器冗余\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733141230441-a00716c4-3db4-4a6c-9fb7-535cd4ebe1d1.png)\n\n+ 冗余RR增加了网络的健壮性\n+ 使用Originator IDCluster_list属性来在冗余RR环境中避免路由环路。\n+ 例如将两个RR 的Cluster_ID配置为一样，那么可以起到进一步的防环作用\n+ 所有的RR之间建议采用IBGP全互联\n+ Client会收到来自两个RR反射的路由，如何决策 ?\n\n### BGP选路规则\n1. 优选具有最大Weight值的路由\n2. 优选具有最大Local Pref值的路由\n3. 优选起源于本地的路由(如本地networkaggregate或redistribute的)即下一跳是0.0.0.0(在BGP 表中,当前路由器通告的路由的下一跳为0.0.0.0)\n4. 优选AS-Path最短的路由\n5. Origin(IGP >EGP>Incomplete )\n6. 优选MED最小的路由，默认情况下仅有当所有的备选路由来自同一AS才会比较MED\n7. 优选EBGP邻居发来的路由(相对于IBGP邻居学过来的)，在联邦EBGP和IBGP中首选联邦EBGP 路由\n8. 优选到BGP NEXT HOP最近的邻居\n9. 如果有多条来自相同相邻AS的路由并通过Maximum-paths 使多条路径可用,则将所有开销相同的路由放入Loc-RIB\n10. 优选最老的EBGP路由，降低滚翻的影响(此条主要对EBGP路由起效，但是现在基本不用该条，因不确定性太大)\n11. BGP 邻居的RID越小越优先\n12. 优选Cluster-List 最短的路由\n13. 选择邻居ip地址(BGP的neighbor配置中的那个地址)最小的路由\n\n## 优选MED最小的路由\n### MED属性设置方法\n+ 将IGP路由引入BGP时关联Route-map进行设置\n+ 对BGP Peer应用IN/OUT方向的Route-map进行设置\n+ 非Route-map(自动)方式\n    - 使用network或redistribute方式将IGP路由引入BGP时,MED将继承IGP路由的Metric(直联路由及静态路由的Metric为0)\n    - 使用aggregate-address方式引入路由，则MED为空\n\n### MED注意事项\n+ 默认情况下，只比较来自同一邻居AS的BGP路由的MED值，就是说如果同一个目的地的两条路由来自不同的AS，则不进行MED值的比较。如果仍然希望比较来自不同邻接AS的路由，可使用如下命令\n+ `bgp always-compare-med`\n+ MED只是在直接相连的自治系统间影响业务量，而不会跨AS传递\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733208543904-53fea48b-83db-441b-964d-f8c27e92a6ee.png)\n\n## BGP负载均衡\n+ 当前面的8条选路原则都无法优选出最优路由时，并且在BGP进程下面配置了maximum-paths[ibgp]n,n的取值为2-6,那么将执行等价负载均衡，也就是将这些等代价的BGP路径都放进IP路由表使用，但是要注意，虽然这些路径在本地都用了，最终却只有一条BGP路径是best最优的。具备等价负载均衡条件的候选路径需满足如下条件:\n    - 必须有相同的路径属性，如weight、LP、AS PATH(不仅是长度，整个AS PATH包括AS号都要相同)、origincode、MED及IGP的Distance值\n    - 每一条路径的下一跳都不相同\n\n__","source":"_posts/CCNP/CCNP路由 BGP.md","raw":"---\ntitle: BGP详解\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了BGP（边界网关路由协议）作为一种路径矢量协议，其主要功能是跨自治系统传输路由信息，支持承载大量路由（IGP仅千条）、VPN应用和强大策略路由能力。文章概述了BGP的V1、V2、V4和MBGP四个版本，以及企业连接ISP的连接方式如单宿、双宿、多宿和双双宿，并解释了三大使用理由：大规模路由处理、VPN支撑和灵活策略。对比IGP，BGP无拓扑发现，但通过AS_PATH机制防止环路，使用TCP端口179建立EBGP和IBGP邻居。核心内容包括AS定义、路由通告规则、同步机制、配置示例和维护方法，并探讨了关键属性如权重、本地优先级、AS路径和MED，强调了BGP在Internet中的关键作用和网络稳定性。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730806229082-7508981d-6da2-4ef1-a7a8-12d8b9d550a9.jpeg\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## BGP概述\n+ BGP为BorderGateway Protgcol边界网关路由协议(路径矢量)\n+ 主要作用是在AS之间传递路由信息\n+ 目前BGR有4个版本:V1、V2、V4、V4+(即MBGP)\n+ 企业连接到SP\n    - 连接到两家或是多家ISP，提供链路的可靠性，连接方式如下\n    - 1.Single homed单宿:只连接到一家ISP且没有冗余链路\n    - 2.Dualhomed双宿:只连接到一家ISP，使用两条链路来提供冗余\n    - 3.Multihomed多宿:连接到多家ISP\n    - 4.DualMultihomed双多宿:连接到多家ISP，同时使用两条链路\n\n## 使用BGP的三大理由\n+ 大量路由需要承载，IGP只能容纳千条，而BGP可以容纳上万\n+ 支撑MPLS/VPN的应用，传递客户VPN路由\n+ 策略能力强，可以很好的实现路由决策与数据控制\n\n## IGP具有以下某些特性或者全部特性\n+ 执行拓扑发现\n+ 尽力完成快速收敛\n+ 需要周期性的更新来确保路由选择信息的精准性\n+ 受同一个管理机构的控制\n+ 采取共同的路由选择策略\n+ 提供了优先的策略控制能力\n\n## 关于BGP\n+ AS:autonomoussystem自治系统，指的是在同一个组织管理下使用相同策略的设备的集合\n+ 不同AS通过AS号区分，AS号取值范围1-65535，其中64512-65535是私有AS号。IANA负责AS号的分发。\n+ 中国电信163 AS号:4134\n+ 中国电信CN2 AS号:4809 \n+ 中国网通 AS号:9929\n\n## BGP的矢量特征\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730806229082-7508981d-6da2-4ef1-a7a8-12d8b9d550a9.jpeg)\n\n+ 路径矢量信息中包含一个BGP自治系统列表\n+ BGP路由器不接受路径列表中包含其AS号的路由更新，是**无环路**的\n+ BGP支持对BGP自治系统路径应用路由策略\n+ BGP路由器只能将其使用的路由通告给邻接自治系统中的对等体\n\n## BGP特征\n+ BGP使用TCP为输出层协议，TCP端口号为179\n+ BGP路由器之间建立TCP连接，这些路由器称为BGP对等体也叫BGP邻居：**<font style=\"color:#DF2A3F;\">EBGP、IBGP</font>**\n+ 对等体之间交换整个BGP路由表\n+ BGP路由器只发送增量更新或者触发更新（不会周期性更新）\n+ 具有丰富的路径属性\n+ BGP通告成千上万的路由，可采用TCP滑动窗口的机制，停止并等待确认前，可以发送65576个字节\n\n## BGP packets\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730807035348-b0a84008-40e6-4ca5-b299-e9f24f59896e.png)\n\n\n\n### 报文类型\n| 报文名称 | 作用是什么 | 什么时候发包 |\n| --- | --- | --- |\n| OPEN | 协商BGP邻居的各项参数，建立邻居关系 | 通过TCP建立BGP连接，发送open报文 |\n| UPDATE | 进行路由信息的交换 | 连接建立后，有路由需要发送或路由变化时，发送UPDATE通告对端路由信息 |\n| NOTIFICATION | 报告错误，终止邻居关系 | 当BGP在运行时发现错误时，要发送NOTIFICATION报文通报BGP对端 |\n| KEEPALIVE | 维持邻居关系 | 定时发送KEEPALIVE报文以保持BGP邻居关系的有效性 |\n| Route-refresh | 为保证网络稳定，触发更新路由的机制 | 当路由策略发生变化时，触发请求邻居重新通告路由 |\n\n\n## BGP的有限状态机\n| Peer状态名称 | 发什么包 | 在做什么 |\n| --- | --- | --- |\n| Idle | 尝试建立TCP连接 | 准备开始TCP的连接并监视远程peer启动TCP连接，启用BGP时，要准备足够的资源 |\n| Connect | 发TCP包 | 正在进行TCP连接，等待完成中，认证都在TCP建立期间完成的。如果TCP连接不上则进入Active状态，反复尝试连接 |\n| Active | 发TCP包 | TCP连接没建立成功，反复尝试TCP连接 |\n| OpenSent | 发Open包 | TCP连接建立已经成功，开始发送Open包，Open包携带参数协商对等体的建立 |\n| OpenConfim | 发Keepalive包 | 参数、能力特性协商成功，开始自己发送Keepalive包 |\n| Established | 发Update包 | 已经收到对方的Keepalive包，双方能力特性一致，开始使用Update通告路由信息 |\n\n\n## BGP Peer\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730809493082-98e0e6ca-f4f0-4d60-921c-277b67c3c35c.png)\n\n+ 运行BGP的路由器被称为BGP speaker\n+ BGP对等体也叫BGP邻居，建立基于TCP的关系\n+ EBGP：BGP位于不同自治相同的路由器之间，称为EBGP\n+ 建立EBGP邻接关系，必须满足三个条件\n    - EBGP之间自治系统号不同\n    - 定义邻居建立TCP会话\n    - neighbor中指定的IP地址要可达\n\n## 中转AS中的IBGP路由传递\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892076962-e019b9cc-49c5-4659-b378-ac6690db7cfa.png)\n\n### 全互联IBGP邻居关系\n+ IBGP全互联虽然能解决transit AS内的路由黑洞问题，但是却造成BGP路由器需要耗费大量资源维护大量BGP连接的新问题\n    - 路由反射器\n    - 联邦\n\n## IBGP水平分割原则\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892484804-5d4f1364-9a3c-4165-bd3e-40e75f989e0c.png)\n\n+ BGP防环是通过AS_PATH实现的，而AS_PATH仅仅实在路由离开后AS才会被更改，因此再AS内，IBGP就没有EBGP的防环能力，为了防止环路的出现，BGP路由器不会将从IBGP邻居学习过来的路由再通告给自己其他IBGP邻居\n+ 由于水平分割原则存在，BGP要求AS内，需保证IBGP全互联（neighbor命令 指定）\n+ （根本原因是在AS内部，AS_PATH不会改变，无法使用AS_PATH防环，因此很容易出现环路）\n\n## BGP路由通告规则\n+ 当存在多条路径时，BGP router只选取最优的路由（BEST）来使用（没有负载的情况下）\n+ BGP只把自己使用的路由，也就是自己认为Best的路由传递给BGP Peer\n+ BGP Speaker从EBGP获得的路由会向它所有的BGP相邻体通告（包括EBGP和IBGP）\n+ BGP Speaker从IBGP获得的路由不向它的IBGP相邻体通告（避免循环，水平分割；存在路由RR的情况下除外）\n+ BGP Speaker从IBGP获得的路由是否通告给它的EBGP Peer要视IGP和BGP同步的情况来决定\n\n## BGP同步\n+ BGP同步规则指出，BGP路由器不应使用通过IBGP获悉的路由或将其通告给外部邻居，除非该路由是本地或者通过IGP获悉的\n+ 思科Cisco IOS默认关闭同步\n+ 同步关闭，则BGP可以将使用这样的路由，并将其通告给外部BGP邻居：从IBGP邻居那里获悉的且没有出现在本地路由表中的路由\n+ 同步开启，则路由器通过IBGP获悉路由后，将等待IGP将该路由传遍整个自治系统，然后再将其通告给外部对等体\n\n## Tables\n+ BGP邻居表：邻居列表\n+ BGP表：包含了从邻居学习的所有路由，以及到达目的网段的多个路径和属性\n+ 路由表：列出了到达目的网段的最佳路径，EBGP路由AD为20，IBGP路由AD为200\n\n## Next-Hop\n+ BGP是AS·by-AS的路由协议，而不是router-by-router的路由协议\n+ 在BGP中，next-hop并不意味着是下一台路由器，而是到达下一个AS的IP地址\n+ EBGP中，默认next-hop为发送更新的邻居路由器的IP地址\n+ IBGP中，从EBGP传来的next-hop属性在IBGP中保持不变的被传递\n\n### 修改next-hop\n+ 为了防止路由黑洞问题，R1、R2、R3建立IBGP全互联且均用各自的LOOPBACK接口建立IBGP关系\n\n## 配置BGP\n### 基础配置\n`**Router(config)# router bgp** _autonomous-system_`\n\n+ 仅仅执行router bgp不能再路由器上激活BGP，必须执行至少一个子命令才能再路由器激活BGP进程\n+ 在路由器上职能配置一个BGP实例\n\n### 指定BGP邻居及激活BGP会话\n`Router(config-router)# neighbor {ip-address | peer-group-name } remote-as autonomous-system`\n\n+ 邻居指定的ip地址必须路由可达\n+ BGP路由都需手工指定，不能像IGP那样通过协议自动发现\n+ AS决定与邻居建立的是EBGP还是IBGP会话\n\n### 指定BGP将通告的网络\n`Router(config-router)#network network-number [mask network-mask] [route-map map-tag]`\n\n+ network命今与IGP不同，BGP命令network为通告哪些IP路由进BGP进程，而不是在接口上启用BGP \n+ network支持无类前缀，前缀必须与路由表中的条目完全匹配\n+ 如果不指定mask，只通告主类网络号，而且仅当主类网络中至少有一个子网出现在IP路由表中，BGP才会将该主类网络作为一条BGP路由通告\n+ 指定了mask，则仅当路由选择表中有与该网络完全匹配的条目时才被通告出去\n\n### BGP同步\n`Router(config-router)# no synchronization`\n\n+ 关闭同步(默认关闭)\n\n`Router(config-router)# synchronization`\n\n+ 开启同步\n\n### BGP router-id\n`Router(config-router)# bgp router-id x.x.x.x`\n\n+ 手工设置BGP routerlD\n\n### 示例1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894784939-f4d16b2c-c930-4ab1-a48c-c47743e91c9d.png)\n\n### 指定更新源\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894818299-aa7e1866-0994-4faa-88c4-156f792c9c65.png)\n\n### BGP身份验证\nRouter(config-router)# neighbor {ip-address | peer-group-name} password string\n\n+ BGP支持MD5邻居身份验证\n+ 启用身份验证后，将对通过的对等体之间的TCP连接传输所有的数据等进行验证\n+ 认证都是在TCP建立连接的时候完成的\n\n## 维护BGP\n+ 重置BGP会话\n+ 将新策略应用于所有路由，必须触发一个更新\n\n### 三种触发更新的方式\n+ 硬重置\n+ 软重置\n+ 路由刷新\n\n### 硬重置\n+ 断开相应TCP连接，通过这些会话收到的所有信息都将失效，并从BGP中删除\n+ （不建议优先使用硬路由，谨慎！这将删除数据，请三思而后行！！！！）\n    - `clear ip bgp {neighbor-address}`\n    - `clear ip bgp *`\n\n### 软重置\n+ 不拆除并重建TCP或者BGP连接，而是仅出发更新操作以便让新的路由策略生效\n+ 软重置可以仅由于出站或入站策略，也可同时用于出入站策略\n\n#### 出站软重置\n+ 不会拆除TCP连接，不会重置BGP会话，仅促发更新操作以便让新的路由策略生效（发送update消息）\n+ 需要修改出站策略时，建议使用该命令\n+ `clear ip bgp soft out`\n\n#### 入站软重置\n+ 本地发送route-refresh给所有的BGP邻居\n+ `clear ip bgp soft in`\n\n注：CISCOIOS 12.1开始全面支持入站路由的动态软重配置，但在之前的版本在使用入站软重配置之前必须首先在BGP进程中增加如下配置:neighbor x.x.x.x soft-reconfiguration inbound然后再使用clear ip bgp soft in命令这条命令会将x.x.x.x邻居发送过来的BGP路由存储在内存中，当配置入站软重置后，路由器不再向邻居发送更新请求，而是直接在内存中存储的路由中执行新配置的入站策略，以此来防止触发大批量的路由更新而造成资源的浪费，但是这种操作仍会耗费内存，因此在使用的时候要非常慎重。\n\n## BGP属性\n| 公认属性<br/>（Well-known） | 公认必遵<br/>（Well-known mandatory） | BGP 必须都能识别，且在更新消息必须包含 | Origin<br/>AS-Path<br/>Next hop |\n| --- | --- | --- | --- |\n| | 公认自决<br/>（Well-known discretionary） | BGP 必须都能识别，更新消息可包含可不包含 | Local-Preference<br/>ATOMIC_Aggregate |\n| 可选属性<br/>（Optional） | 可选传递<br/>（Optional transitive） | 可以不支持该属性，但即使不支持也应当接受包含该属性的路由并传递给其他邻居 | Community<br/>Aggregator |\n| | 可选非传递<br/>（Opinional non-transitive） | 可以不支持该属性，不识别的BGP进程可以忽略包含这个属性的更新消息，并且不传递给其他BGP邻居 | MED<br/>Originator_ID<br/>Cluster_list<br/>*Weight |\n\n\n## WEIGHT\n+ 在路由器本地配置，只提供本地路由策略，不会传播给任何BGP邻居\n+ 范围：0~65535；越大越优先\n+ 路由器本地始发的路径默认权重是32768，从其他BGP邻居学到的为0\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410361179-24230caa-4101-4214-b7b2-e36684c17565.png)\n\n## LOCAL PREFERENCE\n+ **<font style=\"color:#DF2A3F;\">公认自由决定属性</font>**\n+ 告诉AS中的路由器，哪条路径是离开AS的首选路径\n+ LP越高路径越优\n+ 只发送给IBGP邻居，而不能传给EBGP邻居\n+ 默认本地优先级为100\n+ ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410490396-d8420a3c-2906-416b-944d-863e909fac07.png)\n\n## AS-Path（公认强制属性）\n+ 是前往目标网络的路由经过的自治系统号列表，通告该路由的自治系统号位于列表末尾\n+ 作用：确认无环，通告时给EBGP时会加上自己的AS号；通告给IBGP时不修改AS-Path\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410691990-01881309-1058-46d1-a075-114e2b239fd1.png)\n\n### 四种类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411052266-03328819-94f7-4586-8077-d5e506eee364.png)\n\n+ **<font style=\"color:#DF2A3F;\">AS_SET</font>**：一个去往特定目的地所经路径上的无序AS列表\n+ **<font style=\"color:#DF2A3F;\">AS_SEQENCE</font>**：一个有序的AS号列表\n+ **<font style=\"color:#DF2A3F;\">AS_CONFED_SEQUENCE</font>**：一个去往特地目的地所经路径上的有序AS号列表，其用法与AS_SEQENCE完全一样，区别于该列表的AS号属于本地联邦中的AS\n+ **<font style=\"color:#DF2A3F;\">AS_CONFED_SET</font>**：一个去往特定目的地上的无序AS号列表，其用法与AS_SET一样，区别在于列表中的AS号属于本地联邦中的AA\n\n## Origin（公认强制属性）\n+ 标识路由的起源，有下列三种可能：\n    - i\t通过BGP network，也就是起源于IGP，因为BGP network必须保证该网络在路由表中\n    - e\t是由EGP这种早期协议重发布而来\n    - ？\tIncomplete，从其他渠道学习到的，路由来源不完全（确认该路由来源的信息不完全）。（重发布的路由）\n+ 路由优选顺序：lowest origin code（IGP>EGP>Incomplete）\n\n## MED（可选非传递属性）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411803897-0b6bf6f9-e658-48a4-a306-7a8d455526f8.png)\n\n+ 是一种度量值，用于外部邻居指出进入AS的首选路径，即当入口有多个时，自治系统可以使用MED动态的影响其他AS如何选择进入路径\n+ 度量值越小路径越优\n+ MED是在AS之间切换，MED发送给EBGP对等体。这些路由器在AS内传播MED，不传递给下一个AS\n+ 默认情况下，仅当路径来自同一个AS中的不同EBGP邻居时，路由器才比较他们的MED属性\n+ MED影响进入AS的数据流:LP影响离开AS的数据流\n\n### 比较原则及配置注意事项\n+ 本地在将一条BGP路由通告给EBGP Peer时，是否携带MED值,需要根据以下条件进行判断(不对EBGP Peer使用Route-map的情况下)\n    - 如果该BGP路由是本地始发(network或redistribute)的,则携带MED值发送给EBGP Peer(如果MED为空,则设置为0)\n    - 如果该BGP路由是从其他BGP Peer学习过来的，那么将该路由通告给EBGPPeer时不携带MED\n+ 本地在将一条BGP路由通告给IBGPPeer时，一定会携带MED值\n    - 如果接收或产生的路由的MED为空,那么在向IBGP Peer通告时,将MED设置为0\n+ 总结1、2两点就是MED在IBGP之间传递没有问题(不会丢失)，但是在EBGP之间传递要看路由是否起源于自己。\n\n## NEXT_HOP（公认强制属性）2\n+ 如果路由传递自EBGP peer\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412077866-bf31be10-26e7-4487-8738-b72ccc505e38.png)\n\n+ 如果路由传递自IBGP邻居，并描述的是AS外的目的地\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412193230-54295d0a-b300-4fea-bf2b-203de0f4a3e0.png)\n\n+ 如果路由传递自IBGP邻居，并由AS内BGP路由器引入\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412344784-f2e1be11-a76c-4738-9ecf-dc9a4e8884c9.png)\n\nTips：如果IBGP peer使用network或重发布的方式引入IGP路由，那么通告者将使用这些路由的IGP下一跳作为NH；如果这些路由是该IBGP peer配置的BGP汇总路由，则NH为其更新源IP。\n\n### On Shared Media\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413016975-73d4cf2b-a590-4d19-a73b-aeef941be1d8.png)\n\n+ RouterB将路由100.100.100.0/24传递给A，NEXT_HOP为10.1.123.2\n+ RouterA将路由100.100.100.0/24传递给C，此时NEXT_HOP保持不变\n+ 如果路由器收到某条BGP路由，该路由的NEXT_HOP地址值与EBGP邻居(更新对象)同属一个网段，那么该条路由的NEXTHOP地址将保持不变并传递给它的BGP邻居\n\n### On NBMA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413248307-5df17964-315e-4c31-8d2b-5b159d9bcf53.png)\n\n+ 如果中间的多路访问不是Ethernet，而是帧中继（NBMA）呢？\n\n## COMMUNITY\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731458979252-74a8f3c5-cb61-494c-8820-44d1f21f23cf.png)\n\n+ 可选传递属性\n+ 一种标记，用于简化路由策略的执行\n+ 可以将某些路由分配一个特定的COMMUNITY属性，之后就可以基于COMMUNITY值而不是每条路由进行BGP属性的设置了\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460387790-d039cfe4-b94c-44ce-a4f2-0d89f944d64a.png)\n\n### 几个众所周知的值\n```plain\nroute-map test permit 10\nset community ?\n<1-4294967295>\tcommunity number\naa:nn\t\t\t\t\t\tcommunity number in aa:nn format\nadditive\t\t\t\tAdd to the existing community\ninternet\t\t\t\tInternet (well-known community)\nlocal-AS\t\t\t\tDo not send outside local AS (well-known community)\nno-advertise\t\tDo not advertise to any peer (well-known community)\nno-export\t\t\t\tDo not export to next AS (well-known community)\nnone\t\t\t\t\t\tNo community attribute\n```\n\n\n\n**Route**\n\nCommunity=no-adv\n\nR2不会将该路由再通告给任何BGP peer\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460836560-e5a0cea7-a8fa-4bd1-a0d9-bbefda45b523.png)\n\n## Atomi_Aggregate及aggregator\n172.16.0.0/16\n\n汇总路由丢失明确路由的路径属性\n\n需要给下游邻居告警，并提示“汇总点”及汇总地AS\n\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1731461244712-db15a1db-b381-40ae-8c8e-83d80a966bf6.jpeg)\n\n`aggregate-address 172.16.0.0 255.255.0.0 summary-only`\n\n```plain\nR4# show ip bgp 172.16.0.0\nBGP routing table entry for 172.16.0.0/16, version 4\nPaths:(1 available, best #1, table Default-lP-Routing-Table)\nFlag:0x820\nNot advertised to any peer\n300,(aggregated by 300 3.3.3.3)\n10.1.34.3 from 10.1.34.3 (3.3.3.3)\nOrigin lGP, metric 0, localpref 100, valid, external,atomic-aggregate, best\n```\n\n### 报文案例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461667500-f2c080c5-fc71-4b5c-984c-22dcd23c405a.png)\n\n## BGP自动汇总\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461782082-4df50a90-5604-4b26-93cd-52ae719c6130.png)\n\n+ 若R1开启auto-summary，并用重发布直连的方式引入1.1.1.0/24，则该子网会被汇总\n+ 若R1开启auto-summary,且network1.1.1.0 mask 255.255.255.0，则仍以明细更新\n+ 若R1开启auto-summary,且network1.0.0.0 mask 255.0.0.0,则该子网会被汇总\n+ 上面这条network等同于network 1.0.0.0(network的有类宣告)\n\n**<font style=\"color:#DF2A3F;\">因此BGP自动汇总(auto-summary)只汇总重发布引入的路由，以及使用network命令有类宣告方式引入的路由。目前CISCO IOS默认关闭自动汇总。</font>**\n\n## <font style=\"color:#000000;\">BGP手动汇总</font>\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121752791-989f633a-4d0d-48dd-ac50-8335ac3782e9.png)\n\n+ 可以考虑在R3上创建静态的汇总路由\n\n`ip route 172.16.0.0 255.255.0.0 null0`\n\n+ 然后再将汇总路由network进BGP\n+ 不推荐此方法\n\n### 针对特定邻居取消抑制\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121996017-8e7e4481-a185-40b9-85c2-3742644693c5.png)\n\n```plain\naccess-ist 1 permit 172.16.1.0\nroute-map unsupp permit 10\n  match ip address 11\nrouter bgp 300\n  neighbor 10.1.35.5 unsuppress-map unsupp\n  aggregate-address 172.16.0.0 255.255.0.0 as-set summary-only\n```\n\n### advertise-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122218668-609b391f-86ce-4a69-9cd4-22e981484fd5.png)\n\n```plain\nip prefix-list list1 permit 172.16.1.0/24\nip prefix-list list1 permit 172.16.2.0/24\nroute-map adv permit 10\n  match ip address prefix-list list1\naggregate-address 172.16.0.0 255.255.0.0 summary-only as-set advertise-map adv\n```\n\n### attrubute-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122395149-ba69abf1-caa8-4996-a318-f50e5741822e.png)\n\n```plain\nroute-map attr permit 10\n  set ?\naggregate-address 172.16.0.0 255.255.0.0 summary-only as-set attribute-map attr\n```\n\n### 终方案\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122474434-007e0670-c4db-4dd8-9b54-e9c5ded166c2.png)\n\n```plain\naggregate-address 172.16.0.0 255.255.0.0 summary-only as-set\n```\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122543075-6fe96b97-2d36-4b13-9bd8-ec7c21098471.png)\n\n```plain\naccess-list 1 permit 172.16.2.0\naccess-list 1 permit 172.16.11.0\nroute-map suppmap permit 10\n  match ip address 1\naggregate-address 172.16.0.0 255.255.0.0 suppress-map suppmap\n```\n\n## 正则表达式\n+ 正则表达式（regular expresion）是按照一定的模板来匹配字符串的公式。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122792066-d45f8c40-28be-44fc-9ef2-fe1d61632c39.png)\n\n### 原子字符\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122829384-9067e136-8d1b-4941-a29a-d059b397d1ce.png)\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122859463-f2706ecb-995d-434a-adcd-fb3603038c63.png)\n\n### 乘法字符\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122918646-e2bfab69-bfb0-4d20-99e2-2e598f14cf10.png)\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122964843-3d32c0ca-e4f3-4de0-9ec0-3260d8a107af.png)\n\n+ 一个乘法字符可以应用于一个单字符或多个字符，如果用于多字符，需将字符串放入（ ）中\n\n### 范围字符\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122937086-5335bee7-7d2d-4911-b02c-c4bd1c6cdc3a.png)\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123043302-ae7c2612-b283-4ed8-be08-c8ed67973230.png)\n\n### 使用正则表达式匹配AS_PATH\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123094575-e9208cd3-efbf-46e1-92d6-728495dcb98d.png)\n\n+ AS_PATH可以当作字符串并使用正则表达式进行匹配\n+ String中的 \"__\" 为空格，这也是一个字符，也有可能被匹配\n\n#### 示例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123298715-383afd98-b548-4353-bc46-54d9ee5187f6.png)\n\n+ 注意as-path access-list也是默认含隐拒绝所有\n\n### 使用as-path access-list 匹配路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123415356-86bd5433-a930-4f66-a9a1-7d144b63fec7.png)\n\n#### 示例1 搭配filter-list\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123497581-877d75ef-a72f-4ab8-aa0a-e4a792edcf90.png)\n\n+ 在R3上可做策略\n\n```plain\nip as-path access-ist 1deny _600$\nip as-path access-list 1 permit .*\nrouter bgp 300\n  neighbor 10.1.23.2 filter-list 1 in\n```\n\n#### 示例2 搭配route-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123628617-406b7486-d886-41d5-9ed5-115603b2032f.png)\n\n+ R3可做策略\n\n```plain\nip as-path access-ist 1 permit _600$\nroute-map setCommu permit 10\n  match as-path 1\n  set community no-advertise\nroute-map setCommu permit 10\n\nrouter bgp 300\n  neighbor 10.1.23.2 route-map setcommu in\n```\n\n### 配置命令\n`Router(config)# ip as-path access-list num {permit|deny} regexp`\n\n+ 配置as-path access-list\n\n`Router(config-router)# neighbor x.x.x.x filter-list as-path-filter {inlout}`\n\n+ 关联as-path access-list到filter-list，起到路由过滤作用\n\n#### 验证及查看\n`Router# show ip as-path-access-list`\n\n+ 查看配置的 as-path access-list\n\n`Router# show ip bgp regexp xx`\n\n+ 显示BGP表中所有被该正则表达式匹配上的路由，这是一个非常不错的工具\n\n`Router# show ip bgp filter-list access-list-num`\n\n+ 显示BGP表中所有被该filter-list匹配的路由\n\n## 通告community操控路由\n### BGP Communities\n+ BGP communities是一种路由标记方法，用于确保路由过滤和选择的连续性\n+ 可选传递属性，不支持该属性的BGP router原封不动的将community值传递给下游BGP邻居\n\n### Community\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124090787-e2d027b9-f95b-466a-b5e8-86d7bdb3805c.png)\n\n+ 使用全局配置命令切换：\n\n`ip bgp-community new-format`\n\n### BGP路径操纵\n#### 设置Community\n```plain\nroute-map test permit 10\nset community ?\n<1-4294967295>\t\tcommunity number\naa:nn\t\t\t\t\t\t\tcommunity number in aa:nn format\nadditive\t\t\t\t\tAdd to the existing community\ninternet\t\t\t\t\tInternet(well-known community)\nlocal-AS\t\t\t\t\tDo not send outside local AS (well-known community)\nno-advertise\t\t\tDo not advertise to any peer (well-known community)\nno-export\t\t\t\t\tDo not export to next AS (well-known community)\nnone\t\t\t\t\t\t\tNo community attribute\n```\n\n### 总所周知的值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124385448-cf61fcfb-a43e-4fb0-b8af-97b8e047e12d.png)\n\n**Route**\n\n+ Community=local-as\n+ 该路由只能在本AS内传递（如果定义了联邦，则为只在联邦成员AS传递）\n\n### 为路由前缀分配Community\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124481538-4caea059-33d5-4c50-89d2-305d5b25bf67.png)\n\n+ R1配置如下：\n\n```plain\nip prefix-ist 11 permit 11.11.11.0/24\nroute-map test permit 10\n  match ip address prefix-list 11\n  set community 100:11\n  \nrouter bgp 100\n  network 11.11.11.0 mask 255.255.255.0\n  neighbor 10.1.12.2 remote-as 200\n  neighbor 10.1.12.2 send-community\n  neighbor 10.1.12.2 route-map test out\n```\n\n### 为路由前缀分配多个Community\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124672973-08971d75-7687-4f0c-a733-782014d85b5c.png)\n\n+ R2的配置如下：\n\n```plain\nip community-ist 11 permit 100:11\nroute-map test permit 10\n  match community 11\n  set community no-export additive\n\nrouter bgp 200\n  neighbor 10.1.12.1 remote-as 100\n  neighbor 10.1.23.3 remote-as 300\n  neighbor 10.1.23.3 send-community\n  neighbor 10.1.23.3 route-map test out\n```\n\n### 为路由前缀分配多个Community（cont.）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124846029-37b26bce-3e5b-41e6-949a-f6f5eca0889c.png)\n\n+ R3上查看11.11.11.0的BGP路由：\n\n```plain\nR3#sh ip b 11.11.11.0\nBGP routing table entry for 11.11.11.0/24,version 5\nPaths:(1 available, best #1, table Default-P-Routing-Table, not advertised\nto EBGP peer)\nFlag:0x820\n  Not advertised to any peer\n  200 100\n    10.1.23.2 from 10.1.23.2 10.1.23.2)\n    Origin lGP, localpref 100, valid, external, best\n    Community:100:11 no-export\n```\n\n### 用community-list匹配团体属性\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124981265-f03cbe06-2d35-4141-82f4-4bc934728879.png)\n\n`lp community-list 1 permit 100:11`\n\n+ 匹配。匹配community中包含100:11的路由\n\n`lp community-list 1 permit 100:11 no-adv`\n\n+ 不匹配。要求100:11及no-adv两者都有才匹配成立\n\n`lp community-list 1 permit 100:11`\n\n`Ip community-list 1 permit no-export(或将no-export换成no-adv)`\n\n+ 匹配。只要community中包含100:11或no-export\n\n### 用community-list匹配团体属性（cont.）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125149714-85e3e77c-fab0-4cb2-aae7-d89f093f56c3.png)\n\n`ip community-list 12 permit internet`\n\n+ 所有路由默认都属于internet\n\n### 用community-list匹配团体属性 严格匹配\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125250291-e5171d9b-624d-4446-b988-3117e17dd97d.png)\n\n```plain\nlp community-list 11 permit no-export\nroute-map test permit 10\nmatch community 11 exact-match\t\t// 严格匹配\n严格匹配community属性为no-export的路由，多一点，少一点都不行\n\nShow lp community-ist 1 [exact-match]\n查看community-list 1\n```\n\n### 删除某个或多个community值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125335491-71efe10e-6c26-4e45-afe6-6f30821e8c97.png)\n\n+ **一条路由，允许携带多个community值，构成一个community列表，那么如何删除某个或者某几个community值?譬如只想删除11路由的no-export属性**\n\n```plain\nip community-list standard del permit no-export\t\t// 匹配要删除的commu值\nroute-map test permit 10\n  set comm-list del delete\t\t// 用这条命令删除\n```\n\n### 删除多个community值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125474298-a0ab0f1a-bc22-46f8-bce2-e8fcd77cebf0.png)\n\n```plain\nip community-list standard del permit no-export\t\t// 用多行community-list\nip community-list standard del permit 100:11\t\t// 用多行community-list\nroute-map test permit 10\n  set comm-list del delete\n```\n\n### 配置community-list\n`lp community-list 1-99 permit|deny value [value...]`\n\n定义标准的community-list，使用internet关键字匹配任何community\n\n`lp community-list 100-199 permit|deny regexp`\n\n定义扩展的community-list，可使用正则表达式匹配community\n\n`show ip community-list`\n\n查看配置的community-list\n\n`show ip bgp x.x.x.x`\n\n查看BGP路由的详细信息，包括community\n\n## Prefix-list\n### 配置实例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125724825-5fc79afd-ba57-4220-a7e3-c07cbc16d21f.png)\n\n+ R2上，过滤掉12.12.12.0/24路由，其他放行\n\n```plain\nR2(config)# ip prefix-list 12 deny 12.12.12.0/24\nR2(config)# ip prefix-list 12 permit 0.0.0.0/0 le 32\nR2(config)# router bgp 12\nR2(config-router)# neighbor 10.1.23.3 prefix-list 12 out\n```\n\n## distribute-list\n### 配置实例\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125796770-bb717766-917b-4aca-9dce-e03e43310a11.png)\n\n+ R2上，过滤掉12.12.12.0/24路由，其他放行\n\n```plain\nR2(config)# access-ist 1 deny 12.12.12.0\nR2(config)# access-list 1 permit any\nR2(config)# router bgp 12\nR2(config-router)# neighbor 10.1.23.3 distribute-list 1 out\n```\n\n## Route-map\n### 可以在以下的BGP命令中使用route-map关键字\n+ neighbor\n+ bgp dampening\n+ network\n+ redistribute\n\n### 可以为特定的目的在不同的命令中调用定义好的route-map\n+ suppress-map\n+ unsuppress-map\n+ advertise-map\n+ inject-map\n+ exist-map\n+ non-exist-map\n+ tabel-map\n\n### match语句能匹配\n+ Access-list\n+ Ip prefix-list\n+ Ip next-hop\n+ local-preference\n+ metric\n+ Tag\n+ AS PATH\n+ BGP community\n+ IGP route-type(internal/external)\n\n### set语句能设置\n+ Origin\n+ Weight\n+ BGP community\n+ LOCAL PREFERENCE\n+ MED\n\n### 配置实例 关联network 执行策略\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126321432-30b4a9e2-5670-4e5c-b28e-b11d6398051b.png)\n\n+ _**R1上，network引入路由时设置路径属性**_\n\n```plain\nip prefix-list 11 permit 11.11.11.0/24\nip prefix-ist 12 permit 12.12.12.0/24\nroute-map RP1 permit 10\n  set community 100:11\nroute-map RP2 permit 20\n  set community 100:12\nrouter bgp 100\n  network 11.11.11.0 mask 255.255.255.0 route-map RP1\n  network 12.12.12.0 mask 255.255.255.0 route-map RP2\n  neighbor 10.1.12.2 send-community\n```\n\n+ **该策略对所有BGP邻居有效**\n\n### 关联neighbor，针对特定邻居执行策略\n**R1上，对R2传递路由时，设定MED属性值**\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126749376-550e409c-c6c6-419c-8ca7-fa6ec14c3a1d.png)\n\n```plain\nip prefix-list 11 permit 11.11.11.0/24\nip prefix-list 12 permit 12.12.12.0/24\nroute-map RP permit 10\n  match ip address 11\n  set metric 1000\nroute-map RP permit 20\n  match ip address 12\n  set metric 2000\nrouter bgp 100\n  neighbor 10.1.12.2 route-map RP out\n```\n\n### 配置实例 重发布关联route-map\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126794524-8909f174-b61c-467b-9e8e-4a56528ab197.png)\n\n**R2上，将OSPF路由重发布进BGP**\n\n```plain\nrouter bgp 200\nredistribute ospf 1 route-map RP match ?\nneighbor 10.1.12.1 remote-as 100\nno auto-summary\n```\n\n**redistribute ospf 1**\n\n+ 默认只重发布Intra-Area及Inter-Area路由\n+ match extemnal只重发布E1及E2\n+ match external 1只重发布E1;external 2只重发布E2\n+ match nssa-external 只重发布NSSA外部路由\n\n### Policy-list\n+ 可预先将包含一组match语句的route-map定义成一个命令列表，这个列表称为policy-list\n+ 这些policy-list可以在route-map中被调用\n+ 一个policy-list就像个只包含match语句的route-map当route-map被执行，被其调用的policy-list中所包含的match语句将一并被遍历且执行match动作\n+ 这是一种在大中型网络中运用、使得配置“模块化”的特性\n\n#### 特性\n+ Ipv6不支持\n+ 12.0(22)S 和12.2(15)T之前的CISCOIOS版本不支持该特性，另外更老的IOS版本的路由器重启存在路由策略配置丢失的风险\n+ Policy-list中不能包含set语句，但是它被route-map调用后，该route-map中可以包含set语句\n+ Policy-list只在BGP中支持，其他的IP路由协议并不支持这个特性\n\n#### 配置\n```plain\nip policy-list as100 permit\n  match as-path 1\n  match community 1\n```\n\n+ 上述命令创建一个policy-list\n+ Policy-list只能包含match语句\n\n```plain\nroute-map RP permit 10\n  match policy-list as100\n  match ip address prefix-list 100\n  set local-preference 300\n```\n\n+ 上述命令在route-map中调用定义好的policy-list\n+ 一个route-map中可调用多个policy-list\n\n## ORF\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127261820-c5da6b86-80e8-429d-bc1a-2a6100b878e4.png)\n\n### 配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127420812-f87e5d92-541e-4e91-91ee-8da2c7342e7e.png)\n\n+ R2的配置（sender）\n\n```plain\nrouter bgp 12\n  address-family ipv4 unicast\n  neighbor 10.1.12.1 capability orf prefix-ist send\n  neighbor 10.1.12.1 prefix-list FILTER in\n\nip prefix-ist FlLTER deny 1.1.1.0/24\nip prefix-list FlLTER permit\n```\n\n+ R1的配置（receiver）\n\n```plain\nrouter bgp 12\n  address-family ipv4 unicast\n  neighbor 10.1.12.2 capability orf prefix-list receive\n```\n\n+ 注意：省去基本配置，如手工指定BGP邻居\n\n### 一些\n+ ORF消息包含以下内容\n    - AFl/SAFlipv4 unicast\n    - ORF TYPE\n    - When to refresh\n    - List of ORF entries\n+ ORF类型不同，ORFentries也不尽相同\n+ 每种ORF类型都需要进行ORF能力的协商\n\n## 路由拆分 BGP Deaggregation\n### 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127855820-e4b03bc3-1426-46bb-b770-6e35ac5f0b46.png)\n\n### 配置\n+ Conditional inject的配置如下(BGP路由选择进程模式下)\n\n`bgp inject-map map1 exist-map map2 [copy attributes]`\n\n+ 上述命令的意思是当map2所匹配的汇总路由正常时，在本地BGP RIB中注入map1中定义的明细路由。\n+ 当汇总路由挂掉，这条明细也就跟着消失，这就是所谓的条件注入-conditional injection。\n+ 下面我们在看来一下这两个route-map的详细内容，这些是需要格外注意的。\n+ exist-map使用的route-map最少具有以下两个match语句\n\n`match ip address prefix-list`\n\n+ 上面这条match语句用来匹配汇总路由\n\n`match ip route-source`\n\n+ 上面这条match语句用来匹配发送该汇总路由的邻居IP。如果指定了copyattributes选项，那么被inject的明细路由会继承汇总路由的路径属性，否则明细将被当成本地生成的路由。\n+ Inject-map使用的route-map中\n\n`Set ip address prefix-list`\n\n+ 上面的这条set命令用来定义将被注入到本地BGPRIB的明细路由。被注入的前缀可以使用\n\n`Show ip bgpinjected-path`\n\n+ 来显示\n\n## 路由反射器\n### 中转AS中的IBGP问题\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138789405-9509b338-52b2-4cd0-b7b8-716ee84b829a.png)\n\n+ AS内要求IBGP全互联（IBGP水平分割）\n+ BGP routers\n    - 需维护大量的TCP和BGP链接\n    - 网络中充斥着BGP路由信息\n+ 解决方案\n    - 路由反射器\n    - BGP联邦\n\n### 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138923248-9e3c4eb2-ccea-4481-8feb-28e80a14bd4e.png)\n\n+ 因为IBGP水平分割原则，导致AS内部需要维护大量的BGP链接（要求IBGP全互联），从而影响网络性能，路由反射器可以“放宽”水平分割原则，缓解该问题\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139053948-4ababdc6-fc58-4813-a03b-65e6b92fa662.png)\n\n+ Route Reflector\n+ Client\n\n### 联邦内的BGP路由路径属性\n+ 在联邦内部保留外部路由的NEXT_HOP属性\n+ 公布给联邦的路由的MED属性在整个联邦范围内予以保留\n+ 路由的LP属性在整个联邦范围内予以保留\n+ 在联邦范围内，将成员AS号压入AS PATH，但不公布到联邦外，并且使用TYPE3、4的AS PATH\n+ AS PATH中的联邦成员AS号用于在联邦内部避免环路;联邦内成员AS号不参与AS PATH长度计算\n\n### 路由反射原则\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139094878-a409c072-6d0f-48f0-8f54-d88dc4810e2a.png)\n\n+ 如果路由学习自非client IBGP对等体，则反射给所有client\n+ 如果路由学习自—client，则反射给所有非client IBGP邻居和除了该client以外的所有client\n+ 如果路由学习自EBGP邻居，则发送给所有的client和非client IBGP邻居\n\n### 实例1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139249267-49816366-cad0-4367-bc94-0694daae41ae.png)\n\n+ 如果路由学习自一client，则反射给所有非client IBGP邻居和除了该client以外的所有client\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139304799-ced25330-ed76-4b30-8385-39709a182131.png)\n\n+ 如果路由学习至自client IBG对等体，则反射给所有的client\n\n### 路由反射器下的防环\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139376642-4f17a413-a0ac-4a12-b60a-b5f67e6af3da.png)\n\n+ 由于AS PATH属性在AS内部不会发生变化(仅当路由离开本AS才会被更新)，因此AS内才有水平分割的机制用于防止环路，而路由反射器实际上是放宽了水平分割原则，这个就会给环路带来一定的隐患，因此路由反射器需使用以下两个属性防止环路ORIGINATOR ID和CLUSTER LIST是路由反射器使用的可选非传递属性，用来防止环路。\n\n### Originator_ID、Cluster_list\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140109190-57da2edc-e4e2-44dd-859d-498ca74c3909.png)\n\n#### Originator_ID\n+ 每当一条路由被路由反射器反射时，该路由的始发IBGP路由器的Router-ID将会被存在路由的originator_ID属性中\n+ 当一台路由器收到IBGP路由且其originatorID与该路由器的RouterID相同，则路由器忽略该条路由\n+ Originator_ID及Cluster-list属性将会影响BGP路径决策\n\n#### Originator_ID的值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140502948-58450af4-a6d4-4764-b425-43380d718b4b.png)\n\n### 路由反射原则\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140292005-dd4b4b29-9070-492d-9038-64a94ac51f6e.png)\n\n+ 如果路由学习自非client lBGP对等体，则反射给所有client\n+ 如果路由学习自一client，则反射给所有非ctientIBGP邻居和除了该client以外的所有client\n+ 如果路由学习自EBGP邻居，则发送给所有client和非clientIBGP邻居\n\n### 路由反射簇\n+ 路由反射簇包括反射器及其Client\n+ 每一个簇都有唯一的簇ID\n+ 每当一条路由被反射器反射后，该反射器(该簇)的ClusterID就会被添加至路由的Cluster list属性中\n+ 每当反射器收到一条Cluster list属性已经包含该簇的ClusterID的路由时，该路由基于防环的目的将不被反射\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140660257-05943ad7-9a7c-4dab-af52-05dac354ea2b.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140718784-4731164f-0b69-4428-b4ff-cbeeaab41843.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140920126-45d22e04-6ac7-4ea2-b433-4ecf734da20a.png)\n\n### 路由反射器冗余\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733141230441-a00716c4-3db4-4a6c-9fb7-535cd4ebe1d1.png)\n\n+ 冗余RR增加了网络的健壮性\n+ 使用Originator IDCluster_list属性来在冗余RR环境中避免路由环路。\n+ 例如将两个RR 的Cluster_ID配置为一样，那么可以起到进一步的防环作用\n+ 所有的RR之间建议采用IBGP全互联\n+ Client会收到来自两个RR反射的路由，如何决策 ?\n\n### BGP选路规则\n1. 优选具有最大Weight值的路由\n2. 优选具有最大Local Pref值的路由\n3. 优选起源于本地的路由(如本地networkaggregate或redistribute的)即下一跳是0.0.0.0(在BGP 表中,当前路由器通告的路由的下一跳为0.0.0.0)\n4. 优选AS-Path最短的路由\n5. Origin(IGP >EGP>Incomplete )\n6. 优选MED最小的路由，默认情况下仅有当所有的备选路由来自同一AS才会比较MED\n7. 优选EBGP邻居发来的路由(相对于IBGP邻居学过来的)，在联邦EBGP和IBGP中首选联邦EBGP 路由\n8. 优选到BGP NEXT HOP最近的邻居\n9. 如果有多条来自相同相邻AS的路由并通过Maximum-paths 使多条路径可用,则将所有开销相同的路由放入Loc-RIB\n10. 优选最老的EBGP路由，降低滚翻的影响(此条主要对EBGP路由起效，但是现在基本不用该条，因不确定性太大)\n11. BGP 邻居的RID越小越优先\n12. 优选Cluster-List 最短的路由\n13. 选择邻居ip地址(BGP的neighbor配置中的那个地址)最小的路由\n\n## 优选MED最小的路由\n### MED属性设置方法\n+ 将IGP路由引入BGP时关联Route-map进行设置\n+ 对BGP Peer应用IN/OUT方向的Route-map进行设置\n+ 非Route-map(自动)方式\n    - 使用network或redistribute方式将IGP路由引入BGP时,MED将继承IGP路由的Metric(直联路由及静态路由的Metric为0)\n    - 使用aggregate-address方式引入路由，则MED为空\n\n### MED注意事项\n+ 默认情况下，只比较来自同一邻居AS的BGP路由的MED值，就是说如果同一个目的地的两条路由来自不同的AS，则不进行MED值的比较。如果仍然希望比较来自不同邻接AS的路由，可使用如下命令\n+ `bgp always-compare-med`\n+ MED只是在直接相连的自治系统间影响业务量，而不会跨AS传递\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1733208543904-53fea48b-83db-441b-964d-f8c27e92a6ee.png)\n\n## BGP负载均衡\n+ 当前面的8条选路原则都无法优选出最优路由时，并且在BGP进程下面配置了maximum-paths[ibgp]n,n的取值为2-6,那么将执行等价负载均衡，也就是将这些等代价的BGP路径都放进IP路由表使用，但是要注意，虽然这些路径在本地都用了，最终却只有一条BGP路径是best最优的。具备等价负载均衡条件的候选路径需满足如下条件:\n    - 必须有相同的路径属性，如weight、LP、AS PATH(不仅是长度，整个AS PATH包括AS号都要相同)、origincode、MED及IGP的Distance值\n    - 每一条路径的下一跳都不相同\n\n__","slug":"CCNP/CCNP路由 BGP","published":1,"updated":"2025-08-01T15:15:09.947Z","comments":1,"layout":"post","photos":[],"_id":"cmgu956060029g0fy6uz3aqsp","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"BGP概述\"><a href=\"#BGP概述\" class=\"headerlink\" title=\"BGP概述\"></a>BGP概述</h2><ul>\n<li>BGP为BorderGateway Protgcol边界网关路由协议(路径矢量)</li>\n<li>主要作用是在AS之间传递路由信息</li>\n<li>目前BGR有4个版本:V1、V2、V4、V4+(即MBGP)</li>\n<li>企业连接到SP<ul>\n<li>连接到两家或是多家ISP，提供链路的可靠性，连接方式如下</li>\n<li>1.Single homed单宿:只连接到一家ISP且没有冗余链路</li>\n<li>2.Dualhomed双宿:只连接到一家ISP，使用两条链路来提供冗余</li>\n<li>3.Multihomed多宿:连接到多家ISP</li>\n<li>4.DualMultihomed双多宿:连接到多家ISP，同时使用两条链路</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"使用BGP的三大理由\"><a href=\"#使用BGP的三大理由\" class=\"headerlink\" title=\"使用BGP的三大理由\"></a>使用BGP的三大理由</h2><ul>\n<li>大量路由需要承载，IGP只能容纳千条，而BGP可以容纳上万</li>\n<li>支撑MPLS&#x2F;VPN的应用，传递客户VPN路由</li>\n<li>策略能力强，可以很好的实现路由决策与数据控制</li>\n</ul>\n<h2 id=\"IGP具有以下某些特性或者全部特性\"><a href=\"#IGP具有以下某些特性或者全部特性\" class=\"headerlink\" title=\"IGP具有以下某些特性或者全部特性\"></a>IGP具有以下某些特性或者全部特性</h2><ul>\n<li>执行拓扑发现</li>\n<li>尽力完成快速收敛</li>\n<li>需要周期性的更新来确保路由选择信息的精准性</li>\n<li>受同一个管理机构的控制</li>\n<li>采取共同的路由选择策略</li>\n<li>提供了优先的策略控制能力</li>\n</ul>\n<h2 id=\"关于BGP\"><a href=\"#关于BGP\" class=\"headerlink\" title=\"关于BGP\"></a>关于BGP</h2><ul>\n<li>AS:autonomoussystem自治系统，指的是在同一个组织管理下使用相同策略的设备的集合</li>\n<li>不同AS通过AS号区分，AS号取值范围1-65535，其中64512-65535是私有AS号。IANA负责AS号的分发。</li>\n<li>中国电信163 AS号:4134</li>\n<li>中国电信CN2 AS号:4809 </li>\n<li>中国网通 AS号:9929</li>\n</ul>\n<h2 id=\"BGP的矢量特征\"><a href=\"#BGP的矢量特征\" class=\"headerlink\" title=\"BGP的矢量特征\"></a>BGP的矢量特征</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730806229082-7508981d-6da2-4ef1-a7a8-12d8b9d550a9.jpeg\"></p>\n<ul>\n<li>路径矢量信息中包含一个BGP自治系统列表</li>\n<li>BGP路由器不接受路径列表中包含其AS号的路由更新，是<strong>无环路</strong>的</li>\n<li>BGP支持对BGP自治系统路径应用路由策略</li>\n<li>BGP路由器只能将其使用的路由通告给邻接自治系统中的对等体</li>\n</ul>\n<h2 id=\"BGP特征\"><a href=\"#BGP特征\" class=\"headerlink\" title=\"BGP特征\"></a>BGP特征</h2><ul>\n<li>BGP使用TCP为输出层协议，TCP端口号为179</li>\n<li>BGP路由器之间建立TCP连接，这些路由器称为BGP对等体也叫BGP邻居：**<font style=\"color:#DF2A3F;\">EBGP、IBGP</font>**</li>\n<li>对等体之间交换整个BGP路由表</li>\n<li>BGP路由器只发送增量更新或者触发更新（不会周期性更新）</li>\n<li>具有丰富的路径属性</li>\n<li>BGP通告成千上万的路由，可采用TCP滑动窗口的机制，停止并等待确认前，可以发送65576个字节</li>\n</ul>\n<h2 id=\"BGP-packets\"><a href=\"#BGP-packets\" class=\"headerlink\" title=\"BGP packets\"></a>BGP packets</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730807035348-b0a84008-40e6-4ca5-b299-e9f24f59896e.png\"></p>\n<h3 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h3><table>\n<thead>\n<tr>\n<th>报文名称</th>\n<th>作用是什么</th>\n<th>什么时候发包</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>OPEN</td>\n<td>协商BGP邻居的各项参数，建立邻居关系</td>\n<td>通过TCP建立BGP连接，发送open报文</td>\n</tr>\n<tr>\n<td>UPDATE</td>\n<td>进行路由信息的交换</td>\n<td>连接建立后，有路由需要发送或路由变化时，发送UPDATE通告对端路由信息</td>\n</tr>\n<tr>\n<td>NOTIFICATION</td>\n<td>报告错误，终止邻居关系</td>\n<td>当BGP在运行时发现错误时，要发送NOTIFICATION报文通报BGP对端</td>\n</tr>\n<tr>\n<td>KEEPALIVE</td>\n<td>维持邻居关系</td>\n<td>定时发送KEEPALIVE报文以保持BGP邻居关系的有效性</td>\n</tr>\n<tr>\n<td>Route-refresh</td>\n<td>为保证网络稳定，触发更新路由的机制</td>\n<td>当路由策略发生变化时，触发请求邻居重新通告路由</td>\n</tr>\n</tbody></table>\n<h2 id=\"BGP的有限状态机\"><a href=\"#BGP的有限状态机\" class=\"headerlink\" title=\"BGP的有限状态机\"></a>BGP的有限状态机</h2><table>\n<thead>\n<tr>\n<th>Peer状态名称</th>\n<th>发什么包</th>\n<th>在做什么</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Idle</td>\n<td>尝试建立TCP连接</td>\n<td>准备开始TCP的连接并监视远程peer启动TCP连接，启用BGP时，要准备足够的资源</td>\n</tr>\n<tr>\n<td>Connect</td>\n<td>发TCP包</td>\n<td>正在进行TCP连接，等待完成中，认证都在TCP建立期间完成的。如果TCP连接不上则进入Active状态，反复尝试连接</td>\n</tr>\n<tr>\n<td>Active</td>\n<td>发TCP包</td>\n<td>TCP连接没建立成功，反复尝试TCP连接</td>\n</tr>\n<tr>\n<td>OpenSent</td>\n<td>发Open包</td>\n<td>TCP连接建立已经成功，开始发送Open包，Open包携带参数协商对等体的建立</td>\n</tr>\n<tr>\n<td>OpenConfim</td>\n<td>发Keepalive包</td>\n<td>参数、能力特性协商成功，开始自己发送Keepalive包</td>\n</tr>\n<tr>\n<td>Established</td>\n<td>发Update包</td>\n<td>已经收到对方的Keepalive包，双方能力特性一致，开始使用Update通告路由信息</td>\n</tr>\n</tbody></table>\n<h2 id=\"BGP-Peer\"><a href=\"#BGP-Peer\" class=\"headerlink\" title=\"BGP Peer\"></a>BGP Peer</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730809493082-98e0e6ca-f4f0-4d60-921c-277b67c3c35c.png\"></p>\n<ul>\n<li>运行BGP的路由器被称为BGP speaker</li>\n<li>BGP对等体也叫BGP邻居，建立基于TCP的关系</li>\n<li>EBGP：BGP位于不同自治相同的路由器之间，称为EBGP</li>\n<li>建立EBGP邻接关系，必须满足三个条件<ul>\n<li>EBGP之间自治系统号不同</li>\n<li>定义邻居建立TCP会话</li>\n<li>neighbor中指定的IP地址要可达</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"中转AS中的IBGP路由传递\"><a href=\"#中转AS中的IBGP路由传递\" class=\"headerlink\" title=\"中转AS中的IBGP路由传递\"></a>中转AS中的IBGP路由传递</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892076962-e019b9cc-49c5-4659-b378-ac6690db7cfa.png\"></p>\n<h3 id=\"全互联IBGP邻居关系\"><a href=\"#全互联IBGP邻居关系\" class=\"headerlink\" title=\"全互联IBGP邻居关系\"></a>全互联IBGP邻居关系</h3><ul>\n<li>IBGP全互联虽然能解决transit AS内的路由黑洞问题，但是却造成BGP路由器需要耗费大量资源维护大量BGP连接的新问题<ul>\n<li>路由反射器</li>\n<li>联邦</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"IBGP水平分割原则\"><a href=\"#IBGP水平分割原则\" class=\"headerlink\" title=\"IBGP水平分割原则\"></a>IBGP水平分割原则</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892484804-5d4f1364-9a3c-4165-bd3e-40e75f989e0c.png\"></p>\n<ul>\n<li>BGP防环是通过AS_PATH实现的，而AS_PATH仅仅实在路由离开后AS才会被更改，因此再AS内，IBGP就没有EBGP的防环能力，为了防止环路的出现，BGP路由器不会将从IBGP邻居学习过来的路由再通告给自己其他IBGP邻居</li>\n<li>由于水平分割原则存在，BGP要求AS内，需保证IBGP全互联（neighbor命令 指定）</li>\n<li>（根本原因是在AS内部，AS_PATH不会改变，无法使用AS_PATH防环，因此很容易出现环路）</li>\n</ul>\n<h2 id=\"BGP路由通告规则\"><a href=\"#BGP路由通告规则\" class=\"headerlink\" title=\"BGP路由通告规则\"></a>BGP路由通告规则</h2><ul>\n<li>当存在多条路径时，BGP router只选取最优的路由（BEST）来使用（没有负载的情况下）</li>\n<li>BGP只把自己使用的路由，也就是自己认为Best的路由传递给BGP Peer</li>\n<li>BGP Speaker从EBGP获得的路由会向它所有的BGP相邻体通告（包括EBGP和IBGP）</li>\n<li>BGP Speaker从IBGP获得的路由不向它的IBGP相邻体通告（避免循环，水平分割；存在路由RR的情况下除外）</li>\n<li>BGP Speaker从IBGP获得的路由是否通告给它的EBGP Peer要视IGP和BGP同步的情况来决定</li>\n</ul>\n<h2 id=\"BGP同步\"><a href=\"#BGP同步\" class=\"headerlink\" title=\"BGP同步\"></a>BGP同步</h2><ul>\n<li>BGP同步规则指出，BGP路由器不应使用通过IBGP获悉的路由或将其通告给外部邻居，除非该路由是本地或者通过IGP获悉的</li>\n<li>思科Cisco IOS默认关闭同步</li>\n<li>同步关闭，则BGP可以将使用这样的路由，并将其通告给外部BGP邻居：从IBGP邻居那里获悉的且没有出现在本地路由表中的路由</li>\n<li>同步开启，则路由器通过IBGP获悉路由后，将等待IGP将该路由传遍整个自治系统，然后再将其通告给外部对等体</li>\n</ul>\n<h2 id=\"Tables\"><a href=\"#Tables\" class=\"headerlink\" title=\"Tables\"></a>Tables</h2><ul>\n<li>BGP邻居表：邻居列表</li>\n<li>BGP表：包含了从邻居学习的所有路由，以及到达目的网段的多个路径和属性</li>\n<li>路由表：列出了到达目的网段的最佳路径，EBGP路由AD为20，IBGP路由AD为200</li>\n</ul>\n<h2 id=\"Next-Hop\"><a href=\"#Next-Hop\" class=\"headerlink\" title=\"Next-Hop\"></a>Next-Hop</h2><ul>\n<li>BGP是AS·by-AS的路由协议，而不是router-by-router的路由协议</li>\n<li>在BGP中，next-hop并不意味着是下一台路由器，而是到达下一个AS的IP地址</li>\n<li>EBGP中，默认next-hop为发送更新的邻居路由器的IP地址</li>\n<li>IBGP中，从EBGP传来的next-hop属性在IBGP中保持不变的被传递</li>\n</ul>\n<h3 id=\"修改next-hop\"><a href=\"#修改next-hop\" class=\"headerlink\" title=\"修改next-hop\"></a>修改next-hop</h3><ul>\n<li>为了防止路由黑洞问题，R1、R2、R3建立IBGP全互联且均用各自的LOOPBACK接口建立IBGP关系</li>\n</ul>\n<h2 id=\"配置BGP\"><a href=\"#配置BGP\" class=\"headerlink\" title=\"配置BGP\"></a>配置BGP</h2><h3 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h3><p><code>**Router(config)# router bgp** _autonomous-system_</code></p>\n<ul>\n<li>仅仅执行router bgp不能再路由器上激活BGP，必须执行至少一个子命令才能再路由器激活BGP进程</li>\n<li>在路由器上职能配置一个BGP实例</li>\n</ul>\n<h3 id=\"指定BGP邻居及激活BGP会话\"><a href=\"#指定BGP邻居及激活BGP会话\" class=\"headerlink\" title=\"指定BGP邻居及激活BGP会话\"></a>指定BGP邻居及激活BGP会话</h3><p><code>Router(config-router)# neighbor &#123;ip-address | peer-group-name &#125; remote-as autonomous-system</code></p>\n<ul>\n<li>邻居指定的ip地址必须路由可达</li>\n<li>BGP路由都需手工指定，不能像IGP那样通过协议自动发现</li>\n<li>AS决定与邻居建立的是EBGP还是IBGP会话</li>\n</ul>\n<h3 id=\"指定BGP将通告的网络\"><a href=\"#指定BGP将通告的网络\" class=\"headerlink\" title=\"指定BGP将通告的网络\"></a>指定BGP将通告的网络</h3><p><code>Router(config-router)#network network-number [mask network-mask] [route-map map-tag]</code></p>\n<ul>\n<li>network命今与IGP不同，BGP命令network为通告哪些IP路由进BGP进程，而不是在接口上启用BGP </li>\n<li>network支持无类前缀，前缀必须与路由表中的条目完全匹配</li>\n<li>如果不指定mask，只通告主类网络号，而且仅当主类网络中至少有一个子网出现在IP路由表中，BGP才会将该主类网络作为一条BGP路由通告</li>\n<li>指定了mask，则仅当路由选择表中有与该网络完全匹配的条目时才被通告出去</li>\n</ul>\n<h3 id=\"BGP同步-1\"><a href=\"#BGP同步-1\" class=\"headerlink\" title=\"BGP同步\"></a>BGP同步</h3><p><code>Router(config-router)# no synchronization</code></p>\n<ul>\n<li>关闭同步(默认关闭)</li>\n</ul>\n<p><code>Router(config-router)# synchronization</code></p>\n<ul>\n<li>开启同步</li>\n</ul>\n<h3 id=\"BGP-router-id\"><a href=\"#BGP-router-id\" class=\"headerlink\" title=\"BGP router-id\"></a>BGP router-id</h3><p><code>Router(config-router)# bgp router-id x.x.x.x</code></p>\n<ul>\n<li>手工设置BGP routerlD</li>\n</ul>\n<h3 id=\"示例1\"><a href=\"#示例1\" class=\"headerlink\" title=\"示例1\"></a>示例1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894784939-f4d16b2c-c930-4ab1-a48c-c47743e91c9d.png\"></p>\n<h3 id=\"指定更新源\"><a href=\"#指定更新源\" class=\"headerlink\" title=\"指定更新源\"></a>指定更新源</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894818299-aa7e1866-0994-4faa-88c4-156f792c9c65.png\"></p>\n<h3 id=\"BGP身份验证\"><a href=\"#BGP身份验证\" class=\"headerlink\" title=\"BGP身份验证\"></a>BGP身份验证</h3><p>Router(config-router)# neighbor {ip-address | peer-group-name} password string</p>\n<ul>\n<li>BGP支持MD5邻居身份验证</li>\n<li>启用身份验证后，将对通过的对等体之间的TCP连接传输所有的数据等进行验证</li>\n<li>认证都是在TCP建立连接的时候完成的</li>\n</ul>\n<h2 id=\"维护BGP\"><a href=\"#维护BGP\" class=\"headerlink\" title=\"维护BGP\"></a>维护BGP</h2><ul>\n<li>重置BGP会话</li>\n<li>将新策略应用于所有路由，必须触发一个更新</li>\n</ul>\n<h3 id=\"三种触发更新的方式\"><a href=\"#三种触发更新的方式\" class=\"headerlink\" title=\"三种触发更新的方式\"></a>三种触发更新的方式</h3><ul>\n<li>硬重置</li>\n<li>软重置</li>\n<li>路由刷新</li>\n</ul>\n<h3 id=\"硬重置\"><a href=\"#硬重置\" class=\"headerlink\" title=\"硬重置\"></a>硬重置</h3><ul>\n<li>断开相应TCP连接，通过这些会话收到的所有信息都将失效，并从BGP中删除</li>\n<li>（不建议优先使用硬路由，谨慎！这将删除数据，请三思而后行！！！！）<ul>\n<li><code>clear ip bgp &#123;neighbor-address&#125;</code></li>\n<li><code>clear ip bgp *</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"软重置\"><a href=\"#软重置\" class=\"headerlink\" title=\"软重置\"></a>软重置</h3><ul>\n<li>不拆除并重建TCP或者BGP连接，而是仅出发更新操作以便让新的路由策略生效</li>\n<li>软重置可以仅由于出站或入站策略，也可同时用于出入站策略</li>\n</ul>\n<h4 id=\"出站软重置\"><a href=\"#出站软重置\" class=\"headerlink\" title=\"出站软重置\"></a>出站软重置</h4><ul>\n<li>不会拆除TCP连接，不会重置BGP会话，仅促发更新操作以便让新的路由策略生效（发送update消息）</li>\n<li>需要修改出站策略时，建议使用该命令</li>\n<li><code>clear ip bgp soft out</code></li>\n</ul>\n<h4 id=\"入站软重置\"><a href=\"#入站软重置\" class=\"headerlink\" title=\"入站软重置\"></a>入站软重置</h4><ul>\n<li>本地发送route-refresh给所有的BGP邻居</li>\n<li><code>clear ip bgp soft in</code></li>\n</ul>\n<p>注：CISCOIOS 12.1开始全面支持入站路由的动态软重配置，但在之前的版本在使用入站软重配置之前必须首先在BGP进程中增加如下配置:neighbor x.x.x.x soft-reconfiguration inbound然后再使用clear ip bgp soft in命令这条命令会将x.x.x.x邻居发送过来的BGP路由存储在内存中，当配置入站软重置后，路由器不再向邻居发送更新请求，而是直接在内存中存储的路由中执行新配置的入站策略，以此来防止触发大批量的路由更新而造成资源的浪费，但是这种操作仍会耗费内存，因此在使用的时候要非常慎重。</p>\n<h2 id=\"BGP属性\"><a href=\"#BGP属性\" class=\"headerlink\" title=\"BGP属性\"></a>BGP属性</h2><table>\n<thead>\n<tr>\n<th>公认属性<br>（Well-known）</th>\n<th>公认必遵<br>（Well-known mandatory）</th>\n<th>BGP 必须都能识别，且在更新消息必须包含</th>\n<th>Origin<br>AS-Path<br>Next hop</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>公认自决<br>（Well-known discretionary）</td>\n<td>BGP 必须都能识别，更新消息可包含可不包含</td>\n<td>Local-Preference<br>ATOMIC_Aggregate</td>\n</tr>\n<tr>\n<td>可选属性<br>（Optional）</td>\n<td>可选传递<br>（Optional transitive）</td>\n<td>可以不支持该属性，但即使不支持也应当接受包含该属性的路由并传递给其他邻居</td>\n<td>Community<br>Aggregator</td>\n</tr>\n<tr>\n<td></td>\n<td>可选非传递<br>（Opinional non-transitive）</td>\n<td>可以不支持该属性，不识别的BGP进程可以忽略包含这个属性的更新消息，并且不传递给其他BGP邻居</td>\n<td>MED<br>Originator_ID<br>Cluster_list<br>*Weight</td>\n</tr>\n</tbody></table>\n<h2 id=\"WEIGHT\"><a href=\"#WEIGHT\" class=\"headerlink\" title=\"WEIGHT\"></a>WEIGHT</h2><ul>\n<li>在路由器本地配置，只提供本地路由策略，不会传播给任何BGP邻居</li>\n<li>范围：0~65535；越大越优先</li>\n<li>路由器本地始发的路径默认权重是32768，从其他BGP邻居学到的为0</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410361179-24230caa-4101-4214-b7b2-e36684c17565.png\"></p>\n<h2 id=\"LOCAL-PREFERENCE\"><a href=\"#LOCAL-PREFERENCE\" class=\"headerlink\" title=\"LOCAL PREFERENCE\"></a>LOCAL PREFERENCE</h2><ul>\n<li><strong><font style=\"color:#DF2A3F;\">公认自由决定属性</font></strong></li>\n<li>告诉AS中的路由器，哪条路径是离开AS的首选路径</li>\n<li>LP越高路径越优</li>\n<li>只发送给IBGP邻居，而不能传给EBGP邻居</li>\n<li>默认本地优先级为100</li>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410490396-d8420a3c-2906-416b-944d-863e909fac07.png\"></li>\n</ul>\n<h2 id=\"AS-Path（公认强制属性）\"><a href=\"#AS-Path（公认强制属性）\" class=\"headerlink\" title=\"AS-Path（公认强制属性）\"></a>AS-Path（公认强制属性）</h2><ul>\n<li>是前往目标网络的路由经过的自治系统号列表，通告该路由的自治系统号位于列表末尾</li>\n<li>作用：确认无环，通告时给EBGP时会加上自己的AS号；通告给IBGP时不修改AS-Path</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410691990-01881309-1058-46d1-a075-114e2b239fd1.png\"></p>\n<h3 id=\"四种类型\"><a href=\"#四种类型\" class=\"headerlink\" title=\"四种类型\"></a>四种类型</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411052266-03328819-94f7-4586-8077-d5e506eee364.png\"></p>\n<ul>\n<li>**<font style=\"color:#DF2A3F;\">AS_SET</font>**：一个去往特定目的地所经路径上的无序AS列表</li>\n<li>**<font style=\"color:#DF2A3F;\">AS_SEQENCE</font>**：一个有序的AS号列表</li>\n<li>**<font style=\"color:#DF2A3F;\">AS_CONFED_SEQUENCE</font>**：一个去往特地目的地所经路径上的有序AS号列表，其用法与AS_SEQENCE完全一样，区别于该列表的AS号属于本地联邦中的AS</li>\n<li>**<font style=\"color:#DF2A3F;\">AS_CONFED_SET</font>**：一个去往特定目的地上的无序AS号列表，其用法与AS_SET一样，区别在于列表中的AS号属于本地联邦中的AA</li>\n</ul>\n<h2 id=\"Origin（公认强制属性）\"><a href=\"#Origin（公认强制属性）\" class=\"headerlink\" title=\"Origin（公认强制属性）\"></a>Origin（公认强制属性）</h2><ul>\n<li>标识路由的起源，有下列三种可能：<ul>\n<li>i\t通过BGP network，也就是起源于IGP，因为BGP network必须保证该网络在路由表中</li>\n<li>e\t是由EGP这种早期协议重发布而来</li>\n<li>？\tIncomplete，从其他渠道学习到的，路由来源不完全（确认该路由来源的信息不完全）。（重发布的路由）</li>\n</ul>\n</li>\n<li>路由优选顺序：lowest origin code（IGP&gt;EGP&gt;Incomplete）</li>\n</ul>\n<h2 id=\"MED（可选非传递属性）\"><a href=\"#MED（可选非传递属性）\" class=\"headerlink\" title=\"MED（可选非传递属性）\"></a>MED（可选非传递属性）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411803897-0b6bf6f9-e658-48a4-a306-7a8d455526f8.png\"></p>\n<ul>\n<li>是一种度量值，用于外部邻居指出进入AS的首选路径，即当入口有多个时，自治系统可以使用MED动态的影响其他AS如何选择进入路径</li>\n<li>度量值越小路径越优</li>\n<li>MED是在AS之间切换，MED发送给EBGP对等体。这些路由器在AS内传播MED，不传递给下一个AS</li>\n<li>默认情况下，仅当路径来自同一个AS中的不同EBGP邻居时，路由器才比较他们的MED属性</li>\n<li>MED影响进入AS的数据流:LP影响离开AS的数据流</li>\n</ul>\n<h3 id=\"比较原则及配置注意事项\"><a href=\"#比较原则及配置注意事项\" class=\"headerlink\" title=\"比较原则及配置注意事项\"></a>比较原则及配置注意事项</h3><ul>\n<li>本地在将一条BGP路由通告给EBGP Peer时，是否携带MED值,需要根据以下条件进行判断(不对EBGP Peer使用Route-map的情况下)<ul>\n<li>如果该BGP路由是本地始发(network或redistribute)的,则携带MED值发送给EBGP Peer(如果MED为空,则设置为0)</li>\n<li>如果该BGP路由是从其他BGP Peer学习过来的，那么将该路由通告给EBGPPeer时不携带MED</li>\n</ul>\n</li>\n<li>本地在将一条BGP路由通告给IBGPPeer时，一定会携带MED值<ul>\n<li>如果接收或产生的路由的MED为空,那么在向IBGP Peer通告时,将MED设置为0</li>\n</ul>\n</li>\n<li>总结1、2两点就是MED在IBGP之间传递没有问题(不会丢失)，但是在EBGP之间传递要看路由是否起源于自己。</li>\n</ul>\n<h2 id=\"NEXT-HOP（公认强制属性）2\"><a href=\"#NEXT-HOP（公认强制属性）2\" class=\"headerlink\" title=\"NEXT_HOP（公认强制属性）2\"></a>NEXT_HOP（公认强制属性）2</h2><ul>\n<li>如果路由传递自EBGP peer</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412077866-bf31be10-26e7-4487-8738-b72ccc505e38.png\"></p>\n<ul>\n<li>如果路由传递自IBGP邻居，并描述的是AS外的目的地</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412193230-54295d0a-b300-4fea-bf2b-203de0f4a3e0.png\"></p>\n<ul>\n<li>如果路由传递自IBGP邻居，并由AS内BGP路由器引入</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412344784-f2e1be11-a76c-4738-9ecf-dc9a4e8884c9.png\"></p>\n<p>Tips：如果IBGP peer使用network或重发布的方式引入IGP路由，那么通告者将使用这些路由的IGP下一跳作为NH；如果这些路由是该IBGP peer配置的BGP汇总路由，则NH为其更新源IP。</p>\n<h3 id=\"On-Shared-Media\"><a href=\"#On-Shared-Media\" class=\"headerlink\" title=\"On Shared Media\"></a>On Shared Media</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413016975-73d4cf2b-a590-4d19-a73b-aeef941be1d8.png\"></p>\n<ul>\n<li>RouterB将路由100.100.100.0&#x2F;24传递给A，NEXT_HOP为10.1.123.2</li>\n<li>RouterA将路由100.100.100.0&#x2F;24传递给C，此时NEXT_HOP保持不变</li>\n<li>如果路由器收到某条BGP路由，该路由的NEXT_HOP地址值与EBGP邻居(更新对象)同属一个网段，那么该条路由的NEXTHOP地址将保持不变并传递给它的BGP邻居</li>\n</ul>\n<h3 id=\"On-NBMA\"><a href=\"#On-NBMA\" class=\"headerlink\" title=\"On NBMA\"></a>On NBMA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413248307-5df17964-315e-4c31-8d2b-5b159d9bcf53.png\"></p>\n<ul>\n<li>如果中间的多路访问不是Ethernet，而是帧中继（NBMA）呢？</li>\n</ul>\n<h2 id=\"COMMUNITY\"><a href=\"#COMMUNITY\" class=\"headerlink\" title=\"COMMUNITY\"></a>COMMUNITY</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731458979252-74a8f3c5-cb61-494c-8820-44d1f21f23cf.png\"></p>\n<ul>\n<li>可选传递属性</li>\n<li>一种标记，用于简化路由策略的执行</li>\n<li>可以将某些路由分配一个特定的COMMUNITY属性，之后就可以基于COMMUNITY值而不是每条路由进行BGP属性的设置了</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460387790-d039cfe4-b94c-44ce-a4f2-0d89f944d64a.png\"></p>\n<h3 id=\"几个众所周知的值\"><a href=\"#几个众所周知的值\" class=\"headerlink\" title=\"几个众所周知的值\"></a>几个众所周知的值</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">set community ?</span><br><span class=\"line\">&lt;1-4294967295&gt;\tcommunity number</span><br><span class=\"line\">aa:nn\t\t\t\t\t\tcommunity number in aa:nn format</span><br><span class=\"line\">additive\t\t\t\tAdd to the existing community</span><br><span class=\"line\">internet\t\t\t\tInternet (well-known community)</span><br><span class=\"line\">local-AS\t\t\t\tDo not send outside local AS (well-known community)</span><br><span class=\"line\">no-advertise\t\tDo not advertise to any peer (well-known community)</span><br><span class=\"line\">no-export\t\t\t\tDo not export to next AS (well-known community)</span><br><span class=\"line\">none\t\t\t\t\t\tNo community attribute</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>Route</strong></p>\n<p>Community&#x3D;no-adv</p>\n<p>R2不会将该路由再通告给任何BGP peer</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460836560-e5a0cea7-a8fa-4bd1-a0d9-bbefda45b523.png\"></p>\n<h2 id=\"Atomi-Aggregate及aggregator\"><a href=\"#Atomi-Aggregate及aggregator\" class=\"headerlink\" title=\"Atomi_Aggregate及aggregator\"></a>Atomi_Aggregate及aggregator</h2><p>172.16.0.0&#x2F;16</p>\n<p>汇总路由丢失明确路由的路径属性</p>\n<p>需要给下游邻居告警，并提示“汇总点”及汇总地AS</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1731461244712-db15a1db-b381-40ae-8c8e-83d80a966bf6.jpeg\"></p>\n<p><code>aggregate-address 172.16.0.0 255.255.0.0 summary-only</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R4# show ip bgp 172.16.0.0</span><br><span class=\"line\">BGP routing table entry for 172.16.0.0/16, version 4</span><br><span class=\"line\">Paths:(1 available, best #1, table Default-lP-Routing-Table)</span><br><span class=\"line\">Flag:0x820</span><br><span class=\"line\">Not advertised to any peer</span><br><span class=\"line\">300,(aggregated by 300 3.3.3.3)</span><br><span class=\"line\">10.1.34.3 from 10.1.34.3 (3.3.3.3)</span><br><span class=\"line\">Origin lGP, metric 0, localpref 100, valid, external,atomic-aggregate, best</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"报文案例\"><a href=\"#报文案例\" class=\"headerlink\" title=\"报文案例\"></a>报文案例</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461667500-f2c080c5-fc71-4b5c-984c-22dcd23c405a.png\"></p>\n<h2 id=\"BGP自动汇总\"><a href=\"#BGP自动汇总\" class=\"headerlink\" title=\"BGP自动汇总\"></a>BGP自动汇总</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461782082-4df50a90-5604-4b26-93cd-52ae719c6130.png\"></p>\n<ul>\n<li>若R1开启auto-summary，并用重发布直连的方式引入1.1.1.0&#x2F;24，则该子网会被汇总</li>\n<li>若R1开启auto-summary,且network1.1.1.0 mask 255.255.255.0，则仍以明细更新</li>\n<li>若R1开启auto-summary,且network1.0.0.0 mask 255.0.0.0,则该子网会被汇总</li>\n<li>上面这条network等同于network 1.0.0.0(network的有类宣告)</li>\n</ul>\n<p><strong><font style=\"color:#DF2A3F;\">因此BGP自动汇总(auto-summary)只汇总重发布引入的路由，以及使用network命令有类宣告方式引入的路由。目前CISCO IOS默认关闭自动汇总。</font></strong></p>\n<h2 id=\"BGP手动汇总\"><a href=\"#BGP手动汇总\" class=\"headerlink\" title=\"BGP手动汇总\"></a><font style=\"color:#000000;\">BGP手动汇总</font></h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121752791-989f633a-4d0d-48dd-ac50-8335ac3782e9.png\"></p>\n<ul>\n<li>可以考虑在R3上创建静态的汇总路由</li>\n</ul>\n<p><code>ip route 172.16.0.0 255.255.0.0 null0</code></p>\n<ul>\n<li>然后再将汇总路由network进BGP</li>\n<li>不推荐此方法</li>\n</ul>\n<h3 id=\"针对特定邻居取消抑制\"><a href=\"#针对特定邻居取消抑制\" class=\"headerlink\" title=\"针对特定邻居取消抑制\"></a>针对特定邻居取消抑制</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121996017-8e7e4481-a185-40b9-85c2-3742644693c5.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-ist 1 permit 172.16.1.0</span><br><span class=\"line\">route-map unsupp permit 10</span><br><span class=\"line\">  match ip address 11</span><br><span class=\"line\">router bgp 300</span><br><span class=\"line\">  neighbor 10.1.35.5 unsuppress-map unsupp</span><br><span class=\"line\">  aggregate-address 172.16.0.0 255.255.0.0 as-set summary-only</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"advertise-map\"><a href=\"#advertise-map\" class=\"headerlink\" title=\"advertise-map\"></a>advertise-map</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122218668-609b391f-86ce-4a69-9cd4-22e981484fd5.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-list list1 permit 172.16.1.0/24</span><br><span class=\"line\">ip prefix-list list1 permit 172.16.2.0/24</span><br><span class=\"line\">route-map adv permit 10</span><br><span class=\"line\">  match ip address prefix-list list1</span><br><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 summary-only as-set advertise-map adv</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"attrubute-map\"><a href=\"#attrubute-map\" class=\"headerlink\" title=\"attrubute-map\"></a>attrubute-map</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122395149-ba69abf1-caa8-4996-a318-f50e5741822e.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map attr permit 10</span><br><span class=\"line\">  set ?</span><br><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 summary-only as-set attribute-map attr</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"终方案\"><a href=\"#终方案\" class=\"headerlink\" title=\"终方案\"></a>终方案</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122474434-007e0670-c4db-4dd8-9b54-e9c5ded166c2.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 summary-only as-set</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122543075-6fe96b97-2d36-4b13-9bd8-ec7c21098471.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-list 1 permit 172.16.2.0</span><br><span class=\"line\">access-list 1 permit 172.16.11.0</span><br><span class=\"line\">route-map suppmap permit 10</span><br><span class=\"line\">  match ip address 1</span><br><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 suppress-map suppmap</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h2><ul>\n<li>正则表达式（regular expresion）是按照一定的模板来匹配字符串的公式。</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122792066-d45f8c40-28be-44fc-9ef2-fe1d61632c39.png\"></p>\n<h3 id=\"原子字符\"><a href=\"#原子字符\" class=\"headerlink\" title=\"原子字符\"></a>原子字符</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122829384-9067e136-8d1b-4941-a29a-d059b397d1ce.png\"></p>\n<h4 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122859463-f2706ecb-995d-434a-adcd-fb3603038c63.png\"></p>\n<h3 id=\"乘法字符\"><a href=\"#乘法字符\" class=\"headerlink\" title=\"乘法字符\"></a>乘法字符</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122918646-e2bfab69-bfb0-4d20-99e2-2e598f14cf10.png\"></p>\n<h4 id=\"示例-1\"><a href=\"#示例-1\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122964843-3d32c0ca-e4f3-4de0-9ec0-3260d8a107af.png\"></p>\n<ul>\n<li>一个乘法字符可以应用于一个单字符或多个字符，如果用于多字符，需将字符串放入（ ）中</li>\n</ul>\n<h3 id=\"范围字符\"><a href=\"#范围字符\" class=\"headerlink\" title=\"范围字符\"></a>范围字符</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122937086-5335bee7-7d2d-4911-b02c-c4bd1c6cdc3a.png\"></p>\n<h4 id=\"示例-2\"><a href=\"#示例-2\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123043302-ae7c2612-b283-4ed8-be08-c8ed67973230.png\"></p>\n<h3 id=\"使用正则表达式匹配AS-PATH\"><a href=\"#使用正则表达式匹配AS-PATH\" class=\"headerlink\" title=\"使用正则表达式匹配AS_PATH\"></a>使用正则表达式匹配AS_PATH</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123094575-e9208cd3-efbf-46e1-92d6-728495dcb98d.png\"></p>\n<ul>\n<li>AS_PATH可以当作字符串并使用正则表达式进行匹配</li>\n<li>String中的 “__” 为空格，这也是一个字符，也有可能被匹配</li>\n</ul>\n<h4 id=\"示例-3\"><a href=\"#示例-3\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123298715-383afd98-b548-4353-bc46-54d9ee5187f6.png\"></p>\n<ul>\n<li>注意as-path access-list也是默认含隐拒绝所有</li>\n</ul>\n<h3 id=\"使用as-path-access-list-匹配路由\"><a href=\"#使用as-path-access-list-匹配路由\" class=\"headerlink\" title=\"使用as-path access-list 匹配路由\"></a>使用as-path access-list 匹配路由</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123415356-86bd5433-a930-4f66-a9a1-7d144b63fec7.png\"></p>\n<h4 id=\"示例1-搭配filter-list\"><a href=\"#示例1-搭配filter-list\" class=\"headerlink\" title=\"示例1 搭配filter-list\"></a>示例1 搭配filter-list</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123497581-877d75ef-a72f-4ab8-aa0a-e4a792edcf90.png\"></p>\n<ul>\n<li>在R3上可做策略</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip as-path access-ist 1deny _600$</span><br><span class=\"line\">ip as-path access-list 1 permit .*</span><br><span class=\"line\">router bgp 300</span><br><span class=\"line\">  neighbor 10.1.23.2 filter-list 1 in</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"示例2-搭配route-map\"><a href=\"#示例2-搭配route-map\" class=\"headerlink\" title=\"示例2 搭配route-map\"></a>示例2 搭配route-map</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123628617-406b7486-d886-41d5-9ed5-115603b2032f.png\"></p>\n<ul>\n<li>R3可做策略</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip as-path access-ist 1 permit _600$</span><br><span class=\"line\">route-map setCommu permit 10</span><br><span class=\"line\">  match as-path 1</span><br><span class=\"line\">  set community no-advertise</span><br><span class=\"line\">route-map setCommu permit 10</span><br><span class=\"line\"></span><br><span class=\"line\">router bgp 300</span><br><span class=\"line\">  neighbor 10.1.23.2 route-map setcommu in</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置命令\"><a href=\"#配置命令\" class=\"headerlink\" title=\"配置命令\"></a>配置命令</h3><p><code>Router(config)# ip as-path access-list num &#123;permit|deny&#125; regexp</code></p>\n<ul>\n<li>配置as-path access-list</li>\n</ul>\n<p><code>Router(config-router)# neighbor x.x.x.x filter-list as-path-filter &#123;inlout&#125;</code></p>\n<ul>\n<li>关联as-path access-list到filter-list，起到路由过滤作用</li>\n</ul>\n<h4 id=\"验证及查看\"><a href=\"#验证及查看\" class=\"headerlink\" title=\"验证及查看\"></a>验证及查看</h4><p><code>Router# show ip as-path-access-list</code></p>\n<ul>\n<li>查看配置的 as-path access-list</li>\n</ul>\n<p><code>Router# show ip bgp regexp xx</code></p>\n<ul>\n<li>显示BGP表中所有被该正则表达式匹配上的路由，这是一个非常不错的工具</li>\n</ul>\n<p><code>Router# show ip bgp filter-list access-list-num</code></p>\n<ul>\n<li>显示BGP表中所有被该filter-list匹配的路由</li>\n</ul>\n<h2 id=\"通告community操控路由\"><a href=\"#通告community操控路由\" class=\"headerlink\" title=\"通告community操控路由\"></a>通告community操控路由</h2><h3 id=\"BGP-Communities\"><a href=\"#BGP-Communities\" class=\"headerlink\" title=\"BGP Communities\"></a>BGP Communities</h3><ul>\n<li>BGP communities是一种路由标记方法，用于确保路由过滤和选择的连续性</li>\n<li>可选传递属性，不支持该属性的BGP router原封不动的将community值传递给下游BGP邻居</li>\n</ul>\n<h3 id=\"Community\"><a href=\"#Community\" class=\"headerlink\" title=\"Community\"></a>Community</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124090787-e2d027b9-f95b-466a-b5e8-86d7bdb3805c.png\"></p>\n<ul>\n<li>使用全局配置命令切换：</li>\n</ul>\n<p><code>ip bgp-community new-format</code></p>\n<h3 id=\"BGP路径操纵\"><a href=\"#BGP路径操纵\" class=\"headerlink\" title=\"BGP路径操纵\"></a>BGP路径操纵</h3><h4 id=\"设置Community\"><a href=\"#设置Community\" class=\"headerlink\" title=\"设置Community\"></a>设置Community</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">set community ?</span><br><span class=\"line\">&lt;1-4294967295&gt;\t\tcommunity number</span><br><span class=\"line\">aa:nn\t\t\t\t\t\t\tcommunity number in aa:nn format</span><br><span class=\"line\">additive\t\t\t\t\tAdd to the existing community</span><br><span class=\"line\">internet\t\t\t\t\tInternet(well-known community)</span><br><span class=\"line\">local-AS\t\t\t\t\tDo not send outside local AS (well-known community)</span><br><span class=\"line\">no-advertise\t\t\tDo not advertise to any peer (well-known community)</span><br><span class=\"line\">no-export\t\t\t\t\tDo not export to next AS (well-known community)</span><br><span class=\"line\">none\t\t\t\t\t\t\tNo community attribute</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"总所周知的值\"><a href=\"#总所周知的值\" class=\"headerlink\" title=\"总所周知的值\"></a>总所周知的值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124385448-cf61fcfb-a43e-4fb0-b8af-97b8e047e12d.png\"></p>\n<p><strong>Route</strong></p>\n<ul>\n<li>Community&#x3D;local-as</li>\n<li>该路由只能在本AS内传递（如果定义了联邦，则为只在联邦成员AS传递）</li>\n</ul>\n<h3 id=\"为路由前缀分配Community\"><a href=\"#为路由前缀分配Community\" class=\"headerlink\" title=\"为路由前缀分配Community\"></a>为路由前缀分配Community</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124481538-4caea059-33d5-4c50-89d2-305d5b25bf67.png\"></p>\n<ul>\n<li>R1配置如下：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-ist 11 permit 11.11.11.0/24</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  match ip address prefix-list 11</span><br><span class=\"line\">  set community 100:11</span><br><span class=\"line\">  </span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">  network 11.11.11.0 mask 255.255.255.0</span><br><span class=\"line\">  neighbor 10.1.12.2 remote-as 200</span><br><span class=\"line\">  neighbor 10.1.12.2 send-community</span><br><span class=\"line\">  neighbor 10.1.12.2 route-map test out</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"为路由前缀分配多个Community\"><a href=\"#为路由前缀分配多个Community\" class=\"headerlink\" title=\"为路由前缀分配多个Community\"></a>为路由前缀分配多个Community</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124672973-08971d75-7687-4f0c-a733-782014d85b5c.png\"></p>\n<ul>\n<li>R2的配置如下：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip community-ist 11 permit 100:11</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  match community 11</span><br><span class=\"line\">  set community no-export additive</span><br><span class=\"line\"></span><br><span class=\"line\">router bgp 200</span><br><span class=\"line\">  neighbor 10.1.12.1 remote-as 100</span><br><span class=\"line\">  neighbor 10.1.23.3 remote-as 300</span><br><span class=\"line\">  neighbor 10.1.23.3 send-community</span><br><span class=\"line\">  neighbor 10.1.23.3 route-map test out</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"为路由前缀分配多个Community（cont-）\"><a href=\"#为路由前缀分配多个Community（cont-）\" class=\"headerlink\" title=\"为路由前缀分配多个Community（cont.）\"></a>为路由前缀分配多个Community（cont.）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124846029-37b26bce-3e5b-41e6-949a-f6f5eca0889c.png\"></p>\n<ul>\n<li>R3上查看11.11.11.0的BGP路由：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3#sh ip b 11.11.11.0</span><br><span class=\"line\">BGP routing table entry for 11.11.11.0/24,version 5</span><br><span class=\"line\">Paths:(1 available, best #1, table Default-P-Routing-Table, not advertised</span><br><span class=\"line\">to EBGP peer)</span><br><span class=\"line\">Flag:0x820</span><br><span class=\"line\">  Not advertised to any peer</span><br><span class=\"line\">  200 100</span><br><span class=\"line\">    10.1.23.2 from 10.1.23.2 10.1.23.2)</span><br><span class=\"line\">    Origin lGP, localpref 100, valid, external, best</span><br><span class=\"line\">    Community:100:11 no-export</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"用community-list匹配团体属性\"><a href=\"#用community-list匹配团体属性\" class=\"headerlink\" title=\"用community-list匹配团体属性\"></a>用community-list匹配团体属性</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124981265-f03cbe06-2d35-4141-82f4-4bc934728879.png\"></p>\n<p><code>lp community-list 1 permit 100:11</code></p>\n<ul>\n<li>匹配。匹配community中包含100:11的路由</li>\n</ul>\n<p><code>lp community-list 1 permit 100:11 no-adv</code></p>\n<ul>\n<li>不匹配。要求100:11及no-adv两者都有才匹配成立</li>\n</ul>\n<p><code>lp community-list 1 permit 100:11</code></p>\n<p><code>Ip community-list 1 permit no-export(或将no-export换成no-adv)</code></p>\n<ul>\n<li>匹配。只要community中包含100:11或no-export</li>\n</ul>\n<h3 id=\"用community-list匹配团体属性（cont-）\"><a href=\"#用community-list匹配团体属性（cont-）\" class=\"headerlink\" title=\"用community-list匹配团体属性（cont.）\"></a>用community-list匹配团体属性（cont.）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125149714-85e3e77c-fab0-4cb2-aae7-d89f093f56c3.png\"></p>\n<p><code>ip community-list 12 permit internet</code></p>\n<ul>\n<li>所有路由默认都属于internet</li>\n</ul>\n<h3 id=\"用community-list匹配团体属性-严格匹配\"><a href=\"#用community-list匹配团体属性-严格匹配\" class=\"headerlink\" title=\"用community-list匹配团体属性 严格匹配\"></a>用community-list匹配团体属性 严格匹配</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125250291-e5171d9b-624d-4446-b988-3117e17dd97d.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lp community-list 11 permit no-export</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">match community 11 exact-match\t\t// 严格匹配</span><br><span class=\"line\">严格匹配community属性为no-export的路由，多一点，少一点都不行</span><br><span class=\"line\"></span><br><span class=\"line\">Show lp community-ist 1 [exact-match]</span><br><span class=\"line\">查看community-list 1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"删除某个或多个community值\"><a href=\"#删除某个或多个community值\" class=\"headerlink\" title=\"删除某个或多个community值\"></a>删除某个或多个community值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125335491-71efe10e-6c26-4e45-afe6-6f30821e8c97.png\"></p>\n<ul>\n<li><strong>一条路由，允许携带多个community值，构成一个community列表，那么如何删除某个或者某几个community值?譬如只想删除11路由的no-export属性</strong></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip community-list standard del permit no-export\t\t// 匹配要删除的commu值</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  set comm-list del delete\t\t// 用这条命令删除</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"删除多个community值\"><a href=\"#删除多个community值\" class=\"headerlink\" title=\"删除多个community值\"></a>删除多个community值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125474298-a0ab0f1a-bc22-46f8-bce2-e8fcd77cebf0.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip community-list standard del permit no-export\t\t// 用多行community-list</span><br><span class=\"line\">ip community-list standard del permit 100:11\t\t// 用多行community-list</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  set comm-list del delete</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置community-list\"><a href=\"#配置community-list\" class=\"headerlink\" title=\"配置community-list\"></a>配置community-list</h3><p><code>lp community-list 1-99 permit|deny value [value...]</code></p>\n<p>定义标准的community-list，使用internet关键字匹配任何community</p>\n<p><code>lp community-list 100-199 permit|deny regexp</code></p>\n<p>定义扩展的community-list，可使用正则表达式匹配community</p>\n<p><code>show ip community-list</code></p>\n<p>查看配置的community-list</p>\n<p><code>show ip bgp x.x.x.x</code></p>\n<p>查看BGP路由的详细信息，包括community</p>\n<h2 id=\"Prefix-list\"><a href=\"#Prefix-list\" class=\"headerlink\" title=\"Prefix-list\"></a>Prefix-list</h2><h3 id=\"配置实例\"><a href=\"#配置实例\" class=\"headerlink\" title=\"配置实例\"></a>配置实例</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125724825-5fc79afd-ba57-4220-a7e3-c07cbc16d21f.png\"></p>\n<ul>\n<li>R2上，过滤掉12.12.12.0&#x2F;24路由，其他放行</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R2(config)# ip prefix-list 12 deny 12.12.12.0/24</span><br><span class=\"line\">R2(config)# ip prefix-list 12 permit 0.0.0.0/0 le 32</span><br><span class=\"line\">R2(config)# router bgp 12</span><br><span class=\"line\">R2(config-router)# neighbor 10.1.23.3 prefix-list 12 out</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"distribute-list\"><a href=\"#distribute-list\" class=\"headerlink\" title=\"distribute-list\"></a>distribute-list</h2><h3 id=\"配置实例-1\"><a href=\"#配置实例-1\" class=\"headerlink\" title=\"配置实例\"></a>配置实例</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125796770-bb717766-917b-4aca-9dce-e03e43310a11.png\"></p>\n<ul>\n<li>R2上，过滤掉12.12.12.0&#x2F;24路由，其他放行</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R2(config)# access-ist 1 deny 12.12.12.0</span><br><span class=\"line\">R2(config)# access-list 1 permit any</span><br><span class=\"line\">R2(config)# router bgp 12</span><br><span class=\"line\">R2(config-router)# neighbor 10.1.23.3 distribute-list 1 out</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Route-map\"><a href=\"#Route-map\" class=\"headerlink\" title=\"Route-map\"></a>Route-map</h2><h3 id=\"可以在以下的BGP命令中使用route-map关键字\"><a href=\"#可以在以下的BGP命令中使用route-map关键字\" class=\"headerlink\" title=\"可以在以下的BGP命令中使用route-map关键字\"></a>可以在以下的BGP命令中使用route-map关键字</h3><ul>\n<li>neighbor</li>\n<li>bgp dampening</li>\n<li>network</li>\n<li>redistribute</li>\n</ul>\n<h3 id=\"可以为特定的目的在不同的命令中调用定义好的route-map\"><a href=\"#可以为特定的目的在不同的命令中调用定义好的route-map\" class=\"headerlink\" title=\"可以为特定的目的在不同的命令中调用定义好的route-map\"></a>可以为特定的目的在不同的命令中调用定义好的route-map</h3><ul>\n<li>suppress-map</li>\n<li>unsuppress-map</li>\n<li>advertise-map</li>\n<li>inject-map</li>\n<li>exist-map</li>\n<li>non-exist-map</li>\n<li>tabel-map</li>\n</ul>\n<h3 id=\"match语句能匹配\"><a href=\"#match语句能匹配\" class=\"headerlink\" title=\"match语句能匹配\"></a>match语句能匹配</h3><ul>\n<li>Access-list</li>\n<li>Ip prefix-list</li>\n<li>Ip next-hop</li>\n<li>local-preference</li>\n<li>metric</li>\n<li>Tag</li>\n<li>AS PATH</li>\n<li>BGP community</li>\n<li>IGP route-type(internal&#x2F;external)</li>\n</ul>\n<h3 id=\"set语句能设置\"><a href=\"#set语句能设置\" class=\"headerlink\" title=\"set语句能设置\"></a>set语句能设置</h3><ul>\n<li>Origin</li>\n<li>Weight</li>\n<li>BGP community</li>\n<li>LOCAL PREFERENCE</li>\n<li>MED</li>\n</ul>\n<h3 id=\"配置实例-关联network-执行策略\"><a href=\"#配置实例-关联network-执行策略\" class=\"headerlink\" title=\"配置实例 关联network 执行策略\"></a>配置实例 关联network 执行策略</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126321432-30b4a9e2-5670-4e5c-b28e-b11d6398051b.png\"></p>\n<ul>\n<li><em><strong>R1上，network引入路由时设置路径属性</strong></em></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-list 11 permit 11.11.11.0/24</span><br><span class=\"line\">ip prefix-ist 12 permit 12.12.12.0/24</span><br><span class=\"line\">route-map RP1 permit 10</span><br><span class=\"line\">  set community 100:11</span><br><span class=\"line\">route-map RP2 permit 20</span><br><span class=\"line\">  set community 100:12</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">  network 11.11.11.0 mask 255.255.255.0 route-map RP1</span><br><span class=\"line\">  network 12.12.12.0 mask 255.255.255.0 route-map RP2</span><br><span class=\"line\">  neighbor 10.1.12.2 send-community</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>该策略对所有BGP邻居有效</strong></li>\n</ul>\n<h3 id=\"关联neighbor，针对特定邻居执行策略\"><a href=\"#关联neighbor，针对特定邻居执行策略\" class=\"headerlink\" title=\"关联neighbor，针对特定邻居执行策略\"></a>关联neighbor，针对特定邻居执行策略</h3><p><strong>R1上，对R2传递路由时，设定MED属性值</strong></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126749376-550e409c-c6c6-419c-8ca7-fa6ec14c3a1d.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-list 11 permit 11.11.11.0/24</span><br><span class=\"line\">ip prefix-list 12 permit 12.12.12.0/24</span><br><span class=\"line\">route-map RP permit 10</span><br><span class=\"line\">  match ip address 11</span><br><span class=\"line\">  set metric 1000</span><br><span class=\"line\">route-map RP permit 20</span><br><span class=\"line\">  match ip address 12</span><br><span class=\"line\">  set metric 2000</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">  neighbor 10.1.12.2 route-map RP out</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置实例-重发布关联route-map\"><a href=\"#配置实例-重发布关联route-map\" class=\"headerlink\" title=\"配置实例 重发布关联route-map\"></a>配置实例 重发布关联route-map</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126794524-8909f174-b61c-467b-9e8e-4a56528ab197.png\"></p>\n<p><strong>R2上，将OSPF路由重发布进BGP</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 200</span><br><span class=\"line\">redistribute ospf 1 route-map RP match ?</span><br><span class=\"line\">neighbor 10.1.12.1 remote-as 100</span><br><span class=\"line\">no auto-summary</span><br></pre></td></tr></table></figure>\n\n<p><strong>redistribute ospf 1</strong></p>\n<ul>\n<li>默认只重发布Intra-Area及Inter-Area路由</li>\n<li>match extemnal只重发布E1及E2</li>\n<li>match external 1只重发布E1;external 2只重发布E2</li>\n<li>match nssa-external 只重发布NSSA外部路由</li>\n</ul>\n<h3 id=\"Policy-list\"><a href=\"#Policy-list\" class=\"headerlink\" title=\"Policy-list\"></a>Policy-list</h3><ul>\n<li>可预先将包含一组match语句的route-map定义成一个命令列表，这个列表称为policy-list</li>\n<li>这些policy-list可以在route-map中被调用</li>\n<li>一个policy-list就像个只包含match语句的route-map当route-map被执行，被其调用的policy-list中所包含的match语句将一并被遍历且执行match动作</li>\n<li>这是一种在大中型网络中运用、使得配置“模块化”的特性</li>\n</ul>\n<h4 id=\"特性\"><a href=\"#特性\" class=\"headerlink\" title=\"特性\"></a>特性</h4><ul>\n<li>Ipv6不支持</li>\n<li>12.0(22)S 和12.2(15)T之前的CISCOIOS版本不支持该特性，另外更老的IOS版本的路由器重启存在路由策略配置丢失的风险</li>\n<li>Policy-list中不能包含set语句，但是它被route-map调用后，该route-map中可以包含set语句</li>\n<li>Policy-list只在BGP中支持，其他的IP路由协议并不支持这个特性</li>\n</ul>\n<h4 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip policy-list as100 permit</span><br><span class=\"line\">  match as-path 1</span><br><span class=\"line\">  match community 1</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>上述命令创建一个policy-list</li>\n<li>Policy-list只能包含match语句</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map RP permit 10</span><br><span class=\"line\">  match policy-list as100</span><br><span class=\"line\">  match ip address prefix-list 100</span><br><span class=\"line\">  set local-preference 300</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>上述命令在route-map中调用定义好的policy-list</li>\n<li>一个route-map中可调用多个policy-list</li>\n</ul>\n<h2 id=\"ORF\"><a href=\"#ORF\" class=\"headerlink\" title=\"ORF\"></a>ORF</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127261820-c5da6b86-80e8-429d-bc1a-2a6100b878e4.png\"></p>\n<h3 id=\"配置-1\"><a href=\"#配置-1\" class=\"headerlink\" title=\"配置\"></a>配置</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127420812-f87e5d92-541e-4e91-91ee-8da2c7342e7e.png\"></p>\n<ul>\n<li>R2的配置（sender）</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 12</span><br><span class=\"line\">  address-family ipv4 unicast</span><br><span class=\"line\">  neighbor 10.1.12.1 capability orf prefix-ist send</span><br><span class=\"line\">  neighbor 10.1.12.1 prefix-list FILTER in</span><br><span class=\"line\"></span><br><span class=\"line\">ip prefix-ist FlLTER deny 1.1.1.0/24</span><br><span class=\"line\">ip prefix-list FlLTER permit</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>R1的配置（receiver）</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 12</span><br><span class=\"line\">  address-family ipv4 unicast</span><br><span class=\"line\">  neighbor 10.1.12.2 capability orf prefix-list receive</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>注意：省去基本配置，如手工指定BGP邻居</li>\n</ul>\n<h3 id=\"一些\"><a href=\"#一些\" class=\"headerlink\" title=\"一些\"></a>一些</h3><ul>\n<li>ORF消息包含以下内容<ul>\n<li>AFl&#x2F;SAFlipv4 unicast</li>\n<li>ORF TYPE</li>\n<li>When to refresh</li>\n<li>List of ORF entries</li>\n</ul>\n</li>\n<li>ORF类型不同，ORFentries也不尽相同</li>\n<li>每种ORF类型都需要进行ORF能力的协商</li>\n</ul>\n<h2 id=\"路由拆分-BGP-Deaggregation\"><a href=\"#路由拆分-BGP-Deaggregation\" class=\"headerlink\" title=\"路由拆分 BGP Deaggregation\"></a>路由拆分 BGP Deaggregation</h2><h3 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127855820-e4b03bc3-1426-46bb-b770-6e35ac5f0b46.png\"></p>\n<h3 id=\"配置-2\"><a href=\"#配置-2\" class=\"headerlink\" title=\"配置\"></a>配置</h3><ul>\n<li>Conditional inject的配置如下(BGP路由选择进程模式下)</li>\n</ul>\n<p><code>bgp inject-map map1 exist-map map2 [copy attributes]</code></p>\n<ul>\n<li>上述命令的意思是当map2所匹配的汇总路由正常时，在本地BGP RIB中注入map1中定义的明细路由。</li>\n<li>当汇总路由挂掉，这条明细也就跟着消失，这就是所谓的条件注入-conditional injection。</li>\n<li>下面我们在看来一下这两个route-map的详细内容，这些是需要格外注意的。</li>\n<li>exist-map使用的route-map最少具有以下两个match语句</li>\n</ul>\n<p><code>match ip address prefix-list</code></p>\n<ul>\n<li>上面这条match语句用来匹配汇总路由</li>\n</ul>\n<p><code>match ip route-source</code></p>\n<ul>\n<li>上面这条match语句用来匹配发送该汇总路由的邻居IP。如果指定了copyattributes选项，那么被inject的明细路由会继承汇总路由的路径属性，否则明细将被当成本地生成的路由。</li>\n<li>Inject-map使用的route-map中</li>\n</ul>\n<p><code>Set ip address prefix-list</code></p>\n<ul>\n<li>上面的这条set命令用来定义将被注入到本地BGPRIB的明细路由。被注入的前缀可以使用</li>\n</ul>\n<p><code>Show ip bgpinjected-path</code></p>\n<ul>\n<li>来显示</li>\n</ul>\n<h2 id=\"路由反射器\"><a href=\"#路由反射器\" class=\"headerlink\" title=\"路由反射器\"></a>路由反射器</h2><h3 id=\"中转AS中的IBGP问题\"><a href=\"#中转AS中的IBGP问题\" class=\"headerlink\" title=\"中转AS中的IBGP问题\"></a>中转AS中的IBGP问题</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138789405-9509b338-52b2-4cd0-b7b8-716ee84b829a.png\"></p>\n<ul>\n<li>AS内要求IBGP全互联（IBGP水平分割）</li>\n<li>BGP routers<ul>\n<li>需维护大量的TCP和BGP链接</li>\n<li>网络中充斥着BGP路由信息</li>\n</ul>\n</li>\n<li>解决方案<ul>\n<li>路由反射器</li>\n<li>BGP联邦</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"背景-1\"><a href=\"#背景-1\" class=\"headerlink\" title=\"背景\"></a>背景</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138923248-9e3c4eb2-ccea-4481-8feb-28e80a14bd4e.png\"></p>\n<ul>\n<li>因为IBGP水平分割原则，导致AS内部需要维护大量的BGP链接（要求IBGP全互联），从而影响网络性能，路由反射器可以“放宽”水平分割原则，缓解该问题</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139053948-4ababdc6-fc58-4813-a03b-65e6b92fa662.png\"></p>\n<ul>\n<li>Route Reflector</li>\n<li>Client</li>\n</ul>\n<h3 id=\"联邦内的BGP路由路径属性\"><a href=\"#联邦内的BGP路由路径属性\" class=\"headerlink\" title=\"联邦内的BGP路由路径属性\"></a>联邦内的BGP路由路径属性</h3><ul>\n<li>在联邦内部保留外部路由的NEXT_HOP属性</li>\n<li>公布给联邦的路由的MED属性在整个联邦范围内予以保留</li>\n<li>路由的LP属性在整个联邦范围内予以保留</li>\n<li>在联邦范围内，将成员AS号压入AS PATH，但不公布到联邦外，并且使用TYPE3、4的AS PATH</li>\n<li>AS PATH中的联邦成员AS号用于在联邦内部避免环路;联邦内成员AS号不参与AS PATH长度计算</li>\n</ul>\n<h3 id=\"路由反射原则\"><a href=\"#路由反射原则\" class=\"headerlink\" title=\"路由反射原则\"></a>路由反射原则</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139094878-a409c072-6d0f-48f0-8f54-d88dc4810e2a.png\"></p>\n<ul>\n<li>如果路由学习自非client IBGP对等体，则反射给所有client</li>\n<li>如果路由学习自—client，则反射给所有非client IBGP邻居和除了该client以外的所有client</li>\n<li>如果路由学习自EBGP邻居，则发送给所有的client和非client IBGP邻居</li>\n</ul>\n<h3 id=\"实例1\"><a href=\"#实例1\" class=\"headerlink\" title=\"实例1\"></a>实例1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139249267-49816366-cad0-4367-bc94-0694daae41ae.png\"></p>\n<ul>\n<li>如果路由学习自一client，则反射给所有非client IBGP邻居和除了该client以外的所有client</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139304799-ced25330-ed76-4b30-8385-39709a182131.png\"></p>\n<ul>\n<li>如果路由学习至自client IBG对等体，则反射给所有的client</li>\n</ul>\n<h3 id=\"路由反射器下的防环\"><a href=\"#路由反射器下的防环\" class=\"headerlink\" title=\"路由反射器下的防环\"></a>路由反射器下的防环</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139376642-4f17a413-a0ac-4a12-b60a-b5f67e6af3da.png\"></p>\n<ul>\n<li>由于AS PATH属性在AS内部不会发生变化(仅当路由离开本AS才会被更新)，因此AS内才有水平分割的机制用于防止环路，而路由反射器实际上是放宽了水平分割原则，这个就会给环路带来一定的隐患，因此路由反射器需使用以下两个属性防止环路ORIGINATOR ID和CLUSTER LIST是路由反射器使用的可选非传递属性，用来防止环路。</li>\n</ul>\n<h3 id=\"Originator-ID、Cluster-list\"><a href=\"#Originator-ID、Cluster-list\" class=\"headerlink\" title=\"Originator_ID、Cluster_list\"></a>Originator_ID、Cluster_list</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140109190-57da2edc-e4e2-44dd-859d-498ca74c3909.png\"></p>\n<h4 id=\"Originator-ID\"><a href=\"#Originator-ID\" class=\"headerlink\" title=\"Originator_ID\"></a>Originator_ID</h4><ul>\n<li>每当一条路由被路由反射器反射时，该路由的始发IBGP路由器的Router-ID将会被存在路由的originator_ID属性中</li>\n<li>当一台路由器收到IBGP路由且其originatorID与该路由器的RouterID相同，则路由器忽略该条路由</li>\n<li>Originator_ID及Cluster-list属性将会影响BGP路径决策</li>\n</ul>\n<h4 id=\"Originator-ID的值\"><a href=\"#Originator-ID的值\" class=\"headerlink\" title=\"Originator_ID的值\"></a>Originator_ID的值</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140502948-58450af4-a6d4-4764-b425-43380d718b4b.png\"></p>\n<h3 id=\"路由反射原则-1\"><a href=\"#路由反射原则-1\" class=\"headerlink\" title=\"路由反射原则\"></a>路由反射原则</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140292005-dd4b4b29-9070-492d-9038-64a94ac51f6e.png\"></p>\n<ul>\n<li>如果路由学习自非client lBGP对等体，则反射给所有client</li>\n<li>如果路由学习自一client，则反射给所有非ctientIBGP邻居和除了该client以外的所有client</li>\n<li>如果路由学习自EBGP邻居，则发送给所有client和非clientIBGP邻居</li>\n</ul>\n<h3 id=\"路由反射簇\"><a href=\"#路由反射簇\" class=\"headerlink\" title=\"路由反射簇\"></a>路由反射簇</h3><ul>\n<li>路由反射簇包括反射器及其Client</li>\n<li>每一个簇都有唯一的簇ID</li>\n<li>每当一条路由被反射器反射后，该反射器(该簇)的ClusterID就会被添加至路由的Cluster list属性中</li>\n<li>每当反射器收到一条Cluster list属性已经包含该簇的ClusterID的路由时，该路由基于防环的目的将不被反射</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140660257-05943ad7-9a7c-4dab-af52-05dac354ea2b.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140718784-4731164f-0b69-4428-b4ff-cbeeaab41843.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140920126-45d22e04-6ac7-4ea2-b433-4ecf734da20a.png\"></p>\n<h3 id=\"路由反射器冗余\"><a href=\"#路由反射器冗余\" class=\"headerlink\" title=\"路由反射器冗余\"></a>路由反射器冗余</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733141230441-a00716c4-3db4-4a6c-9fb7-535cd4ebe1d1.png\"></p>\n<ul>\n<li>冗余RR增加了网络的健壮性</li>\n<li>使用Originator IDCluster_list属性来在冗余RR环境中避免路由环路。</li>\n<li>例如将两个RR 的Cluster_ID配置为一样，那么可以起到进一步的防环作用</li>\n<li>所有的RR之间建议采用IBGP全互联</li>\n<li>Client会收到来自两个RR反射的路由，如何决策 ?</li>\n</ul>\n<h3 id=\"BGP选路规则\"><a href=\"#BGP选路规则\" class=\"headerlink\" title=\"BGP选路规则\"></a>BGP选路规则</h3><ol>\n<li>优选具有最大Weight值的路由</li>\n<li>优选具有最大Local Pref值的路由</li>\n<li>优选起源于本地的路由(如本地networkaggregate或redistribute的)即下一跳是0.0.0.0(在BGP 表中,当前路由器通告的路由的下一跳为0.0.0.0)</li>\n<li>优选AS-Path最短的路由</li>\n<li>Origin(IGP &gt;EGP&gt;Incomplete )</li>\n<li>优选MED最小的路由，默认情况下仅有当所有的备选路由来自同一AS才会比较MED</li>\n<li>优选EBGP邻居发来的路由(相对于IBGP邻居学过来的)，在联邦EBGP和IBGP中首选联邦EBGP 路由</li>\n<li>优选到BGP NEXT HOP最近的邻居</li>\n<li>如果有多条来自相同相邻AS的路由并通过Maximum-paths 使多条路径可用,则将所有开销相同的路由放入Loc-RIB</li>\n<li>优选最老的EBGP路由，降低滚翻的影响(此条主要对EBGP路由起效，但是现在基本不用该条，因不确定性太大)</li>\n<li>BGP 邻居的RID越小越优先</li>\n<li>优选Cluster-List 最短的路由</li>\n<li>选择邻居ip地址(BGP的neighbor配置中的那个地址)最小的路由</li>\n</ol>\n<h2 id=\"优选MED最小的路由\"><a href=\"#优选MED最小的路由\" class=\"headerlink\" title=\"优选MED最小的路由\"></a>优选MED最小的路由</h2><h3 id=\"MED属性设置方法\"><a href=\"#MED属性设置方法\" class=\"headerlink\" title=\"MED属性设置方法\"></a>MED属性设置方法</h3><ul>\n<li>将IGP路由引入BGP时关联Route-map进行设置</li>\n<li>对BGP Peer应用IN&#x2F;OUT方向的Route-map进行设置</li>\n<li>非Route-map(自动)方式<ul>\n<li>使用network或redistribute方式将IGP路由引入BGP时,MED将继承IGP路由的Metric(直联路由及静态路由的Metric为0)</li>\n<li>使用aggregate-address方式引入路由，则MED为空</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"MED注意事项\"><a href=\"#MED注意事项\" class=\"headerlink\" title=\"MED注意事项\"></a>MED注意事项</h3><ul>\n<li>默认情况下，只比较来自同一邻居AS的BGP路由的MED值，就是说如果同一个目的地的两条路由来自不同的AS，则不进行MED值的比较。如果仍然希望比较来自不同邻接AS的路由，可使用如下命令</li>\n<li><code>bgp always-compare-med</code></li>\n<li>MED只是在直接相连的自治系统间影响业务量，而不会跨AS传递</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733208543904-53fea48b-83db-441b-964d-f8c27e92a6ee.png\"></p>\n<h2 id=\"BGP负载均衡\"><a href=\"#BGP负载均衡\" class=\"headerlink\" title=\"BGP负载均衡\"></a>BGP负载均衡</h2><ul>\n<li>当前面的8条选路原则都无法优选出最优路由时，并且在BGP进程下面配置了maximum-paths[ibgp]n,n的取值为2-6,那么将执行等价负载均衡，也就是将这些等代价的BGP路径都放进IP路由表使用，但是要注意，虽然这些路径在本地都用了，最终却只有一条BGP路径是best最优的。具备等价负载均衡条件的候选路径需满足如下条件:<ul>\n<li>必须有相同的路径属性，如weight、LP、AS PATH(不仅是长度，整个AS PATH包括AS号都要相同)、origincode、MED及IGP的Distance值</li>\n<li>每一条路径的下一跳都不相同</li>\n</ul>\n</li>\n</ul>\n<p>__</p>\n","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"BGP概述\"><a href=\"#BGP概述\" class=\"headerlink\" title=\"BGP概述\"></a>BGP概述</h2><ul>\n<li>BGP为BorderGateway Protgcol边界网关路由协议(路径矢量)</li>\n<li>主要作用是在AS之间传递路由信息</li>\n<li>目前BGR有4个版本:V1、V2、V4、V4+(即MBGP)</li>\n<li>企业连接到SP<ul>\n<li>连接到两家或是多家ISP，提供链路的可靠性，连接方式如下</li>\n<li>1.Single homed单宿:只连接到一家ISP且没有冗余链路</li>\n<li>2.Dualhomed双宿:只连接到一家ISP，使用两条链路来提供冗余</li>\n<li>3.Multihomed多宿:连接到多家ISP</li>\n<li>4.DualMultihomed双多宿:连接到多家ISP，同时使用两条链路</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"使用BGP的三大理由\"><a href=\"#使用BGP的三大理由\" class=\"headerlink\" title=\"使用BGP的三大理由\"></a>使用BGP的三大理由</h2><ul>\n<li>大量路由需要承载，IGP只能容纳千条，而BGP可以容纳上万</li>\n<li>支撑MPLS&#x2F;VPN的应用，传递客户VPN路由</li>\n<li>策略能力强，可以很好的实现路由决策与数据控制</li>\n</ul>\n<h2 id=\"IGP具有以下某些特性或者全部特性\"><a href=\"#IGP具有以下某些特性或者全部特性\" class=\"headerlink\" title=\"IGP具有以下某些特性或者全部特性\"></a>IGP具有以下某些特性或者全部特性</h2><ul>\n<li>执行拓扑发现</li>\n<li>尽力完成快速收敛</li>\n<li>需要周期性的更新来确保路由选择信息的精准性</li>\n<li>受同一个管理机构的控制</li>\n<li>采取共同的路由选择策略</li>\n<li>提供了优先的策略控制能力</li>\n</ul>\n<h2 id=\"关于BGP\"><a href=\"#关于BGP\" class=\"headerlink\" title=\"关于BGP\"></a>关于BGP</h2><ul>\n<li>AS:autonomoussystem自治系统，指的是在同一个组织管理下使用相同策略的设备的集合</li>\n<li>不同AS通过AS号区分，AS号取值范围1-65535，其中64512-65535是私有AS号。IANA负责AS号的分发。</li>\n<li>中国电信163 AS号:4134</li>\n<li>中国电信CN2 AS号:4809 </li>\n<li>中国网通 AS号:9929</li>\n</ul>\n<h2 id=\"BGP的矢量特征\"><a href=\"#BGP的矢量特征\" class=\"headerlink\" title=\"BGP的矢量特征\"></a>BGP的矢量特征</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730806229082-7508981d-6da2-4ef1-a7a8-12d8b9d550a9.jpeg\"></p>\n<ul>\n<li>路径矢量信息中包含一个BGP自治系统列表</li>\n<li>BGP路由器不接受路径列表中包含其AS号的路由更新，是<strong>无环路</strong>的</li>\n<li>BGP支持对BGP自治系统路径应用路由策略</li>\n<li>BGP路由器只能将其使用的路由通告给邻接自治系统中的对等体</li>\n</ul>\n<h2 id=\"BGP特征\"><a href=\"#BGP特征\" class=\"headerlink\" title=\"BGP特征\"></a>BGP特征</h2><ul>\n<li>BGP使用TCP为输出层协议，TCP端口号为179</li>\n<li>BGP路由器之间建立TCP连接，这些路由器称为BGP对等体也叫BGP邻居：**<font style=\"color:#DF2A3F;\">EBGP、IBGP</font>**</li>\n<li>对等体之间交换整个BGP路由表</li>\n<li>BGP路由器只发送增量更新或者触发更新（不会周期性更新）</li>\n<li>具有丰富的路径属性</li>\n<li>BGP通告成千上万的路由，可采用TCP滑动窗口的机制，停止并等待确认前，可以发送65576个字节</li>\n</ul>\n<h2 id=\"BGP-packets\"><a href=\"#BGP-packets\" class=\"headerlink\" title=\"BGP packets\"></a>BGP packets</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730807035348-b0a84008-40e6-4ca5-b299-e9f24f59896e.png\"></p>\n<h3 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h3><table>\n<thead>\n<tr>\n<th>报文名称</th>\n<th>作用是什么</th>\n<th>什么时候发包</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>OPEN</td>\n<td>协商BGP邻居的各项参数，建立邻居关系</td>\n<td>通过TCP建立BGP连接，发送open报文</td>\n</tr>\n<tr>\n<td>UPDATE</td>\n<td>进行路由信息的交换</td>\n<td>连接建立后，有路由需要发送或路由变化时，发送UPDATE通告对端路由信息</td>\n</tr>\n<tr>\n<td>NOTIFICATION</td>\n<td>报告错误，终止邻居关系</td>\n<td>当BGP在运行时发现错误时，要发送NOTIFICATION报文通报BGP对端</td>\n</tr>\n<tr>\n<td>KEEPALIVE</td>\n<td>维持邻居关系</td>\n<td>定时发送KEEPALIVE报文以保持BGP邻居关系的有效性</td>\n</tr>\n<tr>\n<td>Route-refresh</td>\n<td>为保证网络稳定，触发更新路由的机制</td>\n<td>当路由策略发生变化时，触发请求邻居重新通告路由</td>\n</tr>\n</tbody></table>\n<h2 id=\"BGP的有限状态机\"><a href=\"#BGP的有限状态机\" class=\"headerlink\" title=\"BGP的有限状态机\"></a>BGP的有限状态机</h2><table>\n<thead>\n<tr>\n<th>Peer状态名称</th>\n<th>发什么包</th>\n<th>在做什么</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Idle</td>\n<td>尝试建立TCP连接</td>\n<td>准备开始TCP的连接并监视远程peer启动TCP连接，启用BGP时，要准备足够的资源</td>\n</tr>\n<tr>\n<td>Connect</td>\n<td>发TCP包</td>\n<td>正在进行TCP连接，等待完成中，认证都在TCP建立期间完成的。如果TCP连接不上则进入Active状态，反复尝试连接</td>\n</tr>\n<tr>\n<td>Active</td>\n<td>发TCP包</td>\n<td>TCP连接没建立成功，反复尝试TCP连接</td>\n</tr>\n<tr>\n<td>OpenSent</td>\n<td>发Open包</td>\n<td>TCP连接建立已经成功，开始发送Open包，Open包携带参数协商对等体的建立</td>\n</tr>\n<tr>\n<td>OpenConfim</td>\n<td>发Keepalive包</td>\n<td>参数、能力特性协商成功，开始自己发送Keepalive包</td>\n</tr>\n<tr>\n<td>Established</td>\n<td>发Update包</td>\n<td>已经收到对方的Keepalive包，双方能力特性一致，开始使用Update通告路由信息</td>\n</tr>\n</tbody></table>\n<h2 id=\"BGP-Peer\"><a href=\"#BGP-Peer\" class=\"headerlink\" title=\"BGP Peer\"></a>BGP Peer</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730809493082-98e0e6ca-f4f0-4d60-921c-277b67c3c35c.png\"></p>\n<ul>\n<li>运行BGP的路由器被称为BGP speaker</li>\n<li>BGP对等体也叫BGP邻居，建立基于TCP的关系</li>\n<li>EBGP：BGP位于不同自治相同的路由器之间，称为EBGP</li>\n<li>建立EBGP邻接关系，必须满足三个条件<ul>\n<li>EBGP之间自治系统号不同</li>\n<li>定义邻居建立TCP会话</li>\n<li>neighbor中指定的IP地址要可达</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"中转AS中的IBGP路由传递\"><a href=\"#中转AS中的IBGP路由传递\" class=\"headerlink\" title=\"中转AS中的IBGP路由传递\"></a>中转AS中的IBGP路由传递</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892076962-e019b9cc-49c5-4659-b378-ac6690db7cfa.png\"></p>\n<h3 id=\"全互联IBGP邻居关系\"><a href=\"#全互联IBGP邻居关系\" class=\"headerlink\" title=\"全互联IBGP邻居关系\"></a>全互联IBGP邻居关系</h3><ul>\n<li>IBGP全互联虽然能解决transit AS内的路由黑洞问题，但是却造成BGP路由器需要耗费大量资源维护大量BGP连接的新问题<ul>\n<li>路由反射器</li>\n<li>联邦</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"IBGP水平分割原则\"><a href=\"#IBGP水平分割原则\" class=\"headerlink\" title=\"IBGP水平分割原则\"></a>IBGP水平分割原则</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730892484804-5d4f1364-9a3c-4165-bd3e-40e75f989e0c.png\"></p>\n<ul>\n<li>BGP防环是通过AS_PATH实现的，而AS_PATH仅仅实在路由离开后AS才会被更改，因此再AS内，IBGP就没有EBGP的防环能力，为了防止环路的出现，BGP路由器不会将从IBGP邻居学习过来的路由再通告给自己其他IBGP邻居</li>\n<li>由于水平分割原则存在，BGP要求AS内，需保证IBGP全互联（neighbor命令 指定）</li>\n<li>（根本原因是在AS内部，AS_PATH不会改变，无法使用AS_PATH防环，因此很容易出现环路）</li>\n</ul>\n<h2 id=\"BGP路由通告规则\"><a href=\"#BGP路由通告规则\" class=\"headerlink\" title=\"BGP路由通告规则\"></a>BGP路由通告规则</h2><ul>\n<li>当存在多条路径时，BGP router只选取最优的路由（BEST）来使用（没有负载的情况下）</li>\n<li>BGP只把自己使用的路由，也就是自己认为Best的路由传递给BGP Peer</li>\n<li>BGP Speaker从EBGP获得的路由会向它所有的BGP相邻体通告（包括EBGP和IBGP）</li>\n<li>BGP Speaker从IBGP获得的路由不向它的IBGP相邻体通告（避免循环，水平分割；存在路由RR的情况下除外）</li>\n<li>BGP Speaker从IBGP获得的路由是否通告给它的EBGP Peer要视IGP和BGP同步的情况来决定</li>\n</ul>\n<h2 id=\"BGP同步\"><a href=\"#BGP同步\" class=\"headerlink\" title=\"BGP同步\"></a>BGP同步</h2><ul>\n<li>BGP同步规则指出，BGP路由器不应使用通过IBGP获悉的路由或将其通告给外部邻居，除非该路由是本地或者通过IGP获悉的</li>\n<li>思科Cisco IOS默认关闭同步</li>\n<li>同步关闭，则BGP可以将使用这样的路由，并将其通告给外部BGP邻居：从IBGP邻居那里获悉的且没有出现在本地路由表中的路由</li>\n<li>同步开启，则路由器通过IBGP获悉路由后，将等待IGP将该路由传遍整个自治系统，然后再将其通告给外部对等体</li>\n</ul>\n<h2 id=\"Tables\"><a href=\"#Tables\" class=\"headerlink\" title=\"Tables\"></a>Tables</h2><ul>\n<li>BGP邻居表：邻居列表</li>\n<li>BGP表：包含了从邻居学习的所有路由，以及到达目的网段的多个路径和属性</li>\n<li>路由表：列出了到达目的网段的最佳路径，EBGP路由AD为20，IBGP路由AD为200</li>\n</ul>\n<h2 id=\"Next-Hop\"><a href=\"#Next-Hop\" class=\"headerlink\" title=\"Next-Hop\"></a>Next-Hop</h2><ul>\n<li>BGP是AS·by-AS的路由协议，而不是router-by-router的路由协议</li>\n<li>在BGP中，next-hop并不意味着是下一台路由器，而是到达下一个AS的IP地址</li>\n<li>EBGP中，默认next-hop为发送更新的邻居路由器的IP地址</li>\n<li>IBGP中，从EBGP传来的next-hop属性在IBGP中保持不变的被传递</li>\n</ul>\n<h3 id=\"修改next-hop\"><a href=\"#修改next-hop\" class=\"headerlink\" title=\"修改next-hop\"></a>修改next-hop</h3><ul>\n<li>为了防止路由黑洞问题，R1、R2、R3建立IBGP全互联且均用各自的LOOPBACK接口建立IBGP关系</li>\n</ul>\n<h2 id=\"配置BGP\"><a href=\"#配置BGP\" class=\"headerlink\" title=\"配置BGP\"></a>配置BGP</h2><h3 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h3><p><code>**Router(config)# router bgp** _autonomous-system_</code></p>\n<ul>\n<li>仅仅执行router bgp不能再路由器上激活BGP，必须执行至少一个子命令才能再路由器激活BGP进程</li>\n<li>在路由器上职能配置一个BGP实例</li>\n</ul>\n<h3 id=\"指定BGP邻居及激活BGP会话\"><a href=\"#指定BGP邻居及激活BGP会话\" class=\"headerlink\" title=\"指定BGP邻居及激活BGP会话\"></a>指定BGP邻居及激活BGP会话</h3><p><code>Router(config-router)# neighbor &#123;ip-address | peer-group-name &#125; remote-as autonomous-system</code></p>\n<ul>\n<li>邻居指定的ip地址必须路由可达</li>\n<li>BGP路由都需手工指定，不能像IGP那样通过协议自动发现</li>\n<li>AS决定与邻居建立的是EBGP还是IBGP会话</li>\n</ul>\n<h3 id=\"指定BGP将通告的网络\"><a href=\"#指定BGP将通告的网络\" class=\"headerlink\" title=\"指定BGP将通告的网络\"></a>指定BGP将通告的网络</h3><p><code>Router(config-router)#network network-number [mask network-mask] [route-map map-tag]</code></p>\n<ul>\n<li>network命今与IGP不同，BGP命令network为通告哪些IP路由进BGP进程，而不是在接口上启用BGP </li>\n<li>network支持无类前缀，前缀必须与路由表中的条目完全匹配</li>\n<li>如果不指定mask，只通告主类网络号，而且仅当主类网络中至少有一个子网出现在IP路由表中，BGP才会将该主类网络作为一条BGP路由通告</li>\n<li>指定了mask，则仅当路由选择表中有与该网络完全匹配的条目时才被通告出去</li>\n</ul>\n<h3 id=\"BGP同步-1\"><a href=\"#BGP同步-1\" class=\"headerlink\" title=\"BGP同步\"></a>BGP同步</h3><p><code>Router(config-router)# no synchronization</code></p>\n<ul>\n<li>关闭同步(默认关闭)</li>\n</ul>\n<p><code>Router(config-router)# synchronization</code></p>\n<ul>\n<li>开启同步</li>\n</ul>\n<h3 id=\"BGP-router-id\"><a href=\"#BGP-router-id\" class=\"headerlink\" title=\"BGP router-id\"></a>BGP router-id</h3><p><code>Router(config-router)# bgp router-id x.x.x.x</code></p>\n<ul>\n<li>手工设置BGP routerlD</li>\n</ul>\n<h3 id=\"示例1\"><a href=\"#示例1\" class=\"headerlink\" title=\"示例1\"></a>示例1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894784939-f4d16b2c-c930-4ab1-a48c-c47743e91c9d.png\"></p>\n<h3 id=\"指定更新源\"><a href=\"#指定更新源\" class=\"headerlink\" title=\"指定更新源\"></a>指定更新源</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730894818299-aa7e1866-0994-4faa-88c4-156f792c9c65.png\"></p>\n<h3 id=\"BGP身份验证\"><a href=\"#BGP身份验证\" class=\"headerlink\" title=\"BGP身份验证\"></a>BGP身份验证</h3><p>Router(config-router)# neighbor {ip-address | peer-group-name} password string</p>\n<ul>\n<li>BGP支持MD5邻居身份验证</li>\n<li>启用身份验证后，将对通过的对等体之间的TCP连接传输所有的数据等进行验证</li>\n<li>认证都是在TCP建立连接的时候完成的</li>\n</ul>\n<h2 id=\"维护BGP\"><a href=\"#维护BGP\" class=\"headerlink\" title=\"维护BGP\"></a>维护BGP</h2><ul>\n<li>重置BGP会话</li>\n<li>将新策略应用于所有路由，必须触发一个更新</li>\n</ul>\n<h3 id=\"三种触发更新的方式\"><a href=\"#三种触发更新的方式\" class=\"headerlink\" title=\"三种触发更新的方式\"></a>三种触发更新的方式</h3><ul>\n<li>硬重置</li>\n<li>软重置</li>\n<li>路由刷新</li>\n</ul>\n<h3 id=\"硬重置\"><a href=\"#硬重置\" class=\"headerlink\" title=\"硬重置\"></a>硬重置</h3><ul>\n<li>断开相应TCP连接，通过这些会话收到的所有信息都将失效，并从BGP中删除</li>\n<li>（不建议优先使用硬路由，谨慎！这将删除数据，请三思而后行！！！！）<ul>\n<li><code>clear ip bgp &#123;neighbor-address&#125;</code></li>\n<li><code>clear ip bgp *</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"软重置\"><a href=\"#软重置\" class=\"headerlink\" title=\"软重置\"></a>软重置</h3><ul>\n<li>不拆除并重建TCP或者BGP连接，而是仅出发更新操作以便让新的路由策略生效</li>\n<li>软重置可以仅由于出站或入站策略，也可同时用于出入站策略</li>\n</ul>\n<h4 id=\"出站软重置\"><a href=\"#出站软重置\" class=\"headerlink\" title=\"出站软重置\"></a>出站软重置</h4><ul>\n<li>不会拆除TCP连接，不会重置BGP会话，仅促发更新操作以便让新的路由策略生效（发送update消息）</li>\n<li>需要修改出站策略时，建议使用该命令</li>\n<li><code>clear ip bgp soft out</code></li>\n</ul>\n<h4 id=\"入站软重置\"><a href=\"#入站软重置\" class=\"headerlink\" title=\"入站软重置\"></a>入站软重置</h4><ul>\n<li>本地发送route-refresh给所有的BGP邻居</li>\n<li><code>clear ip bgp soft in</code></li>\n</ul>\n<p>注：CISCOIOS 12.1开始全面支持入站路由的动态软重配置，但在之前的版本在使用入站软重配置之前必须首先在BGP进程中增加如下配置:neighbor x.x.x.x soft-reconfiguration inbound然后再使用clear ip bgp soft in命令这条命令会将x.x.x.x邻居发送过来的BGP路由存储在内存中，当配置入站软重置后，路由器不再向邻居发送更新请求，而是直接在内存中存储的路由中执行新配置的入站策略，以此来防止触发大批量的路由更新而造成资源的浪费，但是这种操作仍会耗费内存，因此在使用的时候要非常慎重。</p>\n<h2 id=\"BGP属性\"><a href=\"#BGP属性\" class=\"headerlink\" title=\"BGP属性\"></a>BGP属性</h2><table>\n<thead>\n<tr>\n<th>公认属性<br>（Well-known）</th>\n<th>公认必遵<br>（Well-known mandatory）</th>\n<th>BGP 必须都能识别，且在更新消息必须包含</th>\n<th>Origin<br>AS-Path<br>Next hop</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>公认自决<br>（Well-known discretionary）</td>\n<td>BGP 必须都能识别，更新消息可包含可不包含</td>\n<td>Local-Preference<br>ATOMIC_Aggregate</td>\n</tr>\n<tr>\n<td>可选属性<br>（Optional）</td>\n<td>可选传递<br>（Optional transitive）</td>\n<td>可以不支持该属性，但即使不支持也应当接受包含该属性的路由并传递给其他邻居</td>\n<td>Community<br>Aggregator</td>\n</tr>\n<tr>\n<td></td>\n<td>可选非传递<br>（Opinional non-transitive）</td>\n<td>可以不支持该属性，不识别的BGP进程可以忽略包含这个属性的更新消息，并且不传递给其他BGP邻居</td>\n<td>MED<br>Originator_ID<br>Cluster_list<br>*Weight</td>\n</tr>\n</tbody></table>\n<h2 id=\"WEIGHT\"><a href=\"#WEIGHT\" class=\"headerlink\" title=\"WEIGHT\"></a>WEIGHT</h2><ul>\n<li>在路由器本地配置，只提供本地路由策略，不会传播给任何BGP邻居</li>\n<li>范围：0~65535；越大越优先</li>\n<li>路由器本地始发的路径默认权重是32768，从其他BGP邻居学到的为0</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410361179-24230caa-4101-4214-b7b2-e36684c17565.png\"></p>\n<h2 id=\"LOCAL-PREFERENCE\"><a href=\"#LOCAL-PREFERENCE\" class=\"headerlink\" title=\"LOCAL PREFERENCE\"></a>LOCAL PREFERENCE</h2><ul>\n<li><strong><font style=\"color:#DF2A3F;\">公认自由决定属性</font></strong></li>\n<li>告诉AS中的路由器，哪条路径是离开AS的首选路径</li>\n<li>LP越高路径越优</li>\n<li>只发送给IBGP邻居，而不能传给EBGP邻居</li>\n<li>默认本地优先级为100</li>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410490396-d8420a3c-2906-416b-944d-863e909fac07.png\"></li>\n</ul>\n<h2 id=\"AS-Path（公认强制属性）\"><a href=\"#AS-Path（公认强制属性）\" class=\"headerlink\" title=\"AS-Path（公认强制属性）\"></a>AS-Path（公认强制属性）</h2><ul>\n<li>是前往目标网络的路由经过的自治系统号列表，通告该路由的自治系统号位于列表末尾</li>\n<li>作用：确认无环，通告时给EBGP时会加上自己的AS号；通告给IBGP时不修改AS-Path</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731410691990-01881309-1058-46d1-a075-114e2b239fd1.png\"></p>\n<h3 id=\"四种类型\"><a href=\"#四种类型\" class=\"headerlink\" title=\"四种类型\"></a>四种类型</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411052266-03328819-94f7-4586-8077-d5e506eee364.png\"></p>\n<ul>\n<li>**<font style=\"color:#DF2A3F;\">AS_SET</font>**：一个去往特定目的地所经路径上的无序AS列表</li>\n<li>**<font style=\"color:#DF2A3F;\">AS_SEQENCE</font>**：一个有序的AS号列表</li>\n<li>**<font style=\"color:#DF2A3F;\">AS_CONFED_SEQUENCE</font>**：一个去往特地目的地所经路径上的有序AS号列表，其用法与AS_SEQENCE完全一样，区别于该列表的AS号属于本地联邦中的AS</li>\n<li>**<font style=\"color:#DF2A3F;\">AS_CONFED_SET</font>**：一个去往特定目的地上的无序AS号列表，其用法与AS_SET一样，区别在于列表中的AS号属于本地联邦中的AA</li>\n</ul>\n<h2 id=\"Origin（公认强制属性）\"><a href=\"#Origin（公认强制属性）\" class=\"headerlink\" title=\"Origin（公认强制属性）\"></a>Origin（公认强制属性）</h2><ul>\n<li>标识路由的起源，有下列三种可能：<ul>\n<li>i\t通过BGP network，也就是起源于IGP，因为BGP network必须保证该网络在路由表中</li>\n<li>e\t是由EGP这种早期协议重发布而来</li>\n<li>？\tIncomplete，从其他渠道学习到的，路由来源不完全（确认该路由来源的信息不完全）。（重发布的路由）</li>\n</ul>\n</li>\n<li>路由优选顺序：lowest origin code（IGP&gt;EGP&gt;Incomplete）</li>\n</ul>\n<h2 id=\"MED（可选非传递属性）\"><a href=\"#MED（可选非传递属性）\" class=\"headerlink\" title=\"MED（可选非传递属性）\"></a>MED（可选非传递属性）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731411803897-0b6bf6f9-e658-48a4-a306-7a8d455526f8.png\"></p>\n<ul>\n<li>是一种度量值，用于外部邻居指出进入AS的首选路径，即当入口有多个时，自治系统可以使用MED动态的影响其他AS如何选择进入路径</li>\n<li>度量值越小路径越优</li>\n<li>MED是在AS之间切换，MED发送给EBGP对等体。这些路由器在AS内传播MED，不传递给下一个AS</li>\n<li>默认情况下，仅当路径来自同一个AS中的不同EBGP邻居时，路由器才比较他们的MED属性</li>\n<li>MED影响进入AS的数据流:LP影响离开AS的数据流</li>\n</ul>\n<h3 id=\"比较原则及配置注意事项\"><a href=\"#比较原则及配置注意事项\" class=\"headerlink\" title=\"比较原则及配置注意事项\"></a>比较原则及配置注意事项</h3><ul>\n<li>本地在将一条BGP路由通告给EBGP Peer时，是否携带MED值,需要根据以下条件进行判断(不对EBGP Peer使用Route-map的情况下)<ul>\n<li>如果该BGP路由是本地始发(network或redistribute)的,则携带MED值发送给EBGP Peer(如果MED为空,则设置为0)</li>\n<li>如果该BGP路由是从其他BGP Peer学习过来的，那么将该路由通告给EBGPPeer时不携带MED</li>\n</ul>\n</li>\n<li>本地在将一条BGP路由通告给IBGPPeer时，一定会携带MED值<ul>\n<li>如果接收或产生的路由的MED为空,那么在向IBGP Peer通告时,将MED设置为0</li>\n</ul>\n</li>\n<li>总结1、2两点就是MED在IBGP之间传递没有问题(不会丢失)，但是在EBGP之间传递要看路由是否起源于自己。</li>\n</ul>\n<h2 id=\"NEXT-HOP（公认强制属性）2\"><a href=\"#NEXT-HOP（公认强制属性）2\" class=\"headerlink\" title=\"NEXT_HOP（公认强制属性）2\"></a>NEXT_HOP（公认强制属性）2</h2><ul>\n<li>如果路由传递自EBGP peer</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412077866-bf31be10-26e7-4487-8738-b72ccc505e38.png\"></p>\n<ul>\n<li>如果路由传递自IBGP邻居，并描述的是AS外的目的地</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412193230-54295d0a-b300-4fea-bf2b-203de0f4a3e0.png\"></p>\n<ul>\n<li>如果路由传递自IBGP邻居，并由AS内BGP路由器引入</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731412344784-f2e1be11-a76c-4738-9ecf-dc9a4e8884c9.png\"></p>\n<p>Tips：如果IBGP peer使用network或重发布的方式引入IGP路由，那么通告者将使用这些路由的IGP下一跳作为NH；如果这些路由是该IBGP peer配置的BGP汇总路由，则NH为其更新源IP。</p>\n<h3 id=\"On-Shared-Media\"><a href=\"#On-Shared-Media\" class=\"headerlink\" title=\"On Shared Media\"></a>On Shared Media</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413016975-73d4cf2b-a590-4d19-a73b-aeef941be1d8.png\"></p>\n<ul>\n<li>RouterB将路由100.100.100.0&#x2F;24传递给A，NEXT_HOP为10.1.123.2</li>\n<li>RouterA将路由100.100.100.0&#x2F;24传递给C，此时NEXT_HOP保持不变</li>\n<li>如果路由器收到某条BGP路由，该路由的NEXT_HOP地址值与EBGP邻居(更新对象)同属一个网段，那么该条路由的NEXTHOP地址将保持不变并传递给它的BGP邻居</li>\n</ul>\n<h3 id=\"On-NBMA\"><a href=\"#On-NBMA\" class=\"headerlink\" title=\"On NBMA\"></a>On NBMA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731413248307-5df17964-315e-4c31-8d2b-5b159d9bcf53.png\"></p>\n<ul>\n<li>如果中间的多路访问不是Ethernet，而是帧中继（NBMA）呢？</li>\n</ul>\n<h2 id=\"COMMUNITY\"><a href=\"#COMMUNITY\" class=\"headerlink\" title=\"COMMUNITY\"></a>COMMUNITY</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731458979252-74a8f3c5-cb61-494c-8820-44d1f21f23cf.png\"></p>\n<ul>\n<li>可选传递属性</li>\n<li>一种标记，用于简化路由策略的执行</li>\n<li>可以将某些路由分配一个特定的COMMUNITY属性，之后就可以基于COMMUNITY值而不是每条路由进行BGP属性的设置了</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460387790-d039cfe4-b94c-44ce-a4f2-0d89f944d64a.png\"></p>\n<h3 id=\"几个众所周知的值\"><a href=\"#几个众所周知的值\" class=\"headerlink\" title=\"几个众所周知的值\"></a>几个众所周知的值</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">set community ?</span><br><span class=\"line\">&lt;1-4294967295&gt;\tcommunity number</span><br><span class=\"line\">aa:nn\t\t\t\t\t\tcommunity number in aa:nn format</span><br><span class=\"line\">additive\t\t\t\tAdd to the existing community</span><br><span class=\"line\">internet\t\t\t\tInternet (well-known community)</span><br><span class=\"line\">local-AS\t\t\t\tDo not send outside local AS (well-known community)</span><br><span class=\"line\">no-advertise\t\tDo not advertise to any peer (well-known community)</span><br><span class=\"line\">no-export\t\t\t\tDo not export to next AS (well-known community)</span><br><span class=\"line\">none\t\t\t\t\t\tNo community attribute</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>Route</strong></p>\n<p>Community&#x3D;no-adv</p>\n<p>R2不会将该路由再通告给任何BGP peer</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731460836560-e5a0cea7-a8fa-4bd1-a0d9-bbefda45b523.png\"></p>\n<h2 id=\"Atomi-Aggregate及aggregator\"><a href=\"#Atomi-Aggregate及aggregator\" class=\"headerlink\" title=\"Atomi_Aggregate及aggregator\"></a>Atomi_Aggregate及aggregator</h2><p>172.16.0.0&#x2F;16</p>\n<p>汇总路由丢失明确路由的路径属性</p>\n<p>需要给下游邻居告警，并提示“汇总点”及汇总地AS</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1731461244712-db15a1db-b381-40ae-8c8e-83d80a966bf6.jpeg\"></p>\n<p><code>aggregate-address 172.16.0.0 255.255.0.0 summary-only</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R4# show ip bgp 172.16.0.0</span><br><span class=\"line\">BGP routing table entry for 172.16.0.0/16, version 4</span><br><span class=\"line\">Paths:(1 available, best #1, table Default-lP-Routing-Table)</span><br><span class=\"line\">Flag:0x820</span><br><span class=\"line\">Not advertised to any peer</span><br><span class=\"line\">300,(aggregated by 300 3.3.3.3)</span><br><span class=\"line\">10.1.34.3 from 10.1.34.3 (3.3.3.3)</span><br><span class=\"line\">Origin lGP, metric 0, localpref 100, valid, external,atomic-aggregate, best</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"报文案例\"><a href=\"#报文案例\" class=\"headerlink\" title=\"报文案例\"></a>报文案例</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461667500-f2c080c5-fc71-4b5c-984c-22dcd23c405a.png\"></p>\n<h2 id=\"BGP自动汇总\"><a href=\"#BGP自动汇总\" class=\"headerlink\" title=\"BGP自动汇总\"></a>BGP自动汇总</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1731461782082-4df50a90-5604-4b26-93cd-52ae719c6130.png\"></p>\n<ul>\n<li>若R1开启auto-summary，并用重发布直连的方式引入1.1.1.0&#x2F;24，则该子网会被汇总</li>\n<li>若R1开启auto-summary,且network1.1.1.0 mask 255.255.255.0，则仍以明细更新</li>\n<li>若R1开启auto-summary,且network1.0.0.0 mask 255.0.0.0,则该子网会被汇总</li>\n<li>上面这条network等同于network 1.0.0.0(network的有类宣告)</li>\n</ul>\n<p><strong><font style=\"color:#DF2A3F;\">因此BGP自动汇总(auto-summary)只汇总重发布引入的路由，以及使用network命令有类宣告方式引入的路由。目前CISCO IOS默认关闭自动汇总。</font></strong></p>\n<h2 id=\"BGP手动汇总\"><a href=\"#BGP手动汇总\" class=\"headerlink\" title=\"BGP手动汇总\"></a><font style=\"color:#000000;\">BGP手动汇总</font></h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121752791-989f633a-4d0d-48dd-ac50-8335ac3782e9.png\"></p>\n<ul>\n<li>可以考虑在R3上创建静态的汇总路由</li>\n</ul>\n<p><code>ip route 172.16.0.0 255.255.0.0 null0</code></p>\n<ul>\n<li>然后再将汇总路由network进BGP</li>\n<li>不推荐此方法</li>\n</ul>\n<h3 id=\"针对特定邻居取消抑制\"><a href=\"#针对特定邻居取消抑制\" class=\"headerlink\" title=\"针对特定邻居取消抑制\"></a>针对特定邻居取消抑制</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733121996017-8e7e4481-a185-40b9-85c2-3742644693c5.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-ist 1 permit 172.16.1.0</span><br><span class=\"line\">route-map unsupp permit 10</span><br><span class=\"line\">  match ip address 11</span><br><span class=\"line\">router bgp 300</span><br><span class=\"line\">  neighbor 10.1.35.5 unsuppress-map unsupp</span><br><span class=\"line\">  aggregate-address 172.16.0.0 255.255.0.0 as-set summary-only</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"advertise-map\"><a href=\"#advertise-map\" class=\"headerlink\" title=\"advertise-map\"></a>advertise-map</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122218668-609b391f-86ce-4a69-9cd4-22e981484fd5.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-list list1 permit 172.16.1.0/24</span><br><span class=\"line\">ip prefix-list list1 permit 172.16.2.0/24</span><br><span class=\"line\">route-map adv permit 10</span><br><span class=\"line\">  match ip address prefix-list list1</span><br><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 summary-only as-set advertise-map adv</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"attrubute-map\"><a href=\"#attrubute-map\" class=\"headerlink\" title=\"attrubute-map\"></a>attrubute-map</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122395149-ba69abf1-caa8-4996-a318-f50e5741822e.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map attr permit 10</span><br><span class=\"line\">  set ?</span><br><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 summary-only as-set attribute-map attr</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"终方案\"><a href=\"#终方案\" class=\"headerlink\" title=\"终方案\"></a>终方案</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122474434-007e0670-c4db-4dd8-9b54-e9c5ded166c2.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 summary-only as-set</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122543075-6fe96b97-2d36-4b13-9bd8-ec7c21098471.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-list 1 permit 172.16.2.0</span><br><span class=\"line\">access-list 1 permit 172.16.11.0</span><br><span class=\"line\">route-map suppmap permit 10</span><br><span class=\"line\">  match ip address 1</span><br><span class=\"line\">aggregate-address 172.16.0.0 255.255.0.0 suppress-map suppmap</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"正则表达式\"><a href=\"#正则表达式\" class=\"headerlink\" title=\"正则表达式\"></a>正则表达式</h2><ul>\n<li>正则表达式（regular expresion）是按照一定的模板来匹配字符串的公式。</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122792066-d45f8c40-28be-44fc-9ef2-fe1d61632c39.png\"></p>\n<h3 id=\"原子字符\"><a href=\"#原子字符\" class=\"headerlink\" title=\"原子字符\"></a>原子字符</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122829384-9067e136-8d1b-4941-a29a-d059b397d1ce.png\"></p>\n<h4 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122859463-f2706ecb-995d-434a-adcd-fb3603038c63.png\"></p>\n<h3 id=\"乘法字符\"><a href=\"#乘法字符\" class=\"headerlink\" title=\"乘法字符\"></a>乘法字符</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122918646-e2bfab69-bfb0-4d20-99e2-2e598f14cf10.png\"></p>\n<h4 id=\"示例-1\"><a href=\"#示例-1\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122964843-3d32c0ca-e4f3-4de0-9ec0-3260d8a107af.png\"></p>\n<ul>\n<li>一个乘法字符可以应用于一个单字符或多个字符，如果用于多字符，需将字符串放入（ ）中</li>\n</ul>\n<h3 id=\"范围字符\"><a href=\"#范围字符\" class=\"headerlink\" title=\"范围字符\"></a>范围字符</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733122937086-5335bee7-7d2d-4911-b02c-c4bd1c6cdc3a.png\"></p>\n<h4 id=\"示例-2\"><a href=\"#示例-2\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123043302-ae7c2612-b283-4ed8-be08-c8ed67973230.png\"></p>\n<h3 id=\"使用正则表达式匹配AS-PATH\"><a href=\"#使用正则表达式匹配AS-PATH\" class=\"headerlink\" title=\"使用正则表达式匹配AS_PATH\"></a>使用正则表达式匹配AS_PATH</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123094575-e9208cd3-efbf-46e1-92d6-728495dcb98d.png\"></p>\n<ul>\n<li>AS_PATH可以当作字符串并使用正则表达式进行匹配</li>\n<li>String中的 “__” 为空格，这也是一个字符，也有可能被匹配</li>\n</ul>\n<h4 id=\"示例-3\"><a href=\"#示例-3\" class=\"headerlink\" title=\"示例\"></a>示例</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123298715-383afd98-b548-4353-bc46-54d9ee5187f6.png\"></p>\n<ul>\n<li>注意as-path access-list也是默认含隐拒绝所有</li>\n</ul>\n<h3 id=\"使用as-path-access-list-匹配路由\"><a href=\"#使用as-path-access-list-匹配路由\" class=\"headerlink\" title=\"使用as-path access-list 匹配路由\"></a>使用as-path access-list 匹配路由</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123415356-86bd5433-a930-4f66-a9a1-7d144b63fec7.png\"></p>\n<h4 id=\"示例1-搭配filter-list\"><a href=\"#示例1-搭配filter-list\" class=\"headerlink\" title=\"示例1 搭配filter-list\"></a>示例1 搭配filter-list</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123497581-877d75ef-a72f-4ab8-aa0a-e4a792edcf90.png\"></p>\n<ul>\n<li>在R3上可做策略</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip as-path access-ist 1deny _600$</span><br><span class=\"line\">ip as-path access-list 1 permit .*</span><br><span class=\"line\">router bgp 300</span><br><span class=\"line\">  neighbor 10.1.23.2 filter-list 1 in</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"示例2-搭配route-map\"><a href=\"#示例2-搭配route-map\" class=\"headerlink\" title=\"示例2 搭配route-map\"></a>示例2 搭配route-map</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733123628617-406b7486-d886-41d5-9ed5-115603b2032f.png\"></p>\n<ul>\n<li>R3可做策略</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip as-path access-ist 1 permit _600$</span><br><span class=\"line\">route-map setCommu permit 10</span><br><span class=\"line\">  match as-path 1</span><br><span class=\"line\">  set community no-advertise</span><br><span class=\"line\">route-map setCommu permit 10</span><br><span class=\"line\"></span><br><span class=\"line\">router bgp 300</span><br><span class=\"line\">  neighbor 10.1.23.2 route-map setcommu in</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置命令\"><a href=\"#配置命令\" class=\"headerlink\" title=\"配置命令\"></a>配置命令</h3><p><code>Router(config)# ip as-path access-list num &#123;permit|deny&#125; regexp</code></p>\n<ul>\n<li>配置as-path access-list</li>\n</ul>\n<p><code>Router(config-router)# neighbor x.x.x.x filter-list as-path-filter &#123;inlout&#125;</code></p>\n<ul>\n<li>关联as-path access-list到filter-list，起到路由过滤作用</li>\n</ul>\n<h4 id=\"验证及查看\"><a href=\"#验证及查看\" class=\"headerlink\" title=\"验证及查看\"></a>验证及查看</h4><p><code>Router# show ip as-path-access-list</code></p>\n<ul>\n<li>查看配置的 as-path access-list</li>\n</ul>\n<p><code>Router# show ip bgp regexp xx</code></p>\n<ul>\n<li>显示BGP表中所有被该正则表达式匹配上的路由，这是一个非常不错的工具</li>\n</ul>\n<p><code>Router# show ip bgp filter-list access-list-num</code></p>\n<ul>\n<li>显示BGP表中所有被该filter-list匹配的路由</li>\n</ul>\n<h2 id=\"通告community操控路由\"><a href=\"#通告community操控路由\" class=\"headerlink\" title=\"通告community操控路由\"></a>通告community操控路由</h2><h3 id=\"BGP-Communities\"><a href=\"#BGP-Communities\" class=\"headerlink\" title=\"BGP Communities\"></a>BGP Communities</h3><ul>\n<li>BGP communities是一种路由标记方法，用于确保路由过滤和选择的连续性</li>\n<li>可选传递属性，不支持该属性的BGP router原封不动的将community值传递给下游BGP邻居</li>\n</ul>\n<h3 id=\"Community\"><a href=\"#Community\" class=\"headerlink\" title=\"Community\"></a>Community</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124090787-e2d027b9-f95b-466a-b5e8-86d7bdb3805c.png\"></p>\n<ul>\n<li>使用全局配置命令切换：</li>\n</ul>\n<p><code>ip bgp-community new-format</code></p>\n<h3 id=\"BGP路径操纵\"><a href=\"#BGP路径操纵\" class=\"headerlink\" title=\"BGP路径操纵\"></a>BGP路径操纵</h3><h4 id=\"设置Community\"><a href=\"#设置Community\" class=\"headerlink\" title=\"设置Community\"></a>设置Community</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">set community ?</span><br><span class=\"line\">&lt;1-4294967295&gt;\t\tcommunity number</span><br><span class=\"line\">aa:nn\t\t\t\t\t\t\tcommunity number in aa:nn format</span><br><span class=\"line\">additive\t\t\t\t\tAdd to the existing community</span><br><span class=\"line\">internet\t\t\t\t\tInternet(well-known community)</span><br><span class=\"line\">local-AS\t\t\t\t\tDo not send outside local AS (well-known community)</span><br><span class=\"line\">no-advertise\t\t\tDo not advertise to any peer (well-known community)</span><br><span class=\"line\">no-export\t\t\t\t\tDo not export to next AS (well-known community)</span><br><span class=\"line\">none\t\t\t\t\t\t\tNo community attribute</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"总所周知的值\"><a href=\"#总所周知的值\" class=\"headerlink\" title=\"总所周知的值\"></a>总所周知的值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124385448-cf61fcfb-a43e-4fb0-b8af-97b8e047e12d.png\"></p>\n<p><strong>Route</strong></p>\n<ul>\n<li>Community&#x3D;local-as</li>\n<li>该路由只能在本AS内传递（如果定义了联邦，则为只在联邦成员AS传递）</li>\n</ul>\n<h3 id=\"为路由前缀分配Community\"><a href=\"#为路由前缀分配Community\" class=\"headerlink\" title=\"为路由前缀分配Community\"></a>为路由前缀分配Community</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124481538-4caea059-33d5-4c50-89d2-305d5b25bf67.png\"></p>\n<ul>\n<li>R1配置如下：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-ist 11 permit 11.11.11.0/24</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  match ip address prefix-list 11</span><br><span class=\"line\">  set community 100:11</span><br><span class=\"line\">  </span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">  network 11.11.11.0 mask 255.255.255.0</span><br><span class=\"line\">  neighbor 10.1.12.2 remote-as 200</span><br><span class=\"line\">  neighbor 10.1.12.2 send-community</span><br><span class=\"line\">  neighbor 10.1.12.2 route-map test out</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"为路由前缀分配多个Community\"><a href=\"#为路由前缀分配多个Community\" class=\"headerlink\" title=\"为路由前缀分配多个Community\"></a>为路由前缀分配多个Community</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124672973-08971d75-7687-4f0c-a733-782014d85b5c.png\"></p>\n<ul>\n<li>R2的配置如下：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip community-ist 11 permit 100:11</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  match community 11</span><br><span class=\"line\">  set community no-export additive</span><br><span class=\"line\"></span><br><span class=\"line\">router bgp 200</span><br><span class=\"line\">  neighbor 10.1.12.1 remote-as 100</span><br><span class=\"line\">  neighbor 10.1.23.3 remote-as 300</span><br><span class=\"line\">  neighbor 10.1.23.3 send-community</span><br><span class=\"line\">  neighbor 10.1.23.3 route-map test out</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"为路由前缀分配多个Community（cont-）\"><a href=\"#为路由前缀分配多个Community（cont-）\" class=\"headerlink\" title=\"为路由前缀分配多个Community（cont.）\"></a>为路由前缀分配多个Community（cont.）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124846029-37b26bce-3e5b-41e6-949a-f6f5eca0889c.png\"></p>\n<ul>\n<li>R3上查看11.11.11.0的BGP路由：</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3#sh ip b 11.11.11.0</span><br><span class=\"line\">BGP routing table entry for 11.11.11.0/24,version 5</span><br><span class=\"line\">Paths:(1 available, best #1, table Default-P-Routing-Table, not advertised</span><br><span class=\"line\">to EBGP peer)</span><br><span class=\"line\">Flag:0x820</span><br><span class=\"line\">  Not advertised to any peer</span><br><span class=\"line\">  200 100</span><br><span class=\"line\">    10.1.23.2 from 10.1.23.2 10.1.23.2)</span><br><span class=\"line\">    Origin lGP, localpref 100, valid, external, best</span><br><span class=\"line\">    Community:100:11 no-export</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"用community-list匹配团体属性\"><a href=\"#用community-list匹配团体属性\" class=\"headerlink\" title=\"用community-list匹配团体属性\"></a>用community-list匹配团体属性</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733124981265-f03cbe06-2d35-4141-82f4-4bc934728879.png\"></p>\n<p><code>lp community-list 1 permit 100:11</code></p>\n<ul>\n<li>匹配。匹配community中包含100:11的路由</li>\n</ul>\n<p><code>lp community-list 1 permit 100:11 no-adv</code></p>\n<ul>\n<li>不匹配。要求100:11及no-adv两者都有才匹配成立</li>\n</ul>\n<p><code>lp community-list 1 permit 100:11</code></p>\n<p><code>Ip community-list 1 permit no-export(或将no-export换成no-adv)</code></p>\n<ul>\n<li>匹配。只要community中包含100:11或no-export</li>\n</ul>\n<h3 id=\"用community-list匹配团体属性（cont-）\"><a href=\"#用community-list匹配团体属性（cont-）\" class=\"headerlink\" title=\"用community-list匹配团体属性（cont.）\"></a>用community-list匹配团体属性（cont.）</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125149714-85e3e77c-fab0-4cb2-aae7-d89f093f56c3.png\"></p>\n<p><code>ip community-list 12 permit internet</code></p>\n<ul>\n<li>所有路由默认都属于internet</li>\n</ul>\n<h3 id=\"用community-list匹配团体属性-严格匹配\"><a href=\"#用community-list匹配团体属性-严格匹配\" class=\"headerlink\" title=\"用community-list匹配团体属性 严格匹配\"></a>用community-list匹配团体属性 严格匹配</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125250291-e5171d9b-624d-4446-b988-3117e17dd97d.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lp community-list 11 permit no-export</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">match community 11 exact-match\t\t// 严格匹配</span><br><span class=\"line\">严格匹配community属性为no-export的路由，多一点，少一点都不行</span><br><span class=\"line\"></span><br><span class=\"line\">Show lp community-ist 1 [exact-match]</span><br><span class=\"line\">查看community-list 1</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"删除某个或多个community值\"><a href=\"#删除某个或多个community值\" class=\"headerlink\" title=\"删除某个或多个community值\"></a>删除某个或多个community值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125335491-71efe10e-6c26-4e45-afe6-6f30821e8c97.png\"></p>\n<ul>\n<li><strong>一条路由，允许携带多个community值，构成一个community列表，那么如何删除某个或者某几个community值?譬如只想删除11路由的no-export属性</strong></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip community-list standard del permit no-export\t\t// 匹配要删除的commu值</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  set comm-list del delete\t\t// 用这条命令删除</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"删除多个community值\"><a href=\"#删除多个community值\" class=\"headerlink\" title=\"删除多个community值\"></a>删除多个community值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125474298-a0ab0f1a-bc22-46f8-bce2-e8fcd77cebf0.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip community-list standard del permit no-export\t\t// 用多行community-list</span><br><span class=\"line\">ip community-list standard del permit 100:11\t\t// 用多行community-list</span><br><span class=\"line\">route-map test permit 10</span><br><span class=\"line\">  set comm-list del delete</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置community-list\"><a href=\"#配置community-list\" class=\"headerlink\" title=\"配置community-list\"></a>配置community-list</h3><p><code>lp community-list 1-99 permit|deny value [value...]</code></p>\n<p>定义标准的community-list，使用internet关键字匹配任何community</p>\n<p><code>lp community-list 100-199 permit|deny regexp</code></p>\n<p>定义扩展的community-list，可使用正则表达式匹配community</p>\n<p><code>show ip community-list</code></p>\n<p>查看配置的community-list</p>\n<p><code>show ip bgp x.x.x.x</code></p>\n<p>查看BGP路由的详细信息，包括community</p>\n<h2 id=\"Prefix-list\"><a href=\"#Prefix-list\" class=\"headerlink\" title=\"Prefix-list\"></a>Prefix-list</h2><h3 id=\"配置实例\"><a href=\"#配置实例\" class=\"headerlink\" title=\"配置实例\"></a>配置实例</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125724825-5fc79afd-ba57-4220-a7e3-c07cbc16d21f.png\"></p>\n<ul>\n<li>R2上，过滤掉12.12.12.0&#x2F;24路由，其他放行</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R2(config)# ip prefix-list 12 deny 12.12.12.0/24</span><br><span class=\"line\">R2(config)# ip prefix-list 12 permit 0.0.0.0/0 le 32</span><br><span class=\"line\">R2(config)# router bgp 12</span><br><span class=\"line\">R2(config-router)# neighbor 10.1.23.3 prefix-list 12 out</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"distribute-list\"><a href=\"#distribute-list\" class=\"headerlink\" title=\"distribute-list\"></a>distribute-list</h2><h3 id=\"配置实例-1\"><a href=\"#配置实例-1\" class=\"headerlink\" title=\"配置实例\"></a>配置实例</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733125796770-bb717766-917b-4aca-9dce-e03e43310a11.png\"></p>\n<ul>\n<li>R2上，过滤掉12.12.12.0&#x2F;24路由，其他放行</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R2(config)# access-ist 1 deny 12.12.12.0</span><br><span class=\"line\">R2(config)# access-list 1 permit any</span><br><span class=\"line\">R2(config)# router bgp 12</span><br><span class=\"line\">R2(config-router)# neighbor 10.1.23.3 distribute-list 1 out</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Route-map\"><a href=\"#Route-map\" class=\"headerlink\" title=\"Route-map\"></a>Route-map</h2><h3 id=\"可以在以下的BGP命令中使用route-map关键字\"><a href=\"#可以在以下的BGP命令中使用route-map关键字\" class=\"headerlink\" title=\"可以在以下的BGP命令中使用route-map关键字\"></a>可以在以下的BGP命令中使用route-map关键字</h3><ul>\n<li>neighbor</li>\n<li>bgp dampening</li>\n<li>network</li>\n<li>redistribute</li>\n</ul>\n<h3 id=\"可以为特定的目的在不同的命令中调用定义好的route-map\"><a href=\"#可以为特定的目的在不同的命令中调用定义好的route-map\" class=\"headerlink\" title=\"可以为特定的目的在不同的命令中调用定义好的route-map\"></a>可以为特定的目的在不同的命令中调用定义好的route-map</h3><ul>\n<li>suppress-map</li>\n<li>unsuppress-map</li>\n<li>advertise-map</li>\n<li>inject-map</li>\n<li>exist-map</li>\n<li>non-exist-map</li>\n<li>tabel-map</li>\n</ul>\n<h3 id=\"match语句能匹配\"><a href=\"#match语句能匹配\" class=\"headerlink\" title=\"match语句能匹配\"></a>match语句能匹配</h3><ul>\n<li>Access-list</li>\n<li>Ip prefix-list</li>\n<li>Ip next-hop</li>\n<li>local-preference</li>\n<li>metric</li>\n<li>Tag</li>\n<li>AS PATH</li>\n<li>BGP community</li>\n<li>IGP route-type(internal&#x2F;external)</li>\n</ul>\n<h3 id=\"set语句能设置\"><a href=\"#set语句能设置\" class=\"headerlink\" title=\"set语句能设置\"></a>set语句能设置</h3><ul>\n<li>Origin</li>\n<li>Weight</li>\n<li>BGP community</li>\n<li>LOCAL PREFERENCE</li>\n<li>MED</li>\n</ul>\n<h3 id=\"配置实例-关联network-执行策略\"><a href=\"#配置实例-关联network-执行策略\" class=\"headerlink\" title=\"配置实例 关联network 执行策略\"></a>配置实例 关联network 执行策略</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126321432-30b4a9e2-5670-4e5c-b28e-b11d6398051b.png\"></p>\n<ul>\n<li><em><strong>R1上，network引入路由时设置路径属性</strong></em></li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-list 11 permit 11.11.11.0/24</span><br><span class=\"line\">ip prefix-ist 12 permit 12.12.12.0/24</span><br><span class=\"line\">route-map RP1 permit 10</span><br><span class=\"line\">  set community 100:11</span><br><span class=\"line\">route-map RP2 permit 20</span><br><span class=\"line\">  set community 100:12</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">  network 11.11.11.0 mask 255.255.255.0 route-map RP1</span><br><span class=\"line\">  network 12.12.12.0 mask 255.255.255.0 route-map RP2</span><br><span class=\"line\">  neighbor 10.1.12.2 send-community</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>该策略对所有BGP邻居有效</strong></li>\n</ul>\n<h3 id=\"关联neighbor，针对特定邻居执行策略\"><a href=\"#关联neighbor，针对特定邻居执行策略\" class=\"headerlink\" title=\"关联neighbor，针对特定邻居执行策略\"></a>关联neighbor，针对特定邻居执行策略</h3><p><strong>R1上，对R2传递路由时，设定MED属性值</strong></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126749376-550e409c-c6c6-419c-8ca7-fa6ec14c3a1d.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip prefix-list 11 permit 11.11.11.0/24</span><br><span class=\"line\">ip prefix-list 12 permit 12.12.12.0/24</span><br><span class=\"line\">route-map RP permit 10</span><br><span class=\"line\">  match ip address 11</span><br><span class=\"line\">  set metric 1000</span><br><span class=\"line\">route-map RP permit 20</span><br><span class=\"line\">  match ip address 12</span><br><span class=\"line\">  set metric 2000</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">  neighbor 10.1.12.2 route-map RP out</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"配置实例-重发布关联route-map\"><a href=\"#配置实例-重发布关联route-map\" class=\"headerlink\" title=\"配置实例 重发布关联route-map\"></a>配置实例 重发布关联route-map</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733126794524-8909f174-b61c-467b-9e8e-4a56528ab197.png\"></p>\n<p><strong>R2上，将OSPF路由重发布进BGP</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 200</span><br><span class=\"line\">redistribute ospf 1 route-map RP match ?</span><br><span class=\"line\">neighbor 10.1.12.1 remote-as 100</span><br><span class=\"line\">no auto-summary</span><br></pre></td></tr></table></figure>\n\n<p><strong>redistribute ospf 1</strong></p>\n<ul>\n<li>默认只重发布Intra-Area及Inter-Area路由</li>\n<li>match extemnal只重发布E1及E2</li>\n<li>match external 1只重发布E1;external 2只重发布E2</li>\n<li>match nssa-external 只重发布NSSA外部路由</li>\n</ul>\n<h3 id=\"Policy-list\"><a href=\"#Policy-list\" class=\"headerlink\" title=\"Policy-list\"></a>Policy-list</h3><ul>\n<li>可预先将包含一组match语句的route-map定义成一个命令列表，这个列表称为policy-list</li>\n<li>这些policy-list可以在route-map中被调用</li>\n<li>一个policy-list就像个只包含match语句的route-map当route-map被执行，被其调用的policy-list中所包含的match语句将一并被遍历且执行match动作</li>\n<li>这是一种在大中型网络中运用、使得配置“模块化”的特性</li>\n</ul>\n<h4 id=\"特性\"><a href=\"#特性\" class=\"headerlink\" title=\"特性\"></a>特性</h4><ul>\n<li>Ipv6不支持</li>\n<li>12.0(22)S 和12.2(15)T之前的CISCOIOS版本不支持该特性，另外更老的IOS版本的路由器重启存在路由策略配置丢失的风险</li>\n<li>Policy-list中不能包含set语句，但是它被route-map调用后，该route-map中可以包含set语句</li>\n<li>Policy-list只在BGP中支持，其他的IP路由协议并不支持这个特性</li>\n</ul>\n<h4 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ip policy-list as100 permit</span><br><span class=\"line\">  match as-path 1</span><br><span class=\"line\">  match community 1</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>上述命令创建一个policy-list</li>\n<li>Policy-list只能包含match语句</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">route-map RP permit 10</span><br><span class=\"line\">  match policy-list as100</span><br><span class=\"line\">  match ip address prefix-list 100</span><br><span class=\"line\">  set local-preference 300</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>上述命令在route-map中调用定义好的policy-list</li>\n<li>一个route-map中可调用多个policy-list</li>\n</ul>\n<h2 id=\"ORF\"><a href=\"#ORF\" class=\"headerlink\" title=\"ORF\"></a>ORF</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127261820-c5da6b86-80e8-429d-bc1a-2a6100b878e4.png\"></p>\n<h3 id=\"配置-1\"><a href=\"#配置-1\" class=\"headerlink\" title=\"配置\"></a>配置</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127420812-f87e5d92-541e-4e91-91ee-8da2c7342e7e.png\"></p>\n<ul>\n<li>R2的配置（sender）</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 12</span><br><span class=\"line\">  address-family ipv4 unicast</span><br><span class=\"line\">  neighbor 10.1.12.1 capability orf prefix-ist send</span><br><span class=\"line\">  neighbor 10.1.12.1 prefix-list FILTER in</span><br><span class=\"line\"></span><br><span class=\"line\">ip prefix-ist FlLTER deny 1.1.1.0/24</span><br><span class=\"line\">ip prefix-list FlLTER permit</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>R1的配置（receiver）</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 12</span><br><span class=\"line\">  address-family ipv4 unicast</span><br><span class=\"line\">  neighbor 10.1.12.2 capability orf prefix-list receive</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>注意：省去基本配置，如手工指定BGP邻居</li>\n</ul>\n<h3 id=\"一些\"><a href=\"#一些\" class=\"headerlink\" title=\"一些\"></a>一些</h3><ul>\n<li>ORF消息包含以下内容<ul>\n<li>AFl&#x2F;SAFlipv4 unicast</li>\n<li>ORF TYPE</li>\n<li>When to refresh</li>\n<li>List of ORF entries</li>\n</ul>\n</li>\n<li>ORF类型不同，ORFentries也不尽相同</li>\n<li>每种ORF类型都需要进行ORF能力的协商</li>\n</ul>\n<h2 id=\"路由拆分-BGP-Deaggregation\"><a href=\"#路由拆分-BGP-Deaggregation\" class=\"headerlink\" title=\"路由拆分 BGP Deaggregation\"></a>路由拆分 BGP Deaggregation</h2><h3 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733127855820-e4b03bc3-1426-46bb-b770-6e35ac5f0b46.png\"></p>\n<h3 id=\"配置-2\"><a href=\"#配置-2\" class=\"headerlink\" title=\"配置\"></a>配置</h3><ul>\n<li>Conditional inject的配置如下(BGP路由选择进程模式下)</li>\n</ul>\n<p><code>bgp inject-map map1 exist-map map2 [copy attributes]</code></p>\n<ul>\n<li>上述命令的意思是当map2所匹配的汇总路由正常时，在本地BGP RIB中注入map1中定义的明细路由。</li>\n<li>当汇总路由挂掉，这条明细也就跟着消失，这就是所谓的条件注入-conditional injection。</li>\n<li>下面我们在看来一下这两个route-map的详细内容，这些是需要格外注意的。</li>\n<li>exist-map使用的route-map最少具有以下两个match语句</li>\n</ul>\n<p><code>match ip address prefix-list</code></p>\n<ul>\n<li>上面这条match语句用来匹配汇总路由</li>\n</ul>\n<p><code>match ip route-source</code></p>\n<ul>\n<li>上面这条match语句用来匹配发送该汇总路由的邻居IP。如果指定了copyattributes选项，那么被inject的明细路由会继承汇总路由的路径属性，否则明细将被当成本地生成的路由。</li>\n<li>Inject-map使用的route-map中</li>\n</ul>\n<p><code>Set ip address prefix-list</code></p>\n<ul>\n<li>上面的这条set命令用来定义将被注入到本地BGPRIB的明细路由。被注入的前缀可以使用</li>\n</ul>\n<p><code>Show ip bgpinjected-path</code></p>\n<ul>\n<li>来显示</li>\n</ul>\n<h2 id=\"路由反射器\"><a href=\"#路由反射器\" class=\"headerlink\" title=\"路由反射器\"></a>路由反射器</h2><h3 id=\"中转AS中的IBGP问题\"><a href=\"#中转AS中的IBGP问题\" class=\"headerlink\" title=\"中转AS中的IBGP问题\"></a>中转AS中的IBGP问题</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138789405-9509b338-52b2-4cd0-b7b8-716ee84b829a.png\"></p>\n<ul>\n<li>AS内要求IBGP全互联（IBGP水平分割）</li>\n<li>BGP routers<ul>\n<li>需维护大量的TCP和BGP链接</li>\n<li>网络中充斥着BGP路由信息</li>\n</ul>\n</li>\n<li>解决方案<ul>\n<li>路由反射器</li>\n<li>BGP联邦</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"背景-1\"><a href=\"#背景-1\" class=\"headerlink\" title=\"背景\"></a>背景</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733138923248-9e3c4eb2-ccea-4481-8feb-28e80a14bd4e.png\"></p>\n<ul>\n<li>因为IBGP水平分割原则，导致AS内部需要维护大量的BGP链接（要求IBGP全互联），从而影响网络性能，路由反射器可以“放宽”水平分割原则，缓解该问题</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139053948-4ababdc6-fc58-4813-a03b-65e6b92fa662.png\"></p>\n<ul>\n<li>Route Reflector</li>\n<li>Client</li>\n</ul>\n<h3 id=\"联邦内的BGP路由路径属性\"><a href=\"#联邦内的BGP路由路径属性\" class=\"headerlink\" title=\"联邦内的BGP路由路径属性\"></a>联邦内的BGP路由路径属性</h3><ul>\n<li>在联邦内部保留外部路由的NEXT_HOP属性</li>\n<li>公布给联邦的路由的MED属性在整个联邦范围内予以保留</li>\n<li>路由的LP属性在整个联邦范围内予以保留</li>\n<li>在联邦范围内，将成员AS号压入AS PATH，但不公布到联邦外，并且使用TYPE3、4的AS PATH</li>\n<li>AS PATH中的联邦成员AS号用于在联邦内部避免环路;联邦内成员AS号不参与AS PATH长度计算</li>\n</ul>\n<h3 id=\"路由反射原则\"><a href=\"#路由反射原则\" class=\"headerlink\" title=\"路由反射原则\"></a>路由反射原则</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139094878-a409c072-6d0f-48f0-8f54-d88dc4810e2a.png\"></p>\n<ul>\n<li>如果路由学习自非client IBGP对等体，则反射给所有client</li>\n<li>如果路由学习自—client，则反射给所有非client IBGP邻居和除了该client以外的所有client</li>\n<li>如果路由学习自EBGP邻居，则发送给所有的client和非client IBGP邻居</li>\n</ul>\n<h3 id=\"实例1\"><a href=\"#实例1\" class=\"headerlink\" title=\"实例1\"></a>实例1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139249267-49816366-cad0-4367-bc94-0694daae41ae.png\"></p>\n<ul>\n<li>如果路由学习自一client，则反射给所有非client IBGP邻居和除了该client以外的所有client</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139304799-ced25330-ed76-4b30-8385-39709a182131.png\"></p>\n<ul>\n<li>如果路由学习至自client IBG对等体，则反射给所有的client</li>\n</ul>\n<h3 id=\"路由反射器下的防环\"><a href=\"#路由反射器下的防环\" class=\"headerlink\" title=\"路由反射器下的防环\"></a>路由反射器下的防环</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733139376642-4f17a413-a0ac-4a12-b60a-b5f67e6af3da.png\"></p>\n<ul>\n<li>由于AS PATH属性在AS内部不会发生变化(仅当路由离开本AS才会被更新)，因此AS内才有水平分割的机制用于防止环路，而路由反射器实际上是放宽了水平分割原则，这个就会给环路带来一定的隐患，因此路由反射器需使用以下两个属性防止环路ORIGINATOR ID和CLUSTER LIST是路由反射器使用的可选非传递属性，用来防止环路。</li>\n</ul>\n<h3 id=\"Originator-ID、Cluster-list\"><a href=\"#Originator-ID、Cluster-list\" class=\"headerlink\" title=\"Originator_ID、Cluster_list\"></a>Originator_ID、Cluster_list</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140109190-57da2edc-e4e2-44dd-859d-498ca74c3909.png\"></p>\n<h4 id=\"Originator-ID\"><a href=\"#Originator-ID\" class=\"headerlink\" title=\"Originator_ID\"></a>Originator_ID</h4><ul>\n<li>每当一条路由被路由反射器反射时，该路由的始发IBGP路由器的Router-ID将会被存在路由的originator_ID属性中</li>\n<li>当一台路由器收到IBGP路由且其originatorID与该路由器的RouterID相同，则路由器忽略该条路由</li>\n<li>Originator_ID及Cluster-list属性将会影响BGP路径决策</li>\n</ul>\n<h4 id=\"Originator-ID的值\"><a href=\"#Originator-ID的值\" class=\"headerlink\" title=\"Originator_ID的值\"></a>Originator_ID的值</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140502948-58450af4-a6d4-4764-b425-43380d718b4b.png\"></p>\n<h3 id=\"路由反射原则-1\"><a href=\"#路由反射原则-1\" class=\"headerlink\" title=\"路由反射原则\"></a>路由反射原则</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140292005-dd4b4b29-9070-492d-9038-64a94ac51f6e.png\"></p>\n<ul>\n<li>如果路由学习自非client lBGP对等体，则反射给所有client</li>\n<li>如果路由学习自一client，则反射给所有非ctientIBGP邻居和除了该client以外的所有client</li>\n<li>如果路由学习自EBGP邻居，则发送给所有client和非clientIBGP邻居</li>\n</ul>\n<h3 id=\"路由反射簇\"><a href=\"#路由反射簇\" class=\"headerlink\" title=\"路由反射簇\"></a>路由反射簇</h3><ul>\n<li>路由反射簇包括反射器及其Client</li>\n<li>每一个簇都有唯一的簇ID</li>\n<li>每当一条路由被反射器反射后，该反射器(该簇)的ClusterID就会被添加至路由的Cluster list属性中</li>\n<li>每当反射器收到一条Cluster list属性已经包含该簇的ClusterID的路由时，该路由基于防环的目的将不被反射</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140660257-05943ad7-9a7c-4dab-af52-05dac354ea2b.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140718784-4731164f-0b69-4428-b4ff-cbeeaab41843.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733140920126-45d22e04-6ac7-4ea2-b433-4ecf734da20a.png\"></p>\n<h3 id=\"路由反射器冗余\"><a href=\"#路由反射器冗余\" class=\"headerlink\" title=\"路由反射器冗余\"></a>路由反射器冗余</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733141230441-a00716c4-3db4-4a6c-9fb7-535cd4ebe1d1.png\"></p>\n<ul>\n<li>冗余RR增加了网络的健壮性</li>\n<li>使用Originator IDCluster_list属性来在冗余RR环境中避免路由环路。</li>\n<li>例如将两个RR 的Cluster_ID配置为一样，那么可以起到进一步的防环作用</li>\n<li>所有的RR之间建议采用IBGP全互联</li>\n<li>Client会收到来自两个RR反射的路由，如何决策 ?</li>\n</ul>\n<h3 id=\"BGP选路规则\"><a href=\"#BGP选路规则\" class=\"headerlink\" title=\"BGP选路规则\"></a>BGP选路规则</h3><ol>\n<li>优选具有最大Weight值的路由</li>\n<li>优选具有最大Local Pref值的路由</li>\n<li>优选起源于本地的路由(如本地networkaggregate或redistribute的)即下一跳是0.0.0.0(在BGP 表中,当前路由器通告的路由的下一跳为0.0.0.0)</li>\n<li>优选AS-Path最短的路由</li>\n<li>Origin(IGP &gt;EGP&gt;Incomplete )</li>\n<li>优选MED最小的路由，默认情况下仅有当所有的备选路由来自同一AS才会比较MED</li>\n<li>优选EBGP邻居发来的路由(相对于IBGP邻居学过来的)，在联邦EBGP和IBGP中首选联邦EBGP 路由</li>\n<li>优选到BGP NEXT HOP最近的邻居</li>\n<li>如果有多条来自相同相邻AS的路由并通过Maximum-paths 使多条路径可用,则将所有开销相同的路由放入Loc-RIB</li>\n<li>优选最老的EBGP路由，降低滚翻的影响(此条主要对EBGP路由起效，但是现在基本不用该条，因不确定性太大)</li>\n<li>BGP 邻居的RID越小越优先</li>\n<li>优选Cluster-List 最短的路由</li>\n<li>选择邻居ip地址(BGP的neighbor配置中的那个地址)最小的路由</li>\n</ol>\n<h2 id=\"优选MED最小的路由\"><a href=\"#优选MED最小的路由\" class=\"headerlink\" title=\"优选MED最小的路由\"></a>优选MED最小的路由</h2><h3 id=\"MED属性设置方法\"><a href=\"#MED属性设置方法\" class=\"headerlink\" title=\"MED属性设置方法\"></a>MED属性设置方法</h3><ul>\n<li>将IGP路由引入BGP时关联Route-map进行设置</li>\n<li>对BGP Peer应用IN&#x2F;OUT方向的Route-map进行设置</li>\n<li>非Route-map(自动)方式<ul>\n<li>使用network或redistribute方式将IGP路由引入BGP时,MED将继承IGP路由的Metric(直联路由及静态路由的Metric为0)</li>\n<li>使用aggregate-address方式引入路由，则MED为空</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"MED注意事项\"><a href=\"#MED注意事项\" class=\"headerlink\" title=\"MED注意事项\"></a>MED注意事项</h3><ul>\n<li>默认情况下，只比较来自同一邻居AS的BGP路由的MED值，就是说如果同一个目的地的两条路由来自不同的AS，则不进行MED值的比较。如果仍然希望比较来自不同邻接AS的路由，可使用如下命令</li>\n<li><code>bgp always-compare-med</code></li>\n<li>MED只是在直接相连的自治系统间影响业务量，而不会跨AS传递</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1733208543904-53fea48b-83db-441b-964d-f8c27e92a6ee.png\"></p>\n<h2 id=\"BGP负载均衡\"><a href=\"#BGP负载均衡\" class=\"headerlink\" title=\"BGP负载均衡\"></a>BGP负载均衡</h2><ul>\n<li>当前面的8条选路原则都无法优选出最优路由时，并且在BGP进程下面配置了maximum-paths[ibgp]n,n的取值为2-6,那么将执行等价负载均衡，也就是将这些等代价的BGP路径都放进IP路由表使用，但是要注意，虽然这些路径在本地都用了，最终却只有一条BGP路径是best最优的。具备等价负载均衡条件的候选路径需满足如下条件:<ul>\n<li>必须有相同的路径属性，如weight、LP、AS PATH(不仅是长度，整个AS PATH包括AS号都要相同)、origincode、MED及IGP的Distance值</li>\n<li>每一条路径的下一跳都不相同</li>\n</ul>\n</li>\n</ul>\n<p>__</p>\n"},{"title":"EIGRP详解","summary":"酥米小机器人来啦，这篇文章详细介绍了 EIGRP（Enhanced Interior Gateway Routing Protocol）协议的核心特点、关键技术及其工作原理。EIGRP 是思科私有的增强型内部网关路由协议，采用 DUAL 有限状态机实现快速路由收敛，并支持触发式更新和部分路由更新，通过多播地址 224.0.0.10 与邻居路由器交互。该协议能高效计算路由成本（基于延迟与带宽默认度量），支持 VLSM 和链路带宽负载均衡，并允许被动接口配置。EIGRP 由邻居表、拓扑表和路由表三表支撑数据传输，依靠 Hello 包、Update 包、ACK 和 Active/Passive 状态协商维护网络拓扑结构，安全性与兼容性涉及协议无关模块支持多协议处理。用户的配置与验证涉及 `no auto-summary` 关闭自动汇总，及通过接口应用手工汇总的指令，以及 `maximum-paths`、`variance` 命令设置等价与非等价负载均衡，从而提高网络资源利用效率。","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730161963616-a3e42c29-d0d2-4365-b3d0-f1e5f30550fc.png","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 特点\n+ 思科私有的增强型的矢量路由协议\n+ 快速汇聚：采用DUAL来实现快速汇聚\n+ 触发更新\n+ 部分更新：EIGRP发送部分更新，把更新的部分传递给需要的路由器\n+ 使用多播和单播：使用多播和单播而不是广播，多播地址224.0.0.10\n+ 支持VLSM：支持无类\n+ 精密的度量值：能实现不等价的负载均衡\n\n## 关键技术\n+ 邻居发现协议\n    - 使用Hello包发现邻居，并动态的获悉其直连的网络中的其他路由器\n+ 可靠传输协议（RTP）\n    - 确保EIGRP分组按顺序以可靠的方式传输给所有邻居\n+ DUAL有限状态机\n    - 选择最低的度量值和无环的路径到达目的网段\n+ 协议无关模块\n    - EIGRP支持IP、IPv6、Appletalk和IPX，其都有独立EIGRP模块，负责处理网络层协议而异的需求。\n\n## EIGRP的三张表\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730161963616-a3e42c29-d0d2-4365-b3d0-f1e5f30550fc.png)\n\n+ 邻居表\n+ 拓扑表\n+ 路由表\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162218489-49492311-099f-4492-ab81-1f7292fec172.png)\n\n## EIGRP数据包\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162469491-ef6f6e0d-c93a-43a2-911c-db3f1413fa94.png)\n\n## Metric的计算\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163258199-be43445b-6cd6-40ed-b80c-e8d37f27b360.png)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163274887-11941729-c27e-4e74-98e2-ef579f23049b.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163485100-1b7af06d-b867-41af-a48c-05d2e96f2577.png)\n\n默认K1=1,K2=0,K3=1,K4=0,K5=0\n\n延迟取值沿路所有数据出接口(或路由入口)延迟的累加\n\nDLY= 延迟 (us) / 10 x 256\n\n带宽取值沿路所有数据出接口(或路由入口)带宽的最低值\n\nBW= [ 10000000 / 带宽 (Kbps) ] x 256\n\n**EIGRP路由metric默认为延迟+带宽**\n\n****\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163876261-21d8ff7a-5ece-432c-bf72-da5da25f67d7.png)\n\nA路由器上，看到的3.3.3.0/24的路由metric(路径1)?\n\nBW=10^7/1544*256=6476(去掉小数)*256=1657856\n\nDLY=20000/10*256+5000/10*256=640000\n\nMetric=640000+1657856=2297856\n\n## 初始路由发现\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730164083165-6ad1f436-b29c-4e42-8178-0df9cd83b893.png)\n\n机翻过程\n\n+ Hello包 1.我是路由器A，链接上是谁?\n+ Hello包 2.你好，我是路由器B。\n+ Update包 3.下面是我完整的路由信息。\n+ ACK包 4.感谢提供的信息!\n+ Update包 5.下面是我完整的路线信息。\n+ ACK包 6.感谢提供的信息! （凝聚）\n\n## DUAL算法\n+ Diffusing Update Algorithm 用于计算最佳无环路径和备用路径\n\n### 实例1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165228311-05385374-7357-431e-968e-97b968881d03.png)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165266167-e22f9b6a-06d3-4daa-b10a-16b88ae48a9f.png)\n\n+ 将1.0的metric设置为不可达(-1表示不可达)\n+ 由于没有FS1.0被标记为Active状态\n+ D向C及E发送查询信息，询问去往1.0的替代路径\n+ D将C及E标记为未应答查询(q)\n+ 路由器C及E将经由D路由器前往网络1.0的路径标记为不可达\n+ 路由器C发送应答消息给D，指出到达1.0网段的路径没变\n+ D收到C的应答，将C的查询未应答标记删除\n+ 保持前往1.0路由的active状态，同时等待E的应答\n+ E由于从C前往1.0网段的AD值=3，不小于原来的FD=3，所以E将路由标记为active，且向C查询，并将C标记为查询未应答\n+ D收到E的应答消息\n+ 删除E的查询未应答标记\n+ 计算新的FD将后继路由加入到拓扑表\n+ 将1.0路由切换到passive\n\n## 几个术语\n后继路由器\n\n可行距离(FD)\n\n可行后继路由器(FS)\n\n通告距离(AD)\n\n可行条件，或称可行性条件(FC)\n\n## 配置和验证\n### Passive-interface配置\n`Router(config-router)#passive-interface {type number} | default`\n\n+ 该命令用于将特定接口设置为被动状态，defaut将所有路由器接白设置为被动状态\n\n被动接口作用如下\n\n+ 禁止通过被动接口建立邻接关系\n+ 禁止通过被动接口接收或发送路由更新让EIGRP进程通告被动接口连接的子网查看:\n\n`show ip protocols`\n\n`show ip eigrp neighbor`\n\n## EIGRP路由汇总\n### EIGRP自动汇总\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730170203332-86774a59-6816-4126-a00b-79a436b93c7e.png)\n\n**关闭自动汇总**\n\n`Router(config-router)# no auto-summary`\n\n**配置手工汇总**\n\n`Router(config-if)# ip summary-address eigrp as-number address mask [admin-distance]`\n\n+ 手工配置汇总时，仅当路由选择表中至少有一条该汇总路由的明细路由时，汇总路由才被通告出去。\n+ ip summary-address eigrp进行汇总的路由AD=5\n\n## 负载均衡\n+ 等价负载均衡\n+ EIGRP在度量值相同的所有路径之间分配数据流量，默认为4条等价路径之间均衡IP负载，最大可为16条\n+ `Router(config-router)# Maximum-paths maximum-path`\n\n### 非等价均衡\n**EIGRP也能在度量值不同的多条路径之间负载均衡**\n\n`Router(config-router)# Variance multiplier`\n\n+ multplier默认值为1，范围1~128\n+ 只有可行路径才被用于负载均衡，可行条件为：\n    - 路由必须是无环的。（即AD<FD min）\n    - FD<= FD min X multiplier\n+ 注：variance不指定最大路径，而指定了度量值的范围\n\n### 例：\n`Router(config-router)# Variance 2`\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188848991-445331a1-6714-448c-8a92-04f2e7af5376.png)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188866082-9c793dc2-be71-4394-9377-2c39b7231688.png)\n\n## EIGRP认证\n### 路由器使用两种身份验证方式\n+ 简单密码身份验证\n    - IS-IS\n    - OSPF\n    - RIPv2\n+ MD5身份验证\n    - OSPF\n    - BGP\n    - EIGRP\n    - RIPv2\n\n### EIGRP MD5身份验证配置\n+ 定义key chain（全局模式）\n    - `Key chain name-of-chain`\n    - `key key-id `\n    - `key-string text`\n    - `accept-lifetime start-time (infinite end-time duration seconds}`\n    - `send-lifetime start-time {infinite | end-time | duration seconds}`\n+ 关联key chain（接口模式）\n    - `ip authentication key-chain eigrp autonomous-system name-of-chain`\n+ 启用认证（接口模式）\n    - `ip authentication mode eigrp autonomous-system md5`\n\n#### 实例：\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730189387252-e032d95a-10b6-4916-a220-919f6941dd64.png)\n\n`show ip eigrp neighbors`\n\n`show ip route`\n\n`show ip eigrp interface detail`\n\n## 大型网络EIGRP的可扩展性\n大型EIGRP网络通常存在以下一些问题\n\n+ 需要处理的路由表很大\n+ 大量的邻居，要维护庞大的拓扑表\n+ 需要交换大量的路由更新，发送大量的查询和应答\n\n这使得影响网络的可扩展性的变量变多，如：\n\n+ 邻居间交换的信息量\n+ 路由器数量\n+ 拓扑深度\n+ 网络中的替代路径数\n\n## 陷入主动状态\n+ 路由器陷入主动状态并因此发起查询，仅当收到每个查询的应答后，该路由器才会脱离主动状态进入被动状态\n+ 如果路由器在3分钟肉没有收到查询应答，路由将陷入主动状态(SIA)此时路由器将重置与未应答的邻居之间的邻接关系。\n\n导致路由进入SIA的常见原因\n\n+ 路由器太忙无法回答查询\n+ 路由器之间的链路质量低劣\n+ 单向链路\n\n## 防范SIA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730249689117-deda2787-45c7-4c17-93c9-5d4919815bb5.png)\n\n+ EIGRP分组新增加了SIA-查询和SIA-应答，是由主动过程改进的\n\n**改进前**:主动定时器到期后，A重置与B的邻接关系，但问题出在B和C之间的链路上\n\n**改进后**:主动定时器过半后，A发送SIA-查询，而B确认查询，从而保持邻接关系\n\n## 限制查询范围\n+ 确定好路由需求后，可提高EIGRP的可扩展性，使用以下两种方式\n    - 在合适的路由器上使用路由汇总\n    - 将远程路由器设置有末节EIGRP路由器\n+ 将远程路由器设置有末节EIGRP路由器\n+ 中央-分支网络拓扑中，stub路由器将所有非本地数据流转发给hub路由器，而无需保存完整的路由表。\n+ 对于hub路由器来说，不应将stub路由器最为中转路由器，禁止stub路由器将hub路由器通告给其他的hub。\n+ stub路由器不会收到查询，与stub区域相连的hub路由器将代表末节i由器对查询做出应答。\n+ 未节路由器时指:该路由器与网络核心相连，且不会被用来中转数据未节路由器的EIGRP邻居全部都是中央路由器:\n\n### 使用路由汇总\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730250750824-bcc81bb9-9bfe-45ec-a6ff-82e841cd2b18.png)\n\n+ 查询在收到汇总路由的路由器结束\n+ 仅当路由表中有被查询的网络完全匹配的路由时，远程路由器才会进一步传播查询\n\n\n\n## 基础配置\n```plain\nRouter(config)# router eigrp autonomous-system\t\n#EIGRP将autonomous-system参数称为“自治系统”编号。\nRouter(config-router)# network network-number [wildcard-mask]\n```\n\n```plain\nRouter(config)# lp default-network network-number\n#将路由表中某个网络宣告为缺省网络\nRouter(config-router)# network network-number\n#将指定的网络号通告给其他的路由器\n```","source":"_posts/CCNP/CCNP路由 EIGRP部分.md","raw":"---\ntitle: EIGRP详解\nsummary: >-\n  酥米小机器人来啦，这篇文章详细介绍了 EIGRP（Enhanced Interior Gateway Routing\n  Protocol）协议的核心特点、关键技术及其工作原理。EIGRP 是思科私有的增强型内部网关路由协议，采用 DUAL\n  有限状态机实现快速路由收敛，并支持触发式更新和部分路由更新，通过多播地址 224.0.0.10\n  与邻居路由器交互。该协议能高效计算路由成本（基于延迟与带宽默认度量），支持 VLSM 和链路带宽负载均衡，并允许被动接口配置。EIGRP\n  由邻居表、拓扑表和路由表三表支撑数据传输，依靠 Hello 包、Update 包、ACK 和 Active/Passive\n  状态协商维护网络拓扑结构，安全性与兼容性涉及协议无关模块支持多协议处理。用户的配置与验证涉及 `no auto-summary`\n  关闭自动汇总，及通过接口应用手工汇总的指令，以及 `maximum-paths`、`variance`\n  命令设置等价与非等价负载均衡，从而提高网络资源利用效率。\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1730161963616-a3e42c29-d0d2-4365-b3d0-f1e5f30550fc.png\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 特点\n+ 思科私有的增强型的矢量路由协议\n+ 快速汇聚：采用DUAL来实现快速汇聚\n+ 触发更新\n+ 部分更新：EIGRP发送部分更新，把更新的部分传递给需要的路由器\n+ 使用多播和单播：使用多播和单播而不是广播，多播地址224.0.0.10\n+ 支持VLSM：支持无类\n+ 精密的度量值：能实现不等价的负载均衡\n\n## 关键技术\n+ 邻居发现协议\n    - 使用Hello包发现邻居，并动态的获悉其直连的网络中的其他路由器\n+ 可靠传输协议（RTP）\n    - 确保EIGRP分组按顺序以可靠的方式传输给所有邻居\n+ DUAL有限状态机\n    - 选择最低的度量值和无环的路径到达目的网段\n+ 协议无关模块\n    - EIGRP支持IP、IPv6、Appletalk和IPX，其都有独立EIGRP模块，负责处理网络层协议而异的需求。\n\n## EIGRP的三张表\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730161963616-a3e42c29-d0d2-4365-b3d0-f1e5f30550fc.png)\n\n+ 邻居表\n+ 拓扑表\n+ 路由表\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162218489-49492311-099f-4492-ab81-1f7292fec172.png)\n\n## EIGRP数据包\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162469491-ef6f6e0d-c93a-43a2-911c-db3f1413fa94.png)\n\n## Metric的计算\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163258199-be43445b-6cd6-40ed-b80c-e8d37f27b360.png)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163274887-11941729-c27e-4e74-98e2-ef579f23049b.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163485100-1b7af06d-b867-41af-a48c-05d2e96f2577.png)\n\n默认K1=1,K2=0,K3=1,K4=0,K5=0\n\n延迟取值沿路所有数据出接口(或路由入口)延迟的累加\n\nDLY= 延迟 (us) / 10 x 256\n\n带宽取值沿路所有数据出接口(或路由入口)带宽的最低值\n\nBW= [ 10000000 / 带宽 (Kbps) ] x 256\n\n**EIGRP路由metric默认为延迟+带宽**\n\n****\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163876261-21d8ff7a-5ece-432c-bf72-da5da25f67d7.png)\n\nA路由器上，看到的3.3.3.0/24的路由metric(路径1)?\n\nBW=10^7/1544*256=6476(去掉小数)*256=1657856\n\nDLY=20000/10*256+5000/10*256=640000\n\nMetric=640000+1657856=2297856\n\n## 初始路由发现\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730164083165-6ad1f436-b29c-4e42-8178-0df9cd83b893.png)\n\n机翻过程\n\n+ Hello包 1.我是路由器A，链接上是谁?\n+ Hello包 2.你好，我是路由器B。\n+ Update包 3.下面是我完整的路由信息。\n+ ACK包 4.感谢提供的信息!\n+ Update包 5.下面是我完整的路线信息。\n+ ACK包 6.感谢提供的信息! （凝聚）\n\n## DUAL算法\n+ Diffusing Update Algorithm 用于计算最佳无环路径和备用路径\n\n### 实例1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165228311-05385374-7357-431e-968e-97b968881d03.png)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165266167-e22f9b6a-06d3-4daa-b10a-16b88ae48a9f.png)\n\n+ 将1.0的metric设置为不可达(-1表示不可达)\n+ 由于没有FS1.0被标记为Active状态\n+ D向C及E发送查询信息，询问去往1.0的替代路径\n+ D将C及E标记为未应答查询(q)\n+ 路由器C及E将经由D路由器前往网络1.0的路径标记为不可达\n+ 路由器C发送应答消息给D，指出到达1.0网段的路径没变\n+ D收到C的应答，将C的查询未应答标记删除\n+ 保持前往1.0路由的active状态，同时等待E的应答\n+ E由于从C前往1.0网段的AD值=3，不小于原来的FD=3，所以E将路由标记为active，且向C查询，并将C标记为查询未应答\n+ D收到E的应答消息\n+ 删除E的查询未应答标记\n+ 计算新的FD将后继路由加入到拓扑表\n+ 将1.0路由切换到passive\n\n## 几个术语\n后继路由器\n\n可行距离(FD)\n\n可行后继路由器(FS)\n\n通告距离(AD)\n\n可行条件，或称可行性条件(FC)\n\n## 配置和验证\n### Passive-interface配置\n`Router(config-router)#passive-interface {type number} | default`\n\n+ 该命令用于将特定接口设置为被动状态，defaut将所有路由器接白设置为被动状态\n\n被动接口作用如下\n\n+ 禁止通过被动接口建立邻接关系\n+ 禁止通过被动接口接收或发送路由更新让EIGRP进程通告被动接口连接的子网查看:\n\n`show ip protocols`\n\n`show ip eigrp neighbor`\n\n## EIGRP路由汇总\n### EIGRP自动汇总\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730170203332-86774a59-6816-4126-a00b-79a436b93c7e.png)\n\n**关闭自动汇总**\n\n`Router(config-router)# no auto-summary`\n\n**配置手工汇总**\n\n`Router(config-if)# ip summary-address eigrp as-number address mask [admin-distance]`\n\n+ 手工配置汇总时，仅当路由选择表中至少有一条该汇总路由的明细路由时，汇总路由才被通告出去。\n+ ip summary-address eigrp进行汇总的路由AD=5\n\n## 负载均衡\n+ 等价负载均衡\n+ EIGRP在度量值相同的所有路径之间分配数据流量，默认为4条等价路径之间均衡IP负载，最大可为16条\n+ `Router(config-router)# Maximum-paths maximum-path`\n\n### 非等价均衡\n**EIGRP也能在度量值不同的多条路径之间负载均衡**\n\n`Router(config-router)# Variance multiplier`\n\n+ multplier默认值为1，范围1~128\n+ 只有可行路径才被用于负载均衡，可行条件为：\n    - 路由必须是无环的。（即AD<FD min）\n    - FD<= FD min X multiplier\n+ 注：variance不指定最大路径，而指定了度量值的范围\n\n### 例：\n`Router(config-router)# Variance 2`\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188848991-445331a1-6714-448c-8a92-04f2e7af5376.png)![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188866082-9c793dc2-be71-4394-9377-2c39b7231688.png)\n\n## EIGRP认证\n### 路由器使用两种身份验证方式\n+ 简单密码身份验证\n    - IS-IS\n    - OSPF\n    - RIPv2\n+ MD5身份验证\n    - OSPF\n    - BGP\n    - EIGRP\n    - RIPv2\n\n### EIGRP MD5身份验证配置\n+ 定义key chain（全局模式）\n    - `Key chain name-of-chain`\n    - `key key-id `\n    - `key-string text`\n    - `accept-lifetime start-time (infinite end-time duration seconds}`\n    - `send-lifetime start-time {infinite | end-time | duration seconds}`\n+ 关联key chain（接口模式）\n    - `ip authentication key-chain eigrp autonomous-system name-of-chain`\n+ 启用认证（接口模式）\n    - `ip authentication mode eigrp autonomous-system md5`\n\n#### 实例：\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730189387252-e032d95a-10b6-4916-a220-919f6941dd64.png)\n\n`show ip eigrp neighbors`\n\n`show ip route`\n\n`show ip eigrp interface detail`\n\n## 大型网络EIGRP的可扩展性\n大型EIGRP网络通常存在以下一些问题\n\n+ 需要处理的路由表很大\n+ 大量的邻居，要维护庞大的拓扑表\n+ 需要交换大量的路由更新，发送大量的查询和应答\n\n这使得影响网络的可扩展性的变量变多，如：\n\n+ 邻居间交换的信息量\n+ 路由器数量\n+ 拓扑深度\n+ 网络中的替代路径数\n\n## 陷入主动状态\n+ 路由器陷入主动状态并因此发起查询，仅当收到每个查询的应答后，该路由器才会脱离主动状态进入被动状态\n+ 如果路由器在3分钟肉没有收到查询应答，路由将陷入主动状态(SIA)此时路由器将重置与未应答的邻居之间的邻接关系。\n\n导致路由进入SIA的常见原因\n\n+ 路由器太忙无法回答查询\n+ 路由器之间的链路质量低劣\n+ 单向链路\n\n## 防范SIA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730249689117-deda2787-45c7-4c17-93c9-5d4919815bb5.png)\n\n+ EIGRP分组新增加了SIA-查询和SIA-应答，是由主动过程改进的\n\n**改进前**:主动定时器到期后，A重置与B的邻接关系，但问题出在B和C之间的链路上\n\n**改进后**:主动定时器过半后，A发送SIA-查询，而B确认查询，从而保持邻接关系\n\n## 限制查询范围\n+ 确定好路由需求后，可提高EIGRP的可扩展性，使用以下两种方式\n    - 在合适的路由器上使用路由汇总\n    - 将远程路由器设置有末节EIGRP路由器\n+ 将远程路由器设置有末节EIGRP路由器\n+ 中央-分支网络拓扑中，stub路由器将所有非本地数据流转发给hub路由器，而无需保存完整的路由表。\n+ 对于hub路由器来说，不应将stub路由器最为中转路由器，禁止stub路由器将hub路由器通告给其他的hub。\n+ stub路由器不会收到查询，与stub区域相连的hub路由器将代表末节i由器对查询做出应答。\n+ 未节路由器时指:该路由器与网络核心相连，且不会被用来中转数据未节路由器的EIGRP邻居全部都是中央路由器:\n\n### 使用路由汇总\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730250750824-bcc81bb9-9bfe-45ec-a6ff-82e841cd2b18.png)\n\n+ 查询在收到汇总路由的路由器结束\n+ 仅当路由表中有被查询的网络完全匹配的路由时，远程路由器才会进一步传播查询\n\n\n\n## 基础配置\n```plain\nRouter(config)# router eigrp autonomous-system\t\n#EIGRP将autonomous-system参数称为“自治系统”编号。\nRouter(config-router)# network network-number [wildcard-mask]\n```\n\n```plain\nRouter(config)# lp default-network network-number\n#将路由表中某个网络宣告为缺省网络\nRouter(config-router)# network network-number\n#将指定的网络号通告给其他的路由器\n```","slug":"CCNP/CCNP路由 EIGRP部分","published":1,"updated":"2025-08-01T15:15:25.291Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95609002eg0fya9ze7zjh","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>思科私有的增强型的矢量路由协议</li>\n<li>快速汇聚：采用DUAL来实现快速汇聚</li>\n<li>触发更新</li>\n<li>部分更新：EIGRP发送部分更新，把更新的部分传递给需要的路由器</li>\n<li>使用多播和单播：使用多播和单播而不是广播，多播地址224.0.0.10</li>\n<li>支持VLSM：支持无类</li>\n<li>精密的度量值：能实现不等价的负载均衡</li>\n</ul>\n<h2 id=\"关键技术\"><a href=\"#关键技术\" class=\"headerlink\" title=\"关键技术\"></a>关键技术</h2><ul>\n<li>邻居发现协议<ul>\n<li>使用Hello包发现邻居，并动态的获悉其直连的网络中的其他路由器</li>\n</ul>\n</li>\n<li>可靠传输协议（RTP）<ul>\n<li>确保EIGRP分组按顺序以可靠的方式传输给所有邻居</li>\n</ul>\n</li>\n<li>DUAL有限状态机<ul>\n<li>选择最低的度量值和无环的路径到达目的网段</li>\n</ul>\n</li>\n<li>协议无关模块<ul>\n<li>EIGRP支持IP、IPv6、Appletalk和IPX，其都有独立EIGRP模块，负责处理网络层协议而异的需求。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"EIGRP的三张表\"><a href=\"#EIGRP的三张表\" class=\"headerlink\" title=\"EIGRP的三张表\"></a>EIGRP的三张表</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730161963616-a3e42c29-d0d2-4365-b3d0-f1e5f30550fc.png\"></p>\n<ul>\n<li>邻居表</li>\n<li>拓扑表</li>\n<li>路由表</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162218489-49492311-099f-4492-ab81-1f7292fec172.png\"></p>\n<h2 id=\"EIGRP数据包\"><a href=\"#EIGRP数据包\" class=\"headerlink\" title=\"EIGRP数据包\"></a>EIGRP数据包</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162469491-ef6f6e0d-c93a-43a2-911c-db3f1413fa94.png\"></p>\n<h2 id=\"Metric的计算\"><a href=\"#Metric的计算\" class=\"headerlink\" title=\"Metric的计算\"></a>Metric的计算</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163258199-be43445b-6cd6-40ed-b80c-e8d37f27b360.png\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163274887-11941729-c27e-4e74-98e2-ef579f23049b.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163485100-1b7af06d-b867-41af-a48c-05d2e96f2577.png\"></p>\n<p>默认K1&#x3D;1,K2&#x3D;0,K3&#x3D;1,K4&#x3D;0,K5&#x3D;0</p>\n<p>延迟取值沿路所有数据出接口(或路由入口)延迟的累加</p>\n<p>DLY&#x3D; 延迟 (us) &#x2F; 10 x 256</p>\n<p>带宽取值沿路所有数据出接口(或路由入口)带宽的最低值</p>\n<p>BW&#x3D; [ 10000000 &#x2F; 带宽 (Kbps) ] x 256</p>\n<p><strong>EIGRP路由metric默认为延迟+带宽</strong></p>\n<hr>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163876261-21d8ff7a-5ece-432c-bf72-da5da25f67d7.png\"></p>\n<p>A路由器上，看到的3.3.3.0&#x2F;24的路由metric(路径1)?</p>\n<p>BW&#x3D;10^7&#x2F;1544*256&#x3D;6476(去掉小数)*256&#x3D;1657856</p>\n<p>DLY&#x3D;20000&#x2F;10<em>256+5000&#x2F;10</em>256&#x3D;640000</p>\n<p>Metric&#x3D;640000+1657856&#x3D;2297856</p>\n<h2 id=\"初始路由发现\"><a href=\"#初始路由发现\" class=\"headerlink\" title=\"初始路由发现\"></a>初始路由发现</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730164083165-6ad1f436-b29c-4e42-8178-0df9cd83b893.png\"></p>\n<p>机翻过程</p>\n<ul>\n<li>Hello包 1.我是路由器A，链接上是谁?</li>\n<li>Hello包 2.你好，我是路由器B。</li>\n<li>Update包 3.下面是我完整的路由信息。</li>\n<li>ACK包 4.感谢提供的信息!</li>\n<li>Update包 5.下面是我完整的路线信息。</li>\n<li>ACK包 6.感谢提供的信息! （凝聚）</li>\n</ul>\n<h2 id=\"DUAL算法\"><a href=\"#DUAL算法\" class=\"headerlink\" title=\"DUAL算法\"></a>DUAL算法</h2><ul>\n<li>Diffusing Update Algorithm 用于计算最佳无环路径和备用路径</li>\n</ul>\n<h3 id=\"实例1\"><a href=\"#实例1\" class=\"headerlink\" title=\"实例1\"></a>实例1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165228311-05385374-7357-431e-968e-97b968881d03.png\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165266167-e22f9b6a-06d3-4daa-b10a-16b88ae48a9f.png\"></p>\n<ul>\n<li>将1.0的metric设置为不可达(-1表示不可达)</li>\n<li>由于没有FS1.0被标记为Active状态</li>\n<li>D向C及E发送查询信息，询问去往1.0的替代路径</li>\n<li>D将C及E标记为未应答查询(q)</li>\n<li>路由器C及E将经由D路由器前往网络1.0的路径标记为不可达</li>\n<li>路由器C发送应答消息给D，指出到达1.0网段的路径没变</li>\n<li>D收到C的应答，将C的查询未应答标记删除</li>\n<li>保持前往1.0路由的active状态，同时等待E的应答</li>\n<li>E由于从C前往1.0网段的AD值&#x3D;3，不小于原来的FD&#x3D;3，所以E将路由标记为active，且向C查询，并将C标记为查询未应答</li>\n<li>D收到E的应答消息</li>\n<li>删除E的查询未应答标记</li>\n<li>计算新的FD将后继路由加入到拓扑表</li>\n<li>将1.0路由切换到passive</li>\n</ul>\n<h2 id=\"几个术语\"><a href=\"#几个术语\" class=\"headerlink\" title=\"几个术语\"></a>几个术语</h2><p>后继路由器</p>\n<p>可行距离(FD)</p>\n<p>可行后继路由器(FS)</p>\n<p>通告距离(AD)</p>\n<p>可行条件，或称可行性条件(FC)</p>\n<h2 id=\"配置和验证\"><a href=\"#配置和验证\" class=\"headerlink\" title=\"配置和验证\"></a>配置和验证</h2><h3 id=\"Passive-interface配置\"><a href=\"#Passive-interface配置\" class=\"headerlink\" title=\"Passive-interface配置\"></a>Passive-interface配置</h3><p><code>Router(config-router)#passive-interface &#123;type number&#125; | default</code></p>\n<ul>\n<li>该命令用于将特定接口设置为被动状态，defaut将所有路由器接白设置为被动状态</li>\n</ul>\n<p>被动接口作用如下</p>\n<ul>\n<li>禁止通过被动接口建立邻接关系</li>\n<li>禁止通过被动接口接收或发送路由更新让EIGRP进程通告被动接口连接的子网查看:</li>\n</ul>\n<p><code>show ip protocols</code></p>\n<p><code>show ip eigrp neighbor</code></p>\n<h2 id=\"EIGRP路由汇总\"><a href=\"#EIGRP路由汇总\" class=\"headerlink\" title=\"EIGRP路由汇总\"></a>EIGRP路由汇总</h2><h3 id=\"EIGRP自动汇总\"><a href=\"#EIGRP自动汇总\" class=\"headerlink\" title=\"EIGRP自动汇总\"></a>EIGRP自动汇总</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730170203332-86774a59-6816-4126-a00b-79a436b93c7e.png\"></p>\n<p><strong>关闭自动汇总</strong></p>\n<p><code>Router(config-router)# no auto-summary</code></p>\n<p><strong>配置手工汇总</strong></p>\n<p><code>Router(config-if)# ip summary-address eigrp as-number address mask [admin-distance]</code></p>\n<ul>\n<li>手工配置汇总时，仅当路由选择表中至少有一条该汇总路由的明细路由时，汇总路由才被通告出去。</li>\n<li>ip summary-address eigrp进行汇总的路由AD&#x3D;5</li>\n</ul>\n<h2 id=\"负载均衡\"><a href=\"#负载均衡\" class=\"headerlink\" title=\"负载均衡\"></a>负载均衡</h2><ul>\n<li>等价负载均衡</li>\n<li>EIGRP在度量值相同的所有路径之间分配数据流量，默认为4条等价路径之间均衡IP负载，最大可为16条</li>\n<li><code>Router(config-router)# Maximum-paths maximum-path</code></li>\n</ul>\n<h3 id=\"非等价均衡\"><a href=\"#非等价均衡\" class=\"headerlink\" title=\"非等价均衡\"></a>非等价均衡</h3><p><strong>EIGRP也能在度量值不同的多条路径之间负载均衡</strong></p>\n<p><code>Router(config-router)# Variance multiplier</code></p>\n<ul>\n<li>multplier默认值为1，范围1~128</li>\n<li>只有可行路径才被用于负载均衡，可行条件为：<ul>\n<li>路由必须是无环的。（即AD&lt;FD min）</li>\n<li>FD&lt;&#x3D; FD min X multiplier</li>\n</ul>\n</li>\n<li>注：variance不指定最大路径，而指定了度量值的范围</li>\n</ul>\n<h3 id=\"例：\"><a href=\"#例：\" class=\"headerlink\" title=\"例：\"></a>例：</h3><p><code>Router(config-router)# Variance 2</code></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188848991-445331a1-6714-448c-8a92-04f2e7af5376.png\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188866082-9c793dc2-be71-4394-9377-2c39b7231688.png\"></p>\n<h2 id=\"EIGRP认证\"><a href=\"#EIGRP认证\" class=\"headerlink\" title=\"EIGRP认证\"></a>EIGRP认证</h2><h3 id=\"路由器使用两种身份验证方式\"><a href=\"#路由器使用两种身份验证方式\" class=\"headerlink\" title=\"路由器使用两种身份验证方式\"></a>路由器使用两种身份验证方式</h3><ul>\n<li>简单密码身份验证<ul>\n<li>IS-IS</li>\n<li>OSPF</li>\n<li>RIPv2</li>\n</ul>\n</li>\n<li>MD5身份验证<ul>\n<li>OSPF</li>\n<li>BGP</li>\n<li>EIGRP</li>\n<li>RIPv2</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"EIGRP-MD5身份验证配置\"><a href=\"#EIGRP-MD5身份验证配置\" class=\"headerlink\" title=\"EIGRP MD5身份验证配置\"></a>EIGRP MD5身份验证配置</h3><ul>\n<li>定义key chain（全局模式）<ul>\n<li><code>Key chain name-of-chain</code></li>\n<li><code>key key-id </code></li>\n<li><code>key-string text</code></li>\n<li><code>accept-lifetime start-time (infinite end-time duration seconds&#125;</code></li>\n<li><code>send-lifetime start-time &#123;infinite | end-time | duration seconds&#125;</code></li>\n</ul>\n</li>\n<li>关联key chain（接口模式）<ul>\n<li><code>ip authentication key-chain eigrp autonomous-system name-of-chain</code></li>\n</ul>\n</li>\n<li>启用认证（接口模式）<ul>\n<li><code>ip authentication mode eigrp autonomous-system md5</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"实例：\"><a href=\"#实例：\" class=\"headerlink\" title=\"实例：\"></a>实例：</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730189387252-e032d95a-10b6-4916-a220-919f6941dd64.png\"></p>\n<p><code>show ip eigrp neighbors</code></p>\n<p><code>show ip route</code></p>\n<p><code>show ip eigrp interface detail</code></p>\n<h2 id=\"大型网络EIGRP的可扩展性\"><a href=\"#大型网络EIGRP的可扩展性\" class=\"headerlink\" title=\"大型网络EIGRP的可扩展性\"></a>大型网络EIGRP的可扩展性</h2><p>大型EIGRP网络通常存在以下一些问题</p>\n<ul>\n<li>需要处理的路由表很大</li>\n<li>大量的邻居，要维护庞大的拓扑表</li>\n<li>需要交换大量的路由更新，发送大量的查询和应答</li>\n</ul>\n<p>这使得影响网络的可扩展性的变量变多，如：</p>\n<ul>\n<li>邻居间交换的信息量</li>\n<li>路由器数量</li>\n<li>拓扑深度</li>\n<li>网络中的替代路径数</li>\n</ul>\n<h2 id=\"陷入主动状态\"><a href=\"#陷入主动状态\" class=\"headerlink\" title=\"陷入主动状态\"></a>陷入主动状态</h2><ul>\n<li>路由器陷入主动状态并因此发起查询，仅当收到每个查询的应答后，该路由器才会脱离主动状态进入被动状态</li>\n<li>如果路由器在3分钟肉没有收到查询应答，路由将陷入主动状态(SIA)此时路由器将重置与未应答的邻居之间的邻接关系。</li>\n</ul>\n<p>导致路由进入SIA的常见原因</p>\n<ul>\n<li>路由器太忙无法回答查询</li>\n<li>路由器之间的链路质量低劣</li>\n<li>单向链路</li>\n</ul>\n<h2 id=\"防范SIA\"><a href=\"#防范SIA\" class=\"headerlink\" title=\"防范SIA\"></a>防范SIA</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730249689117-deda2787-45c7-4c17-93c9-5d4919815bb5.png\"></p>\n<ul>\n<li>EIGRP分组新增加了SIA-查询和SIA-应答，是由主动过程改进的</li>\n</ul>\n<p><strong>改进前</strong>:主动定时器到期后，A重置与B的邻接关系，但问题出在B和C之间的链路上</p>\n<p><strong>改进后</strong>:主动定时器过半后，A发送SIA-查询，而B确认查询，从而保持邻接关系</p>\n<h2 id=\"限制查询范围\"><a href=\"#限制查询范围\" class=\"headerlink\" title=\"限制查询范围\"></a>限制查询范围</h2><ul>\n<li>确定好路由需求后，可提高EIGRP的可扩展性，使用以下两种方式<ul>\n<li>在合适的路由器上使用路由汇总</li>\n<li>将远程路由器设置有末节EIGRP路由器</li>\n</ul>\n</li>\n<li>将远程路由器设置有末节EIGRP路由器</li>\n<li>中央-分支网络拓扑中，stub路由器将所有非本地数据流转发给hub路由器，而无需保存完整的路由表。</li>\n<li>对于hub路由器来说，不应将stub路由器最为中转路由器，禁止stub路由器将hub路由器通告给其他的hub。</li>\n<li>stub路由器不会收到查询，与stub区域相连的hub路由器将代表末节i由器对查询做出应答。</li>\n<li>未节路由器时指:该路由器与网络核心相连，且不会被用来中转数据未节路由器的EIGRP邻居全部都是中央路由器:</li>\n</ul>\n<h3 id=\"使用路由汇总\"><a href=\"#使用路由汇总\" class=\"headerlink\" title=\"使用路由汇总\"></a>使用路由汇总</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730250750824-bcc81bb9-9bfe-45ec-a6ff-82e841cd2b18.png\"></p>\n<ul>\n<li>查询在收到汇总路由的路由器结束</li>\n<li>仅当路由表中有被查询的网络完全匹配的路由时，远程路由器才会进一步传播查询</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router eigrp autonomous-system\t</span><br><span class=\"line\">#EIGRP将autonomous-system参数称为“自治系统”编号。</span><br><span class=\"line\">Router(config-router)# network network-number [wildcard-mask]</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# lp default-network network-number</span><br><span class=\"line\">#将路由表中某个网络宣告为缺省网络</span><br><span class=\"line\">Router(config-router)# network network-number</span><br><span class=\"line\">#将指定的网络号通告给其他的路由器</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>思科私有的增强型的矢量路由协议</li>\n<li>快速汇聚：采用DUAL来实现快速汇聚</li>\n<li>触发更新</li>\n<li>部分更新：EIGRP发送部分更新，把更新的部分传递给需要的路由器</li>\n<li>使用多播和单播：使用多播和单播而不是广播，多播地址224.0.0.10</li>\n<li>支持VLSM：支持无类</li>\n<li>精密的度量值：能实现不等价的负载均衡</li>\n</ul>\n<h2 id=\"关键技术\"><a href=\"#关键技术\" class=\"headerlink\" title=\"关键技术\"></a>关键技术</h2><ul>\n<li>邻居发现协议<ul>\n<li>使用Hello包发现邻居，并动态的获悉其直连的网络中的其他路由器</li>\n</ul>\n</li>\n<li>可靠传输协议（RTP）<ul>\n<li>确保EIGRP分组按顺序以可靠的方式传输给所有邻居</li>\n</ul>\n</li>\n<li>DUAL有限状态机<ul>\n<li>选择最低的度量值和无环的路径到达目的网段</li>\n</ul>\n</li>\n<li>协议无关模块<ul>\n<li>EIGRP支持IP、IPv6、Appletalk和IPX，其都有独立EIGRP模块，负责处理网络层协议而异的需求。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"EIGRP的三张表\"><a href=\"#EIGRP的三张表\" class=\"headerlink\" title=\"EIGRP的三张表\"></a>EIGRP的三张表</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730161963616-a3e42c29-d0d2-4365-b3d0-f1e5f30550fc.png\"></p>\n<ul>\n<li>邻居表</li>\n<li>拓扑表</li>\n<li>路由表</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162218489-49492311-099f-4492-ab81-1f7292fec172.png\"></p>\n<h2 id=\"EIGRP数据包\"><a href=\"#EIGRP数据包\" class=\"headerlink\" title=\"EIGRP数据包\"></a>EIGRP数据包</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730162469491-ef6f6e0d-c93a-43a2-911c-db3f1413fa94.png\"></p>\n<h2 id=\"Metric的计算\"><a href=\"#Metric的计算\" class=\"headerlink\" title=\"Metric的计算\"></a>Metric的计算</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163258199-be43445b-6cd6-40ed-b80c-e8d37f27b360.png\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163274887-11941729-c27e-4e74-98e2-ef579f23049b.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163485100-1b7af06d-b867-41af-a48c-05d2e96f2577.png\"></p>\n<p>默认K1&#x3D;1,K2&#x3D;0,K3&#x3D;1,K4&#x3D;0,K5&#x3D;0</p>\n<p>延迟取值沿路所有数据出接口(或路由入口)延迟的累加</p>\n<p>DLY&#x3D; 延迟 (us) &#x2F; 10 x 256</p>\n<p>带宽取值沿路所有数据出接口(或路由入口)带宽的最低值</p>\n<p>BW&#x3D; [ 10000000 &#x2F; 带宽 (Kbps) ] x 256</p>\n<p><strong>EIGRP路由metric默认为延迟+带宽</strong></p>\n<hr>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730163876261-21d8ff7a-5ece-432c-bf72-da5da25f67d7.png\"></p>\n<p>A路由器上，看到的3.3.3.0&#x2F;24的路由metric(路径1)?</p>\n<p>BW&#x3D;10^7&#x2F;1544*256&#x3D;6476(去掉小数)*256&#x3D;1657856</p>\n<p>DLY&#x3D;20000&#x2F;10<em>256+5000&#x2F;10</em>256&#x3D;640000</p>\n<p>Metric&#x3D;640000+1657856&#x3D;2297856</p>\n<h2 id=\"初始路由发现\"><a href=\"#初始路由发现\" class=\"headerlink\" title=\"初始路由发现\"></a>初始路由发现</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730164083165-6ad1f436-b29c-4e42-8178-0df9cd83b893.png\"></p>\n<p>机翻过程</p>\n<ul>\n<li>Hello包 1.我是路由器A，链接上是谁?</li>\n<li>Hello包 2.你好，我是路由器B。</li>\n<li>Update包 3.下面是我完整的路由信息。</li>\n<li>ACK包 4.感谢提供的信息!</li>\n<li>Update包 5.下面是我完整的路线信息。</li>\n<li>ACK包 6.感谢提供的信息! （凝聚）</li>\n</ul>\n<h2 id=\"DUAL算法\"><a href=\"#DUAL算法\" class=\"headerlink\" title=\"DUAL算法\"></a>DUAL算法</h2><ul>\n<li>Diffusing Update Algorithm 用于计算最佳无环路径和备用路径</li>\n</ul>\n<h3 id=\"实例1\"><a href=\"#实例1\" class=\"headerlink\" title=\"实例1\"></a>实例1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165228311-05385374-7357-431e-968e-97b968881d03.png\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730165266167-e22f9b6a-06d3-4daa-b10a-16b88ae48a9f.png\"></p>\n<ul>\n<li>将1.0的metric设置为不可达(-1表示不可达)</li>\n<li>由于没有FS1.0被标记为Active状态</li>\n<li>D向C及E发送查询信息，询问去往1.0的替代路径</li>\n<li>D将C及E标记为未应答查询(q)</li>\n<li>路由器C及E将经由D路由器前往网络1.0的路径标记为不可达</li>\n<li>路由器C发送应答消息给D，指出到达1.0网段的路径没变</li>\n<li>D收到C的应答，将C的查询未应答标记删除</li>\n<li>保持前往1.0路由的active状态，同时等待E的应答</li>\n<li>E由于从C前往1.0网段的AD值&#x3D;3，不小于原来的FD&#x3D;3，所以E将路由标记为active，且向C查询，并将C标记为查询未应答</li>\n<li>D收到E的应答消息</li>\n<li>删除E的查询未应答标记</li>\n<li>计算新的FD将后继路由加入到拓扑表</li>\n<li>将1.0路由切换到passive</li>\n</ul>\n<h2 id=\"几个术语\"><a href=\"#几个术语\" class=\"headerlink\" title=\"几个术语\"></a>几个术语</h2><p>后继路由器</p>\n<p>可行距离(FD)</p>\n<p>可行后继路由器(FS)</p>\n<p>通告距离(AD)</p>\n<p>可行条件，或称可行性条件(FC)</p>\n<h2 id=\"配置和验证\"><a href=\"#配置和验证\" class=\"headerlink\" title=\"配置和验证\"></a>配置和验证</h2><h3 id=\"Passive-interface配置\"><a href=\"#Passive-interface配置\" class=\"headerlink\" title=\"Passive-interface配置\"></a>Passive-interface配置</h3><p><code>Router(config-router)#passive-interface &#123;type number&#125; | default</code></p>\n<ul>\n<li>该命令用于将特定接口设置为被动状态，defaut将所有路由器接白设置为被动状态</li>\n</ul>\n<p>被动接口作用如下</p>\n<ul>\n<li>禁止通过被动接口建立邻接关系</li>\n<li>禁止通过被动接口接收或发送路由更新让EIGRP进程通告被动接口连接的子网查看:</li>\n</ul>\n<p><code>show ip protocols</code></p>\n<p><code>show ip eigrp neighbor</code></p>\n<h2 id=\"EIGRP路由汇总\"><a href=\"#EIGRP路由汇总\" class=\"headerlink\" title=\"EIGRP路由汇总\"></a>EIGRP路由汇总</h2><h3 id=\"EIGRP自动汇总\"><a href=\"#EIGRP自动汇总\" class=\"headerlink\" title=\"EIGRP自动汇总\"></a>EIGRP自动汇总</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730170203332-86774a59-6816-4126-a00b-79a436b93c7e.png\"></p>\n<p><strong>关闭自动汇总</strong></p>\n<p><code>Router(config-router)# no auto-summary</code></p>\n<p><strong>配置手工汇总</strong></p>\n<p><code>Router(config-if)# ip summary-address eigrp as-number address mask [admin-distance]</code></p>\n<ul>\n<li>手工配置汇总时，仅当路由选择表中至少有一条该汇总路由的明细路由时，汇总路由才被通告出去。</li>\n<li>ip summary-address eigrp进行汇总的路由AD&#x3D;5</li>\n</ul>\n<h2 id=\"负载均衡\"><a href=\"#负载均衡\" class=\"headerlink\" title=\"负载均衡\"></a>负载均衡</h2><ul>\n<li>等价负载均衡</li>\n<li>EIGRP在度量值相同的所有路径之间分配数据流量，默认为4条等价路径之间均衡IP负载，最大可为16条</li>\n<li><code>Router(config-router)# Maximum-paths maximum-path</code></li>\n</ul>\n<h3 id=\"非等价均衡\"><a href=\"#非等价均衡\" class=\"headerlink\" title=\"非等价均衡\"></a>非等价均衡</h3><p><strong>EIGRP也能在度量值不同的多条路径之间负载均衡</strong></p>\n<p><code>Router(config-router)# Variance multiplier</code></p>\n<ul>\n<li>multplier默认值为1，范围1~128</li>\n<li>只有可行路径才被用于负载均衡，可行条件为：<ul>\n<li>路由必须是无环的。（即AD&lt;FD min）</li>\n<li>FD&lt;&#x3D; FD min X multiplier</li>\n</ul>\n</li>\n<li>注：variance不指定最大路径，而指定了度量值的范围</li>\n</ul>\n<h3 id=\"例：\"><a href=\"#例：\" class=\"headerlink\" title=\"例：\"></a>例：</h3><p><code>Router(config-router)# Variance 2</code></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188848991-445331a1-6714-448c-8a92-04f2e7af5376.png\"><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730188866082-9c793dc2-be71-4394-9377-2c39b7231688.png\"></p>\n<h2 id=\"EIGRP认证\"><a href=\"#EIGRP认证\" class=\"headerlink\" title=\"EIGRP认证\"></a>EIGRP认证</h2><h3 id=\"路由器使用两种身份验证方式\"><a href=\"#路由器使用两种身份验证方式\" class=\"headerlink\" title=\"路由器使用两种身份验证方式\"></a>路由器使用两种身份验证方式</h3><ul>\n<li>简单密码身份验证<ul>\n<li>IS-IS</li>\n<li>OSPF</li>\n<li>RIPv2</li>\n</ul>\n</li>\n<li>MD5身份验证<ul>\n<li>OSPF</li>\n<li>BGP</li>\n<li>EIGRP</li>\n<li>RIPv2</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"EIGRP-MD5身份验证配置\"><a href=\"#EIGRP-MD5身份验证配置\" class=\"headerlink\" title=\"EIGRP MD5身份验证配置\"></a>EIGRP MD5身份验证配置</h3><ul>\n<li>定义key chain（全局模式）<ul>\n<li><code>Key chain name-of-chain</code></li>\n<li><code>key key-id </code></li>\n<li><code>key-string text</code></li>\n<li><code>accept-lifetime start-time (infinite end-time duration seconds&#125;</code></li>\n<li><code>send-lifetime start-time &#123;infinite | end-time | duration seconds&#125;</code></li>\n</ul>\n</li>\n<li>关联key chain（接口模式）<ul>\n<li><code>ip authentication key-chain eigrp autonomous-system name-of-chain</code></li>\n</ul>\n</li>\n<li>启用认证（接口模式）<ul>\n<li><code>ip authentication mode eigrp autonomous-system md5</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"实例：\"><a href=\"#实例：\" class=\"headerlink\" title=\"实例：\"></a>实例：</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730189387252-e032d95a-10b6-4916-a220-919f6941dd64.png\"></p>\n<p><code>show ip eigrp neighbors</code></p>\n<p><code>show ip route</code></p>\n<p><code>show ip eigrp interface detail</code></p>\n<h2 id=\"大型网络EIGRP的可扩展性\"><a href=\"#大型网络EIGRP的可扩展性\" class=\"headerlink\" title=\"大型网络EIGRP的可扩展性\"></a>大型网络EIGRP的可扩展性</h2><p>大型EIGRP网络通常存在以下一些问题</p>\n<ul>\n<li>需要处理的路由表很大</li>\n<li>大量的邻居，要维护庞大的拓扑表</li>\n<li>需要交换大量的路由更新，发送大量的查询和应答</li>\n</ul>\n<p>这使得影响网络的可扩展性的变量变多，如：</p>\n<ul>\n<li>邻居间交换的信息量</li>\n<li>路由器数量</li>\n<li>拓扑深度</li>\n<li>网络中的替代路径数</li>\n</ul>\n<h2 id=\"陷入主动状态\"><a href=\"#陷入主动状态\" class=\"headerlink\" title=\"陷入主动状态\"></a>陷入主动状态</h2><ul>\n<li>路由器陷入主动状态并因此发起查询，仅当收到每个查询的应答后，该路由器才会脱离主动状态进入被动状态</li>\n<li>如果路由器在3分钟肉没有收到查询应答，路由将陷入主动状态(SIA)此时路由器将重置与未应答的邻居之间的邻接关系。</li>\n</ul>\n<p>导致路由进入SIA的常见原因</p>\n<ul>\n<li>路由器太忙无法回答查询</li>\n<li>路由器之间的链路质量低劣</li>\n<li>单向链路</li>\n</ul>\n<h2 id=\"防范SIA\"><a href=\"#防范SIA\" class=\"headerlink\" title=\"防范SIA\"></a>防范SIA</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730249689117-deda2787-45c7-4c17-93c9-5d4919815bb5.png\"></p>\n<ul>\n<li>EIGRP分组新增加了SIA-查询和SIA-应答，是由主动过程改进的</li>\n</ul>\n<p><strong>改进前</strong>:主动定时器到期后，A重置与B的邻接关系，但问题出在B和C之间的链路上</p>\n<p><strong>改进后</strong>:主动定时器过半后，A发送SIA-查询，而B确认查询，从而保持邻接关系</p>\n<h2 id=\"限制查询范围\"><a href=\"#限制查询范围\" class=\"headerlink\" title=\"限制查询范围\"></a>限制查询范围</h2><ul>\n<li>确定好路由需求后，可提高EIGRP的可扩展性，使用以下两种方式<ul>\n<li>在合适的路由器上使用路由汇总</li>\n<li>将远程路由器设置有末节EIGRP路由器</li>\n</ul>\n</li>\n<li>将远程路由器设置有末节EIGRP路由器</li>\n<li>中央-分支网络拓扑中，stub路由器将所有非本地数据流转发给hub路由器，而无需保存完整的路由表。</li>\n<li>对于hub路由器来说，不应将stub路由器最为中转路由器，禁止stub路由器将hub路由器通告给其他的hub。</li>\n<li>stub路由器不会收到查询，与stub区域相连的hub路由器将代表末节i由器对查询做出应答。</li>\n<li>未节路由器时指:该路由器与网络核心相连，且不会被用来中转数据未节路由器的EIGRP邻居全部都是中央路由器:</li>\n</ul>\n<h3 id=\"使用路由汇总\"><a href=\"#使用路由汇总\" class=\"headerlink\" title=\"使用路由汇总\"></a>使用路由汇总</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730250750824-bcc81bb9-9bfe-45ec-a6ff-82e841cd2b18.png\"></p>\n<ul>\n<li>查询在收到汇总路由的路由器结束</li>\n<li>仅当路由表中有被查询的网络完全匹配的路由时，远程路由器才会进一步传播查询</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router eigrp autonomous-system\t</span><br><span class=\"line\">#EIGRP将autonomous-system参数称为“自治系统”编号。</span><br><span class=\"line\">Router(config-router)# network network-number [wildcard-mask]</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# lp default-network network-number</span><br><span class=\"line\">#将路由表中某个网络宣告为缺省网络</span><br><span class=\"line\">Router(config-router)# network network-number</span><br><span class=\"line\">#将指定的网络号通告给其他的路由器</span><br></pre></td></tr></table></figure>"},{"title":"OSPF和LSA详解","summary":"酥米小机器人来啦，这篇文章详细介绍了OSPF协议，一种链路状态路由协议用于IGP网络不产生路由环路，覆盖了网络类型如点对点广播非广播及其配置、DRBDR选举机制基于优先级和RouterID、链路开销自动计算和手动调整、多区域设计以提高网络扩展性和稳定性、帧中继环境下的OSPF模式选择以及LSA的类型概述包括RouterLSA用于链接标识NetworkLSA描述网络结构SummaryLSA实现路由汇总等功能强调了协议在维护网络拓扑同步优化路由中的核心作用并讨论了实际应用和优化策略","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819118059-283bca5c-1922-4be5-944a-07aaab2b1e10.png","date":"2024-11-21T01:01:46.000Z","_content":"\n# OSPF\n## 基础回顾\nOSPF（Open Shortest Path First，开放最短路径优先）是一种链路状态路由协议，无路由循环(全局拓扑)，属于IGP。RFC2328，“开放”意味着非私有的，对公众开放的。\n\n+ OSPF协议使用的组播地址\n    - 所有OSPF路由器224.0.0.5；DR BDR-224.0.0.6\n+ OSPF的报文封装\n    - OSPF协议包直接封装于IP，协议号89。\n+ OSPF路由协议的管理距离:110\n\n## 网络类型\n+ **点对点**\n+ **广播**\n+ **非广播**\n    - 非广播又包含了5种运行模式：\n        * NBMA（RFC）\n        * P2MP（RFC）\n        * P2MP nonbroadcast（CISCO）\n        * Broadcast（CISCO）\n        * P2P（CISCO）\n\n### 点对点类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597653542-543c407b-5fbf-4a07-addb-ef4a220af580.png)\n\n+ 如果二层的协议为PPP、HDLC等，则OSPF网络类型为P2P\n+ 如果帧中继子接口类型为P2P的，则OSPF网络类型也为P2P\n+ 不选举DR、BDR\n+ 使用组播地址224.0.0.5\n+ OSPF能够根据二层封装自动检测到P2P网络类型\n\n### 广播型多路访问\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597748803-b40f6f84-0db0-4015-b26a-7db24de3eec2.png)\n\n+ 通常出现在以太网\n+ 选举DR、BDR\n+ 所有路由器均与DR及BDR建立邻接关系\n+ 使用组播地址224.0.0.5及224.0.0.6\n\n### NBMA网络选择OSPF的模式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597933313-047b21b5-add8-4100-bfee-794b3879c1ab.png)\n\n+ 在帧中继主接口上，默认的OSPF模式为非广播\n+ 在点到点帧中继子接口上，默认的OSPF模式为点到点\n+ 在帧中继多点子接口上，默认的OSPF模式为非广播\n\n\n\n## 链路状态协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729582503246-0528dc00-6265-464a-a66c-0dbf9991d7f2.png)\n\n## 网络优化-Router-ID\n+ 为了提高路由器的RID的稳定性和网络的稳定性建议手动的设置路由器的Router-ID\n+ 在OSPF的进程下修改:router-id <x.x.x.x>\n+ 在项目实施中，一般是建立loopback口，并且手工指定loopback口地址为router-id\n\n## DR、BDR\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583194925-732e5d65-058d-45b9-b919-c1a4e44723d4.png)\n\n+ DR的作用：多路访问中为了减少邻接关系（N平方的问题）和LSA的泛洪，采用DR机制，BDR提供了备份\n+ MA网络上所有的路由器均与DR、BDR建立邻居关系\n\n## DR选举比较顺序\n+ 接口优先级数字越大越优先（优先级为0不能参与DR的选举）、\n+ RouterID越大越好\n+ 稳定性压倒一切（非抢占）\n+ 通过控制接口优先级是控制DR选举的好办法\n+ DR的选举是基于接口的，如果说某个路由器是DR，这种说法是错误的\n\n## DR及BDR选举的控制\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597316618-061a5e61-a25e-40b1-885d-8a2d9fbd2000.png)\n\n`ip ospf priority 10`\n\n比较次序\n\n+ 优先级\n+ 路由器ID\n+ 优先级为0的不能成为DR或者BDR\n\n## 链路的开销\n+ 自动计算:COST=参考带宽(10的8次方)/出口带宽\n+ 接口带宽为接口逻辑带宽，可以使用bandwith命令调整，主要用于路由计算而不是接口物理带宽，但一般情况:接口逻辑带宽=接口物理带宽。\n+ 手工修改开销的方法\n\n`Router(config)# int serial 1`\n\n`Router(config-if)# ip ospf cost 100\t//该命令在收路由的入口`\n\n+ 可修改参考带宽,来保障OSPF在现如今的网络中正常运转\n\n`auto-cost reference-bandwidth <参考带宽以Mbits为单位>`\n\n## 三张表\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583395100-67ec4bc7-0287-42cc-8d1b-76f7f8ece3b8.png)\n\n+ 相邻的两台路由器运行OSPF协议\n+ 两台路由器直接连接\n+ 在同一自治系统\n+ Hello/Dead时间一致\n+ 区域ID一致\n+ 认证密码一致\n+ MTP值一致\n+ *网络类型一致\n+ *链路两端接口掩码一致\n\n## 报文类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583532652-1fe547e6-7e27-4e76-bb58-191ed1d3961e.png)\n\n+ Hello\t建立和维护OSPF邻居关系\n+ DBD\t\t链路状态数据库描述信息(描述LSDB中LSA头部列表)\n+ LSR\t\t链路状态请求,向OSPF邻居请求链路状态信息\n+ LSU\t\t链路状态更新(包含一条或多条LSA)\n+ LSAck\t确认报文\n\n## OSPF邻居建立过程\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584652052-d4b95daa-8884-47ae-920e-34ad316f4a3a.png)\n\n### 邻居发现\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584326053-0256b458-b096-42dc-a8e0-e285f71dc6cd.png)\n\n### 路由发现阶段\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584355522-638bec3d-ff82-4db9-90ba-3579b3a0f3f0.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584499985-4d227371-bb64-4bbd-ba77-fdbe2784854c.png)\n\n## OSPF路由器建立邻接关系的过程详细描述\n+ OSPF路由器接口up，发送Hello包(NBMA模式时将进入Attempt状态)。\n+ OSPF路由器接口收到Hello包，进入Init状态;并将该Hello包的发送者的RouterID添加到Hello包(自己将要从该接口发送出去的Hello包)的邻居列表中。\n+ OSPF路由器接口收到邻居列表中含有自己RouterID的Hello包，进入Two-way状态形成OSPF邻居关系，并把该路由器的RouterID添加到自己的OSPF邻居表中\n+ 在进入Two-way状态后，广播、非广播网络类型的链路，在DR选举等待时间内进行DR选举。点对点没有这个过程。\n+ 在DR选举完成或跳过DR选举后，建立OSPF邻接关系，进入exstart(准启动)状态并选举DBD交换主从路由器，以及由主路由器定义DBD序列号，RouterID大的为主路由器。目的是为了解决DBD自身的可靠性。\n+ 主从路由器选举完成后，进入Exchange(交换)状态，交换DBD信息。DBD交换完成后，进入Loading状态，对链路状态数据库和收到的DBD的LSA头部进行比较，发现自己数据库中没有的LSA就发送LSR，向邻居请求该LSA;邻居收到LSR后，回应LSU;收到邻居发来的LSU，存储这些LSA到自己的链路状态数据库，并发送LSAck确认。\n+ LSA交换完成后，进入FULL状态，所有形成邻居的OSPF路由器都拥有相同链路状态数据库。\n+ 定期发送Hello包，维护邻居关系。\n\n## OSPF邻接关系\n+ 路由器之间链路状态信息必须同步，LSA具有以下特征：\n+ LSA（LSU）是可靠的传输，需要LSAck确认\n+ LSA有序列号和寿命，以确保是最新的LAS\n+ LSA被定期的刷新以确保拓扑信息的有效性\n\n## 链路状态数据的状态\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585188616-4c4dd0cf-7eae-44df-8df2-4308bf761556.png)\n\n## OSPF多区域概念\n### 单区域\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585216495-f1b2e4b6-e173-4b2d-9bd3-ec5d0a567d94.png)\n\n+ 收到的LSA通告太多了，OSPF路由器的负担很大\n+ 内部动荡会引起全网路由器的完全SPF计算\n+ 资源消耗过多，LSDB庞大，设备性能下降，影响数据转发\n+ 每台路由器都需要维护的路由表越来越大，单区域内路由无法汇总\n\n#### 解决方案\n+ 把大型网络分隔为多个较小，可管理的单元-区域 area;\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585389704-f78a98ae-479f-43ea-882e-53cc2ffca7c3.png)\n\n+ 划分区域的好处\n+ 减少了LSA洪泛的范围，有效地把拓扑变化控制在区域内，提高了网络的稳定性拓扑的变化影响可以只限制涉及本区域\n+ 多区域提高了网络的扩展性，有利于组建大规模的网络\n+ 在区域边界可以做路由汇总，减小了路由表\n\n### OSPF路由器角色\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585477757-23c7849f-09a3-4fee-b0a7-5e1fdd6742c5.png)\n\n## 在帧中继环境下的OSPF\n### NBMA网络选择OSPF模式 \n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729816380101-0577bb5b-d702-4859-8ad0-e5b784de728e.png)\n\n+ 在帧中继的主接口上，默认的OSPF模式为非广播\n+ 在点到点帧中继子接口中，默认的OSPF模式为点对点\n+ 在帧中继多点子接口上，默认的OSPF模式为非广播\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818741701-a39e2439-6c8e-4b10-9bba-d886484fee5c.png)\n\n如果是非广播这一 OSPF 网络类型,则 OSPF 也不会主动发送组播包去发现邻居，因此邻居关系建立这\n\n里也有问题。\n\n### NBMA网络下OSPF的运行\n#### 方式一\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818282720-8e8c7e7b-6548-41cd-b825-64c10f08f90b.png)\n\n+ 指定OSPF网络类型为broadcast\n+ 使用OSPF多播hello分组自动来自动发送邻居\n+ 选举DR和BDR\n+ DR和BDR必须与其他所有路由器直接相连\n\n```plain\nRouter(config)# interface serial 0/0\nRouter(config-if)# encapsulation frame-relay\nRouter(config-if)# ip ospf network broadcast\n```\n\n#### 方式二\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818405731-56d45fde-6d9d-4394-b5a6-b9a317b9c04a.png)\n\n+ 网络类型为non-broadcast（默认）\n+ 手动指定邻居\n+ 选举DR和BDR\n+ DR和BDR必须与其他所有路由器直接相连\n\n```plain\nRouter(config)#interface serial 0/0\nRouter(config)#neighbor ip-address [priority number] [poll-interval number] [cost number] [database-filter all]\nRouter(config-if)#encapsulation frame-relay\nRouter(config-if)#ip ospf network non-broadcast\n```\n\n#### 方式三\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818635272-2362be8e-2382-4c0a-94eb-f1f6c6f9ecca.png)\n\n```plain\ninterface serial0/0\nencapsulation frame-relay\nip ospf network point-to-multipoint\nrouter ospf 100\nnetwork 202.101.100.0 0.0.0.255 area 0\n```\n\n```plain\ninterface Serial0/0\nencapsulation frame-relay\nip ospf network point-to-multipoint\nip ospf priority 0\n```\n\n## 基础配置\n```plain\nRouter(config)# router ospf process-id [vrf vpn-name]\nRouter(config-router)# network ip-address wildcard-mask area area-id\n```\n\n```plain\nRouter(config-router)# router-id ip-address\nRouter# clear ip ospf process\n```\n\n```plain\nRouter(config-if)# ip ospf network [ {broadcast | non-broadcast | point-to-multipoint [non-broadcast] | point-to-point} ]\n```\n\n# LSA\n## LSA简介\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819118059-283bca5c-1922-4be5-944a-07aaab2b1e10.png)\n\n+ **Link State Advertisement**（链路状态通告），这是在网络协议中，尤其是 OSPF（开放最短路径优先）和 IS-IS（中间系统到中间系统）中使用的一种消息类型。\n\n\n\n## LSA类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819172881-af6ef12d-89f7-42af-9256-e129103f1207.png)\n\n### 类型1 路由器LSA Router LSA\n+ 每个路由器针对它所在的区域产生LSA1，描述区域内部与路由器直连的链路的信息(包括链路类型，Cost等)\n+ LSA1只允许在本区域内洪泛，不允许跨越ABR\n+ LSA中会标识路由器是否是ABR(B比特置位),ASBR(E比特置位)或者是Virtual-link(V比特置位)的端点的身份信息\n\n### 类型2 网络LSA Network LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821435220-c6372be2-8ace-40f8-9842-95f87f104bc8.png)\n\n### 类型1、2总结\n+ 通过LSA1，LSA2在区域内洪泛,使区域内每个路由器的LSDB达到同步计算生成标识为“O”的路由，解决区域内部的通信问题\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821481351-2632bc17-429c-4770-aa0a-fcea98417f5c.png)\n\n### 类型3 网络汇总LSA Network Summary LSA\n+ 由ABR生成，实际上就是将区域内部的Type1Type2的信息收集起来以路由子网的形式扩散出去，这就是SummayLSA中sunmay的含义(注意这里的summary与路由汇总没有关系)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821558294-c0336486-6143-4997-b4c4-c9602d37a3b7.png)\n\nType3 的链路状态ID是目的网络地址。\n\n+ 如果一台ABR路由器在与它本身相连的区域内有多条路由可以到达目的地,那么它将只会始发单一的一条网络汇总LSA到骨干区域,而且这条网络汇总LSA是上述多条路由中代价最低的。\n+ ABR收到来自同区域其它ABR传来的Type3 LSA后重新生成新的Type3 LSA（Advertising Router 改为自己）然后继续在整个OSPF系统内扩散\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822506797-293ae502-10d7-49ed-a0ab-b1733b5c626e.png)\n\n### 类型4 ASBR Summary LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822619398-8be5539d-1f33-4d4e-9031-46f359fc9edb.png)\n\n+ ASBR Summary LSA由ABR生成，用于描述ABR能够到达的ASBR它的链路状态ID为目的ASBR的RID。\n\n### 类型5 自治系统外LSA AS external LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823363172-eff49501-c34f-42fe-a0c6-64d4b5b2b16e.png)\n\n+ Autonomous System External LSA由ASBR生成用于描述OSPF自治域系统外的目标网段信息链路状态ID是目的地址的IP网络号\n+ 外部路由通过重发布，引入OSPF路由域，相应信息(路由条目)由ASBR以LSA5的形式生成然后进入OSPF路由域\n+ 缺省情况下，LSA5生成路由用OE2表示，可强行指定为OE1\n    - OE2 开销=外部开销\n    - OE1 开销=外部开销+内部开销\n+ LSA5不允许进入特殊区域——stub存根区& NSSA区\n\n#### OE1、OE2的区别\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823569011-bb805760-c712-4ac8-8c02-a7cb40961599.png)\n\n### 类型7 NSSA中的外部LSA NSSA External LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823624411-2bc6ff8e-a565-4ddc-b641-e6f34501a7b2.png)\n\n+ 在NSSA(非完全存根区域)not-so-stubby area中ASBR针对外部网络产生类似于LSA5的LSA类型7\n+ LSA类型7只能在NSSA区域中洪泛，到达NSSA区域ABR后，NSSAABR将其转换成LSA类型5外部路由，传播到Area0，从而传播到整个OSPF路由域\n+ 生成路由缺省用ON2表示，也可指定为ON1\n\n# 其他\n## OSPF LSDB和路由表\n+ 查看路由表 `show ip route ospf`\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823720364-54258c69-3cd1-4901-b51f-4a5a1878d36e.png)\n\n+ O  > O IA > O E1 > O E2\n\n## 特殊区域的配置nssa\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730100982306-4a28f112-d02a-4537-be77-83245f365f85.png)\n\n+ R1的配置\n\n```plain\nrouter ospf 1\nnetwork 192.168.12.0 0.0.0.255 area 1\narea 1 nssa\n```\n\n+ R2的配置\n\n```plain\nrouter ospf 1\nnetwork 192.168.12.0 0.0.0.255 area 1\nnetwork 192.168.23.0 0.0.0.255 area 0\narea 1 nssa \narea 1 nssa default-information-orginate #设置默认区域\n```\n\n## 特殊区域的配置 特殊区域在工程中的运用\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730101580835-773919f9-0729-4bd0-87b3-657e709babd1.png)\n\n+ 区域划分（含特殊区域）\n+ 路由汇总\n+ 默认路由传递\n+ Passive-interface\n\n## OSPF高级功能配置及验证\n+ Passive-interface\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730103668216-946f3d0c-b38a-44c0-b683-614f039a47ee.png)\n\n```plain\nrouter ospf 1\nnetwork 192.168.1.0 0.0.0.255 area 0\nnetwork 192.168.12.0 0.0.0.255 area 0\npassive-interface fa 0/0\n```\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730104286308-472055dd-f8c1-43d5-882d-bbf2abc09ea6.png)\n\n```plain\nrouter ospf 1 \nnetwork 192.168.1.0 0.0.0.255 area 0\nnetwork 192.168.2.0 0.0.0.255 area 0\nnetwork 192.168.3.0 0.0.0.255 area 0\nnetwork 192.168.12.0 0.0.0.255 area 0\npassive-interface default\nno passive-interface fa 2/0\n```\n\n+ 注入默认路由\n    - ![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730104513770-3af86fb7-7636-46e3-bd19-cc3e78dbdf41.jpeg)\n\n```plain\nrouter ospf\nnetwork 192.168.1.0 0.0.0.255 area 0\nnetwork 192.168.2.0 0.0.0.255 area 0 \nnetwork 192.168.3.0 0.0.0.255 area 0\ndefault-information originate\n```\n\n+ 自动汇总\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730105593346-f49940e9-7c5d-4a2a-a6f5-a4838f33aa88.png)\n\n```plain\nrouter ospf 1\nsummary-address 10.1.0.0 255.255.0.0\n```\n\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730113712965-2913d333-5783-4fa0-b276-eb37021add99.png)\n\n```plain\nrouter ospf 1\narea 2 range 172.16.0.0 255.255.0.0 cost ?\n```\n\n+ Virtual-link\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730114278625-137e8159-3d3f-440f-a631-622f2624109a.png)\n\n```plain\nrouter ospf 1\narea area-id virtual-link router-id [authentication[message-digest | null]] [hello-interval seconds] [retransmit-interval seconds] [transmit-delay seconds] [dead-interval seconds] [fauthentication-key key] | [message-digest-key key-id md5 key]\n```\n\n## OSPF身份验证\n+ Null\n+ 简单密码身份验证\n+ MD5身份验证\n+ 接口认证\n+ 区域认证\n\n### 明文\n接口认证\n\n```plain\nRouter(config-if)#ip ospf authentication-key password\nRouter(config-if)#ip ospf authentication\n```\n\n区域认证\n\n```plain\nRouter(config-if)#ip ospf authentication-key password\nRouter(config-router)#area area-id authentication\n```\n\n### 密文\n接口认证\n\n```plain\nRouter(config-if)#ip ospf message-digest-key key-id md5 key\nRouter(config-if)#lp ospf authentication message-digest\n```\n\n区域认证\n\n```plain\nRouter(config-if)#ip ospf message-digest-key key-id md5 key\nRouter(config-router)#area 0 authentication messae-digest\n```","source":"_posts/CCNP/CCNP路由 OSPF和LSA部分.md","raw":"---\ntitle: OSPF和LSA详解\nsummary: >-\n  酥米小机器人来啦，这篇文章详细介绍了OSPF协议，一种链路状态路由协议用于IGP网络不产生路由环路，覆盖了网络类型如点对点广播非广播及其配置、DRBDR选举机制基于优先级和RouterID、链路开销自动计算和手动调整、多区域设计以提高网络扩展性和稳定性、帧中继环境下的OSPF模式选择以及LSA的类型概述包括RouterLSA用于链接标识NetworkLSA描述网络结构SummaryLSA实现路由汇总等功能强调了协议在维护网络拓扑同步优化路由中的核心作用并讨论了实际应用和优化策略\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819118059-283bca5c-1922-4be5-944a-07aaab2b1e10.png\ndate: 2024-11-21 09:01:46\n---\n\n# OSPF\n## 基础回顾\nOSPF（Open Shortest Path First，开放最短路径优先）是一种链路状态路由协议，无路由循环(全局拓扑)，属于IGP。RFC2328，“开放”意味着非私有的，对公众开放的。\n\n+ OSPF协议使用的组播地址\n    - 所有OSPF路由器224.0.0.5；DR BDR-224.0.0.6\n+ OSPF的报文封装\n    - OSPF协议包直接封装于IP，协议号89。\n+ OSPF路由协议的管理距离:110\n\n## 网络类型\n+ **点对点**\n+ **广播**\n+ **非广播**\n    - 非广播又包含了5种运行模式：\n        * NBMA（RFC）\n        * P2MP（RFC）\n        * P2MP nonbroadcast（CISCO）\n        * Broadcast（CISCO）\n        * P2P（CISCO）\n\n### 点对点类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597653542-543c407b-5fbf-4a07-addb-ef4a220af580.png)\n\n+ 如果二层的协议为PPP、HDLC等，则OSPF网络类型为P2P\n+ 如果帧中继子接口类型为P2P的，则OSPF网络类型也为P2P\n+ 不选举DR、BDR\n+ 使用组播地址224.0.0.5\n+ OSPF能够根据二层封装自动检测到P2P网络类型\n\n### 广播型多路访问\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597748803-b40f6f84-0db0-4015-b26a-7db24de3eec2.png)\n\n+ 通常出现在以太网\n+ 选举DR、BDR\n+ 所有路由器均与DR及BDR建立邻接关系\n+ 使用组播地址224.0.0.5及224.0.0.6\n\n### NBMA网络选择OSPF的模式\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597933313-047b21b5-add8-4100-bfee-794b3879c1ab.png)\n\n+ 在帧中继主接口上，默认的OSPF模式为非广播\n+ 在点到点帧中继子接口上，默认的OSPF模式为点到点\n+ 在帧中继多点子接口上，默认的OSPF模式为非广播\n\n\n\n## 链路状态协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729582503246-0528dc00-6265-464a-a66c-0dbf9991d7f2.png)\n\n## 网络优化-Router-ID\n+ 为了提高路由器的RID的稳定性和网络的稳定性建议手动的设置路由器的Router-ID\n+ 在OSPF的进程下修改:router-id <x.x.x.x>\n+ 在项目实施中，一般是建立loopback口，并且手工指定loopback口地址为router-id\n\n## DR、BDR\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583194925-732e5d65-058d-45b9-b919-c1a4e44723d4.png)\n\n+ DR的作用：多路访问中为了减少邻接关系（N平方的问题）和LSA的泛洪，采用DR机制，BDR提供了备份\n+ MA网络上所有的路由器均与DR、BDR建立邻居关系\n\n## DR选举比较顺序\n+ 接口优先级数字越大越优先（优先级为0不能参与DR的选举）、\n+ RouterID越大越好\n+ 稳定性压倒一切（非抢占）\n+ 通过控制接口优先级是控制DR选举的好办法\n+ DR的选举是基于接口的，如果说某个路由器是DR，这种说法是错误的\n\n## DR及BDR选举的控制\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597316618-061a5e61-a25e-40b1-885d-8a2d9fbd2000.png)\n\n`ip ospf priority 10`\n\n比较次序\n\n+ 优先级\n+ 路由器ID\n+ 优先级为0的不能成为DR或者BDR\n\n## 链路的开销\n+ 自动计算:COST=参考带宽(10的8次方)/出口带宽\n+ 接口带宽为接口逻辑带宽，可以使用bandwith命令调整，主要用于路由计算而不是接口物理带宽，但一般情况:接口逻辑带宽=接口物理带宽。\n+ 手工修改开销的方法\n\n`Router(config)# int serial 1`\n\n`Router(config-if)# ip ospf cost 100\t//该命令在收路由的入口`\n\n+ 可修改参考带宽,来保障OSPF在现如今的网络中正常运转\n\n`auto-cost reference-bandwidth <参考带宽以Mbits为单位>`\n\n## 三张表\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583395100-67ec4bc7-0287-42cc-8d1b-76f7f8ece3b8.png)\n\n+ 相邻的两台路由器运行OSPF协议\n+ 两台路由器直接连接\n+ 在同一自治系统\n+ Hello/Dead时间一致\n+ 区域ID一致\n+ 认证密码一致\n+ MTP值一致\n+ *网络类型一致\n+ *链路两端接口掩码一致\n\n## 报文类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583532652-1fe547e6-7e27-4e76-bb58-191ed1d3961e.png)\n\n+ Hello\t建立和维护OSPF邻居关系\n+ DBD\t\t链路状态数据库描述信息(描述LSDB中LSA头部列表)\n+ LSR\t\t链路状态请求,向OSPF邻居请求链路状态信息\n+ LSU\t\t链路状态更新(包含一条或多条LSA)\n+ LSAck\t确认报文\n\n## OSPF邻居建立过程\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584652052-d4b95daa-8884-47ae-920e-34ad316f4a3a.png)\n\n### 邻居发现\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584326053-0256b458-b096-42dc-a8e0-e285f71dc6cd.png)\n\n### 路由发现阶段\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584355522-638bec3d-ff82-4db9-90ba-3579b3a0f3f0.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584499985-4d227371-bb64-4bbd-ba77-fdbe2784854c.png)\n\n## OSPF路由器建立邻接关系的过程详细描述\n+ OSPF路由器接口up，发送Hello包(NBMA模式时将进入Attempt状态)。\n+ OSPF路由器接口收到Hello包，进入Init状态;并将该Hello包的发送者的RouterID添加到Hello包(自己将要从该接口发送出去的Hello包)的邻居列表中。\n+ OSPF路由器接口收到邻居列表中含有自己RouterID的Hello包，进入Two-way状态形成OSPF邻居关系，并把该路由器的RouterID添加到自己的OSPF邻居表中\n+ 在进入Two-way状态后，广播、非广播网络类型的链路，在DR选举等待时间内进行DR选举。点对点没有这个过程。\n+ 在DR选举完成或跳过DR选举后，建立OSPF邻接关系，进入exstart(准启动)状态并选举DBD交换主从路由器，以及由主路由器定义DBD序列号，RouterID大的为主路由器。目的是为了解决DBD自身的可靠性。\n+ 主从路由器选举完成后，进入Exchange(交换)状态，交换DBD信息。DBD交换完成后，进入Loading状态，对链路状态数据库和收到的DBD的LSA头部进行比较，发现自己数据库中没有的LSA就发送LSR，向邻居请求该LSA;邻居收到LSR后，回应LSU;收到邻居发来的LSU，存储这些LSA到自己的链路状态数据库，并发送LSAck确认。\n+ LSA交换完成后，进入FULL状态，所有形成邻居的OSPF路由器都拥有相同链路状态数据库。\n+ 定期发送Hello包，维护邻居关系。\n\n## OSPF邻接关系\n+ 路由器之间链路状态信息必须同步，LSA具有以下特征：\n+ LSA（LSU）是可靠的传输，需要LSAck确认\n+ LSA有序列号和寿命，以确保是最新的LAS\n+ LSA被定期的刷新以确保拓扑信息的有效性\n\n## 链路状态数据的状态\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585188616-4c4dd0cf-7eae-44df-8df2-4308bf761556.png)\n\n## OSPF多区域概念\n### 单区域\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585216495-f1b2e4b6-e173-4b2d-9bd3-ec5d0a567d94.png)\n\n+ 收到的LSA通告太多了，OSPF路由器的负担很大\n+ 内部动荡会引起全网路由器的完全SPF计算\n+ 资源消耗过多，LSDB庞大，设备性能下降，影响数据转发\n+ 每台路由器都需要维护的路由表越来越大，单区域内路由无法汇总\n\n#### 解决方案\n+ 把大型网络分隔为多个较小，可管理的单元-区域 area;\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585389704-f78a98ae-479f-43ea-882e-53cc2ffca7c3.png)\n\n+ 划分区域的好处\n+ 减少了LSA洪泛的范围，有效地把拓扑变化控制在区域内，提高了网络的稳定性拓扑的变化影响可以只限制涉及本区域\n+ 多区域提高了网络的扩展性，有利于组建大规模的网络\n+ 在区域边界可以做路由汇总，减小了路由表\n\n### OSPF路由器角色\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585477757-23c7849f-09a3-4fee-b0a7-5e1fdd6742c5.png)\n\n## 在帧中继环境下的OSPF\n### NBMA网络选择OSPF模式 \n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729816380101-0577bb5b-d702-4859-8ad0-e5b784de728e.png)\n\n+ 在帧中继的主接口上，默认的OSPF模式为非广播\n+ 在点到点帧中继子接口中，默认的OSPF模式为点对点\n+ 在帧中继多点子接口上，默认的OSPF模式为非广播\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818741701-a39e2439-6c8e-4b10-9bba-d886484fee5c.png)\n\n如果是非广播这一 OSPF 网络类型,则 OSPF 也不会主动发送组播包去发现邻居，因此邻居关系建立这\n\n里也有问题。\n\n### NBMA网络下OSPF的运行\n#### 方式一\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818282720-8e8c7e7b-6548-41cd-b825-64c10f08f90b.png)\n\n+ 指定OSPF网络类型为broadcast\n+ 使用OSPF多播hello分组自动来自动发送邻居\n+ 选举DR和BDR\n+ DR和BDR必须与其他所有路由器直接相连\n\n```plain\nRouter(config)# interface serial 0/0\nRouter(config-if)# encapsulation frame-relay\nRouter(config-if)# ip ospf network broadcast\n```\n\n#### 方式二\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818405731-56d45fde-6d9d-4394-b5a6-b9a317b9c04a.png)\n\n+ 网络类型为non-broadcast（默认）\n+ 手动指定邻居\n+ 选举DR和BDR\n+ DR和BDR必须与其他所有路由器直接相连\n\n```plain\nRouter(config)#interface serial 0/0\nRouter(config)#neighbor ip-address [priority number] [poll-interval number] [cost number] [database-filter all]\nRouter(config-if)#encapsulation frame-relay\nRouter(config-if)#ip ospf network non-broadcast\n```\n\n#### 方式三\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818635272-2362be8e-2382-4c0a-94eb-f1f6c6f9ecca.png)\n\n```plain\ninterface serial0/0\nencapsulation frame-relay\nip ospf network point-to-multipoint\nrouter ospf 100\nnetwork 202.101.100.0 0.0.0.255 area 0\n```\n\n```plain\ninterface Serial0/0\nencapsulation frame-relay\nip ospf network point-to-multipoint\nip ospf priority 0\n```\n\n## 基础配置\n```plain\nRouter(config)# router ospf process-id [vrf vpn-name]\nRouter(config-router)# network ip-address wildcard-mask area area-id\n```\n\n```plain\nRouter(config-router)# router-id ip-address\nRouter# clear ip ospf process\n```\n\n```plain\nRouter(config-if)# ip ospf network [ {broadcast | non-broadcast | point-to-multipoint [non-broadcast] | point-to-point} ]\n```\n\n# LSA\n## LSA简介\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819118059-283bca5c-1922-4be5-944a-07aaab2b1e10.png)\n\n+ **Link State Advertisement**（链路状态通告），这是在网络协议中，尤其是 OSPF（开放最短路径优先）和 IS-IS（中间系统到中间系统）中使用的一种消息类型。\n\n\n\n## LSA类型\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819172881-af6ef12d-89f7-42af-9256-e129103f1207.png)\n\n### 类型1 路由器LSA Router LSA\n+ 每个路由器针对它所在的区域产生LSA1，描述区域内部与路由器直连的链路的信息(包括链路类型，Cost等)\n+ LSA1只允许在本区域内洪泛，不允许跨越ABR\n+ LSA中会标识路由器是否是ABR(B比特置位),ASBR(E比特置位)或者是Virtual-link(V比特置位)的端点的身份信息\n\n### 类型2 网络LSA Network LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821435220-c6372be2-8ace-40f8-9842-95f87f104bc8.png)\n\n### 类型1、2总结\n+ 通过LSA1，LSA2在区域内洪泛,使区域内每个路由器的LSDB达到同步计算生成标识为“O”的路由，解决区域内部的通信问题\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821481351-2632bc17-429c-4770-aa0a-fcea98417f5c.png)\n\n### 类型3 网络汇总LSA Network Summary LSA\n+ 由ABR生成，实际上就是将区域内部的Type1Type2的信息收集起来以路由子网的形式扩散出去，这就是SummayLSA中sunmay的含义(注意这里的summary与路由汇总没有关系)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821558294-c0336486-6143-4997-b4c4-c9602d37a3b7.png)\n\nType3 的链路状态ID是目的网络地址。\n\n+ 如果一台ABR路由器在与它本身相连的区域内有多条路由可以到达目的地,那么它将只会始发单一的一条网络汇总LSA到骨干区域,而且这条网络汇总LSA是上述多条路由中代价最低的。\n+ ABR收到来自同区域其它ABR传来的Type3 LSA后重新生成新的Type3 LSA（Advertising Router 改为自己）然后继续在整个OSPF系统内扩散\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822506797-293ae502-10d7-49ed-a0ab-b1733b5c626e.png)\n\n### 类型4 ASBR Summary LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822619398-8be5539d-1f33-4d4e-9031-46f359fc9edb.png)\n\n+ ASBR Summary LSA由ABR生成，用于描述ABR能够到达的ASBR它的链路状态ID为目的ASBR的RID。\n\n### 类型5 自治系统外LSA AS external LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823363172-eff49501-c34f-42fe-a0c6-64d4b5b2b16e.png)\n\n+ Autonomous System External LSA由ASBR生成用于描述OSPF自治域系统外的目标网段信息链路状态ID是目的地址的IP网络号\n+ 外部路由通过重发布，引入OSPF路由域，相应信息(路由条目)由ASBR以LSA5的形式生成然后进入OSPF路由域\n+ 缺省情况下，LSA5生成路由用OE2表示，可强行指定为OE1\n    - OE2 开销=外部开销\n    - OE1 开销=外部开销+内部开销\n+ LSA5不允许进入特殊区域——stub存根区& NSSA区\n\n#### OE1、OE2的区别\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823569011-bb805760-c712-4ac8-8c02-a7cb40961599.png)\n\n### 类型7 NSSA中的外部LSA NSSA External LSA\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823624411-2bc6ff8e-a565-4ddc-b641-e6f34501a7b2.png)\n\n+ 在NSSA(非完全存根区域)not-so-stubby area中ASBR针对外部网络产生类似于LSA5的LSA类型7\n+ LSA类型7只能在NSSA区域中洪泛，到达NSSA区域ABR后，NSSAABR将其转换成LSA类型5外部路由，传播到Area0，从而传播到整个OSPF路由域\n+ 生成路由缺省用ON2表示，也可指定为ON1\n\n# 其他\n## OSPF LSDB和路由表\n+ 查看路由表 `show ip route ospf`\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823720364-54258c69-3cd1-4901-b51f-4a5a1878d36e.png)\n\n+ O  > O IA > O E1 > O E2\n\n## 特殊区域的配置nssa\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730100982306-4a28f112-d02a-4537-be77-83245f365f85.png)\n\n+ R1的配置\n\n```plain\nrouter ospf 1\nnetwork 192.168.12.0 0.0.0.255 area 1\narea 1 nssa\n```\n\n+ R2的配置\n\n```plain\nrouter ospf 1\nnetwork 192.168.12.0 0.0.0.255 area 1\nnetwork 192.168.23.0 0.0.0.255 area 0\narea 1 nssa \narea 1 nssa default-information-orginate #设置默认区域\n```\n\n## 特殊区域的配置 特殊区域在工程中的运用\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730101580835-773919f9-0729-4bd0-87b3-657e709babd1.png)\n\n+ 区域划分（含特殊区域）\n+ 路由汇总\n+ 默认路由传递\n+ Passive-interface\n\n## OSPF高级功能配置及验证\n+ Passive-interface\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730103668216-946f3d0c-b38a-44c0-b683-614f039a47ee.png)\n\n```plain\nrouter ospf 1\nnetwork 192.168.1.0 0.0.0.255 area 0\nnetwork 192.168.12.0 0.0.0.255 area 0\npassive-interface fa 0/0\n```\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730104286308-472055dd-f8c1-43d5-882d-bbf2abc09ea6.png)\n\n```plain\nrouter ospf 1 \nnetwork 192.168.1.0 0.0.0.255 area 0\nnetwork 192.168.2.0 0.0.0.255 area 0\nnetwork 192.168.3.0 0.0.0.255 area 0\nnetwork 192.168.12.0 0.0.0.255 area 0\npassive-interface default\nno passive-interface fa 2/0\n```\n\n+ 注入默认路由\n    - ![](https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730104513770-3af86fb7-7636-46e3-bd19-cc3e78dbdf41.jpeg)\n\n```plain\nrouter ospf\nnetwork 192.168.1.0 0.0.0.255 area 0\nnetwork 192.168.2.0 0.0.0.255 area 0 \nnetwork 192.168.3.0 0.0.0.255 area 0\ndefault-information originate\n```\n\n+ 自动汇总\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730105593346-f49940e9-7c5d-4a2a-a6f5-a4838f33aa88.png)\n\n```plain\nrouter ospf 1\nsummary-address 10.1.0.0 255.255.0.0\n```\n\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730113712965-2913d333-5783-4fa0-b276-eb37021add99.png)\n\n```plain\nrouter ospf 1\narea 2 range 172.16.0.0 255.255.0.0 cost ?\n```\n\n+ Virtual-link\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730114278625-137e8159-3d3f-440f-a631-622f2624109a.png)\n\n```plain\nrouter ospf 1\narea area-id virtual-link router-id [authentication[message-digest | null]] [hello-interval seconds] [retransmit-interval seconds] [transmit-delay seconds] [dead-interval seconds] [fauthentication-key key] | [message-digest-key key-id md5 key]\n```\n\n## OSPF身份验证\n+ Null\n+ 简单密码身份验证\n+ MD5身份验证\n+ 接口认证\n+ 区域认证\n\n### 明文\n接口认证\n\n```plain\nRouter(config-if)#ip ospf authentication-key password\nRouter(config-if)#ip ospf authentication\n```\n\n区域认证\n\n```plain\nRouter(config-if)#ip ospf authentication-key password\nRouter(config-router)#area area-id authentication\n```\n\n### 密文\n接口认证\n\n```plain\nRouter(config-if)#ip ospf message-digest-key key-id md5 key\nRouter(config-if)#lp ospf authentication message-digest\n```\n\n区域认证\n\n```plain\nRouter(config-if)#ip ospf message-digest-key key-id md5 key\nRouter(config-router)#area 0 authentication messae-digest\n```","slug":"CCNP/CCNP路由 OSPF和LSA部分","published":1,"updated":"2025-08-02T08:12:42.929Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560b002ig0fy2di52hfc","content":"<h1 id=\"OSPF\"><a href=\"#OSPF\" class=\"headerlink\" title=\"OSPF\"></a>OSPF</h1><h2 id=\"基础回顾\"><a href=\"#基础回顾\" class=\"headerlink\" title=\"基础回顾\"></a>基础回顾</h2><p>OSPF（Open Shortest Path First，开放最短路径优先）是一种链路状态路由协议，无路由循环(全局拓扑)，属于IGP。RFC2328，“开放”意味着非私有的，对公众开放的。</p>\n<ul>\n<li>OSPF协议使用的组播地址<ul>\n<li>所有OSPF路由器224.0.0.5；DR BDR-224.0.0.6</li>\n</ul>\n</li>\n<li>OSPF的报文封装<ul>\n<li>OSPF协议包直接封装于IP，协议号89。</li>\n</ul>\n</li>\n<li>OSPF路由协议的管理距离:110</li>\n</ul>\n<h2 id=\"网络类型\"><a href=\"#网络类型\" class=\"headerlink\" title=\"网络类型\"></a>网络类型</h2><ul>\n<li><strong>点对点</strong></li>\n<li><strong>广播</strong></li>\n<li><strong>非广播</strong><ul>\n<li>非广播又包含了5种运行模式：<ul>\n<li>NBMA（RFC）</li>\n<li>P2MP（RFC）</li>\n<li>P2MP nonbroadcast（CISCO）</li>\n<li>Broadcast（CISCO）</li>\n<li>P2P（CISCO）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"点对点类型\"><a href=\"#点对点类型\" class=\"headerlink\" title=\"点对点类型\"></a>点对点类型</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597653542-543c407b-5fbf-4a07-addb-ef4a220af580.png\"></p>\n<ul>\n<li>如果二层的协议为PPP、HDLC等，则OSPF网络类型为P2P</li>\n<li>如果帧中继子接口类型为P2P的，则OSPF网络类型也为P2P</li>\n<li>不选举DR、BDR</li>\n<li>使用组播地址224.0.0.5</li>\n<li>OSPF能够根据二层封装自动检测到P2P网络类型</li>\n</ul>\n<h3 id=\"广播型多路访问\"><a href=\"#广播型多路访问\" class=\"headerlink\" title=\"广播型多路访问\"></a>广播型多路访问</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597748803-b40f6f84-0db0-4015-b26a-7db24de3eec2.png\"></p>\n<ul>\n<li>通常出现在以太网</li>\n<li>选举DR、BDR</li>\n<li>所有路由器均与DR及BDR建立邻接关系</li>\n<li>使用组播地址224.0.0.5及224.0.0.6</li>\n</ul>\n<h3 id=\"NBMA网络选择OSPF的模式\"><a href=\"#NBMA网络选择OSPF的模式\" class=\"headerlink\" title=\"NBMA网络选择OSPF的模式\"></a>NBMA网络选择OSPF的模式</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597933313-047b21b5-add8-4100-bfee-794b3879c1ab.png\"></p>\n<ul>\n<li>在帧中继主接口上，默认的OSPF模式为非广播</li>\n<li>在点到点帧中继子接口上，默认的OSPF模式为点到点</li>\n<li>在帧中继多点子接口上，默认的OSPF模式为非广播</li>\n</ul>\n<h2 id=\"链路状态协议\"><a href=\"#链路状态协议\" class=\"headerlink\" title=\"链路状态协议\"></a>链路状态协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729582503246-0528dc00-6265-464a-a66c-0dbf9991d7f2.png\"></p>\n<h2 id=\"网络优化-Router-ID\"><a href=\"#网络优化-Router-ID\" class=\"headerlink\" title=\"网络优化-Router-ID\"></a>网络优化-Router-ID</h2><ul>\n<li>为了提高路由器的RID的稳定性和网络的稳定性建议手动的设置路由器的Router-ID</li>\n<li>在OSPF的进程下修改:router-id &lt;x.x.x.x&gt;</li>\n<li>在项目实施中，一般是建立loopback口，并且手工指定loopback口地址为router-id</li>\n</ul>\n<h2 id=\"DR、BDR\"><a href=\"#DR、BDR\" class=\"headerlink\" title=\"DR、BDR\"></a>DR、BDR</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583194925-732e5d65-058d-45b9-b919-c1a4e44723d4.png\"></p>\n<ul>\n<li>DR的作用：多路访问中为了减少邻接关系（N平方的问题）和LSA的泛洪，采用DR机制，BDR提供了备份</li>\n<li>MA网络上所有的路由器均与DR、BDR建立邻居关系</li>\n</ul>\n<h2 id=\"DR选举比较顺序\"><a href=\"#DR选举比较顺序\" class=\"headerlink\" title=\"DR选举比较顺序\"></a>DR选举比较顺序</h2><ul>\n<li>接口优先级数字越大越优先（优先级为0不能参与DR的选举）、</li>\n<li>RouterID越大越好</li>\n<li>稳定性压倒一切（非抢占）</li>\n<li>通过控制接口优先级是控制DR选举的好办法</li>\n<li>DR的选举是基于接口的，如果说某个路由器是DR，这种说法是错误的</li>\n</ul>\n<h2 id=\"DR及BDR选举的控制\"><a href=\"#DR及BDR选举的控制\" class=\"headerlink\" title=\"DR及BDR选举的控制\"></a>DR及BDR选举的控制</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597316618-061a5e61-a25e-40b1-885d-8a2d9fbd2000.png\"></p>\n<p><code>ip ospf priority 10</code></p>\n<p>比较次序</p>\n<ul>\n<li>优先级</li>\n<li>路由器ID</li>\n<li>优先级为0的不能成为DR或者BDR</li>\n</ul>\n<h2 id=\"链路的开销\"><a href=\"#链路的开销\" class=\"headerlink\" title=\"链路的开销\"></a>链路的开销</h2><ul>\n<li>自动计算:COST&#x3D;参考带宽(10的8次方)&#x2F;出口带宽</li>\n<li>接口带宽为接口逻辑带宽，可以使用bandwith命令调整，主要用于路由计算而不是接口物理带宽，但一般情况:接口逻辑带宽&#x3D;接口物理带宽。</li>\n<li>手工修改开销的方法</li>\n</ul>\n<p><code>Router(config)# int serial 1</code></p>\n<p><code>Router(config-if)# ip ospf cost 100\t//该命令在收路由的入口</code></p>\n<ul>\n<li>可修改参考带宽,来保障OSPF在现如今的网络中正常运转</li>\n</ul>\n<p><code>auto-cost reference-bandwidth &lt;参考带宽以Mbits为单位&gt;</code></p>\n<h2 id=\"三张表\"><a href=\"#三张表\" class=\"headerlink\" title=\"三张表\"></a>三张表</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583395100-67ec4bc7-0287-42cc-8d1b-76f7f8ece3b8.png\"></p>\n<ul>\n<li>相邻的两台路由器运行OSPF协议</li>\n<li>两台路由器直接连接</li>\n<li>在同一自治系统</li>\n<li>Hello&#x2F;Dead时间一致</li>\n<li>区域ID一致</li>\n<li>认证密码一致</li>\n<li>MTP值一致</li>\n<li>*网络类型一致</li>\n<li>*链路两端接口掩码一致</li>\n</ul>\n<h2 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583532652-1fe547e6-7e27-4e76-bb58-191ed1d3961e.png\"></p>\n<ul>\n<li>Hello\t建立和维护OSPF邻居关系</li>\n<li>DBD\t\t链路状态数据库描述信息(描述LSDB中LSA头部列表)</li>\n<li>LSR\t\t链路状态请求,向OSPF邻居请求链路状态信息</li>\n<li>LSU\t\t链路状态更新(包含一条或多条LSA)</li>\n<li>LSAck\t确认报文</li>\n</ul>\n<h2 id=\"OSPF邻居建立过程\"><a href=\"#OSPF邻居建立过程\" class=\"headerlink\" title=\"OSPF邻居建立过程\"></a>OSPF邻居建立过程</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584652052-d4b95daa-8884-47ae-920e-34ad316f4a3a.png\"></p>\n<h3 id=\"邻居发现\"><a href=\"#邻居发现\" class=\"headerlink\" title=\"邻居发现\"></a>邻居发现</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584326053-0256b458-b096-42dc-a8e0-e285f71dc6cd.png\"></p>\n<h3 id=\"路由发现阶段\"><a href=\"#路由发现阶段\" class=\"headerlink\" title=\"路由发现阶段\"></a>路由发现阶段</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584355522-638bec3d-ff82-4db9-90ba-3579b3a0f3f0.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584499985-4d227371-bb64-4bbd-ba77-fdbe2784854c.png\"></p>\n<h2 id=\"OSPF路由器建立邻接关系的过程详细描述\"><a href=\"#OSPF路由器建立邻接关系的过程详细描述\" class=\"headerlink\" title=\"OSPF路由器建立邻接关系的过程详细描述\"></a>OSPF路由器建立邻接关系的过程详细描述</h2><ul>\n<li>OSPF路由器接口up，发送Hello包(NBMA模式时将进入Attempt状态)。</li>\n<li>OSPF路由器接口收到Hello包，进入Init状态;并将该Hello包的发送者的RouterID添加到Hello包(自己将要从该接口发送出去的Hello包)的邻居列表中。</li>\n<li>OSPF路由器接口收到邻居列表中含有自己RouterID的Hello包，进入Two-way状态形成OSPF邻居关系，并把该路由器的RouterID添加到自己的OSPF邻居表中</li>\n<li>在进入Two-way状态后，广播、非广播网络类型的链路，在DR选举等待时间内进行DR选举。点对点没有这个过程。</li>\n<li>在DR选举完成或跳过DR选举后，建立OSPF邻接关系，进入exstart(准启动)状态并选举DBD交换主从路由器，以及由主路由器定义DBD序列号，RouterID大的为主路由器。目的是为了解决DBD自身的可靠性。</li>\n<li>主从路由器选举完成后，进入Exchange(交换)状态，交换DBD信息。DBD交换完成后，进入Loading状态，对链路状态数据库和收到的DBD的LSA头部进行比较，发现自己数据库中没有的LSA就发送LSR，向邻居请求该LSA;邻居收到LSR后，回应LSU;收到邻居发来的LSU，存储这些LSA到自己的链路状态数据库，并发送LSAck确认。</li>\n<li>LSA交换完成后，进入FULL状态，所有形成邻居的OSPF路由器都拥有相同链路状态数据库。</li>\n<li>定期发送Hello包，维护邻居关系。</li>\n</ul>\n<h2 id=\"OSPF邻接关系\"><a href=\"#OSPF邻接关系\" class=\"headerlink\" title=\"OSPF邻接关系\"></a>OSPF邻接关系</h2><ul>\n<li>路由器之间链路状态信息必须同步，LSA具有以下特征：</li>\n<li>LSA（LSU）是可靠的传输，需要LSAck确认</li>\n<li>LSA有序列号和寿命，以确保是最新的LAS</li>\n<li>LSA被定期的刷新以确保拓扑信息的有效性</li>\n</ul>\n<h2 id=\"链路状态数据的状态\"><a href=\"#链路状态数据的状态\" class=\"headerlink\" title=\"链路状态数据的状态\"></a>链路状态数据的状态</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585188616-4c4dd0cf-7eae-44df-8df2-4308bf761556.png\"></p>\n<h2 id=\"OSPF多区域概念\"><a href=\"#OSPF多区域概念\" class=\"headerlink\" title=\"OSPF多区域概念\"></a>OSPF多区域概念</h2><h3 id=\"单区域\"><a href=\"#单区域\" class=\"headerlink\" title=\"单区域\"></a>单区域</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585216495-f1b2e4b6-e173-4b2d-9bd3-ec5d0a567d94.png\"></p>\n<ul>\n<li>收到的LSA通告太多了，OSPF路由器的负担很大</li>\n<li>内部动荡会引起全网路由器的完全SPF计算</li>\n<li>资源消耗过多，LSDB庞大，设备性能下降，影响数据转发</li>\n<li>每台路由器都需要维护的路由表越来越大，单区域内路由无法汇总</li>\n</ul>\n<h4 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h4><ul>\n<li>把大型网络分隔为多个较小，可管理的单元-区域 area;</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585389704-f78a98ae-479f-43ea-882e-53cc2ffca7c3.png\"></p>\n<ul>\n<li>划分区域的好处</li>\n<li>减少了LSA洪泛的范围，有效地把拓扑变化控制在区域内，提高了网络的稳定性拓扑的变化影响可以只限制涉及本区域</li>\n<li>多区域提高了网络的扩展性，有利于组建大规模的网络</li>\n<li>在区域边界可以做路由汇总，减小了路由表</li>\n</ul>\n<h3 id=\"OSPF路由器角色\"><a href=\"#OSPF路由器角色\" class=\"headerlink\" title=\"OSPF路由器角色\"></a>OSPF路由器角色</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585477757-23c7849f-09a3-4fee-b0a7-5e1fdd6742c5.png\"></p>\n<h2 id=\"在帧中继环境下的OSPF\"><a href=\"#在帧中继环境下的OSPF\" class=\"headerlink\" title=\"在帧中继环境下的OSPF\"></a>在帧中继环境下的OSPF</h2><h3 id=\"NBMA网络选择OSPF模式\"><a href=\"#NBMA网络选择OSPF模式\" class=\"headerlink\" title=\"NBMA网络选择OSPF模式\"></a>NBMA网络选择OSPF模式</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729816380101-0577bb5b-d702-4859-8ad0-e5b784de728e.png\"></p>\n<ul>\n<li>在帧中继的主接口上，默认的OSPF模式为非广播</li>\n<li>在点到点帧中继子接口中，默认的OSPF模式为点对点</li>\n<li>在帧中继多点子接口上，默认的OSPF模式为非广播</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818741701-a39e2439-6c8e-4b10-9bba-d886484fee5c.png\"></p>\n<p>如果是非广播这一 OSPF 网络类型,则 OSPF 也不会主动发送组播包去发现邻居，因此邻居关系建立这</p>\n<p>里也有问题。</p>\n<h3 id=\"NBMA网络下OSPF的运行\"><a href=\"#NBMA网络下OSPF的运行\" class=\"headerlink\" title=\"NBMA网络下OSPF的运行\"></a>NBMA网络下OSPF的运行</h3><h4 id=\"方式一\"><a href=\"#方式一\" class=\"headerlink\" title=\"方式一\"></a>方式一</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818282720-8e8c7e7b-6548-41cd-b825-64c10f08f90b.png\"></p>\n<ul>\n<li>指定OSPF网络类型为broadcast</li>\n<li>使用OSPF多播hello分组自动来自动发送邻居</li>\n<li>选举DR和BDR</li>\n<li>DR和BDR必须与其他所有路由器直接相连</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# interface serial 0/0</span><br><span class=\"line\">Router(config-if)# encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)# ip ospf network broadcast</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"方式二\"><a href=\"#方式二\" class=\"headerlink\" title=\"方式二\"></a>方式二</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818405731-56d45fde-6d9d-4394-b5a6-b9a317b9c04a.png\"></p>\n<ul>\n<li>网络类型为non-broadcast（默认）</li>\n<li>手动指定邻居</li>\n<li>选举DR和BDR</li>\n<li>DR和BDR必须与其他所有路由器直接相连</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)#interface serial 0/0</span><br><span class=\"line\">Router(config)#neighbor ip-address [priority number] [poll-interval number] [cost number] [database-filter all]</span><br><span class=\"line\">Router(config-if)#encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)#ip ospf network non-broadcast</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"方式三\"><a href=\"#方式三\" class=\"headerlink\" title=\"方式三\"></a>方式三</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818635272-2362be8e-2382-4c0a-94eb-f1f6c6f9ecca.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface serial0/0</span><br><span class=\"line\">encapsulation frame-relay</span><br><span class=\"line\">ip ospf network point-to-multipoint</span><br><span class=\"line\">router ospf 100</span><br><span class=\"line\">network 202.101.100.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface Serial0/0</span><br><span class=\"line\">encapsulation frame-relay</span><br><span class=\"line\">ip ospf network point-to-multipoint</span><br><span class=\"line\">ip ospf priority 0</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf process-id [vrf vpn-name]</span><br><span class=\"line\">Router(config-router)# network ip-address wildcard-mask area area-id</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-router)# router-id ip-address</span><br><span class=\"line\">Router# clear ip ospf process</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)# ip ospf network [ &#123;broadcast | non-broadcast | point-to-multipoint [non-broadcast] | point-to-point&#125; ]</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"LSA\"><a href=\"#LSA\" class=\"headerlink\" title=\"LSA\"></a>LSA</h1><h2 id=\"LSA简介\"><a href=\"#LSA简介\" class=\"headerlink\" title=\"LSA简介\"></a>LSA简介</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819118059-283bca5c-1922-4be5-944a-07aaab2b1e10.png\"></p>\n<ul>\n<li><strong>Link State Advertisement</strong>（链路状态通告），这是在网络协议中，尤其是 OSPF（开放最短路径优先）和 IS-IS（中间系统到中间系统）中使用的一种消息类型。</li>\n</ul>\n<h2 id=\"LSA类型\"><a href=\"#LSA类型\" class=\"headerlink\" title=\"LSA类型\"></a>LSA类型</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819172881-af6ef12d-89f7-42af-9256-e129103f1207.png\"></p>\n<h3 id=\"类型1-路由器LSA-Router-LSA\"><a href=\"#类型1-路由器LSA-Router-LSA\" class=\"headerlink\" title=\"类型1 路由器LSA Router LSA\"></a>类型1 路由器LSA Router LSA</h3><ul>\n<li>每个路由器针对它所在的区域产生LSA1，描述区域内部与路由器直连的链路的信息(包括链路类型，Cost等)</li>\n<li>LSA1只允许在本区域内洪泛，不允许跨越ABR</li>\n<li>LSA中会标识路由器是否是ABR(B比特置位),ASBR(E比特置位)或者是Virtual-link(V比特置位)的端点的身份信息</li>\n</ul>\n<h3 id=\"类型2-网络LSA-Network-LSA\"><a href=\"#类型2-网络LSA-Network-LSA\" class=\"headerlink\" title=\"类型2 网络LSA Network LSA\"></a>类型2 网络LSA Network LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821435220-c6372be2-8ace-40f8-9842-95f87f104bc8.png\"></p>\n<h3 id=\"类型1、2总结\"><a href=\"#类型1、2总结\" class=\"headerlink\" title=\"类型1、2总结\"></a>类型1、2总结</h3><ul>\n<li>通过LSA1，LSA2在区域内洪泛,使区域内每个路由器的LSDB达到同步计算生成标识为“O”的路由，解决区域内部的通信问题</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821481351-2632bc17-429c-4770-aa0a-fcea98417f5c.png\"></p>\n<h3 id=\"类型3-网络汇总LSA-Network-Summary-LSA\"><a href=\"#类型3-网络汇总LSA-Network-Summary-LSA\" class=\"headerlink\" title=\"类型3 网络汇总LSA Network Summary LSA\"></a>类型3 网络汇总LSA Network Summary LSA</h3><ul>\n<li>由ABR生成，实际上就是将区域内部的Type1Type2的信息收集起来以路由子网的形式扩散出去，这就是SummayLSA中sunmay的含义(注意这里的summary与路由汇总没有关系)</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821558294-c0336486-6143-4997-b4c4-c9602d37a3b7.png\"></p>\n<p>Type3 的链路状态ID是目的网络地址。</p>\n<ul>\n<li>如果一台ABR路由器在与它本身相连的区域内有多条路由可以到达目的地,那么它将只会始发单一的一条网络汇总LSA到骨干区域,而且这条网络汇总LSA是上述多条路由中代价最低的。</li>\n<li>ABR收到来自同区域其它ABR传来的Type3 LSA后重新生成新的Type3 LSA（Advertising Router 改为自己）然后继续在整个OSPF系统内扩散</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822506797-293ae502-10d7-49ed-a0ab-b1733b5c626e.png\"></p>\n<h3 id=\"类型4-ASBR-Summary-LSA\"><a href=\"#类型4-ASBR-Summary-LSA\" class=\"headerlink\" title=\"类型4 ASBR Summary LSA\"></a>类型4 ASBR Summary LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822619398-8be5539d-1f33-4d4e-9031-46f359fc9edb.png\"></p>\n<ul>\n<li>ASBR Summary LSA由ABR生成，用于描述ABR能够到达的ASBR它的链路状态ID为目的ASBR的RID。</li>\n</ul>\n<h3 id=\"类型5-自治系统外LSA-AS-external-LSA\"><a href=\"#类型5-自治系统外LSA-AS-external-LSA\" class=\"headerlink\" title=\"类型5 自治系统外LSA AS external LSA\"></a>类型5 自治系统外LSA AS external LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823363172-eff49501-c34f-42fe-a0c6-64d4b5b2b16e.png\"></p>\n<ul>\n<li>Autonomous System External LSA由ASBR生成用于描述OSPF自治域系统外的目标网段信息链路状态ID是目的地址的IP网络号</li>\n<li>外部路由通过重发布，引入OSPF路由域，相应信息(路由条目)由ASBR以LSA5的形式生成然后进入OSPF路由域</li>\n<li>缺省情况下，LSA5生成路由用OE2表示，可强行指定为OE1<ul>\n<li>OE2 开销&#x3D;外部开销</li>\n<li>OE1 开销&#x3D;外部开销+内部开销</li>\n</ul>\n</li>\n<li>LSA5不允许进入特殊区域——stub存根区&amp; NSSA区</li>\n</ul>\n<h4 id=\"OE1、OE2的区别\"><a href=\"#OE1、OE2的区别\" class=\"headerlink\" title=\"OE1、OE2的区别\"></a>OE1、OE2的区别</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823569011-bb805760-c712-4ac8-8c02-a7cb40961599.png\"></p>\n<h3 id=\"类型7-NSSA中的外部LSA-NSSA-External-LSA\"><a href=\"#类型7-NSSA中的外部LSA-NSSA-External-LSA\" class=\"headerlink\" title=\"类型7 NSSA中的外部LSA NSSA External LSA\"></a>类型7 NSSA中的外部LSA NSSA External LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823624411-2bc6ff8e-a565-4ddc-b641-e6f34501a7b2.png\"></p>\n<ul>\n<li>在NSSA(非完全存根区域)not-so-stubby area中ASBR针对外部网络产生类似于LSA5的LSA类型7</li>\n<li>LSA类型7只能在NSSA区域中洪泛，到达NSSA区域ABR后，NSSAABR将其转换成LSA类型5外部路由，传播到Area0，从而传播到整个OSPF路由域</li>\n<li>生成路由缺省用ON2表示，也可指定为ON1</li>\n</ul>\n<h1 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h1><h2 id=\"OSPF-LSDB和路由表\"><a href=\"#OSPF-LSDB和路由表\" class=\"headerlink\" title=\"OSPF LSDB和路由表\"></a>OSPF LSDB和路由表</h2><ul>\n<li>查看路由表 <code>show ip route ospf</code></li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823720364-54258c69-3cd1-4901-b51f-4a5a1878d36e.png\"></p>\n<ul>\n<li>O  &gt; O IA &gt; O E1 &gt; O E2</li>\n</ul>\n<h2 id=\"特殊区域的配置nssa\"><a href=\"#特殊区域的配置nssa\" class=\"headerlink\" title=\"特殊区域的配置nssa\"></a>特殊区域的配置nssa</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730100982306-4a28f112-d02a-4537-be77-83245f365f85.png\"></p>\n<ul>\n<li>R1的配置</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 1</span><br><span class=\"line\">area 1 nssa</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>R2的配置</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 1</span><br><span class=\"line\">network 192.168.23.0 0.0.0.255 area 0</span><br><span class=\"line\">area 1 nssa </span><br><span class=\"line\">area 1 nssa default-information-orginate #设置默认区域</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"特殊区域的配置-特殊区域在工程中的运用\"><a href=\"#特殊区域的配置-特殊区域在工程中的运用\" class=\"headerlink\" title=\"特殊区域的配置 特殊区域在工程中的运用\"></a>特殊区域的配置 特殊区域在工程中的运用</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730101580835-773919f9-0729-4bd0-87b3-657e709babd1.png\"></p>\n<ul>\n<li>区域划分（含特殊区域）</li>\n<li>路由汇总</li>\n<li>默认路由传递</li>\n<li>Passive-interface</li>\n</ul>\n<h2 id=\"OSPF高级功能配置及验证\"><a href=\"#OSPF高级功能配置及验证\" class=\"headerlink\" title=\"OSPF高级功能配置及验证\"></a>OSPF高级功能配置及验证</h2><ul>\n<li>Passive-interface<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730103668216-946f3d0c-b38a-44c0-b683-614f039a47ee.png\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">network 192.168.1.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 0</span><br><span class=\"line\">passive-interface fa 0/0</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730104286308-472055dd-f8c1-43d5-882d-bbf2abc09ea6.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1 </span><br><span class=\"line\">network 192.168.1.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.2.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.3.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 0</span><br><span class=\"line\">passive-interface default</span><br><span class=\"line\">no passive-interface fa 2/0</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>注入默认路由<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730104513770-3af86fb7-7636-46e3-bd19-cc3e78dbdf41.jpeg\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf</span><br><span class=\"line\">network 192.168.1.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.2.0 0.0.0.255 area 0 </span><br><span class=\"line\">network 192.168.3.0 0.0.0.255 area 0</span><br><span class=\"line\">default-information originate</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>自动汇总<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730105593346-f49940e9-7c5d-4a2a-a6f5-a4838f33aa88.png\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">summary-address 10.1.0.0 255.255.0.0</span><br></pre></td></tr></table></figure>\n\n<pre><code>- ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730113712965-2913d333-5783-4fa0-b276-eb37021add99.png)\n</code></pre>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">area 2 range 172.16.0.0 255.255.0.0 cost ?</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>Virtual-link<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730114278625-137e8159-3d3f-440f-a631-622f2624109a.png\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">area area-id virtual-link router-id [authentication[message-digest | null]] [hello-interval seconds] [retransmit-interval seconds] [transmit-delay seconds] [dead-interval seconds] [fauthentication-key key] | [message-digest-key key-id md5 key]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"OSPF身份验证\"><a href=\"#OSPF身份验证\" class=\"headerlink\" title=\"OSPF身份验证\"></a>OSPF身份验证</h2><ul>\n<li>Null</li>\n<li>简单密码身份验证</li>\n<li>MD5身份验证</li>\n<li>接口认证</li>\n<li>区域认证</li>\n</ul>\n<h3 id=\"明文\"><a href=\"#明文\" class=\"headerlink\" title=\"明文\"></a>明文</h3><p>接口认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf authentication-key password</span><br><span class=\"line\">Router(config-if)#ip ospf authentication</span><br></pre></td></tr></table></figure>\n\n<p>区域认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf authentication-key password</span><br><span class=\"line\">Router(config-router)#area area-id authentication</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"密文\"><a href=\"#密文\" class=\"headerlink\" title=\"密文\"></a>密文</h3><p>接口认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf message-digest-key key-id md5 key</span><br><span class=\"line\">Router(config-if)#lp ospf authentication message-digest</span><br></pre></td></tr></table></figure>\n\n<p>区域认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf message-digest-key key-id md5 key</span><br><span class=\"line\">Router(config-router)#area 0 authentication messae-digest</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h1 id=\"OSPF\"><a href=\"#OSPF\" class=\"headerlink\" title=\"OSPF\"></a>OSPF</h1><h2 id=\"基础回顾\"><a href=\"#基础回顾\" class=\"headerlink\" title=\"基础回顾\"></a>基础回顾</h2><p>OSPF（Open Shortest Path First，开放最短路径优先）是一种链路状态路由协议，无路由循环(全局拓扑)，属于IGP。RFC2328，“开放”意味着非私有的，对公众开放的。</p>\n<ul>\n<li>OSPF协议使用的组播地址<ul>\n<li>所有OSPF路由器224.0.0.5；DR BDR-224.0.0.6</li>\n</ul>\n</li>\n<li>OSPF的报文封装<ul>\n<li>OSPF协议包直接封装于IP，协议号89。</li>\n</ul>\n</li>\n<li>OSPF路由协议的管理距离:110</li>\n</ul>\n<h2 id=\"网络类型\"><a href=\"#网络类型\" class=\"headerlink\" title=\"网络类型\"></a>网络类型</h2><ul>\n<li><strong>点对点</strong></li>\n<li><strong>广播</strong></li>\n<li><strong>非广播</strong><ul>\n<li>非广播又包含了5种运行模式：<ul>\n<li>NBMA（RFC）</li>\n<li>P2MP（RFC）</li>\n<li>P2MP nonbroadcast（CISCO）</li>\n<li>Broadcast（CISCO）</li>\n<li>P2P（CISCO）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"点对点类型\"><a href=\"#点对点类型\" class=\"headerlink\" title=\"点对点类型\"></a>点对点类型</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597653542-543c407b-5fbf-4a07-addb-ef4a220af580.png\"></p>\n<ul>\n<li>如果二层的协议为PPP、HDLC等，则OSPF网络类型为P2P</li>\n<li>如果帧中继子接口类型为P2P的，则OSPF网络类型也为P2P</li>\n<li>不选举DR、BDR</li>\n<li>使用组播地址224.0.0.5</li>\n<li>OSPF能够根据二层封装自动检测到P2P网络类型</li>\n</ul>\n<h3 id=\"广播型多路访问\"><a href=\"#广播型多路访问\" class=\"headerlink\" title=\"广播型多路访问\"></a>广播型多路访问</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597748803-b40f6f84-0db0-4015-b26a-7db24de3eec2.png\"></p>\n<ul>\n<li>通常出现在以太网</li>\n<li>选举DR、BDR</li>\n<li>所有路由器均与DR及BDR建立邻接关系</li>\n<li>使用组播地址224.0.0.5及224.0.0.6</li>\n</ul>\n<h3 id=\"NBMA网络选择OSPF的模式\"><a href=\"#NBMA网络选择OSPF的模式\" class=\"headerlink\" title=\"NBMA网络选择OSPF的模式\"></a>NBMA网络选择OSPF的模式</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597933313-047b21b5-add8-4100-bfee-794b3879c1ab.png\"></p>\n<ul>\n<li>在帧中继主接口上，默认的OSPF模式为非广播</li>\n<li>在点到点帧中继子接口上，默认的OSPF模式为点到点</li>\n<li>在帧中继多点子接口上，默认的OSPF模式为非广播</li>\n</ul>\n<h2 id=\"链路状态协议\"><a href=\"#链路状态协议\" class=\"headerlink\" title=\"链路状态协议\"></a>链路状态协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729582503246-0528dc00-6265-464a-a66c-0dbf9991d7f2.png\"></p>\n<h2 id=\"网络优化-Router-ID\"><a href=\"#网络优化-Router-ID\" class=\"headerlink\" title=\"网络优化-Router-ID\"></a>网络优化-Router-ID</h2><ul>\n<li>为了提高路由器的RID的稳定性和网络的稳定性建议手动的设置路由器的Router-ID</li>\n<li>在OSPF的进程下修改:router-id &lt;x.x.x.x&gt;</li>\n<li>在项目实施中，一般是建立loopback口，并且手工指定loopback口地址为router-id</li>\n</ul>\n<h2 id=\"DR、BDR\"><a href=\"#DR、BDR\" class=\"headerlink\" title=\"DR、BDR\"></a>DR、BDR</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583194925-732e5d65-058d-45b9-b919-c1a4e44723d4.png\"></p>\n<ul>\n<li>DR的作用：多路访问中为了减少邻接关系（N平方的问题）和LSA的泛洪，采用DR机制，BDR提供了备份</li>\n<li>MA网络上所有的路由器均与DR、BDR建立邻居关系</li>\n</ul>\n<h2 id=\"DR选举比较顺序\"><a href=\"#DR选举比较顺序\" class=\"headerlink\" title=\"DR选举比较顺序\"></a>DR选举比较顺序</h2><ul>\n<li>接口优先级数字越大越优先（优先级为0不能参与DR的选举）、</li>\n<li>RouterID越大越好</li>\n<li>稳定性压倒一切（非抢占）</li>\n<li>通过控制接口优先级是控制DR选举的好办法</li>\n<li>DR的选举是基于接口的，如果说某个路由器是DR，这种说法是错误的</li>\n</ul>\n<h2 id=\"DR及BDR选举的控制\"><a href=\"#DR及BDR选举的控制\" class=\"headerlink\" title=\"DR及BDR选举的控制\"></a>DR及BDR选举的控制</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729597316618-061a5e61-a25e-40b1-885d-8a2d9fbd2000.png\"></p>\n<p><code>ip ospf priority 10</code></p>\n<p>比较次序</p>\n<ul>\n<li>优先级</li>\n<li>路由器ID</li>\n<li>优先级为0的不能成为DR或者BDR</li>\n</ul>\n<h2 id=\"链路的开销\"><a href=\"#链路的开销\" class=\"headerlink\" title=\"链路的开销\"></a>链路的开销</h2><ul>\n<li>自动计算:COST&#x3D;参考带宽(10的8次方)&#x2F;出口带宽</li>\n<li>接口带宽为接口逻辑带宽，可以使用bandwith命令调整，主要用于路由计算而不是接口物理带宽，但一般情况:接口逻辑带宽&#x3D;接口物理带宽。</li>\n<li>手工修改开销的方法</li>\n</ul>\n<p><code>Router(config)# int serial 1</code></p>\n<p><code>Router(config-if)# ip ospf cost 100\t//该命令在收路由的入口</code></p>\n<ul>\n<li>可修改参考带宽,来保障OSPF在现如今的网络中正常运转</li>\n</ul>\n<p><code>auto-cost reference-bandwidth &lt;参考带宽以Mbits为单位&gt;</code></p>\n<h2 id=\"三张表\"><a href=\"#三张表\" class=\"headerlink\" title=\"三张表\"></a>三张表</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583395100-67ec4bc7-0287-42cc-8d1b-76f7f8ece3b8.png\"></p>\n<ul>\n<li>相邻的两台路由器运行OSPF协议</li>\n<li>两台路由器直接连接</li>\n<li>在同一自治系统</li>\n<li>Hello&#x2F;Dead时间一致</li>\n<li>区域ID一致</li>\n<li>认证密码一致</li>\n<li>MTP值一致</li>\n<li>*网络类型一致</li>\n<li>*链路两端接口掩码一致</li>\n</ul>\n<h2 id=\"报文类型\"><a href=\"#报文类型\" class=\"headerlink\" title=\"报文类型\"></a>报文类型</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729583532652-1fe547e6-7e27-4e76-bb58-191ed1d3961e.png\"></p>\n<ul>\n<li>Hello\t建立和维护OSPF邻居关系</li>\n<li>DBD\t\t链路状态数据库描述信息(描述LSDB中LSA头部列表)</li>\n<li>LSR\t\t链路状态请求,向OSPF邻居请求链路状态信息</li>\n<li>LSU\t\t链路状态更新(包含一条或多条LSA)</li>\n<li>LSAck\t确认报文</li>\n</ul>\n<h2 id=\"OSPF邻居建立过程\"><a href=\"#OSPF邻居建立过程\" class=\"headerlink\" title=\"OSPF邻居建立过程\"></a>OSPF邻居建立过程</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584652052-d4b95daa-8884-47ae-920e-34ad316f4a3a.png\"></p>\n<h3 id=\"邻居发现\"><a href=\"#邻居发现\" class=\"headerlink\" title=\"邻居发现\"></a>邻居发现</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584326053-0256b458-b096-42dc-a8e0-e285f71dc6cd.png\"></p>\n<h3 id=\"路由发现阶段\"><a href=\"#路由发现阶段\" class=\"headerlink\" title=\"路由发现阶段\"></a>路由发现阶段</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584355522-638bec3d-ff82-4db9-90ba-3579b3a0f3f0.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729584499985-4d227371-bb64-4bbd-ba77-fdbe2784854c.png\"></p>\n<h2 id=\"OSPF路由器建立邻接关系的过程详细描述\"><a href=\"#OSPF路由器建立邻接关系的过程详细描述\" class=\"headerlink\" title=\"OSPF路由器建立邻接关系的过程详细描述\"></a>OSPF路由器建立邻接关系的过程详细描述</h2><ul>\n<li>OSPF路由器接口up，发送Hello包(NBMA模式时将进入Attempt状态)。</li>\n<li>OSPF路由器接口收到Hello包，进入Init状态;并将该Hello包的发送者的RouterID添加到Hello包(自己将要从该接口发送出去的Hello包)的邻居列表中。</li>\n<li>OSPF路由器接口收到邻居列表中含有自己RouterID的Hello包，进入Two-way状态形成OSPF邻居关系，并把该路由器的RouterID添加到自己的OSPF邻居表中</li>\n<li>在进入Two-way状态后，广播、非广播网络类型的链路，在DR选举等待时间内进行DR选举。点对点没有这个过程。</li>\n<li>在DR选举完成或跳过DR选举后，建立OSPF邻接关系，进入exstart(准启动)状态并选举DBD交换主从路由器，以及由主路由器定义DBD序列号，RouterID大的为主路由器。目的是为了解决DBD自身的可靠性。</li>\n<li>主从路由器选举完成后，进入Exchange(交换)状态，交换DBD信息。DBD交换完成后，进入Loading状态，对链路状态数据库和收到的DBD的LSA头部进行比较，发现自己数据库中没有的LSA就发送LSR，向邻居请求该LSA;邻居收到LSR后，回应LSU;收到邻居发来的LSU，存储这些LSA到自己的链路状态数据库，并发送LSAck确认。</li>\n<li>LSA交换完成后，进入FULL状态，所有形成邻居的OSPF路由器都拥有相同链路状态数据库。</li>\n<li>定期发送Hello包，维护邻居关系。</li>\n</ul>\n<h2 id=\"OSPF邻接关系\"><a href=\"#OSPF邻接关系\" class=\"headerlink\" title=\"OSPF邻接关系\"></a>OSPF邻接关系</h2><ul>\n<li>路由器之间链路状态信息必须同步，LSA具有以下特征：</li>\n<li>LSA（LSU）是可靠的传输，需要LSAck确认</li>\n<li>LSA有序列号和寿命，以确保是最新的LAS</li>\n<li>LSA被定期的刷新以确保拓扑信息的有效性</li>\n</ul>\n<h2 id=\"链路状态数据的状态\"><a href=\"#链路状态数据的状态\" class=\"headerlink\" title=\"链路状态数据的状态\"></a>链路状态数据的状态</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585188616-4c4dd0cf-7eae-44df-8df2-4308bf761556.png\"></p>\n<h2 id=\"OSPF多区域概念\"><a href=\"#OSPF多区域概念\" class=\"headerlink\" title=\"OSPF多区域概念\"></a>OSPF多区域概念</h2><h3 id=\"单区域\"><a href=\"#单区域\" class=\"headerlink\" title=\"单区域\"></a>单区域</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585216495-f1b2e4b6-e173-4b2d-9bd3-ec5d0a567d94.png\"></p>\n<ul>\n<li>收到的LSA通告太多了，OSPF路由器的负担很大</li>\n<li>内部动荡会引起全网路由器的完全SPF计算</li>\n<li>资源消耗过多，LSDB庞大，设备性能下降，影响数据转发</li>\n<li>每台路由器都需要维护的路由表越来越大，单区域内路由无法汇总</li>\n</ul>\n<h4 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h4><ul>\n<li>把大型网络分隔为多个较小，可管理的单元-区域 area;</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585389704-f78a98ae-479f-43ea-882e-53cc2ffca7c3.png\"></p>\n<ul>\n<li>划分区域的好处</li>\n<li>减少了LSA洪泛的范围，有效地把拓扑变化控制在区域内，提高了网络的稳定性拓扑的变化影响可以只限制涉及本区域</li>\n<li>多区域提高了网络的扩展性，有利于组建大规模的网络</li>\n<li>在区域边界可以做路由汇总，减小了路由表</li>\n</ul>\n<h3 id=\"OSPF路由器角色\"><a href=\"#OSPF路由器角色\" class=\"headerlink\" title=\"OSPF路由器角色\"></a>OSPF路由器角色</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729585477757-23c7849f-09a3-4fee-b0a7-5e1fdd6742c5.png\"></p>\n<h2 id=\"在帧中继环境下的OSPF\"><a href=\"#在帧中继环境下的OSPF\" class=\"headerlink\" title=\"在帧中继环境下的OSPF\"></a>在帧中继环境下的OSPF</h2><h3 id=\"NBMA网络选择OSPF模式\"><a href=\"#NBMA网络选择OSPF模式\" class=\"headerlink\" title=\"NBMA网络选择OSPF模式\"></a>NBMA网络选择OSPF模式</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729816380101-0577bb5b-d702-4859-8ad0-e5b784de728e.png\"></p>\n<ul>\n<li>在帧中继的主接口上，默认的OSPF模式为非广播</li>\n<li>在点到点帧中继子接口中，默认的OSPF模式为点对点</li>\n<li>在帧中继多点子接口上，默认的OSPF模式为非广播</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818741701-a39e2439-6c8e-4b10-9bba-d886484fee5c.png\"></p>\n<p>如果是非广播这一 OSPF 网络类型,则 OSPF 也不会主动发送组播包去发现邻居，因此邻居关系建立这</p>\n<p>里也有问题。</p>\n<h3 id=\"NBMA网络下OSPF的运行\"><a href=\"#NBMA网络下OSPF的运行\" class=\"headerlink\" title=\"NBMA网络下OSPF的运行\"></a>NBMA网络下OSPF的运行</h3><h4 id=\"方式一\"><a href=\"#方式一\" class=\"headerlink\" title=\"方式一\"></a>方式一</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818282720-8e8c7e7b-6548-41cd-b825-64c10f08f90b.png\"></p>\n<ul>\n<li>指定OSPF网络类型为broadcast</li>\n<li>使用OSPF多播hello分组自动来自动发送邻居</li>\n<li>选举DR和BDR</li>\n<li>DR和BDR必须与其他所有路由器直接相连</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# interface serial 0/0</span><br><span class=\"line\">Router(config-if)# encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)# ip ospf network broadcast</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"方式二\"><a href=\"#方式二\" class=\"headerlink\" title=\"方式二\"></a>方式二</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818405731-56d45fde-6d9d-4394-b5a6-b9a317b9c04a.png\"></p>\n<ul>\n<li>网络类型为non-broadcast（默认）</li>\n<li>手动指定邻居</li>\n<li>选举DR和BDR</li>\n<li>DR和BDR必须与其他所有路由器直接相连</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)#interface serial 0/0</span><br><span class=\"line\">Router(config)#neighbor ip-address [priority number] [poll-interval number] [cost number] [database-filter all]</span><br><span class=\"line\">Router(config-if)#encapsulation frame-relay</span><br><span class=\"line\">Router(config-if)#ip ospf network non-broadcast</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"方式三\"><a href=\"#方式三\" class=\"headerlink\" title=\"方式三\"></a>方式三</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729818635272-2362be8e-2382-4c0a-94eb-f1f6c6f9ecca.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface serial0/0</span><br><span class=\"line\">encapsulation frame-relay</span><br><span class=\"line\">ip ospf network point-to-multipoint</span><br><span class=\"line\">router ospf 100</span><br><span class=\"line\">network 202.101.100.0 0.0.0.255 area 0</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">interface Serial0/0</span><br><span class=\"line\">encapsulation frame-relay</span><br><span class=\"line\">ip ospf network point-to-multipoint</span><br><span class=\"line\">ip ospf priority 0</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router ospf process-id [vrf vpn-name]</span><br><span class=\"line\">Router(config-router)# network ip-address wildcard-mask area area-id</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-router)# router-id ip-address</span><br><span class=\"line\">Router# clear ip ospf process</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)# ip ospf network [ &#123;broadcast | non-broadcast | point-to-multipoint [non-broadcast] | point-to-point&#125; ]</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"LSA\"><a href=\"#LSA\" class=\"headerlink\" title=\"LSA\"></a>LSA</h1><h2 id=\"LSA简介\"><a href=\"#LSA简介\" class=\"headerlink\" title=\"LSA简介\"></a>LSA简介</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819118059-283bca5c-1922-4be5-944a-07aaab2b1e10.png\"></p>\n<ul>\n<li><strong>Link State Advertisement</strong>（链路状态通告），这是在网络协议中，尤其是 OSPF（开放最短路径优先）和 IS-IS（中间系统到中间系统）中使用的一种消息类型。</li>\n</ul>\n<h2 id=\"LSA类型\"><a href=\"#LSA类型\" class=\"headerlink\" title=\"LSA类型\"></a>LSA类型</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729819172881-af6ef12d-89f7-42af-9256-e129103f1207.png\"></p>\n<h3 id=\"类型1-路由器LSA-Router-LSA\"><a href=\"#类型1-路由器LSA-Router-LSA\" class=\"headerlink\" title=\"类型1 路由器LSA Router LSA\"></a>类型1 路由器LSA Router LSA</h3><ul>\n<li>每个路由器针对它所在的区域产生LSA1，描述区域内部与路由器直连的链路的信息(包括链路类型，Cost等)</li>\n<li>LSA1只允许在本区域内洪泛，不允许跨越ABR</li>\n<li>LSA中会标识路由器是否是ABR(B比特置位),ASBR(E比特置位)或者是Virtual-link(V比特置位)的端点的身份信息</li>\n</ul>\n<h3 id=\"类型2-网络LSA-Network-LSA\"><a href=\"#类型2-网络LSA-Network-LSA\" class=\"headerlink\" title=\"类型2 网络LSA Network LSA\"></a>类型2 网络LSA Network LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821435220-c6372be2-8ace-40f8-9842-95f87f104bc8.png\"></p>\n<h3 id=\"类型1、2总结\"><a href=\"#类型1、2总结\" class=\"headerlink\" title=\"类型1、2总结\"></a>类型1、2总结</h3><ul>\n<li>通过LSA1，LSA2在区域内洪泛,使区域内每个路由器的LSDB达到同步计算生成标识为“O”的路由，解决区域内部的通信问题</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821481351-2632bc17-429c-4770-aa0a-fcea98417f5c.png\"></p>\n<h3 id=\"类型3-网络汇总LSA-Network-Summary-LSA\"><a href=\"#类型3-网络汇总LSA-Network-Summary-LSA\" class=\"headerlink\" title=\"类型3 网络汇总LSA Network Summary LSA\"></a>类型3 网络汇总LSA Network Summary LSA</h3><ul>\n<li>由ABR生成，实际上就是将区域内部的Type1Type2的信息收集起来以路由子网的形式扩散出去，这就是SummayLSA中sunmay的含义(注意这里的summary与路由汇总没有关系)</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729821558294-c0336486-6143-4997-b4c4-c9602d37a3b7.png\"></p>\n<p>Type3 的链路状态ID是目的网络地址。</p>\n<ul>\n<li>如果一台ABR路由器在与它本身相连的区域内有多条路由可以到达目的地,那么它将只会始发单一的一条网络汇总LSA到骨干区域,而且这条网络汇总LSA是上述多条路由中代价最低的。</li>\n<li>ABR收到来自同区域其它ABR传来的Type3 LSA后重新生成新的Type3 LSA（Advertising Router 改为自己）然后继续在整个OSPF系统内扩散</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822506797-293ae502-10d7-49ed-a0ab-b1733b5c626e.png\"></p>\n<h3 id=\"类型4-ASBR-Summary-LSA\"><a href=\"#类型4-ASBR-Summary-LSA\" class=\"headerlink\" title=\"类型4 ASBR Summary LSA\"></a>类型4 ASBR Summary LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729822619398-8be5539d-1f33-4d4e-9031-46f359fc9edb.png\"></p>\n<ul>\n<li>ASBR Summary LSA由ABR生成，用于描述ABR能够到达的ASBR它的链路状态ID为目的ASBR的RID。</li>\n</ul>\n<h3 id=\"类型5-自治系统外LSA-AS-external-LSA\"><a href=\"#类型5-自治系统外LSA-AS-external-LSA\" class=\"headerlink\" title=\"类型5 自治系统外LSA AS external LSA\"></a>类型5 自治系统外LSA AS external LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823363172-eff49501-c34f-42fe-a0c6-64d4b5b2b16e.png\"></p>\n<ul>\n<li>Autonomous System External LSA由ASBR生成用于描述OSPF自治域系统外的目标网段信息链路状态ID是目的地址的IP网络号</li>\n<li>外部路由通过重发布，引入OSPF路由域，相应信息(路由条目)由ASBR以LSA5的形式生成然后进入OSPF路由域</li>\n<li>缺省情况下，LSA5生成路由用OE2表示，可强行指定为OE1<ul>\n<li>OE2 开销&#x3D;外部开销</li>\n<li>OE1 开销&#x3D;外部开销+内部开销</li>\n</ul>\n</li>\n<li>LSA5不允许进入特殊区域——stub存根区&amp; NSSA区</li>\n</ul>\n<h4 id=\"OE1、OE2的区别\"><a href=\"#OE1、OE2的区别\" class=\"headerlink\" title=\"OE1、OE2的区别\"></a>OE1、OE2的区别</h4><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823569011-bb805760-c712-4ac8-8c02-a7cb40961599.png\"></p>\n<h3 id=\"类型7-NSSA中的外部LSA-NSSA-External-LSA\"><a href=\"#类型7-NSSA中的外部LSA-NSSA-External-LSA\" class=\"headerlink\" title=\"类型7 NSSA中的外部LSA NSSA External LSA\"></a>类型7 NSSA中的外部LSA NSSA External LSA</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823624411-2bc6ff8e-a565-4ddc-b641-e6f34501a7b2.png\"></p>\n<ul>\n<li>在NSSA(非完全存根区域)not-so-stubby area中ASBR针对外部网络产生类似于LSA5的LSA类型7</li>\n<li>LSA类型7只能在NSSA区域中洪泛，到达NSSA区域ABR后，NSSAABR将其转换成LSA类型5外部路由，传播到Area0，从而传播到整个OSPF路由域</li>\n<li>生成路由缺省用ON2表示，也可指定为ON1</li>\n</ul>\n<h1 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h1><h2 id=\"OSPF-LSDB和路由表\"><a href=\"#OSPF-LSDB和路由表\" class=\"headerlink\" title=\"OSPF LSDB和路由表\"></a>OSPF LSDB和路由表</h2><ul>\n<li>查看路由表 <code>show ip route ospf</code></li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729823720364-54258c69-3cd1-4901-b51f-4a5a1878d36e.png\"></p>\n<ul>\n<li>O  &gt; O IA &gt; O E1 &gt; O E2</li>\n</ul>\n<h2 id=\"特殊区域的配置nssa\"><a href=\"#特殊区域的配置nssa\" class=\"headerlink\" title=\"特殊区域的配置nssa\"></a>特殊区域的配置nssa</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730100982306-4a28f112-d02a-4537-be77-83245f365f85.png\"></p>\n<ul>\n<li>R1的配置</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 1</span><br><span class=\"line\">area 1 nssa</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>R2的配置</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 1</span><br><span class=\"line\">network 192.168.23.0 0.0.0.255 area 0</span><br><span class=\"line\">area 1 nssa </span><br><span class=\"line\">area 1 nssa default-information-orginate #设置默认区域</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"特殊区域的配置-特殊区域在工程中的运用\"><a href=\"#特殊区域的配置-特殊区域在工程中的运用\" class=\"headerlink\" title=\"特殊区域的配置 特殊区域在工程中的运用\"></a>特殊区域的配置 特殊区域在工程中的运用</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730101580835-773919f9-0729-4bd0-87b3-657e709babd1.png\"></p>\n<ul>\n<li>区域划分（含特殊区域）</li>\n<li>路由汇总</li>\n<li>默认路由传递</li>\n<li>Passive-interface</li>\n</ul>\n<h2 id=\"OSPF高级功能配置及验证\"><a href=\"#OSPF高级功能配置及验证\" class=\"headerlink\" title=\"OSPF高级功能配置及验证\"></a>OSPF高级功能配置及验证</h2><ul>\n<li>Passive-interface<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730103668216-946f3d0c-b38a-44c0-b683-614f039a47ee.png\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">network 192.168.1.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 0</span><br><span class=\"line\">passive-interface fa 0/0</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730104286308-472055dd-f8c1-43d5-882d-bbf2abc09ea6.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1 </span><br><span class=\"line\">network 192.168.1.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.2.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.3.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.12.0 0.0.0.255 area 0</span><br><span class=\"line\">passive-interface default</span><br><span class=\"line\">no passive-interface fa 2/0</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>注入默认路由<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/jpeg/44908083/1730104513770-3af86fb7-7636-46e3-bd19-cc3e78dbdf41.jpeg\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf</span><br><span class=\"line\">network 192.168.1.0 0.0.0.255 area 0</span><br><span class=\"line\">network 192.168.2.0 0.0.0.255 area 0 </span><br><span class=\"line\">network 192.168.3.0 0.0.0.255 area 0</span><br><span class=\"line\">default-information originate</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>自动汇总<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730105593346-f49940e9-7c5d-4a2a-a6f5-a4838f33aa88.png\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">summary-address 10.1.0.0 255.255.0.0</span><br></pre></td></tr></table></figure>\n\n<pre><code>- ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730113712965-2913d333-5783-4fa0-b276-eb37021add99.png)\n</code></pre>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">area 2 range 172.16.0.0 255.255.0.0 cost ?</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>Virtual-link<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730114278625-137e8159-3d3f-440f-a631-622f2624109a.png\"></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router ospf 1</span><br><span class=\"line\">area area-id virtual-link router-id [authentication[message-digest | null]] [hello-interval seconds] [retransmit-interval seconds] [transmit-delay seconds] [dead-interval seconds] [fauthentication-key key] | [message-digest-key key-id md5 key]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"OSPF身份验证\"><a href=\"#OSPF身份验证\" class=\"headerlink\" title=\"OSPF身份验证\"></a>OSPF身份验证</h2><ul>\n<li>Null</li>\n<li>简单密码身份验证</li>\n<li>MD5身份验证</li>\n<li>接口认证</li>\n<li>区域认证</li>\n</ul>\n<h3 id=\"明文\"><a href=\"#明文\" class=\"headerlink\" title=\"明文\"></a>明文</h3><p>接口认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf authentication-key password</span><br><span class=\"line\">Router(config-if)#ip ospf authentication</span><br></pre></td></tr></table></figure>\n\n<p>区域认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf authentication-key password</span><br><span class=\"line\">Router(config-router)#area area-id authentication</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"密文\"><a href=\"#密文\" class=\"headerlink\" title=\"密文\"></a>密文</h3><p>接口认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf message-digest-key key-id md5 key</span><br><span class=\"line\">Router(config-if)#lp ospf authentication message-digest</span><br></pre></td></tr></table></figure>\n\n<p>区域认证</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config-if)#ip ospf message-digest-key key-id md5 key</span><br><span class=\"line\">Router(config-router)#area 0 authentication messae-digest</span><br></pre></td></tr></table></figure>"},{"title":"路由和路径","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730252795715-71f9fcc0-544c-41e7-94a1-cdde5265b108.png","summary":"酥米小机器人来啦，这篇文章主要讲解网络路由协议与路由策略的配置方法包括多厂商环境中使用多种IP路由协议的原因如网络合并过渡新协议及路由策略需求路由重分发需考虑路由回馈信息不兼容收敛时间差异并注意管理距离和度量值选择最佳路由passive-interface配置差异如RIP仅接收更新EIGRP禁止Hello消息和邻接关系OSPF则禁止路由信息交换同时支持单播更新和过滤HELLO包route-map通过match命令匹配路由属性并用set修改路由属性支持逻辑or和and运算distribute-list和prefix-list用于过滤路由更新前缀列表更灵活支持增量修改PBR策略路由根据策略分流数据如设定下一跳IP和出接口实现ISP故障切换等场景应用","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# 路由部分\n## 网络中使用多种IP路由协议\n需要使用多种IP路由协议的原因-多厂商的路由环境\n\n+ 网络合并(同一协议或是不同协议)\n+ 从旧的路由协议过渡到新的路由协议\n+ 路由策略的需要(可靠性、冗余性、分流模型等)\n\n路由重分发(多个重分发点，双向重分发)\n\n## 路由重发布\n### 概念\n路由重分发是指连接到不同路由域(自治系统)的边界路由器在他们之间交换和通告路由选择信息的能力。\n\n+ 从一种协议到另一种协议\n+ 同一种协议的多个实例\n\n注意\n\n+ 重分发总是向外的，执行重分发的路由器不会修改其路由表\n+ 路由必须要位于路由表中才能被重分发\n\n### 路由重发布\n+ 重发布要考虑的因素\n    - 路由回馈\n    - 路由信息不兼容（度量值信息不一致）\n    - 收敛时间不一致（不同路由协议的收敛速度不同）\n+ 如果选择最佳路由\n    - 管理距离\n    - 度量值\n\n### 路由回馈\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730252795715-71f9fcc0-544c-41e7-94a1-cdde5265b108.png)\n\n-\n\n+ 度量值--种子度量值\n+ 路由器通告与其接口直接相连的链路时，使用的初始度量值叫做种子度量值(也叫做默认度量值)，是根据接口的特征得到的。\n+ 种子度量值或默认度量值是在重分发配置期间定义的，并在自治系统内部正常递增，除了OSPF E2路由。\n+ 可使用命令default-metric或是redistribute中使用metric来指定种子度量值\n\n### 度量值——默认种子度量值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730253536563-710553ac-ca47-4ce5-9027-a64118280c8e.png)\n\n### 单点重分发\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730256948062-64555df9-3f06-41ec-b0c2-9c14cd5cc025.png)\n\n单向重分发\n\n双向重分发\n\n### 多点单向重发布\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257151571-18b8b2e8-3c79-40ea-b97c-d622e5dc20b8.png)\n\n### 多点双向重发布\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257180586-f3f245e3-f240-4044-b59e-b2154fde1431.png)\n\n# Passive-interface\n+ RIP/IGRP——在指定接口不向外发送路由更新，但是接收路由更新\n+ EIGRP——在指定接口不向外发送Hello消息，而且通过这个接口不与其他路由器建立邻接关系，不发送其它EIGRP的数据流\n+ OSPF——在指定接口不向外发送Hello消息，而且通过这 个接口不与其他路由器建立邻接关系，不发送和接收路由信息。(有些IOS版本中OSPF在被动接口上发送Helo和DBD分组，但是不发送LSU。)\n\n## Tips\n+ 汇聚交换机上所有的三层接口都Network进相应的Area\n+ 汇聚交换机将向所有VLAN接口发送HELLO报文，尝试建立邻居关系，而底层的用户也会收到其并不需要的HELLO包\n\n## Passive-interface与单播更新\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339033871-1958274b-9355-4326-a286-f9c3e31efd0e.png)\n\n配置RIP单播更新\n\n```plain\nRouter(config)# router rip\nRouter(config-router)# passive-interface int-type int-num\nRouter(config-router)# neighbor 192.168.123.3\n```\n\n## 常见路由协议管理距离\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339568655-3eb7af04-e1a6-498c-85a3-f72f55fcd42a.png)\n\n# Route-map\n## 特点\n+ 使用的match命令匹配特定的分组或路由，set修改该分组或路由的相关属性\n+ Route-map中的语句相当于访问列表中的各行\n+ Route-map默认为permit，默认序列号为10，序列号不会自动递增，需要指定序列号\n+ 末尾隐含deny any\n+ 单挑match语句包括多个条件时，使用逻辑or运算；多条match语句时，使用逻辑and运算\n\n\n\n## 配置\n```plain\nmatch ip address 匹配访问列表或前缀列表\nmatch length 根据分组的第三层长度进行匹配\nmatch interface 匹配下一跳出接口为指定接口之一的路由\nmatch ip next-hop 匹配下一跳地址为特定访问列表中被允许的那些路由\nmatch metric 匹配具有指定度量值的路由\nmatch route-type 匹配指定类型的路由\nmatch community 匹配BGP共同体\nmatch tag 根据路由的标记进行匹配\n```\n\n# distribute-list\n## distribute-list 可根据下列因素过滤更新\n+ 入站接口\n+ 出站接口\n+ 从另一种路由协议重分发\n\n## 对于距离矢量路由协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765382208-5939d7f3-0224-48a4-8bd2-4b38e06c0c22.png)\n\n## 对于链路状态路由协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765432018-af56c92b-2a62-4a66-8430-79f752fc4a02.png)\n\n## 配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768260182-2e14961d-ad68-4651-ae82-e9eebcc05966.png)\n\n```plain\nR2(config)# access-list 1 permit 192.168.1.0\nR2(config)# access-list 1 permit 192.168.2.0\nR2(config)# router rip\nR2(config-router)# distribute-list 1 out fa 1/0\n```\n\n# prefix-list\n## 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768421821-4f542729-31cd-484e-bd5c-0c7a22b12463.png)\n\n+ 外部路由172.16.32.0-39.0/24，以及汇总路由32.0/21被R1引入OSPF现在需在注入过程中，仅将汇总路由32.0/21过滤，所有明细放行，使用ACL匹配路由，该如何写?\n\n`R1(config)# access-list 1 deny 172.16.32.0\t#如果加上反掩码呢`\n\n`R1(config)# access-ist 1 permit any`\n\n## 前缀列表\n+ 前缀列表的可控性比访问列表高得多，支持增量修改，更为灵活\n+ 判断路由前缀与前缀列表中的前缀是否匹配\n+ 前缀列表包含序列号，从最小的开始匹配，默认序列为5，以5增加\n+ 如果前缀不与前缀列表中的任何条目匹配，将被拒绝\n\n## 配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730771586431-d5907351-8a3b-4875-bb63-9a586ef96637.png)\n\n`router(config)# **ip prefix-list** {list-name [**seq** number] {**deny | permit**} _network/length_ [**ge** _ge-value_] [**le** _le-value_]`\n\n输入条件：length < ge-value < le-value <= 32\n\n### 配置示例\n+ 匹配某条特定路由：192.168.1.0/24\n    - `ip prefix-list pxlist 192.168.1.0/24`\n+ 匹配默认路由：\n    - `ip prefix-list pxlist permit 0.0.0.0/0`\n+ 匹配所有主机路由：\n    - `ip prefix-list pxlist permit 0.0.0.0/0 ge 32`\n\n# 路径控制\n网络实现冗余，还需要考虑以下问题\n\n+ 弹性：实现链路的主动切换同时备用链路可用于负载均衡\n+ 可用性：从主链路切换到备用链路的时间\n+ 自适应：主链路拥塞时也可以使用冗余路径\n+ 性能：提高带宽的使用率\n\n## 路径控制工具\n+ 妥善的编制方案：VLSM和CIDR\n+ 重分发和路由协议的特征\n+ passive-interface\n+ distribute-list\n+ prefix-list\n+ AD的把控\n+ route-map\n+ 路由标记\n+ offset-list\n+ 路由标记\n+ 思科IOS IP SLAs\n+ PBR\n\n## offset-list的作用\n+ 用于在入站或出站时增大通过EIGRP或RIP获悉的路由度量值\n\n`router(config-router)# offset-list {access-list-number| name} {in|out} offset [interface-type interface-number]`\n\n## offset-list的配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730773350466-5d587359-93a3-41f8-ae95-2a94868aecb4.png)\n\n```plain\naccess-list 1 permit 10.1.1.0\nrouter rip\noffset-list 1 out 2 serial 0/0\n```\n\n# PBR策略路由\n## PBR\n+ 基于策略的路由比传统路由能力更强，使用更灵活，它使网络管理者不仅能够根据目的地址而且能够根据协议类型、报文大小、应用或IP源地址来选择转发路径。策略可以定义为通过多路由器的负载平衡或根据总流量在各线上进行报文转发的服务质量来定义策略路由。\n+ 策略路由主要对经过路由器的数据流进行分流和过滤以及感兴趣数据流匹配\n\n## 传统路由VS策略路由\n### 传统路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775469785-37c97bda-3880-410d-bb4d-3def31028fb9.png)\n\n### 策略路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775507016-b35087ed-da05-4558-aed6-aafa6e38c85e.png)\n\n## PBR对数据的处理\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775547268-b569e647-03d1-41eb-b6f6-444d7cd1ac02.png)\n\n## 配置\n+ 设定分组的下一跳IP（必须为直连IP）\n    - `set ip next-hop ip-address [...ip-address]`\n+ 设定分组的出接口\n    - `set interface type number [...type number]`\n\n### 场景1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730788273052-453973f9-cb0f-4d85-a1a5-2ed89d2b898b.png)\n\n+ 当网络正常时，PC访问外网数据走ISP1\n+ 当ISP1宕机时(GW感知到)，数据切换至ISP2\n+ 当ISP1容机时(GW无感知)，数据仍然走ISP1\n\n```plain\naccess-list 1 permit any\nroute-map PBR permit 10\nmatch ip address 1\nset ip next-hop 10.1.1.2 10.2.2.2\n```","source":"_posts/CCNP/CCNP路由 路由和路径.md","raw":"---\ntitle: 路由和路径\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1730252795715-71f9fcc0-544c-41e7-94a1-cdde5265b108.png\nsummary: >-\n  酥米小机器人来啦，这篇文章主要讲解网络路由协议与路由策略的配置方法包括多厂商环境中使用多种IP路由协议的原因如网络合并过渡新协议及路由策略需求路由重分发需考虑路由回馈信息不兼容收敛时间差异并注意管理距离和度量值选择最佳路由passive-interface配置差异如RIP仅接收更新EIGRP禁止Hello消息和邻接关系OSPF则禁止路由信息交换同时支持单播更新和过滤HELLO包route-map通过match命令匹配路由属性并用set修改路由属性支持逻辑or和and运算distribute-list和prefix-list用于过滤路由更新前缀列表更灵活支持增量修改PBR策略路由根据策略分流数据如设定下一跳IP和出接口实现ISP故障切换等场景应用\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n# 路由部分\n## 网络中使用多种IP路由协议\n需要使用多种IP路由协议的原因-多厂商的路由环境\n\n+ 网络合并(同一协议或是不同协议)\n+ 从旧的路由协议过渡到新的路由协议\n+ 路由策略的需要(可靠性、冗余性、分流模型等)\n\n路由重分发(多个重分发点，双向重分发)\n\n## 路由重发布\n### 概念\n路由重分发是指连接到不同路由域(自治系统)的边界路由器在他们之间交换和通告路由选择信息的能力。\n\n+ 从一种协议到另一种协议\n+ 同一种协议的多个实例\n\n注意\n\n+ 重分发总是向外的，执行重分发的路由器不会修改其路由表\n+ 路由必须要位于路由表中才能被重分发\n\n### 路由重发布\n+ 重发布要考虑的因素\n    - 路由回馈\n    - 路由信息不兼容（度量值信息不一致）\n    - 收敛时间不一致（不同路由协议的收敛速度不同）\n+ 如果选择最佳路由\n    - 管理距离\n    - 度量值\n\n### 路由回馈\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730252795715-71f9fcc0-544c-41e7-94a1-cdde5265b108.png)\n\n-\n\n+ 度量值--种子度量值\n+ 路由器通告与其接口直接相连的链路时，使用的初始度量值叫做种子度量值(也叫做默认度量值)，是根据接口的特征得到的。\n+ 种子度量值或默认度量值是在重分发配置期间定义的，并在自治系统内部正常递增，除了OSPF E2路由。\n+ 可使用命令default-metric或是redistribute中使用metric来指定种子度量值\n\n### 度量值——默认种子度量值\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730253536563-710553ac-ca47-4ce5-9027-a64118280c8e.png)\n\n### 单点重分发\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730256948062-64555df9-3f06-41ec-b0c2-9c14cd5cc025.png)\n\n单向重分发\n\n双向重分发\n\n### 多点单向重发布\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257151571-18b8b2e8-3c79-40ea-b97c-d622e5dc20b8.png)\n\n### 多点双向重发布\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257180586-f3f245e3-f240-4044-b59e-b2154fde1431.png)\n\n# Passive-interface\n+ RIP/IGRP——在指定接口不向外发送路由更新，但是接收路由更新\n+ EIGRP——在指定接口不向外发送Hello消息，而且通过这个接口不与其他路由器建立邻接关系，不发送其它EIGRP的数据流\n+ OSPF——在指定接口不向外发送Hello消息，而且通过这 个接口不与其他路由器建立邻接关系，不发送和接收路由信息。(有些IOS版本中OSPF在被动接口上发送Helo和DBD分组，但是不发送LSU。)\n\n## Tips\n+ 汇聚交换机上所有的三层接口都Network进相应的Area\n+ 汇聚交换机将向所有VLAN接口发送HELLO报文，尝试建立邻居关系，而底层的用户也会收到其并不需要的HELLO包\n\n## Passive-interface与单播更新\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339033871-1958274b-9355-4326-a286-f9c3e31efd0e.png)\n\n配置RIP单播更新\n\n```plain\nRouter(config)# router rip\nRouter(config-router)# passive-interface int-type int-num\nRouter(config-router)# neighbor 192.168.123.3\n```\n\n## 常见路由协议管理距离\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339568655-3eb7af04-e1a6-498c-85a3-f72f55fcd42a.png)\n\n# Route-map\n## 特点\n+ 使用的match命令匹配特定的分组或路由，set修改该分组或路由的相关属性\n+ Route-map中的语句相当于访问列表中的各行\n+ Route-map默认为permit，默认序列号为10，序列号不会自动递增，需要指定序列号\n+ 末尾隐含deny any\n+ 单挑match语句包括多个条件时，使用逻辑or运算；多条match语句时，使用逻辑and运算\n\n\n\n## 配置\n```plain\nmatch ip address 匹配访问列表或前缀列表\nmatch length 根据分组的第三层长度进行匹配\nmatch interface 匹配下一跳出接口为指定接口之一的路由\nmatch ip next-hop 匹配下一跳地址为特定访问列表中被允许的那些路由\nmatch metric 匹配具有指定度量值的路由\nmatch route-type 匹配指定类型的路由\nmatch community 匹配BGP共同体\nmatch tag 根据路由的标记进行匹配\n```\n\n# distribute-list\n## distribute-list 可根据下列因素过滤更新\n+ 入站接口\n+ 出站接口\n+ 从另一种路由协议重分发\n\n## 对于距离矢量路由协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765382208-5939d7f3-0224-48a4-8bd2-4b38e06c0c22.png)\n\n## 对于链路状态路由协议\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765432018-af56c92b-2a62-4a66-8430-79f752fc4a02.png)\n\n## 配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768260182-2e14961d-ad68-4651-ae82-e9eebcc05966.png)\n\n```plain\nR2(config)# access-list 1 permit 192.168.1.0\nR2(config)# access-list 1 permit 192.168.2.0\nR2(config)# router rip\nR2(config-router)# distribute-list 1 out fa 1/0\n```\n\n# prefix-list\n## 背景\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768421821-4f542729-31cd-484e-bd5c-0c7a22b12463.png)\n\n+ 外部路由172.16.32.0-39.0/24，以及汇总路由32.0/21被R1引入OSPF现在需在注入过程中，仅将汇总路由32.0/21过滤，所有明细放行，使用ACL匹配路由，该如何写?\n\n`R1(config)# access-list 1 deny 172.16.32.0\t#如果加上反掩码呢`\n\n`R1(config)# access-ist 1 permit any`\n\n## 前缀列表\n+ 前缀列表的可控性比访问列表高得多，支持增量修改，更为灵活\n+ 判断路由前缀与前缀列表中的前缀是否匹配\n+ 前缀列表包含序列号，从最小的开始匹配，默认序列为5，以5增加\n+ 如果前缀不与前缀列表中的任何条目匹配，将被拒绝\n\n## 配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730771586431-d5907351-8a3b-4875-bb63-9a586ef96637.png)\n\n`router(config)# **ip prefix-list** {list-name [**seq** number] {**deny | permit**} _network/length_ [**ge** _ge-value_] [**le** _le-value_]`\n\n输入条件：length < ge-value < le-value <= 32\n\n### 配置示例\n+ 匹配某条特定路由：192.168.1.0/24\n    - `ip prefix-list pxlist 192.168.1.0/24`\n+ 匹配默认路由：\n    - `ip prefix-list pxlist permit 0.0.0.0/0`\n+ 匹配所有主机路由：\n    - `ip prefix-list pxlist permit 0.0.0.0/0 ge 32`\n\n# 路径控制\n网络实现冗余，还需要考虑以下问题\n\n+ 弹性：实现链路的主动切换同时备用链路可用于负载均衡\n+ 可用性：从主链路切换到备用链路的时间\n+ 自适应：主链路拥塞时也可以使用冗余路径\n+ 性能：提高带宽的使用率\n\n## 路径控制工具\n+ 妥善的编制方案：VLSM和CIDR\n+ 重分发和路由协议的特征\n+ passive-interface\n+ distribute-list\n+ prefix-list\n+ AD的把控\n+ route-map\n+ 路由标记\n+ offset-list\n+ 路由标记\n+ 思科IOS IP SLAs\n+ PBR\n\n## offset-list的作用\n+ 用于在入站或出站时增大通过EIGRP或RIP获悉的路由度量值\n\n`router(config-router)# offset-list {access-list-number| name} {in|out} offset [interface-type interface-number]`\n\n## offset-list的配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730773350466-5d587359-93a3-41f8-ae95-2a94868aecb4.png)\n\n```plain\naccess-list 1 permit 10.1.1.0\nrouter rip\noffset-list 1 out 2 serial 0/0\n```\n\n# PBR策略路由\n## PBR\n+ 基于策略的路由比传统路由能力更强，使用更灵活，它使网络管理者不仅能够根据目的地址而且能够根据协议类型、报文大小、应用或IP源地址来选择转发路径。策略可以定义为通过多路由器的负载平衡或根据总流量在各线上进行报文转发的服务质量来定义策略路由。\n+ 策略路由主要对经过路由器的数据流进行分流和过滤以及感兴趣数据流匹配\n\n## 传统路由VS策略路由\n### 传统路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775469785-37c97bda-3880-410d-bb4d-3def31028fb9.png)\n\n### 策略路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775507016-b35087ed-da05-4558-aed6-aafa6e38c85e.png)\n\n## PBR对数据的处理\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775547268-b569e647-03d1-41eb-b6f6-444d7cd1ac02.png)\n\n## 配置\n+ 设定分组的下一跳IP（必须为直连IP）\n    - `set ip next-hop ip-address [...ip-address]`\n+ 设定分组的出接口\n    - `set interface type number [...type number]`\n\n### 场景1\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1730788273052-453973f9-cb0f-4d85-a1a5-2ed89d2b898b.png)\n\n+ 当网络正常时，PC访问外网数据走ISP1\n+ 当ISP1宕机时(GW感知到)，数据切换至ISP2\n+ 当ISP1容机时(GW无感知)，数据仍然走ISP1\n\n```plain\naccess-list 1 permit any\nroute-map PBR permit 10\nmatch ip address 1\nset ip next-hop 10.1.1.2 10.2.2.2\n```","slug":"CCNP/CCNP路由 路由和路径","published":1,"updated":"2025-08-03T04:55:47.388Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560d002ng0fy5pz6dyca","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1 id=\"路由部分\"><a href=\"#路由部分\" class=\"headerlink\" title=\"路由部分\"></a>路由部分</h1><h2 id=\"网络中使用多种IP路由协议\"><a href=\"#网络中使用多种IP路由协议\" class=\"headerlink\" title=\"网络中使用多种IP路由协议\"></a>网络中使用多种IP路由协议</h2><p>需要使用多种IP路由协议的原因-多厂商的路由环境</p>\n<ul>\n<li>网络合并(同一协议或是不同协议)</li>\n<li>从旧的路由协议过渡到新的路由协议</li>\n<li>路由策略的需要(可靠性、冗余性、分流模型等)</li>\n</ul>\n<p>路由重分发(多个重分发点，双向重分发)</p>\n<h2 id=\"路由重发布\"><a href=\"#路由重发布\" class=\"headerlink\" title=\"路由重发布\"></a>路由重发布</h2><h3 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h3><p>路由重分发是指连接到不同路由域(自治系统)的边界路由器在他们之间交换和通告路由选择信息的能力。</p>\n<ul>\n<li>从一种协议到另一种协议</li>\n<li>同一种协议的多个实例</li>\n</ul>\n<p>注意</p>\n<ul>\n<li>重分发总是向外的，执行重分发的路由器不会修改其路由表</li>\n<li>路由必须要位于路由表中才能被重分发</li>\n</ul>\n<h3 id=\"路由重发布-1\"><a href=\"#路由重发布-1\" class=\"headerlink\" title=\"路由重发布\"></a>路由重发布</h3><ul>\n<li>重发布要考虑的因素<ul>\n<li>路由回馈</li>\n<li>路由信息不兼容（度量值信息不一致）</li>\n<li>收敛时间不一致（不同路由协议的收敛速度不同）</li>\n</ul>\n</li>\n<li>如果选择最佳路由<ul>\n<li>管理距离</li>\n<li>度量值</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"路由回馈\"><a href=\"#路由回馈\" class=\"headerlink\" title=\"路由回馈\"></a>路由回馈</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730252795715-71f9fcc0-544c-41e7-94a1-cdde5265b108.png\"></p>\n<ul>\n<li></li>\n</ul>\n<ul>\n<li>度量值–种子度量值</li>\n<li>路由器通告与其接口直接相连的链路时，使用的初始度量值叫做种子度量值(也叫做默认度量值)，是根据接口的特征得到的。</li>\n<li>种子度量值或默认度量值是在重分发配置期间定义的，并在自治系统内部正常递增，除了OSPF E2路由。</li>\n<li>可使用命令default-metric或是redistribute中使用metric来指定种子度量值</li>\n</ul>\n<h3 id=\"度量值——默认种子度量值\"><a href=\"#度量值——默认种子度量值\" class=\"headerlink\" title=\"度量值——默认种子度量值\"></a>度量值——默认种子度量值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730253536563-710553ac-ca47-4ce5-9027-a64118280c8e.png\"></p>\n<h3 id=\"单点重分发\"><a href=\"#单点重分发\" class=\"headerlink\" title=\"单点重分发\"></a>单点重分发</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730256948062-64555df9-3f06-41ec-b0c2-9c14cd5cc025.png\"></p>\n<p>单向重分发</p>\n<p>双向重分发</p>\n<h3 id=\"多点单向重发布\"><a href=\"#多点单向重发布\" class=\"headerlink\" title=\"多点单向重发布\"></a>多点单向重发布</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257151571-18b8b2e8-3c79-40ea-b97c-d622e5dc20b8.png\"></p>\n<h3 id=\"多点双向重发布\"><a href=\"#多点双向重发布\" class=\"headerlink\" title=\"多点双向重发布\"></a>多点双向重发布</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257180586-f3f245e3-f240-4044-b59e-b2154fde1431.png\"></p>\n<h1 id=\"Passive-interface\"><a href=\"#Passive-interface\" class=\"headerlink\" title=\"Passive-interface\"></a>Passive-interface</h1><ul>\n<li>RIP&#x2F;IGRP——在指定接口不向外发送路由更新，但是接收路由更新</li>\n<li>EIGRP——在指定接口不向外发送Hello消息，而且通过这个接口不与其他路由器建立邻接关系，不发送其它EIGRP的数据流</li>\n<li>OSPF——在指定接口不向外发送Hello消息，而且通过这 个接口不与其他路由器建立邻接关系，不发送和接收路由信息。(有些IOS版本中OSPF在被动接口上发送Helo和DBD分组，但是不发送LSU。)</li>\n</ul>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><ul>\n<li>汇聚交换机上所有的三层接口都Network进相应的Area</li>\n<li>汇聚交换机将向所有VLAN接口发送HELLO报文，尝试建立邻居关系，而底层的用户也会收到其并不需要的HELLO包</li>\n</ul>\n<h2 id=\"Passive-interface与单播更新\"><a href=\"#Passive-interface与单播更新\" class=\"headerlink\" title=\"Passive-interface与单播更新\"></a>Passive-interface与单播更新</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339033871-1958274b-9355-4326-a286-f9c3e31efd0e.png\"></p>\n<p>配置RIP单播更新</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router rip</span><br><span class=\"line\">Router(config-router)# passive-interface int-type int-num</span><br><span class=\"line\">Router(config-router)# neighbor 192.168.123.3</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"常见路由协议管理距离\"><a href=\"#常见路由协议管理距离\" class=\"headerlink\" title=\"常见路由协议管理距离\"></a>常见路由协议管理距离</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339568655-3eb7af04-e1a6-498c-85a3-f72f55fcd42a.png\"></p>\n<h1 id=\"Route-map\"><a href=\"#Route-map\" class=\"headerlink\" title=\"Route-map\"></a>Route-map</h1><h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>使用的match命令匹配特定的分组或路由，set修改该分组或路由的相关属性</li>\n<li>Route-map中的语句相当于访问列表中的各行</li>\n<li>Route-map默认为permit，默认序列号为10，序列号不会自动递增，需要指定序列号</li>\n<li>末尾隐含deny any</li>\n<li>单挑match语句包括多个条件时，使用逻辑or运算；多条match语句时，使用逻辑and运算</li>\n</ul>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">match ip address 匹配访问列表或前缀列表</span><br><span class=\"line\">match length 根据分组的第三层长度进行匹配</span><br><span class=\"line\">match interface 匹配下一跳出接口为指定接口之一的路由</span><br><span class=\"line\">match ip next-hop 匹配下一跳地址为特定访问列表中被允许的那些路由</span><br><span class=\"line\">match metric 匹配具有指定度量值的路由</span><br><span class=\"line\">match route-type 匹配指定类型的路由</span><br><span class=\"line\">match community 匹配BGP共同体</span><br><span class=\"line\">match tag 根据路由的标记进行匹配</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"distribute-list\"><a href=\"#distribute-list\" class=\"headerlink\" title=\"distribute-list\"></a>distribute-list</h1><h2 id=\"distribute-list-可根据下列因素过滤更新\"><a href=\"#distribute-list-可根据下列因素过滤更新\" class=\"headerlink\" title=\"distribute-list 可根据下列因素过滤更新\"></a>distribute-list 可根据下列因素过滤更新</h2><ul>\n<li>入站接口</li>\n<li>出站接口</li>\n<li>从另一种路由协议重分发</li>\n</ul>\n<h2 id=\"对于距离矢量路由协议\"><a href=\"#对于距离矢量路由协议\" class=\"headerlink\" title=\"对于距离矢量路由协议\"></a>对于距离矢量路由协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765382208-5939d7f3-0224-48a4-8bd2-4b38e06c0c22.png\"></p>\n<h2 id=\"对于链路状态路由协议\"><a href=\"#对于链路状态路由协议\" class=\"headerlink\" title=\"对于链路状态路由协议\"></a>对于链路状态路由协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765432018-af56c92b-2a62-4a66-8430-79f752fc4a02.png\"></p>\n<h2 id=\"配置-1\"><a href=\"#配置-1\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768260182-2e14961d-ad68-4651-ae82-e9eebcc05966.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R2(config)# access-list 1 permit 192.168.1.0</span><br><span class=\"line\">R2(config)# access-list 1 permit 192.168.2.0</span><br><span class=\"line\">R2(config)# router rip</span><br><span class=\"line\">R2(config-router)# distribute-list 1 out fa 1/0</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"prefix-list\"><a href=\"#prefix-list\" class=\"headerlink\" title=\"prefix-list\"></a>prefix-list</h1><h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768421821-4f542729-31cd-484e-bd5c-0c7a22b12463.png\"></p>\n<ul>\n<li>外部路由172.16.32.0-39.0&#x2F;24，以及汇总路由32.0&#x2F;21被R1引入OSPF现在需在注入过程中，仅将汇总路由32.0&#x2F;21过滤，所有明细放行，使用ACL匹配路由，该如何写?</li>\n</ul>\n<p><code>R1(config)# access-list 1 deny 172.16.32.0\t#如果加上反掩码呢</code></p>\n<p><code>R1(config)# access-ist 1 permit any</code></p>\n<h2 id=\"前缀列表\"><a href=\"#前缀列表\" class=\"headerlink\" title=\"前缀列表\"></a>前缀列表</h2><ul>\n<li>前缀列表的可控性比访问列表高得多，支持增量修改，更为灵活</li>\n<li>判断路由前缀与前缀列表中的前缀是否匹配</li>\n<li>前缀列表包含序列号，从最小的开始匹配，默认序列为5，以5增加</li>\n<li>如果前缀不与前缀列表中的任何条目匹配，将被拒绝</li>\n</ul>\n<h2 id=\"配置-2\"><a href=\"#配置-2\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730771586431-d5907351-8a3b-4875-bb63-9a586ef96637.png\"></p>\n<p><code>router(config)# **ip prefix-list** &#123;list-name [**seq** number] &#123;**deny | permit**&#125; _network/length_ [**ge** _ge-value_] [**le** _le-value_]</code></p>\n<p>输入条件：length &lt; ge-value &lt; le-value &lt;&#x3D; 32</p>\n<h3 id=\"配置示例\"><a href=\"#配置示例\" class=\"headerlink\" title=\"配置示例\"></a>配置示例</h3><ul>\n<li>匹配某条特定路由：192.168.1.0&#x2F;24<ul>\n<li><code>ip prefix-list pxlist 192.168.1.0/24</code></li>\n</ul>\n</li>\n<li>匹配默认路由：<ul>\n<li><code>ip prefix-list pxlist permit 0.0.0.0/0</code></li>\n</ul>\n</li>\n<li>匹配所有主机路由：<ul>\n<li><code>ip prefix-list pxlist permit 0.0.0.0/0 ge 32</code></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"路径控制\"><a href=\"#路径控制\" class=\"headerlink\" title=\"路径控制\"></a>路径控制</h1><p>网络实现冗余，还需要考虑以下问题</p>\n<ul>\n<li>弹性：实现链路的主动切换同时备用链路可用于负载均衡</li>\n<li>可用性：从主链路切换到备用链路的时间</li>\n<li>自适应：主链路拥塞时也可以使用冗余路径</li>\n<li>性能：提高带宽的使用率</li>\n</ul>\n<h2 id=\"路径控制工具\"><a href=\"#路径控制工具\" class=\"headerlink\" title=\"路径控制工具\"></a>路径控制工具</h2><ul>\n<li>妥善的编制方案：VLSM和CIDR</li>\n<li>重分发和路由协议的特征</li>\n<li>passive-interface</li>\n<li>distribute-list</li>\n<li>prefix-list</li>\n<li>AD的把控</li>\n<li>route-map</li>\n<li>路由标记</li>\n<li>offset-list</li>\n<li>路由标记</li>\n<li>思科IOS IP SLAs</li>\n<li>PBR</li>\n</ul>\n<h2 id=\"offset-list的作用\"><a href=\"#offset-list的作用\" class=\"headerlink\" title=\"offset-list的作用\"></a>offset-list的作用</h2><ul>\n<li>用于在入站或出站时增大通过EIGRP或RIP获悉的路由度量值</li>\n</ul>\n<p><code>router(config-router)# offset-list &#123;access-list-number| name&#125; &#123;in|out&#125; offset [interface-type interface-number]</code></p>\n<h2 id=\"offset-list的配置\"><a href=\"#offset-list的配置\" class=\"headerlink\" title=\"offset-list的配置\"></a>offset-list的配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730773350466-5d587359-93a3-41f8-ae95-2a94868aecb4.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-list 1 permit 10.1.1.0</span><br><span class=\"line\">router rip</span><br><span class=\"line\">offset-list 1 out 2 serial 0/0</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"PBR策略路由\"><a href=\"#PBR策略路由\" class=\"headerlink\" title=\"PBR策略路由\"></a>PBR策略路由</h1><h2 id=\"PBR\"><a href=\"#PBR\" class=\"headerlink\" title=\"PBR\"></a>PBR</h2><ul>\n<li>基于策略的路由比传统路由能力更强，使用更灵活，它使网络管理者不仅能够根据目的地址而且能够根据协议类型、报文大小、应用或IP源地址来选择转发路径。策略可以定义为通过多路由器的负载平衡或根据总流量在各线上进行报文转发的服务质量来定义策略路由。</li>\n<li>策略路由主要对经过路由器的数据流进行分流和过滤以及感兴趣数据流匹配</li>\n</ul>\n<h2 id=\"传统路由VS策略路由\"><a href=\"#传统路由VS策略路由\" class=\"headerlink\" title=\"传统路由VS策略路由\"></a>传统路由VS策略路由</h2><h3 id=\"传统路由\"><a href=\"#传统路由\" class=\"headerlink\" title=\"传统路由\"></a>传统路由</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775469785-37c97bda-3880-410d-bb4d-3def31028fb9.png\"></p>\n<h3 id=\"策略路由\"><a href=\"#策略路由\" class=\"headerlink\" title=\"策略路由\"></a>策略路由</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775507016-b35087ed-da05-4558-aed6-aafa6e38c85e.png\"></p>\n<h2 id=\"PBR对数据的处理\"><a href=\"#PBR对数据的处理\" class=\"headerlink\" title=\"PBR对数据的处理\"></a>PBR对数据的处理</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775547268-b569e647-03d1-41eb-b6f6-444d7cd1ac02.png\"></p>\n<h2 id=\"配置-3\"><a href=\"#配置-3\" class=\"headerlink\" title=\"配置\"></a>配置</h2><ul>\n<li>设定分组的下一跳IP（必须为直连IP）<ul>\n<li><code>set ip next-hop ip-address [...ip-address]</code></li>\n</ul>\n</li>\n<li>设定分组的出接口<ul>\n<li><code>set interface type number [...type number]</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"场景1\"><a href=\"#场景1\" class=\"headerlink\" title=\"场景1\"></a>场景1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730788273052-453973f9-cb0f-4d85-a1a5-2ed89d2b898b.png\"></p>\n<ul>\n<li>当网络正常时，PC访问外网数据走ISP1</li>\n<li>当ISP1宕机时(GW感知到)，数据切换至ISP2</li>\n<li>当ISP1容机时(GW无感知)，数据仍然走ISP1</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-list 1 permit any</span><br><span class=\"line\">route-map PBR permit 10</span><br><span class=\"line\">match ip address 1</span><br><span class=\"line\">set ip next-hop 10.1.1.2 10.2.2.2</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h1 id=\"路由部分\"><a href=\"#路由部分\" class=\"headerlink\" title=\"路由部分\"></a>路由部分</h1><h2 id=\"网络中使用多种IP路由协议\"><a href=\"#网络中使用多种IP路由协议\" class=\"headerlink\" title=\"网络中使用多种IP路由协议\"></a>网络中使用多种IP路由协议</h2><p>需要使用多种IP路由协议的原因-多厂商的路由环境</p>\n<ul>\n<li>网络合并(同一协议或是不同协议)</li>\n<li>从旧的路由协议过渡到新的路由协议</li>\n<li>路由策略的需要(可靠性、冗余性、分流模型等)</li>\n</ul>\n<p>路由重分发(多个重分发点，双向重分发)</p>\n<h2 id=\"路由重发布\"><a href=\"#路由重发布\" class=\"headerlink\" title=\"路由重发布\"></a>路由重发布</h2><h3 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h3><p>路由重分发是指连接到不同路由域(自治系统)的边界路由器在他们之间交换和通告路由选择信息的能力。</p>\n<ul>\n<li>从一种协议到另一种协议</li>\n<li>同一种协议的多个实例</li>\n</ul>\n<p>注意</p>\n<ul>\n<li>重分发总是向外的，执行重分发的路由器不会修改其路由表</li>\n<li>路由必须要位于路由表中才能被重分发</li>\n</ul>\n<h3 id=\"路由重发布-1\"><a href=\"#路由重发布-1\" class=\"headerlink\" title=\"路由重发布\"></a>路由重发布</h3><ul>\n<li>重发布要考虑的因素<ul>\n<li>路由回馈</li>\n<li>路由信息不兼容（度量值信息不一致）</li>\n<li>收敛时间不一致（不同路由协议的收敛速度不同）</li>\n</ul>\n</li>\n<li>如果选择最佳路由<ul>\n<li>管理距离</li>\n<li>度量值</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"路由回馈\"><a href=\"#路由回馈\" class=\"headerlink\" title=\"路由回馈\"></a>路由回馈</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730252795715-71f9fcc0-544c-41e7-94a1-cdde5265b108.png\"></p>\n<ul>\n<li></li>\n</ul>\n<ul>\n<li>度量值–种子度量值</li>\n<li>路由器通告与其接口直接相连的链路时，使用的初始度量值叫做种子度量值(也叫做默认度量值)，是根据接口的特征得到的。</li>\n<li>种子度量值或默认度量值是在重分发配置期间定义的，并在自治系统内部正常递增，除了OSPF E2路由。</li>\n<li>可使用命令default-metric或是redistribute中使用metric来指定种子度量值</li>\n</ul>\n<h3 id=\"度量值——默认种子度量值\"><a href=\"#度量值——默认种子度量值\" class=\"headerlink\" title=\"度量值——默认种子度量值\"></a>度量值——默认种子度量值</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730253536563-710553ac-ca47-4ce5-9027-a64118280c8e.png\"></p>\n<h3 id=\"单点重分发\"><a href=\"#单点重分发\" class=\"headerlink\" title=\"单点重分发\"></a>单点重分发</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730256948062-64555df9-3f06-41ec-b0c2-9c14cd5cc025.png\"></p>\n<p>单向重分发</p>\n<p>双向重分发</p>\n<h3 id=\"多点单向重发布\"><a href=\"#多点单向重发布\" class=\"headerlink\" title=\"多点单向重发布\"></a>多点单向重发布</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257151571-18b8b2e8-3c79-40ea-b97c-d622e5dc20b8.png\"></p>\n<h3 id=\"多点双向重发布\"><a href=\"#多点双向重发布\" class=\"headerlink\" title=\"多点双向重发布\"></a>多点双向重发布</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730257180586-f3f245e3-f240-4044-b59e-b2154fde1431.png\"></p>\n<h1 id=\"Passive-interface\"><a href=\"#Passive-interface\" class=\"headerlink\" title=\"Passive-interface\"></a>Passive-interface</h1><ul>\n<li>RIP&#x2F;IGRP——在指定接口不向外发送路由更新，但是接收路由更新</li>\n<li>EIGRP——在指定接口不向外发送Hello消息，而且通过这个接口不与其他路由器建立邻接关系，不发送其它EIGRP的数据流</li>\n<li>OSPF——在指定接口不向外发送Hello消息，而且通过这 个接口不与其他路由器建立邻接关系，不发送和接收路由信息。(有些IOS版本中OSPF在被动接口上发送Helo和DBD分组，但是不发送LSU。)</li>\n</ul>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><ul>\n<li>汇聚交换机上所有的三层接口都Network进相应的Area</li>\n<li>汇聚交换机将向所有VLAN接口发送HELLO报文，尝试建立邻居关系，而底层的用户也会收到其并不需要的HELLO包</li>\n</ul>\n<h2 id=\"Passive-interface与单播更新\"><a href=\"#Passive-interface与单播更新\" class=\"headerlink\" title=\"Passive-interface与单播更新\"></a>Passive-interface与单播更新</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339033871-1958274b-9355-4326-a286-f9c3e31efd0e.png\"></p>\n<p>配置RIP单播更新</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router rip</span><br><span class=\"line\">Router(config-router)# passive-interface int-type int-num</span><br><span class=\"line\">Router(config-router)# neighbor 192.168.123.3</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"常见路由协议管理距离\"><a href=\"#常见路由协议管理距离\" class=\"headerlink\" title=\"常见路由协议管理距离\"></a>常见路由协议管理距离</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730339568655-3eb7af04-e1a6-498c-85a3-f72f55fcd42a.png\"></p>\n<h1 id=\"Route-map\"><a href=\"#Route-map\" class=\"headerlink\" title=\"Route-map\"></a>Route-map</h1><h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>使用的match命令匹配特定的分组或路由，set修改该分组或路由的相关属性</li>\n<li>Route-map中的语句相当于访问列表中的各行</li>\n<li>Route-map默认为permit，默认序列号为10，序列号不会自动递增，需要指定序列号</li>\n<li>末尾隐含deny any</li>\n<li>单挑match语句包括多个条件时，使用逻辑or运算；多条match语句时，使用逻辑and运算</li>\n</ul>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">match ip address 匹配访问列表或前缀列表</span><br><span class=\"line\">match length 根据分组的第三层长度进行匹配</span><br><span class=\"line\">match interface 匹配下一跳出接口为指定接口之一的路由</span><br><span class=\"line\">match ip next-hop 匹配下一跳地址为特定访问列表中被允许的那些路由</span><br><span class=\"line\">match metric 匹配具有指定度量值的路由</span><br><span class=\"line\">match route-type 匹配指定类型的路由</span><br><span class=\"line\">match community 匹配BGP共同体</span><br><span class=\"line\">match tag 根据路由的标记进行匹配</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"distribute-list\"><a href=\"#distribute-list\" class=\"headerlink\" title=\"distribute-list\"></a>distribute-list</h1><h2 id=\"distribute-list-可根据下列因素过滤更新\"><a href=\"#distribute-list-可根据下列因素过滤更新\" class=\"headerlink\" title=\"distribute-list 可根据下列因素过滤更新\"></a>distribute-list 可根据下列因素过滤更新</h2><ul>\n<li>入站接口</li>\n<li>出站接口</li>\n<li>从另一种路由协议重分发</li>\n</ul>\n<h2 id=\"对于距离矢量路由协议\"><a href=\"#对于距离矢量路由协议\" class=\"headerlink\" title=\"对于距离矢量路由协议\"></a>对于距离矢量路由协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765382208-5939d7f3-0224-48a4-8bd2-4b38e06c0c22.png\"></p>\n<h2 id=\"对于链路状态路由协议\"><a href=\"#对于链路状态路由协议\" class=\"headerlink\" title=\"对于链路状态路由协议\"></a>对于链路状态路由协议</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730765432018-af56c92b-2a62-4a66-8430-79f752fc4a02.png\"></p>\n<h2 id=\"配置-1\"><a href=\"#配置-1\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768260182-2e14961d-ad68-4651-ae82-e9eebcc05966.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R2(config)# access-list 1 permit 192.168.1.0</span><br><span class=\"line\">R2(config)# access-list 1 permit 192.168.2.0</span><br><span class=\"line\">R2(config)# router rip</span><br><span class=\"line\">R2(config-router)# distribute-list 1 out fa 1/0</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"prefix-list\"><a href=\"#prefix-list\" class=\"headerlink\" title=\"prefix-list\"></a>prefix-list</h1><h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730768421821-4f542729-31cd-484e-bd5c-0c7a22b12463.png\"></p>\n<ul>\n<li>外部路由172.16.32.0-39.0&#x2F;24，以及汇总路由32.0&#x2F;21被R1引入OSPF现在需在注入过程中，仅将汇总路由32.0&#x2F;21过滤，所有明细放行，使用ACL匹配路由，该如何写?</li>\n</ul>\n<p><code>R1(config)# access-list 1 deny 172.16.32.0\t#如果加上反掩码呢</code></p>\n<p><code>R1(config)# access-ist 1 permit any</code></p>\n<h2 id=\"前缀列表\"><a href=\"#前缀列表\" class=\"headerlink\" title=\"前缀列表\"></a>前缀列表</h2><ul>\n<li>前缀列表的可控性比访问列表高得多，支持增量修改，更为灵活</li>\n<li>判断路由前缀与前缀列表中的前缀是否匹配</li>\n<li>前缀列表包含序列号，从最小的开始匹配，默认序列为5，以5增加</li>\n<li>如果前缀不与前缀列表中的任何条目匹配，将被拒绝</li>\n</ul>\n<h2 id=\"配置-2\"><a href=\"#配置-2\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730771586431-d5907351-8a3b-4875-bb63-9a586ef96637.png\"></p>\n<p><code>router(config)# **ip prefix-list** &#123;list-name [**seq** number] &#123;**deny | permit**&#125; _network/length_ [**ge** _ge-value_] [**le** _le-value_]</code></p>\n<p>输入条件：length &lt; ge-value &lt; le-value &lt;&#x3D; 32</p>\n<h3 id=\"配置示例\"><a href=\"#配置示例\" class=\"headerlink\" title=\"配置示例\"></a>配置示例</h3><ul>\n<li>匹配某条特定路由：192.168.1.0&#x2F;24<ul>\n<li><code>ip prefix-list pxlist 192.168.1.0/24</code></li>\n</ul>\n</li>\n<li>匹配默认路由：<ul>\n<li><code>ip prefix-list pxlist permit 0.0.0.0/0</code></li>\n</ul>\n</li>\n<li>匹配所有主机路由：<ul>\n<li><code>ip prefix-list pxlist permit 0.0.0.0/0 ge 32</code></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"路径控制\"><a href=\"#路径控制\" class=\"headerlink\" title=\"路径控制\"></a>路径控制</h1><p>网络实现冗余，还需要考虑以下问题</p>\n<ul>\n<li>弹性：实现链路的主动切换同时备用链路可用于负载均衡</li>\n<li>可用性：从主链路切换到备用链路的时间</li>\n<li>自适应：主链路拥塞时也可以使用冗余路径</li>\n<li>性能：提高带宽的使用率</li>\n</ul>\n<h2 id=\"路径控制工具\"><a href=\"#路径控制工具\" class=\"headerlink\" title=\"路径控制工具\"></a>路径控制工具</h2><ul>\n<li>妥善的编制方案：VLSM和CIDR</li>\n<li>重分发和路由协议的特征</li>\n<li>passive-interface</li>\n<li>distribute-list</li>\n<li>prefix-list</li>\n<li>AD的把控</li>\n<li>route-map</li>\n<li>路由标记</li>\n<li>offset-list</li>\n<li>路由标记</li>\n<li>思科IOS IP SLAs</li>\n<li>PBR</li>\n</ul>\n<h2 id=\"offset-list的作用\"><a href=\"#offset-list的作用\" class=\"headerlink\" title=\"offset-list的作用\"></a>offset-list的作用</h2><ul>\n<li>用于在入站或出站时增大通过EIGRP或RIP获悉的路由度量值</li>\n</ul>\n<p><code>router(config-router)# offset-list &#123;access-list-number| name&#125; &#123;in|out&#125; offset [interface-type interface-number]</code></p>\n<h2 id=\"offset-list的配置\"><a href=\"#offset-list的配置\" class=\"headerlink\" title=\"offset-list的配置\"></a>offset-list的配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730773350466-5d587359-93a3-41f8-ae95-2a94868aecb4.png\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-list 1 permit 10.1.1.0</span><br><span class=\"line\">router rip</span><br><span class=\"line\">offset-list 1 out 2 serial 0/0</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"PBR策略路由\"><a href=\"#PBR策略路由\" class=\"headerlink\" title=\"PBR策略路由\"></a>PBR策略路由</h1><h2 id=\"PBR\"><a href=\"#PBR\" class=\"headerlink\" title=\"PBR\"></a>PBR</h2><ul>\n<li>基于策略的路由比传统路由能力更强，使用更灵活，它使网络管理者不仅能够根据目的地址而且能够根据协议类型、报文大小、应用或IP源地址来选择转发路径。策略可以定义为通过多路由器的负载平衡或根据总流量在各线上进行报文转发的服务质量来定义策略路由。</li>\n<li>策略路由主要对经过路由器的数据流进行分流和过滤以及感兴趣数据流匹配</li>\n</ul>\n<h2 id=\"传统路由VS策略路由\"><a href=\"#传统路由VS策略路由\" class=\"headerlink\" title=\"传统路由VS策略路由\"></a>传统路由VS策略路由</h2><h3 id=\"传统路由\"><a href=\"#传统路由\" class=\"headerlink\" title=\"传统路由\"></a>传统路由</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775469785-37c97bda-3880-410d-bb4d-3def31028fb9.png\"></p>\n<h3 id=\"策略路由\"><a href=\"#策略路由\" class=\"headerlink\" title=\"策略路由\"></a>策略路由</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775507016-b35087ed-da05-4558-aed6-aafa6e38c85e.png\"></p>\n<h2 id=\"PBR对数据的处理\"><a href=\"#PBR对数据的处理\" class=\"headerlink\" title=\"PBR对数据的处理\"></a>PBR对数据的处理</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730775547268-b569e647-03d1-41eb-b6f6-444d7cd1ac02.png\"></p>\n<h2 id=\"配置-3\"><a href=\"#配置-3\" class=\"headerlink\" title=\"配置\"></a>配置</h2><ul>\n<li>设定分组的下一跳IP（必须为直连IP）<ul>\n<li><code>set ip next-hop ip-address [...ip-address]</code></li>\n</ul>\n</li>\n<li>设定分组的出接口<ul>\n<li><code>set interface type number [...type number]</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"场景1\"><a href=\"#场景1\" class=\"headerlink\" title=\"场景1\"></a>场景1</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1730788273052-453973f9-cb0f-4d85-a1a5-2ed89d2b898b.png\"></p>\n<ul>\n<li>当网络正常时，PC访问外网数据走ISP1</li>\n<li>当ISP1宕机时(GW感知到)，数据切换至ISP2</li>\n<li>当ISP1容机时(GW无感知)，数据仍然走ISP1</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">access-list 1 permit any</span><br><span class=\"line\">route-map PBR permit 10</span><br><span class=\"line\">match ip address 1</span><br><span class=\"line\">set ip next-hop 10.1.1.2 10.2.2.2</span><br></pre></td></tr></table></figure>"},{"title":"路由选择原理","summary":"酥米小机器人来啦，这篇文章主要讲解路由选择原理包括路由信息来源如直连路由需接口配置IP且物理数据链路层UP静态路由手工配置或通过动态路由协议如RIP OSPF IS-IS EIGRP BGP学习管理距离AD值用于判断路由优先级有类路由查找基于主类网络逐级匹配无类路由查找则通过最长匹配原则逐位bit by bit比较路由表条目最长匹配原则优先选择最具体路由如主机地址子网汇总路由主网号超网CIDR等若无匹配则使用缺省地址递归查询用于处理下一跳非直连路由的情况协议分类上RIPv1 IGRP为有类路由选择协议OSPF EIGRP ISIS BGP等为无类路由选择协议区别在于更新消息是否包含网络掩码浮动静态路由通过修改AD实现路由冗余静态路由汇总则通过改变子网掩码简化路由表配置命令如Ip route 192.168.10.0 255.255.255.0 192.168.1.1指向下一跳或Ip route 192.168.10.0 255.255.255.0 fa 0/0指向出接口需注意出接口为广播型时可能造成ARP负担路由表查找需比较","cover":"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556630961-3d015d9f-3ae5-4c13-80fd-44414035a0ed.png","date":"2024-11-21T01:01:46.000Z","_content":"\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 路由选择原理\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556630961-3d015d9f-3ae5-4c13-80fd-44414035a0ed.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556639379-05e1075f-512e-4609-9792-e21fcde11d20.png)\n\n+ 路由信息来源\n+ 管理距离（AD值）\n+ 有类及无类路由查找\n+ 最长匹配原则\n+ 递归查询\n\n## 路由信息的来源\n+ 直连路由\n    - 接口配置IP，该接口的物理层和数据链路层UP\n    - 通过接口感知到的直连网络\n+ 静态路由\n    - 使用静态路由命令手工配置的路由\n+ 动态路由\n    - 通过动态路由协议学习\n    - 常见路由协议：RIP、OSPF、IS-IS、EIGRP、BGP\n\n## 管理距离（AD值）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557010043-46b3011e-6b27-48c8-9f06-c8b053d29574.png)\n\n## 有类及无类路由查找\n+ **无类路由查找**：路由器不会注意目的地址的类别，它会在目的地址和所有己知的路由之间逐位(bit by bit)执行最长匹配\n+ **有类路由查找**（no ip classless）：路由器收到一个数据包时，先查找目的地址所属主类网络，如果路由表中存在该主类网络的路由，则继续找子网，如果没有子网路由则丢弃数据包（即使本地有默认路由，也同样丢弃），如果有则正常转发;而如果本地路由表里没有该目的地址所属主类网络的路由，则看是否有默认路由，如果有，则转发，如果没有，则丢弃。\n\n## 最长匹配原则\n+ 主机地址（主机路径）\n+ 子网\n+ 一组子网（汇总路由）\n+ 主网号\n+ 超网（CIDR）\n+ 缺省地址\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557446146-ebde076d-6d67-4744-b602-f3af3c202b25.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558543372-6f0ce184-42bb-46e0-b9de-9f3f89514936.png)\n\n## 路由表的查找\n+ 不同的前缀，在路由表中属于不同的路由\n+ 相同的前缀，先比AD，后比metric\n+ 匹配，转发；不匹配，丢弃\n+ 路由器的行为是逐跳的，到目标网络的沿路径每个路由器都必须有关于目标的路由\n+ 数据是双向的，考虑流量的时候，要关注流量的往返\n\n## 路由表的递归查询\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558770399-0145f42d-3b34-47d4-8415-b50b98eeaf42.png)\n\n## 协议分类\n+ 有类路由选择协议：RIPv1、IGRP\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565436293-0236dbc1-1d8c-4bd1-a0c3-df14ecd55870.png)\n+ 无类路由选择协议：OSPF、EIGRP、ISIS、BGP等\n+ 根本区别在于：更新消息中是否含有网络掩码\n\n## 浮动的静态路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729566091093-7800b4ae-dc55-4da4-b7c4-0c96f54807fc.png)\n\n+ 通过修改缺省的管理具体实现路由冗余\n\n### 静态路由汇总\n+ 改变子网掩码，通过汇总路由匹配明细，从而简化路由表\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729578966077-6f787972-1326-45fc-b640-0408a427dc5e.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729580677499-e739e627-2e8e-4eb7-9a22-19a2caf8e673.png)\n\n## 基础配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565692870-f2f68474-85ac-4f44-b6ff-8ff47e689483.png)\n\n`Ip route 192.168.10.0 255.255.255.0 192.168.1.1`\n\n使用指向下一跳的静态路由\n\n`Ip route 192.168.10.0 255.255.255.0 fa 0/0`\n\n使用指向出接口的静态路由该条目将作为直连网络输入到路由表中如果出接口为广播型接口，可能会给接口下的节点造成额外的负担(ARP)\n\n```plain\nRouter# show ip route\nGateway of last resort is not set \n9.0.0.0/2 4 is subnetted,2 subnets\nC\t\t9.9.12.0 is directly connected, FastEthernet0/0\nS\t\t9.9.23.0 is directly connected, FastEthernet0/0\n```","source":"_posts/CCNP/CCNP路由 路由选择原理.md","raw":"---\ntitle: 路由选择原理\nsummary: >-\n  酥米小机器人来啦，这篇文章主要讲解路由选择原理包括路由信息来源如直连路由需接口配置IP且物理数据链路层UP静态路由手工配置或通过动态路由协议如RIP\n  OSPF IS-IS EIGRP BGP学习管理距离AD值用于判断路由优先级有类路由查找基于主类网络逐级匹配无类路由查找则通过最长匹配原则逐位bit by\n  bit比较路由表条目最长匹配原则优先选择最具体路由如主机地址子网汇总路由主网号超网CIDR等若无匹配则使用缺省地址递归查询用于处理下一跳非直连路由的情况协议分类上RIPv1\n  IGRP为有类路由选择协议OSPF EIGRP ISIS\n  BGP等为无类路由选择协议区别在于更新消息是否包含网络掩码浮动静态路由通过修改AD实现路由冗余静态路由汇总则通过改变子网掩码简化路由表配置命令如Ip\n  route 192.168.10.0 255.255.255.0 192.168.1.1指向下一跳或Ip route 192.168.10.0\n  255.255.255.0 fa 0/0指向出接口需注意出接口为广播型时可能造成ARP负担路由表查找需比较\ncategories:\n  - 思科\ntags:\n  - 网络\n  - CCNP\ncover: >-\n  https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556630961-3d015d9f-3ae5-4c13-80fd-44414035a0ed.png\ndate: 2024-11-21 09:01:46\n---\n\n<meta name=\"referrer\" content=\"no-referrer\" />\n\n## 路由选择原理\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556630961-3d015d9f-3ae5-4c13-80fd-44414035a0ed.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556639379-05e1075f-512e-4609-9792-e21fcde11d20.png)\n\n+ 路由信息来源\n+ 管理距离（AD值）\n+ 有类及无类路由查找\n+ 最长匹配原则\n+ 递归查询\n\n## 路由信息的来源\n+ 直连路由\n    - 接口配置IP，该接口的物理层和数据链路层UP\n    - 通过接口感知到的直连网络\n+ 静态路由\n    - 使用静态路由命令手工配置的路由\n+ 动态路由\n    - 通过动态路由协议学习\n    - 常见路由协议：RIP、OSPF、IS-IS、EIGRP、BGP\n\n## 管理距离（AD值）\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557010043-46b3011e-6b27-48c8-9f06-c8b053d29574.png)\n\n## 有类及无类路由查找\n+ **无类路由查找**：路由器不会注意目的地址的类别，它会在目的地址和所有己知的路由之间逐位(bit by bit)执行最长匹配\n+ **有类路由查找**（no ip classless）：路由器收到一个数据包时，先查找目的地址所属主类网络，如果路由表中存在该主类网络的路由，则继续找子网，如果没有子网路由则丢弃数据包（即使本地有默认路由，也同样丢弃），如果有则正常转发;而如果本地路由表里没有该目的地址所属主类网络的路由，则看是否有默认路由，如果有，则转发，如果没有，则丢弃。\n\n## 最长匹配原则\n+ 主机地址（主机路径）\n+ 子网\n+ 一组子网（汇总路由）\n+ 主网号\n+ 超网（CIDR）\n+ 缺省地址\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557446146-ebde076d-6d67-4744-b602-f3af3c202b25.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558543372-6f0ce184-42bb-46e0-b9de-9f3f89514936.png)\n\n## 路由表的查找\n+ 不同的前缀，在路由表中属于不同的路由\n+ 相同的前缀，先比AD，后比metric\n+ 匹配，转发；不匹配，丢弃\n+ 路由器的行为是逐跳的，到目标网络的沿路径每个路由器都必须有关于目标的路由\n+ 数据是双向的，考虑流量的时候，要关注流量的往返\n\n## 路由表的递归查询\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558770399-0145f42d-3b34-47d4-8415-b50b98eeaf42.png)\n\n## 协议分类\n+ 有类路由选择协议：RIPv1、IGRP\n    - ![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565436293-0236dbc1-1d8c-4bd1-a0c3-df14ecd55870.png)\n+ 无类路由选择协议：OSPF、EIGRP、ISIS、BGP等\n+ 根本区别在于：更新消息中是否含有网络掩码\n\n## 浮动的静态路由\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729566091093-7800b4ae-dc55-4da4-b7c4-0c96f54807fc.png)\n\n+ 通过修改缺省的管理具体实现路由冗余\n\n### 静态路由汇总\n+ 改变子网掩码，通过汇总路由匹配明细，从而简化路由表\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729578966077-6f787972-1326-45fc-b640-0408a427dc5e.png)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729580677499-e739e627-2e8e-4eb7-9a22-19a2caf8e673.png)\n\n## 基础配置\n![](https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565692870-f2f68474-85ac-4f44-b6ff-8ff47e689483.png)\n\n`Ip route 192.168.10.0 255.255.255.0 192.168.1.1`\n\n使用指向下一跳的静态路由\n\n`Ip route 192.168.10.0 255.255.255.0 fa 0/0`\n\n使用指向出接口的静态路由该条目将作为直连网络输入到路由表中如果出接口为广播型接口，可能会给接口下的节点造成额外的负担(ARP)\n\n```plain\nRouter# show ip route\nGateway of last resort is not set \n9.0.0.0/2 4 is subnetted,2 subnets\nC\t\t9.9.12.0 is directly connected, FastEthernet0/0\nS\t\t9.9.23.0 is directly connected, FastEthernet0/0\n```","slug":"CCNP/CCNP路由 路由选择原理","published":1,"updated":"2025-08-02T09:54:36.598Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560e002rg0fybsa32jq0","content":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"路由选择原理\"><a href=\"#路由选择原理\" class=\"headerlink\" title=\"路由选择原理\"></a>路由选择原理</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556630961-3d015d9f-3ae5-4c13-80fd-44414035a0ed.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556639379-05e1075f-512e-4609-9792-e21fcde11d20.png\"></p>\n<ul>\n<li>路由信息来源</li>\n<li>管理距离（AD值）</li>\n<li>有类及无类路由查找</li>\n<li>最长匹配原则</li>\n<li>递归查询</li>\n</ul>\n<h2 id=\"路由信息的来源\"><a href=\"#路由信息的来源\" class=\"headerlink\" title=\"路由信息的来源\"></a>路由信息的来源</h2><ul>\n<li>直连路由<ul>\n<li>接口配置IP，该接口的物理层和数据链路层UP</li>\n<li>通过接口感知到的直连网络</li>\n</ul>\n</li>\n<li>静态路由<ul>\n<li>使用静态路由命令手工配置的路由</li>\n</ul>\n</li>\n<li>动态路由<ul>\n<li>通过动态路由协议学习</li>\n<li>常见路由协议：RIP、OSPF、IS-IS、EIGRP、BGP</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"管理距离（AD值）\"><a href=\"#管理距离（AD值）\" class=\"headerlink\" title=\"管理距离（AD值）\"></a>管理距离（AD值）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557010043-46b3011e-6b27-48c8-9f06-c8b053d29574.png\"></p>\n<h2 id=\"有类及无类路由查找\"><a href=\"#有类及无类路由查找\" class=\"headerlink\" title=\"有类及无类路由查找\"></a>有类及无类路由查找</h2><ul>\n<li><strong>无类路由查找</strong>：路由器不会注意目的地址的类别，它会在目的地址和所有己知的路由之间逐位(bit by bit)执行最长匹配</li>\n<li><strong>有类路由查找</strong>（no ip classless）：路由器收到一个数据包时，先查找目的地址所属主类网络，如果路由表中存在该主类网络的路由，则继续找子网，如果没有子网路由则丢弃数据包（即使本地有默认路由，也同样丢弃），如果有则正常转发;而如果本地路由表里没有该目的地址所属主类网络的路由，则看是否有默认路由，如果有，则转发，如果没有，则丢弃。</li>\n</ul>\n<h2 id=\"最长匹配原则\"><a href=\"#最长匹配原则\" class=\"headerlink\" title=\"最长匹配原则\"></a>最长匹配原则</h2><ul>\n<li>主机地址（主机路径）</li>\n<li>子网</li>\n<li>一组子网（汇总路由）</li>\n<li>主网号</li>\n<li>超网（CIDR）</li>\n<li>缺省地址</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557446146-ebde076d-6d67-4744-b602-f3af3c202b25.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558543372-6f0ce184-42bb-46e0-b9de-9f3f89514936.png\"></p>\n<h2 id=\"路由表的查找\"><a href=\"#路由表的查找\" class=\"headerlink\" title=\"路由表的查找\"></a>路由表的查找</h2><ul>\n<li>不同的前缀，在路由表中属于不同的路由</li>\n<li>相同的前缀，先比AD，后比metric</li>\n<li>匹配，转发；不匹配，丢弃</li>\n<li>路由器的行为是逐跳的，到目标网络的沿路径每个路由器都必须有关于目标的路由</li>\n<li>数据是双向的，考虑流量的时候，要关注流量的往返</li>\n</ul>\n<h2 id=\"路由表的递归查询\"><a href=\"#路由表的递归查询\" class=\"headerlink\" title=\"路由表的递归查询\"></a>路由表的递归查询</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558770399-0145f42d-3b34-47d4-8415-b50b98eeaf42.png\"></p>\n<h2 id=\"协议分类\"><a href=\"#协议分类\" class=\"headerlink\" title=\"协议分类\"></a>协议分类</h2><ul>\n<li>有类路由选择协议：RIPv1、IGRP<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565436293-0236dbc1-1d8c-4bd1-a0c3-df14ecd55870.png\"></li>\n</ul>\n</li>\n<li>无类路由选择协议：OSPF、EIGRP、ISIS、BGP等</li>\n<li>根本区别在于：更新消息中是否含有网络掩码</li>\n</ul>\n<h2 id=\"浮动的静态路由\"><a href=\"#浮动的静态路由\" class=\"headerlink\" title=\"浮动的静态路由\"></a>浮动的静态路由</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729566091093-7800b4ae-dc55-4da4-b7c4-0c96f54807fc.png\"></p>\n<ul>\n<li>通过修改缺省的管理具体实现路由冗余</li>\n</ul>\n<h3 id=\"静态路由汇总\"><a href=\"#静态路由汇总\" class=\"headerlink\" title=\"静态路由汇总\"></a>静态路由汇总</h3><ul>\n<li>改变子网掩码，通过汇总路由匹配明细，从而简化路由表</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729578966077-6f787972-1326-45fc-b640-0408a427dc5e.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729580677499-e739e627-2e8e-4eb7-9a22-19a2caf8e673.png\"></p>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565692870-f2f68474-85ac-4f44-b6ff-8ff47e689483.png\"></p>\n<p><code>Ip route 192.168.10.0 255.255.255.0 192.168.1.1</code></p>\n<p>使用指向下一跳的静态路由</p>\n<p><code>Ip route 192.168.10.0 255.255.255.0 fa 0/0</code></p>\n<p>使用指向出接口的静态路由该条目将作为直连网络输入到路由表中如果出接口为广播型接口，可能会给接口下的节点造成额外的负担(ARP)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router# show ip route</span><br><span class=\"line\">Gateway of last resort is not set </span><br><span class=\"line\">9.0.0.0/2 4 is subnetted,2 subnets</span><br><span class=\"line\">C\t\t9.9.12.0 is directly connected, FastEthernet0/0</span><br><span class=\"line\">S\t\t9.9.23.0 is directly connected, FastEthernet0/0</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<meta name=\"referrer\" content=\"no-referrer\">\n\n<h2 id=\"路由选择原理\"><a href=\"#路由选择原理\" class=\"headerlink\" title=\"路由选择原理\"></a>路由选择原理</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556630961-3d015d9f-3ae5-4c13-80fd-44414035a0ed.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729556639379-05e1075f-512e-4609-9792-e21fcde11d20.png\"></p>\n<ul>\n<li>路由信息来源</li>\n<li>管理距离（AD值）</li>\n<li>有类及无类路由查找</li>\n<li>最长匹配原则</li>\n<li>递归查询</li>\n</ul>\n<h2 id=\"路由信息的来源\"><a href=\"#路由信息的来源\" class=\"headerlink\" title=\"路由信息的来源\"></a>路由信息的来源</h2><ul>\n<li>直连路由<ul>\n<li>接口配置IP，该接口的物理层和数据链路层UP</li>\n<li>通过接口感知到的直连网络</li>\n</ul>\n</li>\n<li>静态路由<ul>\n<li>使用静态路由命令手工配置的路由</li>\n</ul>\n</li>\n<li>动态路由<ul>\n<li>通过动态路由协议学习</li>\n<li>常见路由协议：RIP、OSPF、IS-IS、EIGRP、BGP</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"管理距离（AD值）\"><a href=\"#管理距离（AD值）\" class=\"headerlink\" title=\"管理距离（AD值）\"></a>管理距离（AD值）</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557010043-46b3011e-6b27-48c8-9f06-c8b053d29574.png\"></p>\n<h2 id=\"有类及无类路由查找\"><a href=\"#有类及无类路由查找\" class=\"headerlink\" title=\"有类及无类路由查找\"></a>有类及无类路由查找</h2><ul>\n<li><strong>无类路由查找</strong>：路由器不会注意目的地址的类别，它会在目的地址和所有己知的路由之间逐位(bit by bit)执行最长匹配</li>\n<li><strong>有类路由查找</strong>（no ip classless）：路由器收到一个数据包时，先查找目的地址所属主类网络，如果路由表中存在该主类网络的路由，则继续找子网，如果没有子网路由则丢弃数据包（即使本地有默认路由，也同样丢弃），如果有则正常转发;而如果本地路由表里没有该目的地址所属主类网络的路由，则看是否有默认路由，如果有，则转发，如果没有，则丢弃。</li>\n</ul>\n<h2 id=\"最长匹配原则\"><a href=\"#最长匹配原则\" class=\"headerlink\" title=\"最长匹配原则\"></a>最长匹配原则</h2><ul>\n<li>主机地址（主机路径）</li>\n<li>子网</li>\n<li>一组子网（汇总路由）</li>\n<li>主网号</li>\n<li>超网（CIDR）</li>\n<li>缺省地址</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729557446146-ebde076d-6d67-4744-b602-f3af3c202b25.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558543372-6f0ce184-42bb-46e0-b9de-9f3f89514936.png\"></p>\n<h2 id=\"路由表的查找\"><a href=\"#路由表的查找\" class=\"headerlink\" title=\"路由表的查找\"></a>路由表的查找</h2><ul>\n<li>不同的前缀，在路由表中属于不同的路由</li>\n<li>相同的前缀，先比AD，后比metric</li>\n<li>匹配，转发；不匹配，丢弃</li>\n<li>路由器的行为是逐跳的，到目标网络的沿路径每个路由器都必须有关于目标的路由</li>\n<li>数据是双向的，考虑流量的时候，要关注流量的往返</li>\n</ul>\n<h2 id=\"路由表的递归查询\"><a href=\"#路由表的递归查询\" class=\"headerlink\" title=\"路由表的递归查询\"></a>路由表的递归查询</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729558770399-0145f42d-3b34-47d4-8415-b50b98eeaf42.png\"></p>\n<h2 id=\"协议分类\"><a href=\"#协议分类\" class=\"headerlink\" title=\"协议分类\"></a>协议分类</h2><ul>\n<li>有类路由选择协议：RIPv1、IGRP<ul>\n<li><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565436293-0236dbc1-1d8c-4bd1-a0c3-df14ecd55870.png\"></li>\n</ul>\n</li>\n<li>无类路由选择协议：OSPF、EIGRP、ISIS、BGP等</li>\n<li>根本区别在于：更新消息中是否含有网络掩码</li>\n</ul>\n<h2 id=\"浮动的静态路由\"><a href=\"#浮动的静态路由\" class=\"headerlink\" title=\"浮动的静态路由\"></a>浮动的静态路由</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729566091093-7800b4ae-dc55-4da4-b7c4-0c96f54807fc.png\"></p>\n<ul>\n<li>通过修改缺省的管理具体实现路由冗余</li>\n</ul>\n<h3 id=\"静态路由汇总\"><a href=\"#静态路由汇总\" class=\"headerlink\" title=\"静态路由汇总\"></a>静态路由汇总</h3><ul>\n<li>改变子网掩码，通过汇总路由匹配明细，从而简化路由表</li>\n</ul>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729578966077-6f787972-1326-45fc-b640-0408a427dc5e.png\"></p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729580677499-e739e627-2e8e-4eb7-9a22-19a2caf8e673.png\"></p>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><p><img src=\"https://cdn.nlark.com/yuque/0/2024/png/44908083/1729565692870-f2f68474-85ac-4f44-b6ff-8ff47e689483.png\"></p>\n<p><code>Ip route 192.168.10.0 255.255.255.0 192.168.1.1</code></p>\n<p>使用指向下一跳的静态路由</p>\n<p><code>Ip route 192.168.10.0 255.255.255.0 fa 0/0</code></p>\n<p>使用指向出接口的静态路由该条目将作为直连网络输入到路由表中如果出接口为广播型接口，可能会给接口下的节点造成额外的负担(ARP)</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router# show ip route</span><br><span class=\"line\">Gateway of last resort is not set </span><br><span class=\"line\">9.0.0.0/2 4 is subnetted,2 subnets</span><br><span class=\"line\">C\t\t9.9.12.0 is directly connected, FastEthernet0/0</span><br><span class=\"line\">S\t\t9.9.23.0 is directly connected, FastEthernet0/0</span><br></pre></td></tr></table></figure>"},{"title":"Linux Bash Shell 脚本编写","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C2162cc7fc5c709d0.jpg","summary":"酥米小机器人来啦，这篇文章介绍了Linux Bash Shell脚本的基础语法和常用命令，包括重定向操作、脚本文件创建与执行方法、参数使用、文件类型测试、整数与字符串比较、逻辑运算符、条件分支语句及循环结构，涵盖输入输出处理、变量操作、判断语句等核心内容，帮助用户掌握基础脚本编写技巧。","date":"2024-05-27T07:21:46.000Z","_content":"\n## &> /dev/null\n可放于echo末尾用于保持桌面整洁\n\n\n## shell脚本\n创建文件时在末尾添加 .sh\n\n在文件中首行写入#！/bin/bash后正常输入命令\n\n保存后可使用sh +路径执行\n\n也可给该文件添加执行权限x\n\n直接输入该路径即可执行\n\n\n\nread [用户输入数据] [变量名]:让用户输入数据并赋值到该变量（可在输入数据前加-p ”信息\",在输入数据时显示信息)\n\nlet 变量名++/--：使变量自增/自减1\n\n\n\n### 参数\n**'$#:'** 参数数量总和   \n**'$*:'** 所有参数  \n**'$?:'** 显示上一次命令的执行返回值    \n**'$num:'** 对应位置为第num的参数\n\n\n\n### 测试语句\n格式：[ 条件表达式  ](注意两边各有一个空格)\n```bash\n-d:测试文件是否为目录类型\n-e:测试文件是否存在\n-f:判断是否为一般文件\n-r/w/x:测试当前用户是否有r/w/x权限\n```\n若判断结果为真则返回0，若判断结果为假则返回其他非零值\n\n\n\n例:\n```bash\n[ -d /etc/abcde ] \n\necho $?\n```\n若该文件为目录类型则会输出\n```bash\n0\n```\n若该文件不为目录类型则会输出其他非零值\n\n\n\n### 整数比较：\n```bash\n格式：[ num1 运算符 num2 ]\n-eq:是否等于\n-ne:是否不等于\n-gt:是否大于\n-lt:是否小于\n-le:是否等于或小于\n-ge:是否大于或等于\n```\n\n如遇到报错\"[: -gt: unarg operator expected\"可用a=$((a))将变量转换为整数类型\n\n\n\n### 字符串比较:\n+ **=**:比较字符串内容是否相同（！=为不同）\n   + 例：[ $a =  $b ]:若相同则返回值为非零值，若不同则返回非零值\n+ **-z**：判断字符串内容是否为空\n  + 例：[ -z $a  ]:若字符串为空则返回0，若不空则返回非零值 \n\n\n\n### 逻辑语句：\n+ 一般基于测试结果进行，跟在测试语句后\n+ 逻辑与：&&：在测试结果为真时才会执行\n  + 例：[ -d /etc/a ] && echo \"执行成功\"\n+ 若判断为假则不会有输出，若判断为真则会输出执行成功\n+ 逻辑或：||：在测试结果为假时才会执行\n+ 逻辑非：! : 将判断结果取反，直接加在条件表达式的首位\n\n\n\n### if条件测试语句:\n单分支：\n```bash\nif[条件]为0则执行，不为0则不执行\nthen （指令）\nfi （结束）\n```\n\n\n#### 双分支：\n```bash\nif[条件]\nthen（指令）#若条件为0则会执行该指令\nelse（指令）#若条件不为0则会执行该指令\nfi\n```\n\n\n#### 多分支：\n```bash\nif[条件]\nthen （命令）\nelif[条件2]\nthen （命令2）\nelse （命令3）\nif\n```\n在条件中判断为0后会执行对应的then后的命令\n\n\n\n\n\n### for循环：\n```bash\nfor [变量] in [取值列表]\ndo\n      命令列表\ndone\n```\n不解释\n可配合cat遍历列表文件的所有行\n\n```bash\nfor a in $(cat “./列表文件\")\ndo \n    echo \"$a\"\ndone\n```\n\n\n\n### while循环：\nwhile 条件测试操作\n```bash\ndo \n    命令\ndone\n```\n\n用exit 0跳出循环\n\n\n```bash\ncase:\n\ncase “变量值” in\n模式1）\n\n    命令\n\n    ；；\n模式2）\n\n    命令\n\n    ；；\n............\n*）\n# 以上都无法匹配时执行该命令\nesac\n```\n\n\n例：\n\nread输入字符\n\n```bash\ncase \"输入的字符\" in\n\n[a-z] | [A-Z] )\n     echo  \"字母\"\n     ;;\n[0-9] )\n     echo \"数字\"\n     ;;\n*)\n     echo \"特殊字符\"\nesac\n```","source":"_posts/Linux/Linux Bash Shell 脚本编写.md","raw":"---\ntitle: Linux Bash Shell 脚本编写\ncategories:\n  - 系统类\ntags:\n  - Linux\n  - 指令\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C2162cc7fc5c709d0.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Linux Bash\n  Shell脚本的基础语法和常用命令，包括重定向操作、脚本文件创建与执行方法、参数使用、文件类型测试、整数与字符串比较、逻辑运算符、条件分支语句及循环结构，涵盖输入输出处理、变量操作、判断语句等核心内容，帮助用户掌握基础脚本编写技巧。\ndate: 2024-05-27 15:21:46\n---\n\n## &> /dev/null\n可放于echo末尾用于保持桌面整洁\n\n\n## shell脚本\n创建文件时在末尾添加 .sh\n\n在文件中首行写入#！/bin/bash后正常输入命令\n\n保存后可使用sh +路径执行\n\n也可给该文件添加执行权限x\n\n直接输入该路径即可执行\n\n\n\nread [用户输入数据] [变量名]:让用户输入数据并赋值到该变量（可在输入数据前加-p ”信息\",在输入数据时显示信息)\n\nlet 变量名++/--：使变量自增/自减1\n\n\n\n### 参数\n**'$#:'** 参数数量总和   \n**'$*:'** 所有参数  \n**'$?:'** 显示上一次命令的执行返回值    \n**'$num:'** 对应位置为第num的参数\n\n\n\n### 测试语句\n格式：[ 条件表达式  ](注意两边各有一个空格)\n```bash\n-d:测试文件是否为目录类型\n-e:测试文件是否存在\n-f:判断是否为一般文件\n-r/w/x:测试当前用户是否有r/w/x权限\n```\n若判断结果为真则返回0，若判断结果为假则返回其他非零值\n\n\n\n例:\n```bash\n[ -d /etc/abcde ] \n\necho $?\n```\n若该文件为目录类型则会输出\n```bash\n0\n```\n若该文件不为目录类型则会输出其他非零值\n\n\n\n### 整数比较：\n```bash\n格式：[ num1 运算符 num2 ]\n-eq:是否等于\n-ne:是否不等于\n-gt:是否大于\n-lt:是否小于\n-le:是否等于或小于\n-ge:是否大于或等于\n```\n\n如遇到报错\"[: -gt: unarg operator expected\"可用a=$((a))将变量转换为整数类型\n\n\n\n### 字符串比较:\n+ **=**:比较字符串内容是否相同（！=为不同）\n   + 例：[ $a =  $b ]:若相同则返回值为非零值，若不同则返回非零值\n+ **-z**：判断字符串内容是否为空\n  + 例：[ -z $a  ]:若字符串为空则返回0，若不空则返回非零值 \n\n\n\n### 逻辑语句：\n+ 一般基于测试结果进行，跟在测试语句后\n+ 逻辑与：&&：在测试结果为真时才会执行\n  + 例：[ -d /etc/a ] && echo \"执行成功\"\n+ 若判断为假则不会有输出，若判断为真则会输出执行成功\n+ 逻辑或：||：在测试结果为假时才会执行\n+ 逻辑非：! : 将判断结果取反，直接加在条件表达式的首位\n\n\n\n### if条件测试语句:\n单分支：\n```bash\nif[条件]为0则执行，不为0则不执行\nthen （指令）\nfi （结束）\n```\n\n\n#### 双分支：\n```bash\nif[条件]\nthen（指令）#若条件为0则会执行该指令\nelse（指令）#若条件不为0则会执行该指令\nfi\n```\n\n\n#### 多分支：\n```bash\nif[条件]\nthen （命令）\nelif[条件2]\nthen （命令2）\nelse （命令3）\nif\n```\n在条件中判断为0后会执行对应的then后的命令\n\n\n\n\n\n### for循环：\n```bash\nfor [变量] in [取值列表]\ndo\n      命令列表\ndone\n```\n不解释\n可配合cat遍历列表文件的所有行\n\n```bash\nfor a in $(cat “./列表文件\")\ndo \n    echo \"$a\"\ndone\n```\n\n\n\n### while循环：\nwhile 条件测试操作\n```bash\ndo \n    命令\ndone\n```\n\n用exit 0跳出循环\n\n\n```bash\ncase:\n\ncase “变量值” in\n模式1）\n\n    命令\n\n    ；；\n模式2）\n\n    命令\n\n    ；；\n............\n*）\n# 以上都无法匹配时执行该命令\nesac\n```\n\n\n例：\n\nread输入字符\n\n```bash\ncase \"输入的字符\" in\n\n[a-z] | [A-Z] )\n     echo  \"字母\"\n     ;;\n[0-9] )\n     echo \"数字\"\n     ;;\n*)\n     echo \"特殊字符\"\nesac\n```","slug":"Linux/Linux Bash Shell 脚本编写","published":1,"updated":"2025-09-21T10:34:39.837Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560g002wg0fy6i5w1z8r","content":"<h2 id=\"dev-null\"><a href=\"#dev-null\" class=\"headerlink\" title=\"&amp;&gt; &#x2F;dev&#x2F;null\"></a>&amp;&gt; &#x2F;dev&#x2F;null</h2><p>可放于echo末尾用于保持桌面整洁</p>\n<h2 id=\"shell脚本\"><a href=\"#shell脚本\" class=\"headerlink\" title=\"shell脚本\"></a>shell脚本</h2><p>创建文件时在末尾添加 .sh</p>\n<p>在文件中首行写入#！&#x2F;bin&#x2F;bash后正常输入命令</p>\n<p>保存后可使用sh +路径执行</p>\n<p>也可给该文件添加执行权限x</p>\n<p>直接输入该路径即可执行</p>\n<p>read [用户输入数据] [变量名]:让用户输入数据并赋值到该变量（可在输入数据前加-p ”信息”,在输入数据时显示信息)</p>\n<p>let 变量名++&#x2F;–：使变量自增&#x2F;自减1</p>\n<h3 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数\"></a>参数</h3><p><strong>‘$#:’</strong> 参数数量总和<br><strong>‘$*:’</strong> 所有参数<br><strong>‘$?:’</strong> 显示上一次命令的执行返回值<br><strong>‘$num:’</strong> 对应位置为第num的参数</p>\n<h3 id=\"测试语句\"><a href=\"#测试语句\" class=\"headerlink\" title=\"测试语句\"></a>测试语句</h3><p>格式：<a href=\"%E6%B3%A8%E6%84%8F%E4%B8%A4%E8%BE%B9%E5%90%84%E6%9C%89%E4%B8%80%E4%B8%AA%E7%A9%BA%E6%A0%BC\"> 条件表达式  </a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-d:测试文件是否为目录类型</span><br><span class=\"line\">-e:测试文件是否存在</span><br><span class=\"line\">-f:判断是否为一般文件</span><br><span class=\"line\">-r/w/x:测试当前用户是否有r/w/x权限</span><br></pre></td></tr></table></figure>\n<p>若判断结果为真则返回0，若判断结果为假则返回其他非零值</p>\n<p>例:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ -d /etc/abcde ] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $?</span><br></pre></td></tr></table></figure>\n<p>若该文件为目录类型则会输出</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0</span><br></pre></td></tr></table></figure>\n<p>若该文件不为目录类型则会输出其他非零值</p>\n<h3 id=\"整数比较：\"><a href=\"#整数比较：\" class=\"headerlink\" title=\"整数比较：\"></a>整数比较：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：[ num1 运算符 num2 ]</span><br><span class=\"line\">-eq:是否等于</span><br><span class=\"line\">-ne:是否不等于</span><br><span class=\"line\">-gt:是否大于</span><br><span class=\"line\">-lt:是否小于</span><br><span class=\"line\">-le:是否等于或小于</span><br><span class=\"line\">-ge:是否大于或等于</span><br></pre></td></tr></table></figure>\n\n<p>如遇到报错”[: -gt: unarg operator expected”可用a&#x3D;$((a))将变量转换为整数类型</p>\n<h3 id=\"字符串比较\"><a href=\"#字符串比较\" class=\"headerlink\" title=\"字符串比较:\"></a>字符串比较:</h3><ul>\n<li><strong>&#x3D;</strong>:比较字符串内容是否相同（！&#x3D;为不同）<ul>\n<li>例：[ $a &#x3D;  $b ]:若相同则返回值为非零值，若不同则返回非零值</li>\n</ul>\n</li>\n<li><strong>-z</strong>：判断字符串内容是否为空<ul>\n<li>例：[ -z $a  ]:若字符串为空则返回0，若不空则返回非零值</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"逻辑语句：\"><a href=\"#逻辑语句：\" class=\"headerlink\" title=\"逻辑语句：\"></a>逻辑语句：</h3><ul>\n<li>一般基于测试结果进行，跟在测试语句后</li>\n<li>逻辑与：&amp;&amp;：在测试结果为真时才会执行<ul>\n<li>例：[ -d &#x2F;etc&#x2F;a ] &amp;&amp; echo “执行成功”</li>\n</ul>\n</li>\n<li>若判断为假则不会有输出，若判断为真则会输出执行成功</li>\n<li>逻辑或：||：在测试结果为假时才会执行</li>\n<li>逻辑非：! : 将判断结果取反，直接加在条件表达式的首位</li>\n</ul>\n<h3 id=\"if条件测试语句\"><a href=\"#if条件测试语句\" class=\"headerlink\" title=\"if条件测试语句:\"></a>if条件测试语句:</h3><p>单分支：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>[条件]为0则执行，不为0则不执行</span><br><span class=\"line\"><span class=\"keyword\">then</span> （指令）</span><br><span class=\"line\"><span class=\"keyword\">fi</span> （结束）</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"双分支：\"><a href=\"#双分支：\" class=\"headerlink\" title=\"双分支：\"></a>双分支：</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>[条件]</span><br><span class=\"line\"><span class=\"keyword\">then</span>（指令）#若条件为0则会执行该指令</span><br><span class=\"line\"><span class=\"keyword\">else</span>（指令）#若条件不为0则会执行该指令</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"多分支：\"><a href=\"#多分支：\" class=\"headerlink\" title=\"多分支：\"></a>多分支：</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>[条件]</span><br><span class=\"line\"><span class=\"keyword\">then</span> （命令）</span><br><span class=\"line\"><span class=\"keyword\">elif</span>[条件2]</span><br><span class=\"line\"><span class=\"keyword\">then</span> （命令2）</span><br><span class=\"line\"><span class=\"keyword\">else</span> （命令3）</span><br><span class=\"line\"><span class=\"keyword\">if</span></span><br></pre></td></tr></table></figure>\n<p>在条件中判断为0后会执行对应的then后的命令</p>\n<h3 id=\"for循环：\"><a href=\"#for循环：\" class=\"headerlink\" title=\"for循环：\"></a>for循环：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> [变量] <span class=\"keyword\">in</span> [取值列表]</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">      命令列表</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n<p>不解释<br>可配合cat遍历列表文件的所有行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> $(<span class=\"built_in\">cat</span> “./列表文件<span class=\"string\">&quot;)</span></span><br><span class=\"line\"><span class=\"string\">do </span></span><br><span class=\"line\"><span class=\"string\">    echo &quot;</span><span class=\"variable\">$a</span><span class=\"string\">&quot;</span></span><br><span class=\"line\"><span class=\"string\">done</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"while循环：\"><a href=\"#while循环：\" class=\"headerlink\" title=\"while循环：\"></a>while循环：</h3><p>while 条件测试操作</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> </span><br><span class=\"line\">    命令</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<p>用exit 0跳出循环</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">case</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">case</span> “变量值” <span class=\"keyword\">in</span></span><br><span class=\"line\">模式1）</span><br><span class=\"line\"></span><br><span class=\"line\">    命令</span><br><span class=\"line\"></span><br><span class=\"line\">    ；；</span><br><span class=\"line\">模式2）</span><br><span class=\"line\"></span><br><span class=\"line\">    命令</span><br><span class=\"line\"></span><br><span class=\"line\">    ；；</span><br><span class=\"line\">............</span><br><span class=\"line\">*）</span><br><span class=\"line\"><span class=\"comment\"># 以上都无法匹配时执行该命令</span></span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br></pre></td></tr></table></figure>\n\n\n<p>例：</p>\n<p>read输入字符</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">&quot;输入的字符&quot;</span> <span class=\"keyword\">in</span></span><br><span class=\"line\"></span><br><span class=\"line\">[a-z] | [A-Z] )</span><br><span class=\"line\">     <span class=\"built_in\">echo</span>  <span class=\"string\">&quot;字母&quot;</span></span><br><span class=\"line\">     ;;</span><br><span class=\"line\">[0-9] )</span><br><span class=\"line\">     <span class=\"built_in\">echo</span> <span class=\"string\">&quot;数字&quot;</span></span><br><span class=\"line\">     ;;</span><br><span class=\"line\">*)</span><br><span class=\"line\">     <span class=\"built_in\">echo</span> <span class=\"string\">&quot;特殊字符&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h2 id=\"dev-null\"><a href=\"#dev-null\" class=\"headerlink\" title=\"&amp;&gt; &#x2F;dev&#x2F;null\"></a>&amp;&gt; &#x2F;dev&#x2F;null</h2><p>可放于echo末尾用于保持桌面整洁</p>\n<h2 id=\"shell脚本\"><a href=\"#shell脚本\" class=\"headerlink\" title=\"shell脚本\"></a>shell脚本</h2><p>创建文件时在末尾添加 .sh</p>\n<p>在文件中首行写入#！&#x2F;bin&#x2F;bash后正常输入命令</p>\n<p>保存后可使用sh +路径执行</p>\n<p>也可给该文件添加执行权限x</p>\n<p>直接输入该路径即可执行</p>\n<p>read [用户输入数据] [变量名]:让用户输入数据并赋值到该变量（可在输入数据前加-p ”信息”,在输入数据时显示信息)</p>\n<p>let 变量名++&#x2F;–：使变量自增&#x2F;自减1</p>\n<h3 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数\"></a>参数</h3><p><strong>‘$#:’</strong> 参数数量总和<br><strong>‘$*:’</strong> 所有参数<br><strong>‘$?:’</strong> 显示上一次命令的执行返回值<br><strong>‘$num:’</strong> 对应位置为第num的参数</p>\n<h3 id=\"测试语句\"><a href=\"#测试语句\" class=\"headerlink\" title=\"测试语句\"></a>测试语句</h3><p>格式：<a href=\"%E6%B3%A8%E6%84%8F%E4%B8%A4%E8%BE%B9%E5%90%84%E6%9C%89%E4%B8%80%E4%B8%AA%E7%A9%BA%E6%A0%BC\"> 条件表达式  </a></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-d:测试文件是否为目录类型</span><br><span class=\"line\">-e:测试文件是否存在</span><br><span class=\"line\">-f:判断是否为一般文件</span><br><span class=\"line\">-r/w/x:测试当前用户是否有r/w/x权限</span><br></pre></td></tr></table></figure>\n<p>若判断结果为真则返回0，若判断结果为假则返回其他非零值</p>\n<p>例:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ -d /etc/abcde ] </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">echo</span> $?</span><br></pre></td></tr></table></figure>\n<p>若该文件为目录类型则会输出</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">0</span><br></pre></td></tr></table></figure>\n<p>若该文件不为目录类型则会输出其他非零值</p>\n<h3 id=\"整数比较：\"><a href=\"#整数比较：\" class=\"headerlink\" title=\"整数比较：\"></a>整数比较：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">格式：[ num1 运算符 num2 ]</span><br><span class=\"line\">-eq:是否等于</span><br><span class=\"line\">-ne:是否不等于</span><br><span class=\"line\">-gt:是否大于</span><br><span class=\"line\">-lt:是否小于</span><br><span class=\"line\">-le:是否等于或小于</span><br><span class=\"line\">-ge:是否大于或等于</span><br></pre></td></tr></table></figure>\n\n<p>如遇到报错”[: -gt: unarg operator expected”可用a&#x3D;$((a))将变量转换为整数类型</p>\n<h3 id=\"字符串比较\"><a href=\"#字符串比较\" class=\"headerlink\" title=\"字符串比较:\"></a>字符串比较:</h3><ul>\n<li><strong>&#x3D;</strong>:比较字符串内容是否相同（！&#x3D;为不同）<ul>\n<li>例：[ $a &#x3D;  $b ]:若相同则返回值为非零值，若不同则返回非零值</li>\n</ul>\n</li>\n<li><strong>-z</strong>：判断字符串内容是否为空<ul>\n<li>例：[ -z $a  ]:若字符串为空则返回0，若不空则返回非零值</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"逻辑语句：\"><a href=\"#逻辑语句：\" class=\"headerlink\" title=\"逻辑语句：\"></a>逻辑语句：</h3><ul>\n<li>一般基于测试结果进行，跟在测试语句后</li>\n<li>逻辑与：&amp;&amp;：在测试结果为真时才会执行<ul>\n<li>例：[ -d &#x2F;etc&#x2F;a ] &amp;&amp; echo “执行成功”</li>\n</ul>\n</li>\n<li>若判断为假则不会有输出，若判断为真则会输出执行成功</li>\n<li>逻辑或：||：在测试结果为假时才会执行</li>\n<li>逻辑非：! : 将判断结果取反，直接加在条件表达式的首位</li>\n</ul>\n<h3 id=\"if条件测试语句\"><a href=\"#if条件测试语句\" class=\"headerlink\" title=\"if条件测试语句:\"></a>if条件测试语句:</h3><p>单分支：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>[条件]为0则执行，不为0则不执行</span><br><span class=\"line\"><span class=\"keyword\">then</span> （指令）</span><br><span class=\"line\"><span class=\"keyword\">fi</span> （结束）</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"双分支：\"><a href=\"#双分支：\" class=\"headerlink\" title=\"双分支：\"></a>双分支：</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>[条件]</span><br><span class=\"line\"><span class=\"keyword\">then</span>（指令）#若条件为0则会执行该指令</span><br><span class=\"line\"><span class=\"keyword\">else</span>（指令）#若条件不为0则会执行该指令</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"多分支：\"><a href=\"#多分支：\" class=\"headerlink\" title=\"多分支：\"></a>多分支：</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>[条件]</span><br><span class=\"line\"><span class=\"keyword\">then</span> （命令）</span><br><span class=\"line\"><span class=\"keyword\">elif</span>[条件2]</span><br><span class=\"line\"><span class=\"keyword\">then</span> （命令2）</span><br><span class=\"line\"><span class=\"keyword\">else</span> （命令3）</span><br><span class=\"line\"><span class=\"keyword\">if</span></span><br></pre></td></tr></table></figure>\n<p>在条件中判断为0后会执行对应的then后的命令</p>\n<h3 id=\"for循环：\"><a href=\"#for循环：\" class=\"headerlink\" title=\"for循环：\"></a>for循环：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> [变量] <span class=\"keyword\">in</span> [取值列表]</span><br><span class=\"line\"><span class=\"keyword\">do</span></span><br><span class=\"line\">      命令列表</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n<p>不解释<br>可配合cat遍历列表文件的所有行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> a <span class=\"keyword\">in</span> $(<span class=\"built_in\">cat</span> “./列表文件<span class=\"string\">&quot;)</span></span><br><span class=\"line\"><span class=\"string\">do </span></span><br><span class=\"line\"><span class=\"string\">    echo &quot;</span><span class=\"variable\">$a</span><span class=\"string\">&quot;</span></span><br><span class=\"line\"><span class=\"string\">done</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"while循环：\"><a href=\"#while循环：\" class=\"headerlink\" title=\"while循环：\"></a>while循环：</h3><p>while 条件测试操作</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">do</span> </span><br><span class=\"line\">    命令</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<p>用exit 0跳出循环</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">case</span>:</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">case</span> “变量值” <span class=\"keyword\">in</span></span><br><span class=\"line\">模式1）</span><br><span class=\"line\"></span><br><span class=\"line\">    命令</span><br><span class=\"line\"></span><br><span class=\"line\">    ；；</span><br><span class=\"line\">模式2）</span><br><span class=\"line\"></span><br><span class=\"line\">    命令</span><br><span class=\"line\"></span><br><span class=\"line\">    ；；</span><br><span class=\"line\">............</span><br><span class=\"line\">*）</span><br><span class=\"line\"><span class=\"comment\"># 以上都无法匹配时执行该命令</span></span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br></pre></td></tr></table></figure>\n\n\n<p>例：</p>\n<p>read输入字符</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">&quot;输入的字符&quot;</span> <span class=\"keyword\">in</span></span><br><span class=\"line\"></span><br><span class=\"line\">[a-z] | [A-Z] )</span><br><span class=\"line\">     <span class=\"built_in\">echo</span>  <span class=\"string\">&quot;字母&quot;</span></span><br><span class=\"line\">     ;;</span><br><span class=\"line\">[0-9] )</span><br><span class=\"line\">     <span class=\"built_in\">echo</span> <span class=\"string\">&quot;数字&quot;</span></span><br><span class=\"line\">     ;;</span><br><span class=\"line\">*)</span><br><span class=\"line\">     <span class=\"built_in\">echo</span> <span class=\"string\">&quot;特殊字符&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br></pre></td></tr></table></figure>"},{"title":"Linux RAID","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C2162cc7fc5c709d0.jpg","summary":"酥米小机器人来啦，这篇文章介绍了Linux系统中RAID的常见类型及其优缺点，包括RAID 0提升速度但无数据冗余，RAID 1增强安全性但降低磁盘利用率，RAID 5平衡读写、安全与成本，RAID 10兼具RAID 0和RAID 1优势但成本高。部署方面需使用mdadm命令创建RAID设备，通过选项如-a检测设备名称，-n指定数量，-l设定级别，-C创建阵列，-v显示过程，-f模拟损坏，-r移除设备，-x添加备份盘，并配合mkfs.ext4格式化阵列为ext4，创建挂载点后用mount挂载，通过df -h验证，将配置写入fstab实现开机自动挂载。故障处理时可使用mdadm -D检测状态，确保所有设备为active sync状态，模拟损坏后需添加新盘并等待同步，RAID 1和RAID 10支持热替换，RAID 5需重建阵列，备份盘可提升容错能力。","date":"2024-05-27T07:21:46.000Z","_content":"\n## 阵列基础策略\n### RAID 0：\n优点：有效提升硬盘数据的吞吐速度；\n缺点：不具备数据备份和错误修复能力\n\n### RAID 1：\n优点：数据安全性增加；\n缺点：磁盘设备读写速度降低，磁盘利用率降低，成本提高\n\n### RAID 5：\n优点：较为均匀的兼顾了读写速度，数据安全性，存储成本\n\n### RAID 10：\n优点：集合了RAID 0 和RAID 1的优点；\n缺点：成本大幅提高\n\n## 部署磁盘阵列：\n\n\n- 使用命令mdadm 模式 RAID设备名称 选项 磁盘成员\n\n### 选项：\n- -a：检测设备名称\n- -n：指定设备数量\n- -I：指定RAID级别\n- -C：创建\n- -v：显示过程\n- -f：模拟设备损坏\n- -r：移除设备\n- -Q：查看摘要信息\n- -D：查看详细信息\n- -S：停止RAID磁盘阵列\n- -x：有备份盘，后接备份盘数量\n\n例：`mdadm -Cv /dev/md0 -a yes -n 4 -l 10 /dev/sda ...`\n\n\n用命令mkfs将制作好的磁盘阵列格式转化为ext4格式：\n\n- mkfs.ext4 RAID文件\n- 创建文件夹用于挂载阵列文件\n- 用mount挂载\n- 可用`df -h`查看是否成功\n- 将其加入到磁盘配置文件中使其永久生效：\n- 可使用重定向或直接进入vim编辑\n\n输入以下内容：\n```bash\n磁盘文件         /RAID        ext4           defaults           0  0\n```\n\n\n- 在RAID 1和RAID10中若一个磁盘损坏可直接添加磁盘后用命令\n`mdadm 磁盘阵列 -a 新增磁盘`\n- 在使用mdadm 磁盘阵列 -D检测磁盘阵列\n- 全都为active sync即为成功\n- 若不为可等待一会，可能是它在往新磁盘同步数据\n\n\n\n### 模拟磁盘损坏：\n`mdadm 磁盘阵列 -f 损坏的磁盘`\n\n\n\n### 磁盘阵列+备份盘\n指令示例：\n\n`mdadm -Cv /dev/md0 -a yes -n 3 -l 5 -x 1 三个组成阵列的磁盘 一个备份盘`","source":"_posts/Linux/Linux RAID磁盘阵列.md","raw":"---\ntitle: Linux RAID\ncategories:\n  - 系统类\ntags:\n  - Linux\n  - 指令\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C2162cc7fc5c709d0.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Linux系统中RAID的常见类型及其优缺点，包括RAID 0提升速度但无数据冗余，RAID\n  1增强安全性但降低磁盘利用率，RAID 5平衡读写、安全与成本，RAID 10兼具RAID 0和RAID\n  1优势但成本高。部署方面需使用mdadm命令创建RAID设备，通过选项如-a检测设备名称，-n指定数量，-l设定级别，-C创建阵列，-v显示过程，-f模拟损坏，-r移除设备，-x添加备份盘，并配合mkfs.ext4格式化阵列为ext4，创建挂载点后用mount挂载，通过df\n  -h验证，将配置写入fstab实现开机自动挂载。故障处理时可使用mdadm -D检测状态，确保所有设备为active\n  sync状态，模拟损坏后需添加新盘并等待同步，RAID 1和RAID 10支持热替换，RAID 5需重建阵列，备份盘可提升容错能力。\ndate: 2024-05-27 15:21:46\n---\n\n## 阵列基础策略\n### RAID 0：\n优点：有效提升硬盘数据的吞吐速度；\n缺点：不具备数据备份和错误修复能力\n\n### RAID 1：\n优点：数据安全性增加；\n缺点：磁盘设备读写速度降低，磁盘利用率降低，成本提高\n\n### RAID 5：\n优点：较为均匀的兼顾了读写速度，数据安全性，存储成本\n\n### RAID 10：\n优点：集合了RAID 0 和RAID 1的优点；\n缺点：成本大幅提高\n\n## 部署磁盘阵列：\n\n\n- 使用命令mdadm 模式 RAID设备名称 选项 磁盘成员\n\n### 选项：\n- -a：检测设备名称\n- -n：指定设备数量\n- -I：指定RAID级别\n- -C：创建\n- -v：显示过程\n- -f：模拟设备损坏\n- -r：移除设备\n- -Q：查看摘要信息\n- -D：查看详细信息\n- -S：停止RAID磁盘阵列\n- -x：有备份盘，后接备份盘数量\n\n例：`mdadm -Cv /dev/md0 -a yes -n 4 -l 10 /dev/sda ...`\n\n\n用命令mkfs将制作好的磁盘阵列格式转化为ext4格式：\n\n- mkfs.ext4 RAID文件\n- 创建文件夹用于挂载阵列文件\n- 用mount挂载\n- 可用`df -h`查看是否成功\n- 将其加入到磁盘配置文件中使其永久生效：\n- 可使用重定向或直接进入vim编辑\n\n输入以下内容：\n```bash\n磁盘文件         /RAID        ext4           defaults           0  0\n```\n\n\n- 在RAID 1和RAID10中若一个磁盘损坏可直接添加磁盘后用命令\n`mdadm 磁盘阵列 -a 新增磁盘`\n- 在使用mdadm 磁盘阵列 -D检测磁盘阵列\n- 全都为active sync即为成功\n- 若不为可等待一会，可能是它在往新磁盘同步数据\n\n\n\n### 模拟磁盘损坏：\n`mdadm 磁盘阵列 -f 损坏的磁盘`\n\n\n\n### 磁盘阵列+备份盘\n指令示例：\n\n`mdadm -Cv /dev/md0 -a yes -n 3 -l 5 -x 1 三个组成阵列的磁盘 一个备份盘`","slug":"Linux/Linux RAID磁盘阵列","published":1,"updated":"2025-09-21T10:34:31.838Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560i0030g0fy611o6axw","content":"<h2 id=\"阵列基础策略\"><a href=\"#阵列基础策略\" class=\"headerlink\" title=\"阵列基础策略\"></a>阵列基础策略</h2><h3 id=\"RAID-0：\"><a href=\"#RAID-0：\" class=\"headerlink\" title=\"RAID 0：\"></a>RAID 0：</h3><p>优点：有效提升硬盘数据的吞吐速度；<br>缺点：不具备数据备份和错误修复能力</p>\n<h3 id=\"RAID-1：\"><a href=\"#RAID-1：\" class=\"headerlink\" title=\"RAID 1：\"></a>RAID 1：</h3><p>优点：数据安全性增加；<br>缺点：磁盘设备读写速度降低，磁盘利用率降低，成本提高</p>\n<h3 id=\"RAID-5：\"><a href=\"#RAID-5：\" class=\"headerlink\" title=\"RAID 5：\"></a>RAID 5：</h3><p>优点：较为均匀的兼顾了读写速度，数据安全性，存储成本</p>\n<h3 id=\"RAID-10：\"><a href=\"#RAID-10：\" class=\"headerlink\" title=\"RAID 10：\"></a>RAID 10：</h3><p>优点：集合了RAID 0 和RAID 1的优点；<br>缺点：成本大幅提高</p>\n<h2 id=\"部署磁盘阵列：\"><a href=\"#部署磁盘阵列：\" class=\"headerlink\" title=\"部署磁盘阵列：\"></a>部署磁盘阵列：</h2><ul>\n<li>使用命令mdadm 模式 RAID设备名称 选项 磁盘成员</li>\n</ul>\n<h3 id=\"选项：\"><a href=\"#选项：\" class=\"headerlink\" title=\"选项：\"></a>选项：</h3><ul>\n<li>-a：检测设备名称</li>\n<li>-n：指定设备数量</li>\n<li>-I：指定RAID级别</li>\n<li>-C：创建</li>\n<li>-v：显示过程</li>\n<li>-f：模拟设备损坏</li>\n<li>-r：移除设备</li>\n<li>-Q：查看摘要信息</li>\n<li>-D：查看详细信息</li>\n<li>-S：停止RAID磁盘阵列</li>\n<li>-x：有备份盘，后接备份盘数量</li>\n</ul>\n<p>例：<code>mdadm -Cv /dev/md0 -a yes -n 4 -l 10 /dev/sda ...</code></p>\n<p>用命令mkfs将制作好的磁盘阵列格式转化为ext4格式：</p>\n<ul>\n<li>mkfs.ext4 RAID文件</li>\n<li>创建文件夹用于挂载阵列文件</li>\n<li>用mount挂载</li>\n<li>可用<code>df -h</code>查看是否成功</li>\n<li>将其加入到磁盘配置文件中使其永久生效：</li>\n<li>可使用重定向或直接进入vim编辑</li>\n</ul>\n<p>输入以下内容：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">磁盘文件         /RAID        ext4           defaults           0  0</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>在RAID 1和RAID10中若一个磁盘损坏可直接添加磁盘后用命令<br><code>mdadm 磁盘阵列 -a 新增磁盘</code></li>\n<li>在使用mdadm 磁盘阵列 -D检测磁盘阵列</li>\n<li>全都为active sync即为成功</li>\n<li>若不为可等待一会，可能是它在往新磁盘同步数据</li>\n</ul>\n<h3 id=\"模拟磁盘损坏：\"><a href=\"#模拟磁盘损坏：\" class=\"headerlink\" title=\"模拟磁盘损坏：\"></a>模拟磁盘损坏：</h3><p><code>mdadm 磁盘阵列 -f 损坏的磁盘</code></p>\n<h3 id=\"磁盘阵列-备份盘\"><a href=\"#磁盘阵列-备份盘\" class=\"headerlink\" title=\"磁盘阵列+备份盘\"></a>磁盘阵列+备份盘</h3><p>指令示例：</p>\n<p><code>mdadm -Cv /dev/md0 -a yes -n 3 -l 5 -x 1 三个组成阵列的磁盘 一个备份盘</code></p>\n","cover_type":"img","excerpt":"","more":"<h2 id=\"阵列基础策略\"><a href=\"#阵列基础策略\" class=\"headerlink\" title=\"阵列基础策略\"></a>阵列基础策略</h2><h3 id=\"RAID-0：\"><a href=\"#RAID-0：\" class=\"headerlink\" title=\"RAID 0：\"></a>RAID 0：</h3><p>优点：有效提升硬盘数据的吞吐速度；<br>缺点：不具备数据备份和错误修复能力</p>\n<h3 id=\"RAID-1：\"><a href=\"#RAID-1：\" class=\"headerlink\" title=\"RAID 1：\"></a>RAID 1：</h3><p>优点：数据安全性增加；<br>缺点：磁盘设备读写速度降低，磁盘利用率降低，成本提高</p>\n<h3 id=\"RAID-5：\"><a href=\"#RAID-5：\" class=\"headerlink\" title=\"RAID 5：\"></a>RAID 5：</h3><p>优点：较为均匀的兼顾了读写速度，数据安全性，存储成本</p>\n<h3 id=\"RAID-10：\"><a href=\"#RAID-10：\" class=\"headerlink\" title=\"RAID 10：\"></a>RAID 10：</h3><p>优点：集合了RAID 0 和RAID 1的优点；<br>缺点：成本大幅提高</p>\n<h2 id=\"部署磁盘阵列：\"><a href=\"#部署磁盘阵列：\" class=\"headerlink\" title=\"部署磁盘阵列：\"></a>部署磁盘阵列：</h2><ul>\n<li>使用命令mdadm 模式 RAID设备名称 选项 磁盘成员</li>\n</ul>\n<h3 id=\"选项：\"><a href=\"#选项：\" class=\"headerlink\" title=\"选项：\"></a>选项：</h3><ul>\n<li>-a：检测设备名称</li>\n<li>-n：指定设备数量</li>\n<li>-I：指定RAID级别</li>\n<li>-C：创建</li>\n<li>-v：显示过程</li>\n<li>-f：模拟设备损坏</li>\n<li>-r：移除设备</li>\n<li>-Q：查看摘要信息</li>\n<li>-D：查看详细信息</li>\n<li>-S：停止RAID磁盘阵列</li>\n<li>-x：有备份盘，后接备份盘数量</li>\n</ul>\n<p>例：<code>mdadm -Cv /dev/md0 -a yes -n 4 -l 10 /dev/sda ...</code></p>\n<p>用命令mkfs将制作好的磁盘阵列格式转化为ext4格式：</p>\n<ul>\n<li>mkfs.ext4 RAID文件</li>\n<li>创建文件夹用于挂载阵列文件</li>\n<li>用mount挂载</li>\n<li>可用<code>df -h</code>查看是否成功</li>\n<li>将其加入到磁盘配置文件中使其永久生效：</li>\n<li>可使用重定向或直接进入vim编辑</li>\n</ul>\n<p>输入以下内容：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">磁盘文件         /RAID        ext4           defaults           0  0</span><br></pre></td></tr></table></figure>\n\n\n<ul>\n<li>在RAID 1和RAID10中若一个磁盘损坏可直接添加磁盘后用命令<br><code>mdadm 磁盘阵列 -a 新增磁盘</code></li>\n<li>在使用mdadm 磁盘阵列 -D检测磁盘阵列</li>\n<li>全都为active sync即为成功</li>\n<li>若不为可等待一会，可能是它在往新磁盘同步数据</li>\n</ul>\n<h3 id=\"模拟磁盘损坏：\"><a href=\"#模拟磁盘损坏：\" class=\"headerlink\" title=\"模拟磁盘损坏：\"></a>模拟磁盘损坏：</h3><p><code>mdadm 磁盘阵列 -f 损坏的磁盘</code></p>\n<h3 id=\"磁盘阵列-备份盘\"><a href=\"#磁盘阵列-备份盘\" class=\"headerlink\" title=\"磁盘阵列+备份盘\"></a>磁盘阵列+备份盘</h3><p>指令示例：</p>\n<p><code>mdadm -Cv /dev/md0 -a yes -n 3 -l 5 -x 1 三个组成阵列的磁盘 一个备份盘</code></p>\n"},{"title":"Linux 服务器指令基础","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C2162cc7fc5c709d0.jpg","summary":"酥米小机器人来啦，这篇文章系统梳理了Linux服务器的基础指令与操作，涵盖文件目录管理、软件源配置、定时任务、网络操作及磁盘指令等核心内容。基础指令部分介绍pwd、ls、cd、mkdir、touch、chmod、rm等常用命令，以及关机重启指令shutdown与reboot，还包含命令搜索、别名设置、历史记录等功能。软件源配置区分RPM/YUM与DEB/APT系统，提供更新安装方法。定时任务涉及crontab的安装配置与任务添加，网络操作包括ip配置、防火墙设置及流量控制，磁盘指令详解mount、umount和fstab配置，帮助用户快速掌握Linux服务器基础运维技能。","date":"2024-05-27T07:21:46.000Z","_content":"\n## 基础指令\n```bash\n查看文件目录：pwd\n查看当前目录下的所有目录和文件：ls\n查看当前目录下的所有目录和文件（包括隐藏的文件）：ls -a\n列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令\"ll\"效果一样：ls -l\n查看指定目录下的所有目录和文件：ls /xxx/xxx\n进入文件目录：cd\n进入根目录：cd /\n进入当前用户目录：cd ~\n退出目录：cd ..\n```\n\n```bash\n创建文件夹：mkdir\n创建文件：touch\n设置权限：chmod xxx [文件目录]\n删除文件：rm [文件名]\n删除文件夹：rm -rf [文件目录]\n```\n\n```bash\n立刻关机：shutdown -h now 或者 poweroff\n两分钟后关机：shutdown -h 2\n立刻重启：shutdown -r now 或者 reboot\n两分钟后重启：shutdown -r 2 \n```\n\n```bash\ntype：查看指令信息\nalias 【别名】=‘原命令’：为原命令起别名（unalias 【别名】：删除该别名）\nvim /root/.bashrc：对当前用户设置永久别名\nvim /etc/bashrc：对所有用户设置永久别名\nman xx：查看xx命令的帮助（详细信息）（按q退出）{内容详情：（name：内容的名称）（synopsis：参数的大致使用方法）（descriotion：介绍说明）（examples：演示）（overview：概述）（defaults：默认的功能）（option：具体的可用选项）（environment：环境变量）（files：用到的文件）（see also：相关资料）（history：维护历史与联系方式）}\nhistory：显示历史执行过的命令（使用！编码数字可以重复执行一次该编码的命令）\nhistory -c：清空所有命令的历史记录\n```\n\n```bash\nctrl+r：快速搜索某命令\n！$：引用上一个命令的参数\n！【关键词】：重复上一个有此关键词的命令并执行\n【命令1】 && 【命令2】：先执行命令1后执行命令2，若命令1执行失败则不会执行命令2\nwhich 【命令】:查看命令所在的绝对路径\n```\n```bash\nsudo配置：（使用户a在xxx主机上可以以用户b的身份执行命令)\n用vim进入/etc/sudoers\n在末行按格式输入：用户a 主机=（用户b） 命令\n例子：user2 ALL=（ALL）ALL,!/usr/bin/passwd：使user2在所有主机上都可以使用除passwd以外的所有命令\nsudo的使用：sudo [完整的命令]\n```\n---\n\n## 软件源配置\n### 更新软件源：\nRPM/YUM系：`yum -y update`\nDEB/APT系：`apt -y update`\n\n\n\n### 安装软件： \nRPM/YUM系：`yum -y install [软件名]`\nDEB/APT系：`apt install -y [软件名]`\n\n\n\n### 搜索相应软件包：（以 sl 软件包作例子）\nRPM/YUM系：`yum search sl`\nDEB/APT系：`apt search sl`\n\n\n### rpm:(红帽软件包管理工具)\n```bash\n-i:安装，一般搭配vh\n-U：升级\n-v：输出详细详细\n-V:校验软件包内的所有文件\n-Va:校验所有安装的软件包\n-h：输出哈希值\n-e：卸载\n-q [软件包名称]:查询\n-qa：将所有rpm方式安装的软件全部列出\n-qi：查询软件包详细信息\n-ql：查询软件包相关目录和文件\n-qf [文件的绝对路径]：反查某个文件关联的rpm包\n```\n---\n\n## 定时任务\n### 1.使用yum命令安装Crontab：\n```bash\nyum install vixie-cron \nyum install crontabs\n注：vixie-cron软件包是cron的主程序；\ncrontabs软件包是用来安装、卸装、或列举用来驱动 cron 守护进程的表格的程序。\ncron是linux的内置服务，但它不自动起来，可以用以下的方法启动、关闭这个服务：\n/sbin/service crond start #启动服务\n/sbin/service crond stop #关闭服务\n/sbin/service crond restart #重启服务\n/sbin/service crond reload #重新载入配置\n```\n\n\n\n### <font style=\"color:rgb(77, 77, 77);\">2.查看Crontab状态：</font>\n```csharp\nservice crond status\nntsysv #查看crontab服务是否已设置为开机启动\nchkconfig –level 35 crond on #加入开机自动启动\n```\n\n\n\n### <font style=\"color:rgb(77, 77, 77);\">3.添加定时任务：</font>\n```ruby\ncrontab -e #编辑cron任务模式\ni #默认文字编辑器为vim，按i字母键即可添加cron任务\n30 3 * * * /usr/local/etc/rc.d/lighttpd restart #将命令代码放入，此命令意义为每天的03:30 重启apache\nESC #按ESC键退出编辑模式\n:wq #键入:wq保存\nservice crond restart #重启crontab服务\n```\n\n---\n\n\n\n## 网络操作基础指令\n```bash\nifconfig [网卡名称] [参数]:查看网络配置（down：关闭网卡；up：开启网卡）（特别的,利用ifconfig修改ip地址：ifconfig [网卡名称] [ip地址] netmask [掩码],同时可用vim进入/etc/sysconfig/network-scripts直接修改ip地址等网卡信息)\n修改后的网卡文件不会立即生效，需用命令：（nmcli connection up [网卡名称]）来重新连接网卡使配置生效\nping 网址：尝试连接该网站\n```\n\n```bash\nscp （要传送文件的绝对路径）（传输给的用户)(传送用户的ip）（要传送目录的绝对路径):将文件直接发送给目标用户\n```\n\n```bash\nnmcli：\nnmcli c show:用于表示当前系统中所有的网络连接\nnmcli c(=connection的简写) up [网卡名称]:启用connection（相当于ifup)\nnmcli c down [网卡名称]:停止connection（相当于ifdown）\n通过nmcil给[网卡名称]修改ip地址/掩码：nmcil connection modify [网卡名称] ipv4.address IP/掩码\n防火墙设置：(在6.5系统中systemctl为service)\n```\n\n\n```bash\nsystemctl status firewalld firewalld.service查看防火墙状态\nsystemctl stop firewalld：关闭防火墙\nsystemctl start firewalld：开启防火墙\nsystemctl disable firewalld:开机自动关闭\nsystemctl enable firewalld:开机自动启动\nsystemctl is-enabled firewalld:检测防火墙是否为自启动\nsystemctl iptables stop:关闭网络防火墙\nsystamctl :列出所有的系统服务\nsystemctl list-units:列出所有的unit\nsystemctl network restart\n```\n\n```bash\nwget [下载网址] -O [下载文件的存放位置]:从网络上下载文件\nnslookup [需要解析的域名]：测试能否解析到对应ip地址\ncurl [选项] [url]：从url上下载文件，访问网页，发送请求，上传文件等(-X:指定http请求方法，后接get，post，put等；-F：直接指定post指令要上传的文件;-u：设置用户名和密码进行HTTP基本认证;-o：将下载的内容保存到指定文件中;-O：将下载的内容保存到当前目录下的文件中，文件名与服务器端文件名相同)\nlsof -i:[端口号]:查看端口对应进程的状态，可用来判断端口是否可用\n```\n\niptables：\n链可用于限制流量通过\n```bash\niptables -L：查看规则链\niptables -F：清空规则链\niptables -P INPUT DROP/ACCRPT：将input的默认策略设置为拒绝/同意\niptables -D num INPUT：删除input的第num条规则\n在头部添加新策略：（-I改为-A则为在末尾添加）\niptables -I INPUT（处理流入数据包的结点） -p  tcp/udp(匹配协议）-s 需要限制的ip地址  --dport 端口号 -j  DROP/REJEC/ACCEPT（丢弃or拒绝or同意）\n```\n\n\nfirewall:\n\nfirewall-cmd [参数为一般格式]\n\n参数:\n```bash\n--get-default-zone   查询默认的区域名称\n--set-default-zone=<区城名称>    设置默认的区域，使其永久生效\n--get-zones         显示可用的区域\n--get-services      显示预先定义的服务\n--get-active-zones         显示当前正在使用的区域与网卡名称\n--add-source=               将源自此IP或子网的流量导向指定的区域\n--remove-sourCe=            不再将源自此IP或子网的流量导向某个指定区域\n--add-interface=<网卡名称>          将源自该网卡的所有流量都导向某个指定区域\n--change-interface=<网卡名称>            将某个网卡与区域进行关联\n--list-all                                  显示当前区域的网卡配置参数、资源、端口以及服务等信息\n--list-all-zones                     显示所有区域的网卡配置参数、资源、端口以及服务等信息\n```\n\n默认为运行时模式（rentime）重启后就会失效，可添加--permanent将改设置直接为永久生效，若设置永久生效需使用--reload使其立即生效\n\n`firewall-cmd --add-service=[需要放行的服务]：很实用的命令，可用于放行所需的服务，如http（移除：add改为remove）（也可将服务改为端口，端口后要加/tcp或udp`\n\n`firewall-cmd --add-rich-rule 'rule family=ipv4 source address=[需要同意/拒绝的主机的ip地址]/32 service name=[需要同意/拒绝的服务] reject/accept'同意/拒绝):拒绝来自该ip地址主机的流量对http服务的访问`\n\n若无法操作则按以下格式输入\n\n`firewall-cmd --zone=external --add-rich-rule 'rule family=ipv4 source address=192.168.10.11/32 service name=ssh accept'`\n\n`firewall-cmd --add-rich-rule 'rule family=ipv4 source address [需要同意/拒绝的网段，第四位为0] /24 port port [端口号范围，如20-22] protocol tcp/udp drop/accept/reject'拒绝来自该网段的流量对该范围端口的访问`\n\n`firewall-cmd --add-rich-rule 'rule family=ipv4 source address=[需要同意/拒绝的网段] protocol value=icmp accept/reject'：过滤来自该网段的icmp探测，即让该网段无法ping通（不输入family....网段即为拒绝所有网段)`\n\n---\n\n## 磁盘基础指令\n### mount 磁盘文件 \n- 挂目录：将磁盘临时挂载在目标路径上，重启后失效\n- 若要永久挂载需按格式将内容输入到/etc/fstab中\n- umount 挂载点/磁盘文件：撤销已经挂载的磁盘文件\n\n\n\n### fdisk 磁盘管理工具：\n#### 参数:\n```bash\nm:查看全部可用的参数\nn：添加新的分区\nd：删除某个分区信息\nl：列出所有可用的分区类型\np：查看分区信息\nw：保存并推出\nq：不保存直接退出\n```\n\n加入新磁盘后一定要设定分区后格式化\n\n设定分区流程：\n```bash\nfdisk 磁盘文件路径（在/dev下）\nq查看设备内已有的分区信息\nn尝试添加新的分区\np创建主分区\n输入1后enter回车\n创建一个磁盘分区，格式为+numG，num为数字\np来查看分区信息\nw保存退出\nfile 磁盘文件路径\n若输出不是block special则输入\npartprobe手动同步，连续执行两次该命令效果会更好\n```\n\n\n### mkfs格式化工具：\nmkfs后跟文件类型，这里我们用mkfs.xfs\n使用mkfs.xfs 磁盘文件路径\n\n创建一个文件，用mount将该磁盘挂载到该文件下\n使用`df -h`查看是否成功\n\n\n\nlsblk:查看系统已经挂载的块设备和挂载点\ndf -h/mount:查看当前系统已经挂载的文件系统及其挂载点\ndu 选项 文件:查看文件占用了多大的硬盘空间\n\n\n\n### 磁盘配额:\n对每个用户可使用的磁盘空间和创建最大文件个数进行限制\n进行配置前需先进行以下操作\n进入/etc/fstab在/boot /xfs后的参数defaults后添加,uquota\n作用是让磁盘支持uquota技术\n保存退出后重启\n可用`mount | grep boot`查看是否成功配置\n为了更好的显示效果可使用`chmod -Rf o+w /boot`为所有人赋予写入权限\n\n\n\n#### 命令：\n`xfs_quota -x -c 'limit bsoft=（需要软限制的大小，以m为单位）（空格）bhard=（需要硬限制的大小，以m为单位）(空格）isoft=（inode 的软限制数量）（空格）ihard=（inode的硬限制数量）（需要操作的用户）'  （需要操作的文件夹）`\n配置用户对指定文件夹的限额，其中所有参数不可更改\n\n\n\n`dd if=/dev/zero of=/（路径） bs=（需要创建的文件大小，以m为单位） count=（要复制的块数，即为inode数）`\n创建文件并用零字节将其填至指定大小，并复制指定数量的块\n\n\n\n`edquota -u/g 用户/组`\n在已经使用xfs_quota指令配置过限额后才可使用，在其中可修改配额\n\n\n\n\n\n### 软硬链接：\n#### 软连接：\n近似于创建源文件的快捷方式，源文件删除后该软链接也无法打开了\n\n#### 硬链接：\n直接指向磁盘中的存储位置，会增加文件的inode数，源文件删除后依然可以使用\n\n`ln 选项 源文件 链接文件 创建链接（选项为-s时为软连接，不加默认为硬链接）(其中链接文件不可提前创建否则会报错）（-f：强制创建文件或目录的链接，加了此参数可以无需在意是否提前创建链接文件；-i`\n覆盖前先询问；-v：显示创建链接的过程）\n\n---\n\n## 用户管理\n```bash\nuseradd [参数] [用户名]:创建用户（-c：指定用户的描述信息；-d：指定用户的主目录，该目录不用事先创建；-p:同时创建密码;-g：制定用户所属的主组，后接GID或组名；-G：制定用户所属的附属组，后接GID或组名；-s：指定用户的shell；-u：制定用户的uid）\nusermod [参数] [用户名]:修改用户(-l:修改用户名；其他参数与usedadd相同)\nuserdel [参数] [用户名]:删除用户(-r:同时删除其主目录和邮箱,没加则会保留)\npasswd [参数] [用户名]:管理用户密码（-d:删除用户密码；-l：锁定用户账户，即禁用账户;-u:解锁用户账户)\n特别的：echo [密码] | passwd --stdin [用户]:利用管道直接修改密码\nid [用户名]:查看用户信息\nsu [参数] [用户名]:切换用户（-或-l：初始化大部分环境变量，更改主目录，如同重新登陆一样，不加则为临时登陆）\nwhoami:查看当前用户\n```\n\n---\n\n\n\n## 用户组管理\n```bash\ngroupadd [参数] [组名]:创建组(-g:指定组的GID)\ngroupmod [参数] [组名]:修改组(-g:修改GID;-n:修改组名）\ngroupdel [参数] [组名]:删除组\ngpasswd [参数] [组名]:组的管理(不加参数:设置组的密码；-r：删除组的密码；-a：将用户加入到组中，成为组的成员；-d:将用户从组中移除；-A：将用户设置为组的管理员)\ngroups [组名]:查看用户隶属的组\nnewgrp：登录到其他组\n```\n\n---\n\n\n\n## 进程管理\n```bash\nps：查看系统中的进程状态\nps -a：显示所有进程\nps -u：用户以及其他详细信息\nps -x：显示没有控制终端的进程\ntop：用于动态监视进程活动与系统负载等信息\npidof：用于查询某个指定服务进程的PID值\nkill：终止此PID值的活动进程\nfree -h：显示当前系统中内存的使用量信息\nctrl+c：终止前台的程序\n```","source":"_posts/Linux/Linux服务器基础.md","raw":"---\ntitle: Linux 服务器指令基础\ncategories:\n  - 系统类\ntags:\n  - Linux\n  - 指令\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C2162cc7fc5c709d0.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章系统梳理了Linux服务器的基础指令与操作，涵盖文件目录管理、软件源配置、定时任务、网络操作及磁盘指令等核心内容。基础指令部分介绍pwd、ls、cd、mkdir、touch、chmod、rm等常用命令，以及关机重启指令shutdown与reboot，还包含命令搜索、别名设置、历史记录等功能。软件源配置区分RPM/YUM与DEB/APT系统，提供更新安装方法。定时任务涉及crontab的安装配置与任务添加，网络操作包括ip配置、防火墙设置及流量控制，磁盘指令详解mount、umount和fstab配置，帮助用户快速掌握Linux服务器基础运维技能。\ndate: 2024-05-27 15:21:46\n---\n\n## 基础指令\n```bash\n查看文件目录：pwd\n查看当前目录下的所有目录和文件：ls\n查看当前目录下的所有目录和文件（包括隐藏的文件）：ls -a\n列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令\"ll\"效果一样：ls -l\n查看指定目录下的所有目录和文件：ls /xxx/xxx\n进入文件目录：cd\n进入根目录：cd /\n进入当前用户目录：cd ~\n退出目录：cd ..\n```\n\n```bash\n创建文件夹：mkdir\n创建文件：touch\n设置权限：chmod xxx [文件目录]\n删除文件：rm [文件名]\n删除文件夹：rm -rf [文件目录]\n```\n\n```bash\n立刻关机：shutdown -h now 或者 poweroff\n两分钟后关机：shutdown -h 2\n立刻重启：shutdown -r now 或者 reboot\n两分钟后重启：shutdown -r 2 \n```\n\n```bash\ntype：查看指令信息\nalias 【别名】=‘原命令’：为原命令起别名（unalias 【别名】：删除该别名）\nvim /root/.bashrc：对当前用户设置永久别名\nvim /etc/bashrc：对所有用户设置永久别名\nman xx：查看xx命令的帮助（详细信息）（按q退出）{内容详情：（name：内容的名称）（synopsis：参数的大致使用方法）（descriotion：介绍说明）（examples：演示）（overview：概述）（defaults：默认的功能）（option：具体的可用选项）（environment：环境变量）（files：用到的文件）（see also：相关资料）（history：维护历史与联系方式）}\nhistory：显示历史执行过的命令（使用！编码数字可以重复执行一次该编码的命令）\nhistory -c：清空所有命令的历史记录\n```\n\n```bash\nctrl+r：快速搜索某命令\n！$：引用上一个命令的参数\n！【关键词】：重复上一个有此关键词的命令并执行\n【命令1】 && 【命令2】：先执行命令1后执行命令2，若命令1执行失败则不会执行命令2\nwhich 【命令】:查看命令所在的绝对路径\n```\n```bash\nsudo配置：（使用户a在xxx主机上可以以用户b的身份执行命令)\n用vim进入/etc/sudoers\n在末行按格式输入：用户a 主机=（用户b） 命令\n例子：user2 ALL=（ALL）ALL,!/usr/bin/passwd：使user2在所有主机上都可以使用除passwd以外的所有命令\nsudo的使用：sudo [完整的命令]\n```\n---\n\n## 软件源配置\n### 更新软件源：\nRPM/YUM系：`yum -y update`\nDEB/APT系：`apt -y update`\n\n\n\n### 安装软件： \nRPM/YUM系：`yum -y install [软件名]`\nDEB/APT系：`apt install -y [软件名]`\n\n\n\n### 搜索相应软件包：（以 sl 软件包作例子）\nRPM/YUM系：`yum search sl`\nDEB/APT系：`apt search sl`\n\n\n### rpm:(红帽软件包管理工具)\n```bash\n-i:安装，一般搭配vh\n-U：升级\n-v：输出详细详细\n-V:校验软件包内的所有文件\n-Va:校验所有安装的软件包\n-h：输出哈希值\n-e：卸载\n-q [软件包名称]:查询\n-qa：将所有rpm方式安装的软件全部列出\n-qi：查询软件包详细信息\n-ql：查询软件包相关目录和文件\n-qf [文件的绝对路径]：反查某个文件关联的rpm包\n```\n---\n\n## 定时任务\n### 1.使用yum命令安装Crontab：\n```bash\nyum install vixie-cron \nyum install crontabs\n注：vixie-cron软件包是cron的主程序；\ncrontabs软件包是用来安装、卸装、或列举用来驱动 cron 守护进程的表格的程序。\ncron是linux的内置服务，但它不自动起来，可以用以下的方法启动、关闭这个服务：\n/sbin/service crond start #启动服务\n/sbin/service crond stop #关闭服务\n/sbin/service crond restart #重启服务\n/sbin/service crond reload #重新载入配置\n```\n\n\n\n### <font style=\"color:rgb(77, 77, 77);\">2.查看Crontab状态：</font>\n```csharp\nservice crond status\nntsysv #查看crontab服务是否已设置为开机启动\nchkconfig –level 35 crond on #加入开机自动启动\n```\n\n\n\n### <font style=\"color:rgb(77, 77, 77);\">3.添加定时任务：</font>\n```ruby\ncrontab -e #编辑cron任务模式\ni #默认文字编辑器为vim，按i字母键即可添加cron任务\n30 3 * * * /usr/local/etc/rc.d/lighttpd restart #将命令代码放入，此命令意义为每天的03:30 重启apache\nESC #按ESC键退出编辑模式\n:wq #键入:wq保存\nservice crond restart #重启crontab服务\n```\n\n---\n\n\n\n## 网络操作基础指令\n```bash\nifconfig [网卡名称] [参数]:查看网络配置（down：关闭网卡；up：开启网卡）（特别的,利用ifconfig修改ip地址：ifconfig [网卡名称] [ip地址] netmask [掩码],同时可用vim进入/etc/sysconfig/network-scripts直接修改ip地址等网卡信息)\n修改后的网卡文件不会立即生效，需用命令：（nmcli connection up [网卡名称]）来重新连接网卡使配置生效\nping 网址：尝试连接该网站\n```\n\n```bash\nscp （要传送文件的绝对路径）（传输给的用户)(传送用户的ip）（要传送目录的绝对路径):将文件直接发送给目标用户\n```\n\n```bash\nnmcli：\nnmcli c show:用于表示当前系统中所有的网络连接\nnmcli c(=connection的简写) up [网卡名称]:启用connection（相当于ifup)\nnmcli c down [网卡名称]:停止connection（相当于ifdown）\n通过nmcil给[网卡名称]修改ip地址/掩码：nmcil connection modify [网卡名称] ipv4.address IP/掩码\n防火墙设置：(在6.5系统中systemctl为service)\n```\n\n\n```bash\nsystemctl status firewalld firewalld.service查看防火墙状态\nsystemctl stop firewalld：关闭防火墙\nsystemctl start firewalld：开启防火墙\nsystemctl disable firewalld:开机自动关闭\nsystemctl enable firewalld:开机自动启动\nsystemctl is-enabled firewalld:检测防火墙是否为自启动\nsystemctl iptables stop:关闭网络防火墙\nsystamctl :列出所有的系统服务\nsystemctl list-units:列出所有的unit\nsystemctl network restart\n```\n\n```bash\nwget [下载网址] -O [下载文件的存放位置]:从网络上下载文件\nnslookup [需要解析的域名]：测试能否解析到对应ip地址\ncurl [选项] [url]：从url上下载文件，访问网页，发送请求，上传文件等(-X:指定http请求方法，后接get，post，put等；-F：直接指定post指令要上传的文件;-u：设置用户名和密码进行HTTP基本认证;-o：将下载的内容保存到指定文件中;-O：将下载的内容保存到当前目录下的文件中，文件名与服务器端文件名相同)\nlsof -i:[端口号]:查看端口对应进程的状态，可用来判断端口是否可用\n```\n\niptables：\n链可用于限制流量通过\n```bash\niptables -L：查看规则链\niptables -F：清空规则链\niptables -P INPUT DROP/ACCRPT：将input的默认策略设置为拒绝/同意\niptables -D num INPUT：删除input的第num条规则\n在头部添加新策略：（-I改为-A则为在末尾添加）\niptables -I INPUT（处理流入数据包的结点） -p  tcp/udp(匹配协议）-s 需要限制的ip地址  --dport 端口号 -j  DROP/REJEC/ACCEPT（丢弃or拒绝or同意）\n```\n\n\nfirewall:\n\nfirewall-cmd [参数为一般格式]\n\n参数:\n```bash\n--get-default-zone   查询默认的区域名称\n--set-default-zone=<区城名称>    设置默认的区域，使其永久生效\n--get-zones         显示可用的区域\n--get-services      显示预先定义的服务\n--get-active-zones         显示当前正在使用的区域与网卡名称\n--add-source=               将源自此IP或子网的流量导向指定的区域\n--remove-sourCe=            不再将源自此IP或子网的流量导向某个指定区域\n--add-interface=<网卡名称>          将源自该网卡的所有流量都导向某个指定区域\n--change-interface=<网卡名称>            将某个网卡与区域进行关联\n--list-all                                  显示当前区域的网卡配置参数、资源、端口以及服务等信息\n--list-all-zones                     显示所有区域的网卡配置参数、资源、端口以及服务等信息\n```\n\n默认为运行时模式（rentime）重启后就会失效，可添加--permanent将改设置直接为永久生效，若设置永久生效需使用--reload使其立即生效\n\n`firewall-cmd --add-service=[需要放行的服务]：很实用的命令，可用于放行所需的服务，如http（移除：add改为remove）（也可将服务改为端口，端口后要加/tcp或udp`\n\n`firewall-cmd --add-rich-rule 'rule family=ipv4 source address=[需要同意/拒绝的主机的ip地址]/32 service name=[需要同意/拒绝的服务] reject/accept'同意/拒绝):拒绝来自该ip地址主机的流量对http服务的访问`\n\n若无法操作则按以下格式输入\n\n`firewall-cmd --zone=external --add-rich-rule 'rule family=ipv4 source address=192.168.10.11/32 service name=ssh accept'`\n\n`firewall-cmd --add-rich-rule 'rule family=ipv4 source address [需要同意/拒绝的网段，第四位为0] /24 port port [端口号范围，如20-22] protocol tcp/udp drop/accept/reject'拒绝来自该网段的流量对该范围端口的访问`\n\n`firewall-cmd --add-rich-rule 'rule family=ipv4 source address=[需要同意/拒绝的网段] protocol value=icmp accept/reject'：过滤来自该网段的icmp探测，即让该网段无法ping通（不输入family....网段即为拒绝所有网段)`\n\n---\n\n## 磁盘基础指令\n### mount 磁盘文件 \n- 挂目录：将磁盘临时挂载在目标路径上，重启后失效\n- 若要永久挂载需按格式将内容输入到/etc/fstab中\n- umount 挂载点/磁盘文件：撤销已经挂载的磁盘文件\n\n\n\n### fdisk 磁盘管理工具：\n#### 参数:\n```bash\nm:查看全部可用的参数\nn：添加新的分区\nd：删除某个分区信息\nl：列出所有可用的分区类型\np：查看分区信息\nw：保存并推出\nq：不保存直接退出\n```\n\n加入新磁盘后一定要设定分区后格式化\n\n设定分区流程：\n```bash\nfdisk 磁盘文件路径（在/dev下）\nq查看设备内已有的分区信息\nn尝试添加新的分区\np创建主分区\n输入1后enter回车\n创建一个磁盘分区，格式为+numG，num为数字\np来查看分区信息\nw保存退出\nfile 磁盘文件路径\n若输出不是block special则输入\npartprobe手动同步，连续执行两次该命令效果会更好\n```\n\n\n### mkfs格式化工具：\nmkfs后跟文件类型，这里我们用mkfs.xfs\n使用mkfs.xfs 磁盘文件路径\n\n创建一个文件，用mount将该磁盘挂载到该文件下\n使用`df -h`查看是否成功\n\n\n\nlsblk:查看系统已经挂载的块设备和挂载点\ndf -h/mount:查看当前系统已经挂载的文件系统及其挂载点\ndu 选项 文件:查看文件占用了多大的硬盘空间\n\n\n\n### 磁盘配额:\n对每个用户可使用的磁盘空间和创建最大文件个数进行限制\n进行配置前需先进行以下操作\n进入/etc/fstab在/boot /xfs后的参数defaults后添加,uquota\n作用是让磁盘支持uquota技术\n保存退出后重启\n可用`mount | grep boot`查看是否成功配置\n为了更好的显示效果可使用`chmod -Rf o+w /boot`为所有人赋予写入权限\n\n\n\n#### 命令：\n`xfs_quota -x -c 'limit bsoft=（需要软限制的大小，以m为单位）（空格）bhard=（需要硬限制的大小，以m为单位）(空格）isoft=（inode 的软限制数量）（空格）ihard=（inode的硬限制数量）（需要操作的用户）'  （需要操作的文件夹）`\n配置用户对指定文件夹的限额，其中所有参数不可更改\n\n\n\n`dd if=/dev/zero of=/（路径） bs=（需要创建的文件大小，以m为单位） count=（要复制的块数，即为inode数）`\n创建文件并用零字节将其填至指定大小，并复制指定数量的块\n\n\n\n`edquota -u/g 用户/组`\n在已经使用xfs_quota指令配置过限额后才可使用，在其中可修改配额\n\n\n\n\n\n### 软硬链接：\n#### 软连接：\n近似于创建源文件的快捷方式，源文件删除后该软链接也无法打开了\n\n#### 硬链接：\n直接指向磁盘中的存储位置，会增加文件的inode数，源文件删除后依然可以使用\n\n`ln 选项 源文件 链接文件 创建链接（选项为-s时为软连接，不加默认为硬链接）(其中链接文件不可提前创建否则会报错）（-f：强制创建文件或目录的链接，加了此参数可以无需在意是否提前创建链接文件；-i`\n覆盖前先询问；-v：显示创建链接的过程）\n\n---\n\n## 用户管理\n```bash\nuseradd [参数] [用户名]:创建用户（-c：指定用户的描述信息；-d：指定用户的主目录，该目录不用事先创建；-p:同时创建密码;-g：制定用户所属的主组，后接GID或组名；-G：制定用户所属的附属组，后接GID或组名；-s：指定用户的shell；-u：制定用户的uid）\nusermod [参数] [用户名]:修改用户(-l:修改用户名；其他参数与usedadd相同)\nuserdel [参数] [用户名]:删除用户(-r:同时删除其主目录和邮箱,没加则会保留)\npasswd [参数] [用户名]:管理用户密码（-d:删除用户密码；-l：锁定用户账户，即禁用账户;-u:解锁用户账户)\n特别的：echo [密码] | passwd --stdin [用户]:利用管道直接修改密码\nid [用户名]:查看用户信息\nsu [参数] [用户名]:切换用户（-或-l：初始化大部分环境变量，更改主目录，如同重新登陆一样，不加则为临时登陆）\nwhoami:查看当前用户\n```\n\n---\n\n\n\n## 用户组管理\n```bash\ngroupadd [参数] [组名]:创建组(-g:指定组的GID)\ngroupmod [参数] [组名]:修改组(-g:修改GID;-n:修改组名）\ngroupdel [参数] [组名]:删除组\ngpasswd [参数] [组名]:组的管理(不加参数:设置组的密码；-r：删除组的密码；-a：将用户加入到组中，成为组的成员；-d:将用户从组中移除；-A：将用户设置为组的管理员)\ngroups [组名]:查看用户隶属的组\nnewgrp：登录到其他组\n```\n\n---\n\n\n\n## 进程管理\n```bash\nps：查看系统中的进程状态\nps -a：显示所有进程\nps -u：用户以及其他详细信息\nps -x：显示没有控制终端的进程\ntop：用于动态监视进程活动与系统负载等信息\npidof：用于查询某个指定服务进程的PID值\nkill：终止此PID值的活动进程\nfree -h：显示当前系统中内存的使用量信息\nctrl+c：终止前台的程序\n```","slug":"Linux/Linux服务器基础","published":1,"updated":"2025-09-21T10:34:23.857Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560l0036g0fy5hycfwud","content":"<h2 id=\"基础指令\"><a href=\"#基础指令\" class=\"headerlink\" title=\"基础指令\"></a>基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查看文件目录：<span class=\"built_in\">pwd</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件：<span class=\"built_in\">ls</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件（包括隐藏的文件）：<span class=\"built_in\">ls</span> -a</span><br><span class=\"line\">列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令<span class=\"string\">&quot;ll&quot;</span>效果一样：<span class=\"built_in\">ls</span> -l</span><br><span class=\"line\">查看指定目录下的所有目录和文件：<span class=\"built_in\">ls</span> /xxx/xxx</span><br><span class=\"line\">进入文件目录：<span class=\"built_in\">cd</span></span><br><span class=\"line\">进入根目录：<span class=\"built_in\">cd</span> /</span><br><span class=\"line\">进入当前用户目录：<span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">退出目录：<span class=\"built_in\">cd</span> ..</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">创建文件夹：<span class=\"built_in\">mkdir</span></span><br><span class=\"line\">创建文件：<span class=\"built_in\">touch</span></span><br><span class=\"line\">设置权限：<span class=\"built_in\">chmod</span> xxx [文件目录]</span><br><span class=\"line\">删除文件：<span class=\"built_in\">rm</span> [文件名]</span><br><span class=\"line\">删除文件夹：<span class=\"built_in\">rm</span> -rf [文件目录]</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">立刻关机：shutdown -h now 或者 poweroff</span><br><span class=\"line\">两分钟后关机：shutdown -h 2</span><br><span class=\"line\">立刻重启：shutdown -r now 或者 reboot</span><br><span class=\"line\">两分钟后重启：shutdown -r 2 </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">type</span>：查看指令信息</span><br><span class=\"line\"><span class=\"built_in\">alias</span> 【别名】=‘原命令’：为原命令起别名（<span class=\"built_in\">unalias</span> 【别名】：删除该别名）</span><br><span class=\"line\">vim /root/.bashrc：对当前用户设置永久别名</span><br><span class=\"line\">vim /etc/bashrc：对所有用户设置永久别名</span><br><span class=\"line\">man xx：查看xx命令的帮助（详细信息）（按q退出）&#123;内容详情：（name：内容的名称）（synopsis：参数的大致使用方法）（descriotion：介绍说明）（examples：演示）（overview：概述）（defaults：默认的功能）（option：具体的可用选项）（environment：环境变量）（files：用到的文件）（see also：相关资料）（<span class=\"built_in\">history</span>：维护历史与联系方式）&#125;</span><br><span class=\"line\"><span class=\"built_in\">history</span>：显示历史执行过的命令（使用！编码数字可以重复执行一次该编码的命令）</span><br><span class=\"line\"><span class=\"built_in\">history</span> -c：清空所有命令的历史记录</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctrl+r：快速搜索某命令</span><br><span class=\"line\">！$：引用上一个命令的参数</span><br><span class=\"line\">！【关键词】：重复上一个有此关键词的命令并执行</span><br><span class=\"line\">【命令1】 &amp;&amp; 【命令2】：先执行命令1后执行命令2，若命令1执行失败则不会执行命令2</span><br><span class=\"line\"><span class=\"built_in\">which</span> 【命令】:查看命令所在的绝对路径</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span>配置：（使用户a在xxx主机上可以以用户b的身份执行命令)</span><br><span class=\"line\">用vim进入/etc/sudoers</span><br><span class=\"line\">在末行按格式输入：用户a 主机=（用户b） 命令</span><br><span class=\"line\">例子：user2 ALL=（ALL）ALL,!/usr/bin/passwd：使user2在所有主机上都可以使用除passwd以外的所有命令</span><br><span class=\"line\"><span class=\"built_in\">sudo</span>的使用：<span class=\"built_in\">sudo</span> [完整的命令]</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"软件源配置\"><a href=\"#软件源配置\" class=\"headerlink\" title=\"软件源配置\"></a>软件源配置</h2><h3 id=\"更新软件源：\"><a href=\"#更新软件源：\" class=\"headerlink\" title=\"更新软件源：\"></a>更新软件源：</h3><p>RPM&#x2F;YUM系：<code>yum -y update</code><br>DEB&#x2F;APT系：<code>apt -y update</code></p>\n<h3 id=\"安装软件：\"><a href=\"#安装软件：\" class=\"headerlink\" title=\"安装软件：\"></a>安装软件：</h3><p>RPM&#x2F;YUM系：<code>yum -y install [软件名]</code><br>DEB&#x2F;APT系：<code>apt install -y [软件名]</code></p>\n<h3 id=\"搜索相应软件包：（以-sl-软件包作例子）\"><a href=\"#搜索相应软件包：（以-sl-软件包作例子）\" class=\"headerlink\" title=\"搜索相应软件包：（以 sl 软件包作例子）\"></a>搜索相应软件包：（以 sl 软件包作例子）</h3><p>RPM&#x2F;YUM系：<code>yum search sl</code><br>DEB&#x2F;APT系：<code>apt search sl</code></p>\n<h3 id=\"rpm-红帽软件包管理工具\"><a href=\"#rpm-红帽软件包管理工具\" class=\"headerlink\" title=\"rpm:(红帽软件包管理工具)\"></a>rpm:(红帽软件包管理工具)</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-i:安装，一般搭配vh</span><br><span class=\"line\">-U：升级</span><br><span class=\"line\">-v：输出详细详细</span><br><span class=\"line\">-V:校验软件包内的所有文件</span><br><span class=\"line\">-Va:校验所有安装的软件包</span><br><span class=\"line\">-h：输出哈希值</span><br><span class=\"line\">-e：卸载</span><br><span class=\"line\">-q [软件包名称]:查询</span><br><span class=\"line\">-qa：将所有rpm方式安装的软件全部列出</span><br><span class=\"line\">-qi：查询软件包详细信息</span><br><span class=\"line\">-ql：查询软件包相关目录和文件</span><br><span class=\"line\">-qf [文件的绝对路径]：反查某个文件关联的rpm包</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h2><h3 id=\"1-使用yum命令安装Crontab：\"><a href=\"#1-使用yum命令安装Crontab：\" class=\"headerlink\" title=\"1.使用yum命令安装Crontab：\"></a>1.使用yum命令安装Crontab：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install vixie-cron </span><br><span class=\"line\">yum install crontabs</span><br><span class=\"line\">注：vixie-cron软件包是cron的主程序；</span><br><span class=\"line\">crontabs软件包是用来安装、卸装、或列举用来驱动 cron 守护进程的表格的程序。</span><br><span class=\"line\">cron是linux的内置服务，但它不自动起来，可以用以下的方法启动、关闭这个服务：</span><br><span class=\"line\">/sbin/service crond start <span class=\"comment\">#启动服务</span></span><br><span class=\"line\">/sbin/service crond stop <span class=\"comment\">#关闭服务</span></span><br><span class=\"line\">/sbin/service crond restart <span class=\"comment\">#重启服务</span></span><br><span class=\"line\">/sbin/service crond reload <span class=\"comment\">#重新载入配置</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-查看Crontab状态：\"><a href=\"#2-查看Crontab状态：\" class=\"headerlink\" title=\"2.查看Crontab状态：\"></a><font style=\"color:rgb(77, 77, 77);\">2.查看Crontab状态：</font></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service crond status</span><br><span class=\"line\">ntsysv <span class=\"meta\">#查看crontab服务是否已设置为开机启动</span></span><br><span class=\"line\">chkconfig –level <span class=\"number\">35</span> crond <span class=\"keyword\">on</span> <span class=\"meta\">#加入开机自动启动</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-添加定时任务：\"><a href=\"#3-添加定时任务：\" class=\"headerlink\" title=\"3.添加定时任务：\"></a><font style=\"color:rgb(77, 77, 77);\">3.添加定时任务：</font></h3><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -e <span class=\"comment\">#编辑cron任务模式</span></span><br><span class=\"line\">i <span class=\"comment\">#默认文字编辑器为vim，按i字母键即可添加cron任务</span></span><br><span class=\"line\"><span class=\"number\">30</span> <span class=\"number\">3</span> * * * <span class=\"regexp\">/usr/local</span><span class=\"regexp\">/etc/rc</span>.d/lighttpd restart <span class=\"comment\">#将命令代码放入，此命令意义为每天的03:30 重启apache</span></span><br><span class=\"line\"><span class=\"variable constant_\">ESC</span> <span class=\"comment\">#按ESC键退出编辑模式</span></span><br><span class=\"line\"><span class=\"symbol\">:wq</span> <span class=\"comment\">#键入:wq保存</span></span><br><span class=\"line\">service crond restart <span class=\"comment\">#重启crontab服务</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"网络操作基础指令\"><a href=\"#网络操作基础指令\" class=\"headerlink\" title=\"网络操作基础指令\"></a>网络操作基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ifconfig [网卡名称] [参数]:查看网络配置（down：关闭网卡；up：开启网卡）（特别的,利用ifconfig修改ip地址：ifconfig [网卡名称] [ip地址] netmask [掩码],同时可用vim进入/etc/sysconfig/network-scripts直接修改ip地址等网卡信息)</span><br><span class=\"line\">修改后的网卡文件不会立即生效，需用命令：（nmcli connection up [网卡名称]）来重新连接网卡使配置生效</span><br><span class=\"line\">ping 网址：尝试连接该网站</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp （要传送文件的绝对路径）（传输给的用户)(传送用户的ip）（要传送目录的绝对路径):将文件直接发送给目标用户</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmcli：</span><br><span class=\"line\">nmcli c show:用于表示当前系统中所有的网络连接</span><br><span class=\"line\">nmcli c(=connection的简写) up [网卡名称]:启用connection（相当于ifup)</span><br><span class=\"line\">nmcli c down [网卡名称]:停止connection（相当于ifdown）</span><br><span class=\"line\">通过nmcil给[网卡名称]修改ip地址/掩码：nmcil connection modify [网卡名称] ipv4.address IP/掩码</span><br><span class=\"line\">防火墙设置：(在6.5系统中systemctl为service)</span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status firewalld firewalld.service查看防火墙状态</span><br><span class=\"line\">systemctl stop firewalld：关闭防火墙</span><br><span class=\"line\">systemctl start firewalld：开启防火墙</span><br><span class=\"line\">systemctl <span class=\"built_in\">disable</span> firewalld:开机自动关闭</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> firewalld:开机自动启动</span><br><span class=\"line\">systemctl is-enabled firewalld:检测防火墙是否为自启动</span><br><span class=\"line\">systemctl iptables stop:关闭网络防火墙</span><br><span class=\"line\">systamctl :列出所有的系统服务</span><br><span class=\"line\">systemctl list-units:列出所有的unit</span><br><span class=\"line\">systemctl network restart</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget [下载网址] -O [下载文件的存放位置]:从网络上下载文件</span><br><span class=\"line\">nslookup [需要解析的域名]：测试能否解析到对应ip地址</span><br><span class=\"line\">curl [选项] [url]：从url上下载文件，访问网页，发送请求，上传文件等(-X:指定http请求方法，后接get，post，put等；-F：直接指定post指令要上传的文件;-u：设置用户名和密码进行HTTP基本认证;-o：将下载的内容保存到指定文件中;-O：将下载的内容保存到当前目录下的文件中，文件名与服务器端文件名相同)</span><br><span class=\"line\">lsof -i:[端口号]:查看端口对应进程的状态，可用来判断端口是否可用</span><br></pre></td></tr></table></figure>\n\n<p>iptables：<br>链可用于限制流量通过</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -L：查看规则链</span><br><span class=\"line\">iptables -F：清空规则链</span><br><span class=\"line\">iptables -P INPUT DROP/ACCRPT：将input的默认策略设置为拒绝/同意</span><br><span class=\"line\">iptables -D num INPUT：删除input的第num条规则</span><br><span class=\"line\">在头部添加新策略：（-I改为-A则为在末尾添加）</span><br><span class=\"line\">iptables -I INPUT（处理流入数据包的结点） -p  tcp/udp(匹配协议）-s 需要限制的ip地址  --dport 端口号 -j  DROP/REJEC/ACCEPT（丢弃or拒绝or同意）</span><br></pre></td></tr></table></figure>\n\n\n<p>firewall:</p>\n<p>firewall-cmd [参数为一般格式]</p>\n<p>参数:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--get-default-zone   查询默认的区域名称</span><br><span class=\"line\">--set-default-zone=&lt;区城名称&gt;    设置默认的区域，使其永久生效</span><br><span class=\"line\">--get-zones         显示可用的区域</span><br><span class=\"line\">--get-services      显示预先定义的服务</span><br><span class=\"line\">--get-active-zones         显示当前正在使用的区域与网卡名称</span><br><span class=\"line\">--add-source=               将源自此IP或子网的流量导向指定的区域</span><br><span class=\"line\">--remove-sourCe=            不再将源自此IP或子网的流量导向某个指定区域</span><br><span class=\"line\">--add-interface=&lt;网卡名称&gt;          将源自该网卡的所有流量都导向某个指定区域</span><br><span class=\"line\">--change-interface=&lt;网卡名称&gt;            将某个网卡与区域进行关联</span><br><span class=\"line\">--list-all                                  显示当前区域的网卡配置参数、资源、端口以及服务等信息</span><br><span class=\"line\">--list-all-zones                     显示所有区域的网卡配置参数、资源、端口以及服务等信息</span><br></pre></td></tr></table></figure>\n\n<p>默认为运行时模式（rentime）重启后就会失效，可添加–permanent将改设置直接为永久生效，若设置永久生效需使用–reload使其立即生效</p>\n<p><code>firewall-cmd --add-service=[需要放行的服务]：很实用的命令，可用于放行所需的服务，如http（移除：add改为remove）（也可将服务改为端口，端口后要加/tcp或udp</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的主机的ip地址]/32 service name=[需要同意/拒绝的服务] reject/accept&#39;同意/拒绝):拒绝来自该ip地址主机的流量对http服务的访问</code></p>\n<p>若无法操作则按以下格式输入</p>\n<p><code>firewall-cmd --zone=external --add-rich-rule &#39;rule family=ipv4 source address=192.168.10.11/32 service name=ssh accept&#39;</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address [需要同意/拒绝的网段，第四位为0] /24 port port [端口号范围，如20-22] protocol tcp/udp drop/accept/reject&#39;拒绝来自该网段的流量对该范围端口的访问</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的网段] protocol value=icmp accept/reject&#39;：过滤来自该网段的icmp探测，即让该网段无法ping通（不输入family....网段即为拒绝所有网段)</code></p>\n<hr>\n<h2 id=\"磁盘基础指令\"><a href=\"#磁盘基础指令\" class=\"headerlink\" title=\"磁盘基础指令\"></a>磁盘基础指令</h2><h3 id=\"mount-磁盘文件\"><a href=\"#mount-磁盘文件\" class=\"headerlink\" title=\"mount 磁盘文件\"></a>mount 磁盘文件</h3><ul>\n<li>挂目录：将磁盘临时挂载在目标路径上，重启后失效</li>\n<li>若要永久挂载需按格式将内容输入到&#x2F;etc&#x2F;fstab中</li>\n<li>umount 挂载点&#x2F;磁盘文件：撤销已经挂载的磁盘文件</li>\n</ul>\n<h3 id=\"fdisk-磁盘管理工具：\"><a href=\"#fdisk-磁盘管理工具：\" class=\"headerlink\" title=\"fdisk 磁盘管理工具：\"></a>fdisk 磁盘管理工具：</h3><h4 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数:\"></a>参数:</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">m:查看全部可用的参数</span><br><span class=\"line\">n：添加新的分区</span><br><span class=\"line\">d：删除某个分区信息</span><br><span class=\"line\">l：列出所有可用的分区类型</span><br><span class=\"line\">p：查看分区信息</span><br><span class=\"line\">w：保存并推出</span><br><span class=\"line\">q：不保存直接退出</span><br></pre></td></tr></table></figure>\n\n<p>加入新磁盘后一定要设定分区后格式化</p>\n<p>设定分区流程：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk 磁盘文件路径（在/dev下）</span><br><span class=\"line\">q查看设备内已有的分区信息</span><br><span class=\"line\">n尝试添加新的分区</span><br><span class=\"line\">p创建主分区</span><br><span class=\"line\">输入1后enter回车</span><br><span class=\"line\">创建一个磁盘分区，格式为+numG，num为数字</span><br><span class=\"line\">p来查看分区信息</span><br><span class=\"line\">w保存退出</span><br><span class=\"line\">file 磁盘文件路径</span><br><span class=\"line\">若输出不是block special则输入</span><br><span class=\"line\">partprobe手动同步，连续执行两次该命令效果会更好</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"mkfs格式化工具：\"><a href=\"#mkfs格式化工具：\" class=\"headerlink\" title=\"mkfs格式化工具：\"></a>mkfs格式化工具：</h3><p>mkfs后跟文件类型，这里我们用mkfs.xfs<br>使用mkfs.xfs 磁盘文件路径</p>\n<p>创建一个文件，用mount将该磁盘挂载到该文件下<br>使用<code>df -h</code>查看是否成功</p>\n<p>lsblk:查看系统已经挂载的块设备和挂载点<br>df -h&#x2F;mount:查看当前系统已经挂载的文件系统及其挂载点<br>du 选项 文件:查看文件占用了多大的硬盘空间</p>\n<h3 id=\"磁盘配额\"><a href=\"#磁盘配额\" class=\"headerlink\" title=\"磁盘配额:\"></a>磁盘配额:</h3><p>对每个用户可使用的磁盘空间和创建最大文件个数进行限制<br>进行配置前需先进行以下操作<br>进入&#x2F;etc&#x2F;fstab在&#x2F;boot &#x2F;xfs后的参数defaults后添加,uquota<br>作用是让磁盘支持uquota技术<br>保存退出后重启<br>可用<code>mount | grep boot</code>查看是否成功配置<br>为了更好的显示效果可使用<code>chmod -Rf o+w /boot</code>为所有人赋予写入权限</p>\n<h4 id=\"命令：\"><a href=\"#命令：\" class=\"headerlink\" title=\"命令：\"></a>命令：</h4><p><code>xfs_quota -x -c &#39;limit bsoft=（需要软限制的大小，以m为单位）（空格）bhard=（需要硬限制的大小，以m为单位）(空格）isoft=（inode 的软限制数量）（空格）ihard=（inode的硬限制数量）（需要操作的用户）&#39;  （需要操作的文件夹）</code><br>配置用户对指定文件夹的限额，其中所有参数不可更改</p>\n<p><code>dd if=/dev/zero of=/（路径） bs=（需要创建的文件大小，以m为单位） count=（要复制的块数，即为inode数）</code><br>创建文件并用零字节将其填至指定大小，并复制指定数量的块</p>\n<p><code>edquota -u/g 用户/组</code><br>在已经使用xfs_quota指令配置过限额后才可使用，在其中可修改配额</p>\n<h3 id=\"软硬链接：\"><a href=\"#软硬链接：\" class=\"headerlink\" title=\"软硬链接：\"></a>软硬链接：</h3><h4 id=\"软连接：\"><a href=\"#软连接：\" class=\"headerlink\" title=\"软连接：\"></a>软连接：</h4><p>近似于创建源文件的快捷方式，源文件删除后该软链接也无法打开了</p>\n<h4 id=\"硬链接：\"><a href=\"#硬链接：\" class=\"headerlink\" title=\"硬链接：\"></a>硬链接：</h4><p>直接指向磁盘中的存储位置，会增加文件的inode数，源文件删除后依然可以使用</p>\n<p><code>ln 选项 源文件 链接文件 创建链接（选项为-s时为软连接，不加默认为硬链接）(其中链接文件不可提前创建否则会报错）（-f：强制创建文件或目录的链接，加了此参数可以无需在意是否提前创建链接文件；-i</code><br>覆盖前先询问；-v：显示创建链接的过程）</p>\n<hr>\n<h2 id=\"用户管理\"><a href=\"#用户管理\" class=\"headerlink\" title=\"用户管理\"></a>用户管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd [参数] [用户名]:创建用户（-c：指定用户的描述信息；-d：指定用户的主目录，该目录不用事先创建；-p:同时创建密码;-g：制定用户所属的主组，后接GID或组名；-G：制定用户所属的附属组，后接GID或组名；-s：指定用户的shell；-u：制定用户的uid）</span><br><span class=\"line\">usermod [参数] [用户名]:修改用户(-l:修改用户名；其他参数与usedadd相同)</span><br><span class=\"line\">userdel [参数] [用户名]:删除用户(-r:同时删除其主目录和邮箱,没加则会保留)</span><br><span class=\"line\">passwd [参数] [用户名]:管理用户密码（-d:删除用户密码；-l：锁定用户账户，即禁用账户;-u:解锁用户账户)</span><br><span class=\"line\">特别的：<span class=\"built_in\">echo</span> [密码] | passwd --stdin [用户]:利用管道直接修改密码</span><br><span class=\"line\"><span class=\"built_in\">id</span> [用户名]:查看用户信息</span><br><span class=\"line\">su [参数] [用户名]:切换用户（-或-l：初始化大部分环境变量，更改主目录，如同重新登陆一样，不加则为临时登陆）</span><br><span class=\"line\"><span class=\"built_in\">whoami</span>:查看当前用户</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"用户组管理\"><a href=\"#用户组管理\" class=\"headerlink\" title=\"用户组管理\"></a>用户组管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">groupadd [参数] [组名]:创建组(-g:指定组的GID)</span><br><span class=\"line\">groupmod [参数] [组名]:修改组(-g:修改GID;-n:修改组名）</span><br><span class=\"line\">groupdel [参数] [组名]:删除组</span><br><span class=\"line\">gpasswd [参数] [组名]:组的管理(不加参数:设置组的密码；-r：删除组的密码；-a：将用户加入到组中，成为组的成员；-d:将用户从组中移除；-A：将用户设置为组的管理员)</span><br><span class=\"line\"><span class=\"built_in\">groups</span> [组名]:查看用户隶属的组</span><br><span class=\"line\">newgrp：登录到其他组</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"进程管理\"><a href=\"#进程管理\" class=\"headerlink\" title=\"进程管理\"></a>进程管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps：查看系统中的进程状态</span><br><span class=\"line\">ps -a：显示所有进程</span><br><span class=\"line\">ps -u：用户以及其他详细信息</span><br><span class=\"line\">ps -x：显示没有控制终端的进程</span><br><span class=\"line\">top：用于动态监视进程活动与系统负载等信息</span><br><span class=\"line\">pidof：用于查询某个指定服务进程的PID值</span><br><span class=\"line\"><span class=\"built_in\">kill</span>：终止此PID值的活动进程</span><br><span class=\"line\">free -h：显示当前系统中内存的使用量信息</span><br><span class=\"line\">ctrl+c：终止前台的程序</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h2 id=\"基础指令\"><a href=\"#基础指令\" class=\"headerlink\" title=\"基础指令\"></a>基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查看文件目录：<span class=\"built_in\">pwd</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件：<span class=\"built_in\">ls</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件（包括隐藏的文件）：<span class=\"built_in\">ls</span> -a</span><br><span class=\"line\">列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令<span class=\"string\">&quot;ll&quot;</span>效果一样：<span class=\"built_in\">ls</span> -l</span><br><span class=\"line\">查看指定目录下的所有目录和文件：<span class=\"built_in\">ls</span> /xxx/xxx</span><br><span class=\"line\">进入文件目录：<span class=\"built_in\">cd</span></span><br><span class=\"line\">进入根目录：<span class=\"built_in\">cd</span> /</span><br><span class=\"line\">进入当前用户目录：<span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">退出目录：<span class=\"built_in\">cd</span> ..</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">创建文件夹：<span class=\"built_in\">mkdir</span></span><br><span class=\"line\">创建文件：<span class=\"built_in\">touch</span></span><br><span class=\"line\">设置权限：<span class=\"built_in\">chmod</span> xxx [文件目录]</span><br><span class=\"line\">删除文件：<span class=\"built_in\">rm</span> [文件名]</span><br><span class=\"line\">删除文件夹：<span class=\"built_in\">rm</span> -rf [文件目录]</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">立刻关机：shutdown -h now 或者 poweroff</span><br><span class=\"line\">两分钟后关机：shutdown -h 2</span><br><span class=\"line\">立刻重启：shutdown -r now 或者 reboot</span><br><span class=\"line\">两分钟后重启：shutdown -r 2 </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">type</span>：查看指令信息</span><br><span class=\"line\"><span class=\"built_in\">alias</span> 【别名】=‘原命令’：为原命令起别名（<span class=\"built_in\">unalias</span> 【别名】：删除该别名）</span><br><span class=\"line\">vim /root/.bashrc：对当前用户设置永久别名</span><br><span class=\"line\">vim /etc/bashrc：对所有用户设置永久别名</span><br><span class=\"line\">man xx：查看xx命令的帮助（详细信息）（按q退出）&#123;内容详情：（name：内容的名称）（synopsis：参数的大致使用方法）（descriotion：介绍说明）（examples：演示）（overview：概述）（defaults：默认的功能）（option：具体的可用选项）（environment：环境变量）（files：用到的文件）（see also：相关资料）（<span class=\"built_in\">history</span>：维护历史与联系方式）&#125;</span><br><span class=\"line\"><span class=\"built_in\">history</span>：显示历史执行过的命令（使用！编码数字可以重复执行一次该编码的命令）</span><br><span class=\"line\"><span class=\"built_in\">history</span> -c：清空所有命令的历史记录</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctrl+r：快速搜索某命令</span><br><span class=\"line\">！$：引用上一个命令的参数</span><br><span class=\"line\">！【关键词】：重复上一个有此关键词的命令并执行</span><br><span class=\"line\">【命令1】 &amp;&amp; 【命令2】：先执行命令1后执行命令2，若命令1执行失败则不会执行命令2</span><br><span class=\"line\"><span class=\"built_in\">which</span> 【命令】:查看命令所在的绝对路径</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span>配置：（使用户a在xxx主机上可以以用户b的身份执行命令)</span><br><span class=\"line\">用vim进入/etc/sudoers</span><br><span class=\"line\">在末行按格式输入：用户a 主机=（用户b） 命令</span><br><span class=\"line\">例子：user2 ALL=（ALL）ALL,!/usr/bin/passwd：使user2在所有主机上都可以使用除passwd以外的所有命令</span><br><span class=\"line\"><span class=\"built_in\">sudo</span>的使用：<span class=\"built_in\">sudo</span> [完整的命令]</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"软件源配置\"><a href=\"#软件源配置\" class=\"headerlink\" title=\"软件源配置\"></a>软件源配置</h2><h3 id=\"更新软件源：\"><a href=\"#更新软件源：\" class=\"headerlink\" title=\"更新软件源：\"></a>更新软件源：</h3><p>RPM&#x2F;YUM系：<code>yum -y update</code><br>DEB&#x2F;APT系：<code>apt -y update</code></p>\n<h3 id=\"安装软件：\"><a href=\"#安装软件：\" class=\"headerlink\" title=\"安装软件：\"></a>安装软件：</h3><p>RPM&#x2F;YUM系：<code>yum -y install [软件名]</code><br>DEB&#x2F;APT系：<code>apt install -y [软件名]</code></p>\n<h3 id=\"搜索相应软件包：（以-sl-软件包作例子）\"><a href=\"#搜索相应软件包：（以-sl-软件包作例子）\" class=\"headerlink\" title=\"搜索相应软件包：（以 sl 软件包作例子）\"></a>搜索相应软件包：（以 sl 软件包作例子）</h3><p>RPM&#x2F;YUM系：<code>yum search sl</code><br>DEB&#x2F;APT系：<code>apt search sl</code></p>\n<h3 id=\"rpm-红帽软件包管理工具\"><a href=\"#rpm-红帽软件包管理工具\" class=\"headerlink\" title=\"rpm:(红帽软件包管理工具)\"></a>rpm:(红帽软件包管理工具)</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-i:安装，一般搭配vh</span><br><span class=\"line\">-U：升级</span><br><span class=\"line\">-v：输出详细详细</span><br><span class=\"line\">-V:校验软件包内的所有文件</span><br><span class=\"line\">-Va:校验所有安装的软件包</span><br><span class=\"line\">-h：输出哈希值</span><br><span class=\"line\">-e：卸载</span><br><span class=\"line\">-q [软件包名称]:查询</span><br><span class=\"line\">-qa：将所有rpm方式安装的软件全部列出</span><br><span class=\"line\">-qi：查询软件包详细信息</span><br><span class=\"line\">-ql：查询软件包相关目录和文件</span><br><span class=\"line\">-qf [文件的绝对路径]：反查某个文件关联的rpm包</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h2><h3 id=\"1-使用yum命令安装Crontab：\"><a href=\"#1-使用yum命令安装Crontab：\" class=\"headerlink\" title=\"1.使用yum命令安装Crontab：\"></a>1.使用yum命令安装Crontab：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install vixie-cron </span><br><span class=\"line\">yum install crontabs</span><br><span class=\"line\">注：vixie-cron软件包是cron的主程序；</span><br><span class=\"line\">crontabs软件包是用来安装、卸装、或列举用来驱动 cron 守护进程的表格的程序。</span><br><span class=\"line\">cron是linux的内置服务，但它不自动起来，可以用以下的方法启动、关闭这个服务：</span><br><span class=\"line\">/sbin/service crond start <span class=\"comment\">#启动服务</span></span><br><span class=\"line\">/sbin/service crond stop <span class=\"comment\">#关闭服务</span></span><br><span class=\"line\">/sbin/service crond restart <span class=\"comment\">#重启服务</span></span><br><span class=\"line\">/sbin/service crond reload <span class=\"comment\">#重新载入配置</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-查看Crontab状态：\"><a href=\"#2-查看Crontab状态：\" class=\"headerlink\" title=\"2.查看Crontab状态：\"></a><font style=\"color:rgb(77, 77, 77);\">2.查看Crontab状态：</font></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service crond status</span><br><span class=\"line\">ntsysv <span class=\"meta\">#查看crontab服务是否已设置为开机启动</span></span><br><span class=\"line\">chkconfig –level <span class=\"number\">35</span> crond <span class=\"keyword\">on</span> <span class=\"meta\">#加入开机自动启动</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-添加定时任务：\"><a href=\"#3-添加定时任务：\" class=\"headerlink\" title=\"3.添加定时任务：\"></a><font style=\"color:rgb(77, 77, 77);\">3.添加定时任务：</font></h3><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -e <span class=\"comment\">#编辑cron任务模式</span></span><br><span class=\"line\">i <span class=\"comment\">#默认文字编辑器为vim，按i字母键即可添加cron任务</span></span><br><span class=\"line\"><span class=\"number\">30</span> <span class=\"number\">3</span> * * * <span class=\"regexp\">/usr/local</span><span class=\"regexp\">/etc/rc</span>.d/lighttpd restart <span class=\"comment\">#将命令代码放入，此命令意义为每天的03:30 重启apache</span></span><br><span class=\"line\"><span class=\"variable constant_\">ESC</span> <span class=\"comment\">#按ESC键退出编辑模式</span></span><br><span class=\"line\"><span class=\"symbol\">:wq</span> <span class=\"comment\">#键入:wq保存</span></span><br><span class=\"line\">service crond restart <span class=\"comment\">#重启crontab服务</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"网络操作基础指令\"><a href=\"#网络操作基础指令\" class=\"headerlink\" title=\"网络操作基础指令\"></a>网络操作基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ifconfig [网卡名称] [参数]:查看网络配置（down：关闭网卡；up：开启网卡）（特别的,利用ifconfig修改ip地址：ifconfig [网卡名称] [ip地址] netmask [掩码],同时可用vim进入/etc/sysconfig/network-scripts直接修改ip地址等网卡信息)</span><br><span class=\"line\">修改后的网卡文件不会立即生效，需用命令：（nmcli connection up [网卡名称]）来重新连接网卡使配置生效</span><br><span class=\"line\">ping 网址：尝试连接该网站</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp （要传送文件的绝对路径）（传输给的用户)(传送用户的ip）（要传送目录的绝对路径):将文件直接发送给目标用户</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmcli：</span><br><span class=\"line\">nmcli c show:用于表示当前系统中所有的网络连接</span><br><span class=\"line\">nmcli c(=connection的简写) up [网卡名称]:启用connection（相当于ifup)</span><br><span class=\"line\">nmcli c down [网卡名称]:停止connection（相当于ifdown）</span><br><span class=\"line\">通过nmcil给[网卡名称]修改ip地址/掩码：nmcil connection modify [网卡名称] ipv4.address IP/掩码</span><br><span class=\"line\">防火墙设置：(在6.5系统中systemctl为service)</span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status firewalld firewalld.service查看防火墙状态</span><br><span class=\"line\">systemctl stop firewalld：关闭防火墙</span><br><span class=\"line\">systemctl start firewalld：开启防火墙</span><br><span class=\"line\">systemctl <span class=\"built_in\">disable</span> firewalld:开机自动关闭</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> firewalld:开机自动启动</span><br><span class=\"line\">systemctl is-enabled firewalld:检测防火墙是否为自启动</span><br><span class=\"line\">systemctl iptables stop:关闭网络防火墙</span><br><span class=\"line\">systamctl :列出所有的系统服务</span><br><span class=\"line\">systemctl list-units:列出所有的unit</span><br><span class=\"line\">systemctl network restart</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget [下载网址] -O [下载文件的存放位置]:从网络上下载文件</span><br><span class=\"line\">nslookup [需要解析的域名]：测试能否解析到对应ip地址</span><br><span class=\"line\">curl [选项] [url]：从url上下载文件，访问网页，发送请求，上传文件等(-X:指定http请求方法，后接get，post，put等；-F：直接指定post指令要上传的文件;-u：设置用户名和密码进行HTTP基本认证;-o：将下载的内容保存到指定文件中;-O：将下载的内容保存到当前目录下的文件中，文件名与服务器端文件名相同)</span><br><span class=\"line\">lsof -i:[端口号]:查看端口对应进程的状态，可用来判断端口是否可用</span><br></pre></td></tr></table></figure>\n\n<p>iptables：<br>链可用于限制流量通过</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -L：查看规则链</span><br><span class=\"line\">iptables -F：清空规则链</span><br><span class=\"line\">iptables -P INPUT DROP/ACCRPT：将input的默认策略设置为拒绝/同意</span><br><span class=\"line\">iptables -D num INPUT：删除input的第num条规则</span><br><span class=\"line\">在头部添加新策略：（-I改为-A则为在末尾添加）</span><br><span class=\"line\">iptables -I INPUT（处理流入数据包的结点） -p  tcp/udp(匹配协议）-s 需要限制的ip地址  --dport 端口号 -j  DROP/REJEC/ACCEPT（丢弃or拒绝or同意）</span><br></pre></td></tr></table></figure>\n\n\n<p>firewall:</p>\n<p>firewall-cmd [参数为一般格式]</p>\n<p>参数:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--get-default-zone   查询默认的区域名称</span><br><span class=\"line\">--set-default-zone=&lt;区城名称&gt;    设置默认的区域，使其永久生效</span><br><span class=\"line\">--get-zones         显示可用的区域</span><br><span class=\"line\">--get-services      显示预先定义的服务</span><br><span class=\"line\">--get-active-zones         显示当前正在使用的区域与网卡名称</span><br><span class=\"line\">--add-source=               将源自此IP或子网的流量导向指定的区域</span><br><span class=\"line\">--remove-sourCe=            不再将源自此IP或子网的流量导向某个指定区域</span><br><span class=\"line\">--add-interface=&lt;网卡名称&gt;          将源自该网卡的所有流量都导向某个指定区域</span><br><span class=\"line\">--change-interface=&lt;网卡名称&gt;            将某个网卡与区域进行关联</span><br><span class=\"line\">--list-all                                  显示当前区域的网卡配置参数、资源、端口以及服务等信息</span><br><span class=\"line\">--list-all-zones                     显示所有区域的网卡配置参数、资源、端口以及服务等信息</span><br></pre></td></tr></table></figure>\n\n<p>默认为运行时模式（rentime）重启后就会失效，可添加–permanent将改设置直接为永久生效，若设置永久生效需使用–reload使其立即生效</p>\n<p><code>firewall-cmd --add-service=[需要放行的服务]：很实用的命令，可用于放行所需的服务，如http（移除：add改为remove）（也可将服务改为端口，端口后要加/tcp或udp</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的主机的ip地址]/32 service name=[需要同意/拒绝的服务] reject/accept&#39;同意/拒绝):拒绝来自该ip地址主机的流量对http服务的访问</code></p>\n<p>若无法操作则按以下格式输入</p>\n<p><code>firewall-cmd --zone=external --add-rich-rule &#39;rule family=ipv4 source address=192.168.10.11/32 service name=ssh accept&#39;</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address [需要同意/拒绝的网段，第四位为0] /24 port port [端口号范围，如20-22] protocol tcp/udp drop/accept/reject&#39;拒绝来自该网段的流量对该范围端口的访问</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的网段] protocol value=icmp accept/reject&#39;：过滤来自该网段的icmp探测，即让该网段无法ping通（不输入family....网段即为拒绝所有网段)</code></p>\n<hr>\n<h2 id=\"磁盘基础指令\"><a href=\"#磁盘基础指令\" class=\"headerlink\" title=\"磁盘基础指令\"></a>磁盘基础指令</h2><h3 id=\"mount-磁盘文件\"><a href=\"#mount-磁盘文件\" class=\"headerlink\" title=\"mount 磁盘文件\"></a>mount 磁盘文件</h3><ul>\n<li>挂目录：将磁盘临时挂载在目标路径上，重启后失效</li>\n<li>若要永久挂载需按格式将内容输入到&#x2F;etc&#x2F;fstab中</li>\n<li>umount 挂载点&#x2F;磁盘文件：撤销已经挂载的磁盘文件</li>\n</ul>\n<h3 id=\"fdisk-磁盘管理工具：\"><a href=\"#fdisk-磁盘管理工具：\" class=\"headerlink\" title=\"fdisk 磁盘管理工具：\"></a>fdisk 磁盘管理工具：</h3><h4 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数:\"></a>参数:</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">m:查看全部可用的参数</span><br><span class=\"line\">n：添加新的分区</span><br><span class=\"line\">d：删除某个分区信息</span><br><span class=\"line\">l：列出所有可用的分区类型</span><br><span class=\"line\">p：查看分区信息</span><br><span class=\"line\">w：保存并推出</span><br><span class=\"line\">q：不保存直接退出</span><br></pre></td></tr></table></figure>\n\n<p>加入新磁盘后一定要设定分区后格式化</p>\n<p>设定分区流程：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk 磁盘文件路径（在/dev下）</span><br><span class=\"line\">q查看设备内已有的分区信息</span><br><span class=\"line\">n尝试添加新的分区</span><br><span class=\"line\">p创建主分区</span><br><span class=\"line\">输入1后enter回车</span><br><span class=\"line\">创建一个磁盘分区，格式为+numG，num为数字</span><br><span class=\"line\">p来查看分区信息</span><br><span class=\"line\">w保存退出</span><br><span class=\"line\">file 磁盘文件路径</span><br><span class=\"line\">若输出不是block special则输入</span><br><span class=\"line\">partprobe手动同步，连续执行两次该命令效果会更好</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"mkfs格式化工具：\"><a href=\"#mkfs格式化工具：\" class=\"headerlink\" title=\"mkfs格式化工具：\"></a>mkfs格式化工具：</h3><p>mkfs后跟文件类型，这里我们用mkfs.xfs<br>使用mkfs.xfs 磁盘文件路径</p>\n<p>创建一个文件，用mount将该磁盘挂载到该文件下<br>使用<code>df -h</code>查看是否成功</p>\n<p>lsblk:查看系统已经挂载的块设备和挂载点<br>df -h&#x2F;mount:查看当前系统已经挂载的文件系统及其挂载点<br>du 选项 文件:查看文件占用了多大的硬盘空间</p>\n<h3 id=\"磁盘配额\"><a href=\"#磁盘配额\" class=\"headerlink\" title=\"磁盘配额:\"></a>磁盘配额:</h3><p>对每个用户可使用的磁盘空间和创建最大文件个数进行限制<br>进行配置前需先进行以下操作<br>进入&#x2F;etc&#x2F;fstab在&#x2F;boot &#x2F;xfs后的参数defaults后添加,uquota<br>作用是让磁盘支持uquota技术<br>保存退出后重启<br>可用<code>mount | grep boot</code>查看是否成功配置<br>为了更好的显示效果可使用<code>chmod -Rf o+w /boot</code>为所有人赋予写入权限</p>\n<h4 id=\"命令：\"><a href=\"#命令：\" class=\"headerlink\" title=\"命令：\"></a>命令：</h4><p><code>xfs_quota -x -c &#39;limit bsoft=（需要软限制的大小，以m为单位）（空格）bhard=（需要硬限制的大小，以m为单位）(空格）isoft=（inode 的软限制数量）（空格）ihard=（inode的硬限制数量）（需要操作的用户）&#39;  （需要操作的文件夹）</code><br>配置用户对指定文件夹的限额，其中所有参数不可更改</p>\n<p><code>dd if=/dev/zero of=/（路径） bs=（需要创建的文件大小，以m为单位） count=（要复制的块数，即为inode数）</code><br>创建文件并用零字节将其填至指定大小，并复制指定数量的块</p>\n<p><code>edquota -u/g 用户/组</code><br>在已经使用xfs_quota指令配置过限额后才可使用，在其中可修改配额</p>\n<h3 id=\"软硬链接：\"><a href=\"#软硬链接：\" class=\"headerlink\" title=\"软硬链接：\"></a>软硬链接：</h3><h4 id=\"软连接：\"><a href=\"#软连接：\" class=\"headerlink\" title=\"软连接：\"></a>软连接：</h4><p>近似于创建源文件的快捷方式，源文件删除后该软链接也无法打开了</p>\n<h4 id=\"硬链接：\"><a href=\"#硬链接：\" class=\"headerlink\" title=\"硬链接：\"></a>硬链接：</h4><p>直接指向磁盘中的存储位置，会增加文件的inode数，源文件删除后依然可以使用</p>\n<p><code>ln 选项 源文件 链接文件 创建链接（选项为-s时为软连接，不加默认为硬链接）(其中链接文件不可提前创建否则会报错）（-f：强制创建文件或目录的链接，加了此参数可以无需在意是否提前创建链接文件；-i</code><br>覆盖前先询问；-v：显示创建链接的过程）</p>\n<hr>\n<h2 id=\"用户管理\"><a href=\"#用户管理\" class=\"headerlink\" title=\"用户管理\"></a>用户管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd [参数] [用户名]:创建用户（-c：指定用户的描述信息；-d：指定用户的主目录，该目录不用事先创建；-p:同时创建密码;-g：制定用户所属的主组，后接GID或组名；-G：制定用户所属的附属组，后接GID或组名；-s：指定用户的shell；-u：制定用户的uid）</span><br><span class=\"line\">usermod [参数] [用户名]:修改用户(-l:修改用户名；其他参数与usedadd相同)</span><br><span class=\"line\">userdel [参数] [用户名]:删除用户(-r:同时删除其主目录和邮箱,没加则会保留)</span><br><span class=\"line\">passwd [参数] [用户名]:管理用户密码（-d:删除用户密码；-l：锁定用户账户，即禁用账户;-u:解锁用户账户)</span><br><span class=\"line\">特别的：<span class=\"built_in\">echo</span> [密码] | passwd --stdin [用户]:利用管道直接修改密码</span><br><span class=\"line\"><span class=\"built_in\">id</span> [用户名]:查看用户信息</span><br><span class=\"line\">su [参数] [用户名]:切换用户（-或-l：初始化大部分环境变量，更改主目录，如同重新登陆一样，不加则为临时登陆）</span><br><span class=\"line\"><span class=\"built_in\">whoami</span>:查看当前用户</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"用户组管理\"><a href=\"#用户组管理\" class=\"headerlink\" title=\"用户组管理\"></a>用户组管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">groupadd [参数] [组名]:创建组(-g:指定组的GID)</span><br><span class=\"line\">groupmod [参数] [组名]:修改组(-g:修改GID;-n:修改组名）</span><br><span class=\"line\">groupdel [参数] [组名]:删除组</span><br><span class=\"line\">gpasswd [参数] [组名]:组的管理(不加参数:设置组的密码；-r：删除组的密码；-a：将用户加入到组中，成为组的成员；-d:将用户从组中移除；-A：将用户设置为组的管理员)</span><br><span class=\"line\"><span class=\"built_in\">groups</span> [组名]:查看用户隶属的组</span><br><span class=\"line\">newgrp：登录到其他组</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"进程管理\"><a href=\"#进程管理\" class=\"headerlink\" title=\"进程管理\"></a>进程管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps：查看系统中的进程状态</span><br><span class=\"line\">ps -a：显示所有进程</span><br><span class=\"line\">ps -u：用户以及其他详细信息</span><br><span class=\"line\">ps -x：显示没有控制终端的进程</span><br><span class=\"line\">top：用于动态监视进程活动与系统负载等信息</span><br><span class=\"line\">pidof：用于查询某个指定服务进程的PID值</span><br><span class=\"line\"><span class=\"built_in\">kill</span>：终止此PID值的活动进程</span><br><span class=\"line\">free -h：显示当前系统中内存的使用量信息</span><br><span class=\"line\">ctrl+c：终止前台的程序</span><br></pre></td></tr></table></figure>"},{"title":"Linux的前世今生 | Linux简介","description":"Linux的起源、特性与应用","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/LinuxNow.png","summary":"酥米小机器人来啦，这篇文章介绍了Linux的起源、特性与应用，强调其作为开源协作典范的地位，起源于1991年芬兰大学生林纳斯·托瓦兹开发的内核，结合GNU项目工具形成完整系统，具备稳定性、网络功能、多用户多任务、跨硬件支持、安全性等优势，广泛应用于服务器、嵌入式设备、移动系统及科研领域，代表开放共享理念推动信息技术发展，成为数字时代的重要基础。","date":"2021-02-16T08:29:00.000Z","_content":"\nLinux，全称 GNU/Linux，是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 Unix 的多用户、多任务、支持多线程和多 CPU 的操作系统。伴随着互联网的发展，Linux 得到了来自全世界软件爱好者、组织以及公司的持续支持与合作。它并非由单一个人或公司开发，而是全球协同合作的典范，其核心在于开源共享的精神。\n\n# 一、历史渊源与开源精神\n\nLinux 的故事始于 1991 年，由芬兰大学生林纳斯·托瓦兹（Linus Torvalds）发起。当时，他为了个人学习和使用，基于 Minix 系统（一个用于教学的小型 Unix 系统）开发了一个新的操作系统内核，并将其源代码公布于互联网上，邀请志同道合者一同完善。这个最初只是业余爱好的项目，迅速吸引了全球众多开发者的目光。\n\n![linus](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/linus2.webp)\n\n严格来说，林纳斯最初发布的只是“操作系统内核”（Kernel），即负责管理硬件、内存、进程等最核心任务的程序。要让一个操作系统变得实用，还需要大量的外围工具，如编译器、 shell、库文件等。而此时，由理查德·斯托曼（Richard Stallman）发起的自由软件基金会（FSF）及其 GNU 项目，已经为此准备了近十年。GNU 项目旨在创建一个完全自由、类 Unix 的操作系统，但其自有内核（Hurd）开发进展缓慢。Linux 内核的出现与 GNU 项目的工具集完美结合，形成了一个完整的操作系统——GNU/Linux（简称 Linux）。这正是“全称 GNU/Linux”的由来，也是对无数贡献者劳动的尊重。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/GNU.webp)\n\n其成功的根基在于采用了 GNU 通用公共许可证（GPL）。该许可证保证了用户运行、学习、修改和分发软件的自由。任何基于 GPL 代码的改进也必须以相同条款开源。这种“病毒式”的自由传播特性，确保了 Linux 的蓬勃发展不会受制于任何单一商业实体，形成了强大的社区驱动生态。\n\n# 二、核心特性与技术优势\n\nLinux 能取得今日之地位，与其自身卓越的特性密不可分：\n\n1.  **稳定性和高可靠性**：继承自 Unix 的优良基因，Linux 内核极其稳定，能够长时间连续运行而不宕机。这使得它成为运行关键任务应用（如服务器、数据库）的首选。\n\n2.  **强大的网络功能**：Linux 从诞生之初就与互联网紧密结合，其网络协议栈高效且完整，在性能和安全性方面表现出色，是构建网络基础设施的基石。\n\n3.  **多用户、多任务**：原生支持多个用户同时登录和操作，且彼此资源隔离，互不影响。系统能同时运行大量进程，并高效地进行调度和管理。\n\n4.  **跨平台硬件支持**：Linux 内核支持从嵌入式设备、手机到巨型超级计算机的几乎所有硬件平台。这种高度的可移植性使其应用场景无比广阔。\n\n5.  **安全性**：由于其开源特性，全球安全专家可以持续审查代码，发现并快速修复漏洞。相比闭源系统，其安全响应机制更为透明和高效。\n\n6.  **丰富的软件生态**：通过各种包管理系统（如 APT、YUM、DNF），用户可以轻松地安装、更新和卸载成千上万的免费开源软件，从开发工具到办公应用，一应俱全。\n\n\n\n# 三、广泛应用领域\n\n如今，Linux 已无处不在，渗透到数字世界的每一个角落：\n\n*   **服务器与云计算领域**：这是 Linux 的传统优势领域。全球超过 90% 的超级计算机、绝大多数互联网服务器（包括 Google、Facebook、Amazon 等巨头）、以及云计算平台（如 AWS、Azure、Google Cloud 的核心服务）都运行在 Linux 之上。Apache、Nginx、MySQL 等核心网络软件也首选 Linux 环境。\n\n*   **嵌入式系统与物联网（IoT）**：从智能电视、路由器、智能手表到汽车娱乐系统，Linux 因其小巧、灵活和可定制的特性，成为嵌入式设备的宠儿。\n\n*   **移动设备**：Android，这个全球市场占有率最高的移动操作系统，其底层核心正是 Linux 内核。\n\n*   **软件开发与科学计算**：Linux 是程序员和科研人员的乐园。它提供了强大的命令行工具链和原生开发环境，是进行人工智能、大数据分析、高性能计算等前沿研究的理想平台。\n\n*   **桌面系统**：虽然市场份额相对较小，但 Linux 桌面环境（如 GNOME、KDE）日益美观易用。出现了如 Ubuntu、Fedora、Deepin 等优秀的发行版，为用户提供了 Windows 和 macOS 之外的又一个高质量选择，特别受开发者和技术爱好者青睐。\n\n# 结语\n\n从一名芬兰大学生的个人项目，到支撑全球互联网技术的巨人，Linux 的成功是开源协作模式的一次伟大胜利。它证明了当来自世界各地的智慧为了一个共同目标自由汇聚时，所能迸发出的巨大能量。Linux 不仅仅是一个操作系统，更是一种哲学、一种文化。它代表着开放、共享、协作与创新，持续推动着整个信息技术产业向前发展，成为数字时代不可或缺的坚实基础。\n\n---\n\n# 类人版（Deepseek V3润色而成）\n\nLinux，这个名字你可能经常听到，但或许你从未真正了解过它的奇妙之处。说起来，它的诞生更像是一个偶然——1991年，芬兰大学生林纳斯·托瓦兹只是为了方便自己使用，写了一个小小的操作系统内核，并随手把它丢到了网上。就像在湖面投下一颗石子，他没想到这片涟漪竟会扩散至整个世界。\n\n而真正让Linux成长起来的，是一种被称为**开源**的奇妙模式。简单来说，就是所有人都可以看到、修改、分享它的源代码。这就像是一本公开的菜谱，每个厨师都可以根据自己的口味调整，并将改进后的配方再次分享出去。正是这种开放的精神，让全球无数开发者自发地加入进来，共同雕琢这个系统。\n\n你可能会问，这样一个由众人共同搭建的系统，究竟能有多厉害？答案可能超乎你的想象。\n\n每天早上，当你打开手机（如果用的是Android系统，那么你已经在使用Linux了）、浏览网页（绝大多数网站运行在Linux服务器上）、甚至使用共享单车（许多嵌入式设备都基于Linux），你都在不知不觉中与它打交道。从身边的小设备，到太空中火星探测车的控制系统，Linux的身影无处不在。\n\n更重要的是，Linux背后代表的一种理念：技术应该是开放、自由的。它不属于任何一家公司，而是属于全人类。正因为如此，我们才能看到无数基于Linux的创新诞生——无论是贫困地区学校使用的低成本电脑，还是科研机构中处理海量数据的超级计算机，都能见到它的身影。\n\n当然，Linux的世界并非完美无缺。对于普通用户来说，它的入门门槛可能稍高，图形界面虽然已经越来越友好，但依然需要一定的学习成本。不过，正是这种可定制性，让每个人都能打造属于自己的专属系统。\n\n如今，Linux已经走过了三十多个年头，但它依然保持着活力。每时每刻，来自世界各地的开发者仍在为它贡献代码，修复漏洞，添加新功能。这棵大树之所以能枝繁叶茂，正是因为它扎根于开放的土壤中。\n\n或许，Linux最大的启示不在于技术本身，而在于它向我们展示了一种可能性：当人们为了共同的目标而协作时，能够创造出怎样的奇迹。在这个意义上，Linux不仅仅是一个操作系统，更是一次关于合作与共享的伟大实践。\n\n---","source":"_posts/Linux/Linux简介.md","raw":"---\ntitle: Linux的前世今生 | Linux简介\ndescription: Linux的起源、特性与应用\ncategories:\n  - 系统类\ntags:\n  - Linux\n  - 系统\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/LinuxNow.png\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Linux的起源、特性与应用，强调其作为开源协作典范的地位，起源于1991年芬兰大学生林纳斯·托瓦兹开发的内核，结合GNU项目工具形成完整系统，具备稳定性、网络功能、多用户多任务、跨硬件支持、安全性等优势，广泛应用于服务器、嵌入式设备、移动系统及科研领域，代表开放共享理念推动信息技术发展，成为数字时代的重要基础。\ndate: 2021-02-16 16:29:00\n---\n\nLinux，全称 GNU/Linux，是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 Unix 的多用户、多任务、支持多线程和多 CPU 的操作系统。伴随着互联网的发展，Linux 得到了来自全世界软件爱好者、组织以及公司的持续支持与合作。它并非由单一个人或公司开发，而是全球协同合作的典范，其核心在于开源共享的精神。\n\n# 一、历史渊源与开源精神\n\nLinux 的故事始于 1991 年，由芬兰大学生林纳斯·托瓦兹（Linus Torvalds）发起。当时，他为了个人学习和使用，基于 Minix 系统（一个用于教学的小型 Unix 系统）开发了一个新的操作系统内核，并将其源代码公布于互联网上，邀请志同道合者一同完善。这个最初只是业余爱好的项目，迅速吸引了全球众多开发者的目光。\n\n![linus](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/linus2.webp)\n\n严格来说，林纳斯最初发布的只是“操作系统内核”（Kernel），即负责管理硬件、内存、进程等最核心任务的程序。要让一个操作系统变得实用，还需要大量的外围工具，如编译器、 shell、库文件等。而此时，由理查德·斯托曼（Richard Stallman）发起的自由软件基金会（FSF）及其 GNU 项目，已经为此准备了近十年。GNU 项目旨在创建一个完全自由、类 Unix 的操作系统，但其自有内核（Hurd）开发进展缓慢。Linux 内核的出现与 GNU 项目的工具集完美结合，形成了一个完整的操作系统——GNU/Linux（简称 Linux）。这正是“全称 GNU/Linux”的由来，也是对无数贡献者劳动的尊重。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/GNU.webp)\n\n其成功的根基在于采用了 GNU 通用公共许可证（GPL）。该许可证保证了用户运行、学习、修改和分发软件的自由。任何基于 GPL 代码的改进也必须以相同条款开源。这种“病毒式”的自由传播特性，确保了 Linux 的蓬勃发展不会受制于任何单一商业实体，形成了强大的社区驱动生态。\n\n# 二、核心特性与技术优势\n\nLinux 能取得今日之地位，与其自身卓越的特性密不可分：\n\n1.  **稳定性和高可靠性**：继承自 Unix 的优良基因，Linux 内核极其稳定，能够长时间连续运行而不宕机。这使得它成为运行关键任务应用（如服务器、数据库）的首选。\n\n2.  **强大的网络功能**：Linux 从诞生之初就与互联网紧密结合，其网络协议栈高效且完整，在性能和安全性方面表现出色，是构建网络基础设施的基石。\n\n3.  **多用户、多任务**：原生支持多个用户同时登录和操作，且彼此资源隔离，互不影响。系统能同时运行大量进程，并高效地进行调度和管理。\n\n4.  **跨平台硬件支持**：Linux 内核支持从嵌入式设备、手机到巨型超级计算机的几乎所有硬件平台。这种高度的可移植性使其应用场景无比广阔。\n\n5.  **安全性**：由于其开源特性，全球安全专家可以持续审查代码，发现并快速修复漏洞。相比闭源系统，其安全响应机制更为透明和高效。\n\n6.  **丰富的软件生态**：通过各种包管理系统（如 APT、YUM、DNF），用户可以轻松地安装、更新和卸载成千上万的免费开源软件，从开发工具到办公应用，一应俱全。\n\n\n\n# 三、广泛应用领域\n\n如今，Linux 已无处不在，渗透到数字世界的每一个角落：\n\n*   **服务器与云计算领域**：这是 Linux 的传统优势领域。全球超过 90% 的超级计算机、绝大多数互联网服务器（包括 Google、Facebook、Amazon 等巨头）、以及云计算平台（如 AWS、Azure、Google Cloud 的核心服务）都运行在 Linux 之上。Apache、Nginx、MySQL 等核心网络软件也首选 Linux 环境。\n\n*   **嵌入式系统与物联网（IoT）**：从智能电视、路由器、智能手表到汽车娱乐系统，Linux 因其小巧、灵活和可定制的特性，成为嵌入式设备的宠儿。\n\n*   **移动设备**：Android，这个全球市场占有率最高的移动操作系统，其底层核心正是 Linux 内核。\n\n*   **软件开发与科学计算**：Linux 是程序员和科研人员的乐园。它提供了强大的命令行工具链和原生开发环境，是进行人工智能、大数据分析、高性能计算等前沿研究的理想平台。\n\n*   **桌面系统**：虽然市场份额相对较小，但 Linux 桌面环境（如 GNOME、KDE）日益美观易用。出现了如 Ubuntu、Fedora、Deepin 等优秀的发行版，为用户提供了 Windows 和 macOS 之外的又一个高质量选择，特别受开发者和技术爱好者青睐。\n\n# 结语\n\n从一名芬兰大学生的个人项目，到支撑全球互联网技术的巨人，Linux 的成功是开源协作模式的一次伟大胜利。它证明了当来自世界各地的智慧为了一个共同目标自由汇聚时，所能迸发出的巨大能量。Linux 不仅仅是一个操作系统，更是一种哲学、一种文化。它代表着开放、共享、协作与创新，持续推动着整个信息技术产业向前发展，成为数字时代不可或缺的坚实基础。\n\n---\n\n# 类人版（Deepseek V3润色而成）\n\nLinux，这个名字你可能经常听到，但或许你从未真正了解过它的奇妙之处。说起来，它的诞生更像是一个偶然——1991年，芬兰大学生林纳斯·托瓦兹只是为了方便自己使用，写了一个小小的操作系统内核，并随手把它丢到了网上。就像在湖面投下一颗石子，他没想到这片涟漪竟会扩散至整个世界。\n\n而真正让Linux成长起来的，是一种被称为**开源**的奇妙模式。简单来说，就是所有人都可以看到、修改、分享它的源代码。这就像是一本公开的菜谱，每个厨师都可以根据自己的口味调整，并将改进后的配方再次分享出去。正是这种开放的精神，让全球无数开发者自发地加入进来，共同雕琢这个系统。\n\n你可能会问，这样一个由众人共同搭建的系统，究竟能有多厉害？答案可能超乎你的想象。\n\n每天早上，当你打开手机（如果用的是Android系统，那么你已经在使用Linux了）、浏览网页（绝大多数网站运行在Linux服务器上）、甚至使用共享单车（许多嵌入式设备都基于Linux），你都在不知不觉中与它打交道。从身边的小设备，到太空中火星探测车的控制系统，Linux的身影无处不在。\n\n更重要的是，Linux背后代表的一种理念：技术应该是开放、自由的。它不属于任何一家公司，而是属于全人类。正因为如此，我们才能看到无数基于Linux的创新诞生——无论是贫困地区学校使用的低成本电脑，还是科研机构中处理海量数据的超级计算机，都能见到它的身影。\n\n当然，Linux的世界并非完美无缺。对于普通用户来说，它的入门门槛可能稍高，图形界面虽然已经越来越友好，但依然需要一定的学习成本。不过，正是这种可定制性，让每个人都能打造属于自己的专属系统。\n\n如今，Linux已经走过了三十多个年头，但它依然保持着活力。每时每刻，来自世界各地的开发者仍在为它贡献代码，修复漏洞，添加新功能。这棵大树之所以能枝繁叶茂，正是因为它扎根于开放的土壤中。\n\n或许，Linux最大的启示不在于技术本身，而在于它向我们展示了一种可能性：当人们为了共同的目标而协作时，能够创造出怎样的奇迹。在这个意义上，Linux不仅仅是一个操作系统，更是一次关于合作与共享的伟大实践。\n\n---","slug":"Linux/Linux简介","published":1,"updated":"2025-09-21T10:34:14.395Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560m003ag0fy9wn409cl","content":"<p>Linux，全称 GNU&#x2F;Linux，是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 Unix 的多用户、多任务、支持多线程和多 CPU 的操作系统。伴随着互联网的发展，Linux 得到了来自全世界软件爱好者、组织以及公司的持续支持与合作。它并非由单一个人或公司开发，而是全球协同合作的典范，其核心在于开源共享的精神。</p>\n<h1 id=\"一、历史渊源与开源精神\"><a href=\"#一、历史渊源与开源精神\" class=\"headerlink\" title=\"一、历史渊源与开源精神\"></a>一、历史渊源与开源精神</h1><p>Linux 的故事始于 1991 年，由芬兰大学生林纳斯·托瓦兹（Linus Torvalds）发起。当时，他为了个人学习和使用，基于 Minix 系统（一个用于教学的小型 Unix 系统）开发了一个新的操作系统内核，并将其源代码公布于互联网上，邀请志同道合者一同完善。这个最初只是业余爱好的项目，迅速吸引了全球众多开发者的目光。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/linus2.webp\" alt=\"linus\"></p>\n<p>严格来说，林纳斯最初发布的只是“操作系统内核”（Kernel），即负责管理硬件、内存、进程等最核心任务的程序。要让一个操作系统变得实用，还需要大量的外围工具，如编译器、 shell、库文件等。而此时，由理查德·斯托曼（Richard Stallman）发起的自由软件基金会（FSF）及其 GNU 项目，已经为此准备了近十年。GNU 项目旨在创建一个完全自由、类 Unix 的操作系统，但其自有内核（Hurd）开发进展缓慢。Linux 内核的出现与 GNU 项目的工具集完美结合，形成了一个完整的操作系统——GNU&#x2F;Linux（简称 Linux）。这正是“全称 GNU&#x2F;Linux”的由来，也是对无数贡献者劳动的尊重。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/GNU.webp\"></p>\n<p>其成功的根基在于采用了 GNU 通用公共许可证（GPL）。该许可证保证了用户运行、学习、修改和分发软件的自由。任何基于 GPL 代码的改进也必须以相同条款开源。这种“病毒式”的自由传播特性，确保了 Linux 的蓬勃发展不会受制于任何单一商业实体，形成了强大的社区驱动生态。</p>\n<h1 id=\"二、核心特性与技术优势\"><a href=\"#二、核心特性与技术优势\" class=\"headerlink\" title=\"二、核心特性与技术优势\"></a>二、核心特性与技术优势</h1><p>Linux 能取得今日之地位，与其自身卓越的特性密不可分：</p>\n<ol>\n<li><p><strong>稳定性和高可靠性</strong>：继承自 Unix 的优良基因，Linux 内核极其稳定，能够长时间连续运行而不宕机。这使得它成为运行关键任务应用（如服务器、数据库）的首选。</p>\n</li>\n<li><p><strong>强大的网络功能</strong>：Linux 从诞生之初就与互联网紧密结合，其网络协议栈高效且完整，在性能和安全性方面表现出色，是构建网络基础设施的基石。</p>\n</li>\n<li><p><strong>多用户、多任务</strong>：原生支持多个用户同时登录和操作，且彼此资源隔离，互不影响。系统能同时运行大量进程，并高效地进行调度和管理。</p>\n</li>\n<li><p><strong>跨平台硬件支持</strong>：Linux 内核支持从嵌入式设备、手机到巨型超级计算机的几乎所有硬件平台。这种高度的可移植性使其应用场景无比广阔。</p>\n</li>\n<li><p><strong>安全性</strong>：由于其开源特性，全球安全专家可以持续审查代码，发现并快速修复漏洞。相比闭源系统，其安全响应机制更为透明和高效。</p>\n</li>\n<li><p><strong>丰富的软件生态</strong>：通过各种包管理系统（如 APT、YUM、DNF），用户可以轻松地安装、更新和卸载成千上万的免费开源软件，从开发工具到办公应用，一应俱全。</p>\n</li>\n</ol>\n<h1 id=\"三、广泛应用领域\"><a href=\"#三、广泛应用领域\" class=\"headerlink\" title=\"三、广泛应用领域\"></a>三、广泛应用领域</h1><p>如今，Linux 已无处不在，渗透到数字世界的每一个角落：</p>\n<ul>\n<li><p><strong>服务器与云计算领域</strong>：这是 Linux 的传统优势领域。全球超过 90% 的超级计算机、绝大多数互联网服务器（包括 Google、Facebook、Amazon 等巨头）、以及云计算平台（如 AWS、Azure、Google Cloud 的核心服务）都运行在 Linux 之上。Apache、Nginx、MySQL 等核心网络软件也首选 Linux 环境。</p>\n</li>\n<li><p><strong>嵌入式系统与物联网（IoT）</strong>：从智能电视、路由器、智能手表到汽车娱乐系统，Linux 因其小巧、灵活和可定制的特性，成为嵌入式设备的宠儿。</p>\n</li>\n<li><p><strong>移动设备</strong>：Android，这个全球市场占有率最高的移动操作系统，其底层核心正是 Linux 内核。</p>\n</li>\n<li><p><strong>软件开发与科学计算</strong>：Linux 是程序员和科研人员的乐园。它提供了强大的命令行工具链和原生开发环境，是进行人工智能、大数据分析、高性能计算等前沿研究的理想平台。</p>\n</li>\n<li><p><strong>桌面系统</strong>：虽然市场份额相对较小，但 Linux 桌面环境（如 GNOME、KDE）日益美观易用。出现了如 Ubuntu、Fedora、Deepin 等优秀的发行版，为用户提供了 Windows 和 macOS 之外的又一个高质量选择，特别受开发者和技术爱好者青睐。</p>\n</li>\n</ul>\n<h1 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h1><p>从一名芬兰大学生的个人项目，到支撑全球互联网技术的巨人，Linux 的成功是开源协作模式的一次伟大胜利。它证明了当来自世界各地的智慧为了一个共同目标自由汇聚时，所能迸发出的巨大能量。Linux 不仅仅是一个操作系统，更是一种哲学、一种文化。它代表着开放、共享、协作与创新，持续推动着整个信息技术产业向前发展，成为数字时代不可或缺的坚实基础。</p>\n<hr>\n<h1 id=\"类人版（Deepseek-V3润色而成）\"><a href=\"#类人版（Deepseek-V3润色而成）\" class=\"headerlink\" title=\"类人版（Deepseek V3润色而成）\"></a>类人版（Deepseek V3润色而成）</h1><p>Linux，这个名字你可能经常听到，但或许你从未真正了解过它的奇妙之处。说起来，它的诞生更像是一个偶然——1991年，芬兰大学生林纳斯·托瓦兹只是为了方便自己使用，写了一个小小的操作系统内核，并随手把它丢到了网上。就像在湖面投下一颗石子，他没想到这片涟漪竟会扩散至整个世界。</p>\n<p>而真正让Linux成长起来的，是一种被称为<strong>开源</strong>的奇妙模式。简单来说，就是所有人都可以看到、修改、分享它的源代码。这就像是一本公开的菜谱，每个厨师都可以根据自己的口味调整，并将改进后的配方再次分享出去。正是这种开放的精神，让全球无数开发者自发地加入进来，共同雕琢这个系统。</p>\n<p>你可能会问，这样一个由众人共同搭建的系统，究竟能有多厉害？答案可能超乎你的想象。</p>\n<p>每天早上，当你打开手机（如果用的是Android系统，那么你已经在使用Linux了）、浏览网页（绝大多数网站运行在Linux服务器上）、甚至使用共享单车（许多嵌入式设备都基于Linux），你都在不知不觉中与它打交道。从身边的小设备，到太空中火星探测车的控制系统，Linux的身影无处不在。</p>\n<p>更重要的是，Linux背后代表的一种理念：技术应该是开放、自由的。它不属于任何一家公司，而是属于全人类。正因为如此，我们才能看到无数基于Linux的创新诞生——无论是贫困地区学校使用的低成本电脑，还是科研机构中处理海量数据的超级计算机，都能见到它的身影。</p>\n<p>当然，Linux的世界并非完美无缺。对于普通用户来说，它的入门门槛可能稍高，图形界面虽然已经越来越友好，但依然需要一定的学习成本。不过，正是这种可定制性，让每个人都能打造属于自己的专属系统。</p>\n<p>如今，Linux已经走过了三十多个年头，但它依然保持着活力。每时每刻，来自世界各地的开发者仍在为它贡献代码，修复漏洞，添加新功能。这棵大树之所以能枝繁叶茂，正是因为它扎根于开放的土壤中。</p>\n<p>或许，Linux最大的启示不在于技术本身，而在于它向我们展示了一种可能性：当人们为了共同的目标而协作时，能够创造出怎样的奇迹。在这个意义上，Linux不仅仅是一个操作系统，更是一次关于合作与共享的伟大实践。</p>\n<hr>\n","cover_type":"img","excerpt":"","more":"<p>Linux，全称 GNU&#x2F;Linux，是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 Unix 的多用户、多任务、支持多线程和多 CPU 的操作系统。伴随着互联网的发展，Linux 得到了来自全世界软件爱好者、组织以及公司的持续支持与合作。它并非由单一个人或公司开发，而是全球协同合作的典范，其核心在于开源共享的精神。</p>\n<h1 id=\"一、历史渊源与开源精神\"><a href=\"#一、历史渊源与开源精神\" class=\"headerlink\" title=\"一、历史渊源与开源精神\"></a>一、历史渊源与开源精神</h1><p>Linux 的故事始于 1991 年，由芬兰大学生林纳斯·托瓦兹（Linus Torvalds）发起。当时，他为了个人学习和使用，基于 Minix 系统（一个用于教学的小型 Unix 系统）开发了一个新的操作系统内核，并将其源代码公布于互联网上，邀请志同道合者一同完善。这个最初只是业余爱好的项目，迅速吸引了全球众多开发者的目光。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/linus2.webp\" alt=\"linus\"></p>\n<p>严格来说，林纳斯最初发布的只是“操作系统内核”（Kernel），即负责管理硬件、内存、进程等最核心任务的程序。要让一个操作系统变得实用，还需要大量的外围工具，如编译器、 shell、库文件等。而此时，由理查德·斯托曼（Richard Stallman）发起的自由软件基金会（FSF）及其 GNU 项目，已经为此准备了近十年。GNU 项目旨在创建一个完全自由、类 Unix 的操作系统，但其自有内核（Hurd）开发进展缓慢。Linux 内核的出现与 GNU 项目的工具集完美结合，形成了一个完整的操作系统——GNU&#x2F;Linux（简称 Linux）。这正是“全称 GNU&#x2F;Linux”的由来，也是对无数贡献者劳动的尊重。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/GNU.webp\"></p>\n<p>其成功的根基在于采用了 GNU 通用公共许可证（GPL）。该许可证保证了用户运行、学习、修改和分发软件的自由。任何基于 GPL 代码的改进也必须以相同条款开源。这种“病毒式”的自由传播特性，确保了 Linux 的蓬勃发展不会受制于任何单一商业实体，形成了强大的社区驱动生态。</p>\n<h1 id=\"二、核心特性与技术优势\"><a href=\"#二、核心特性与技术优势\" class=\"headerlink\" title=\"二、核心特性与技术优势\"></a>二、核心特性与技术优势</h1><p>Linux 能取得今日之地位，与其自身卓越的特性密不可分：</p>\n<ol>\n<li><p><strong>稳定性和高可靠性</strong>：继承自 Unix 的优良基因，Linux 内核极其稳定，能够长时间连续运行而不宕机。这使得它成为运行关键任务应用（如服务器、数据库）的首选。</p>\n</li>\n<li><p><strong>强大的网络功能</strong>：Linux 从诞生之初就与互联网紧密结合，其网络协议栈高效且完整，在性能和安全性方面表现出色，是构建网络基础设施的基石。</p>\n</li>\n<li><p><strong>多用户、多任务</strong>：原生支持多个用户同时登录和操作，且彼此资源隔离，互不影响。系统能同时运行大量进程，并高效地进行调度和管理。</p>\n</li>\n<li><p><strong>跨平台硬件支持</strong>：Linux 内核支持从嵌入式设备、手机到巨型超级计算机的几乎所有硬件平台。这种高度的可移植性使其应用场景无比广阔。</p>\n</li>\n<li><p><strong>安全性</strong>：由于其开源特性，全球安全专家可以持续审查代码，发现并快速修复漏洞。相比闭源系统，其安全响应机制更为透明和高效。</p>\n</li>\n<li><p><strong>丰富的软件生态</strong>：通过各种包管理系统（如 APT、YUM、DNF），用户可以轻松地安装、更新和卸载成千上万的免费开源软件，从开发工具到办公应用，一应俱全。</p>\n</li>\n</ol>\n<h1 id=\"三、广泛应用领域\"><a href=\"#三、广泛应用领域\" class=\"headerlink\" title=\"三、广泛应用领域\"></a>三、广泛应用领域</h1><p>如今，Linux 已无处不在，渗透到数字世界的每一个角落：</p>\n<ul>\n<li><p><strong>服务器与云计算领域</strong>：这是 Linux 的传统优势领域。全球超过 90% 的超级计算机、绝大多数互联网服务器（包括 Google、Facebook、Amazon 等巨头）、以及云计算平台（如 AWS、Azure、Google Cloud 的核心服务）都运行在 Linux 之上。Apache、Nginx、MySQL 等核心网络软件也首选 Linux 环境。</p>\n</li>\n<li><p><strong>嵌入式系统与物联网（IoT）</strong>：从智能电视、路由器、智能手表到汽车娱乐系统，Linux 因其小巧、灵活和可定制的特性，成为嵌入式设备的宠儿。</p>\n</li>\n<li><p><strong>移动设备</strong>：Android，这个全球市场占有率最高的移动操作系统，其底层核心正是 Linux 内核。</p>\n</li>\n<li><p><strong>软件开发与科学计算</strong>：Linux 是程序员和科研人员的乐园。它提供了强大的命令行工具链和原生开发环境，是进行人工智能、大数据分析、高性能计算等前沿研究的理想平台。</p>\n</li>\n<li><p><strong>桌面系统</strong>：虽然市场份额相对较小，但 Linux 桌面环境（如 GNOME、KDE）日益美观易用。出现了如 Ubuntu、Fedora、Deepin 等优秀的发行版，为用户提供了 Windows 和 macOS 之外的又一个高质量选择，特别受开发者和技术爱好者青睐。</p>\n</li>\n</ul>\n<h1 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h1><p>从一名芬兰大学生的个人项目，到支撑全球互联网技术的巨人，Linux 的成功是开源协作模式的一次伟大胜利。它证明了当来自世界各地的智慧为了一个共同目标自由汇聚时，所能迸发出的巨大能量。Linux 不仅仅是一个操作系统，更是一种哲学、一种文化。它代表着开放、共享、协作与创新，持续推动着整个信息技术产业向前发展，成为数字时代不可或缺的坚实基础。</p>\n<hr>\n<h1 id=\"类人版（Deepseek-V3润色而成）\"><a href=\"#类人版（Deepseek-V3润色而成）\" class=\"headerlink\" title=\"类人版（Deepseek V3润色而成）\"></a>类人版（Deepseek V3润色而成）</h1><p>Linux，这个名字你可能经常听到，但或许你从未真正了解过它的奇妙之处。说起来，它的诞生更像是一个偶然——1991年，芬兰大学生林纳斯·托瓦兹只是为了方便自己使用，写了一个小小的操作系统内核，并随手把它丢到了网上。就像在湖面投下一颗石子，他没想到这片涟漪竟会扩散至整个世界。</p>\n<p>而真正让Linux成长起来的，是一种被称为<strong>开源</strong>的奇妙模式。简单来说，就是所有人都可以看到、修改、分享它的源代码。这就像是一本公开的菜谱，每个厨师都可以根据自己的口味调整，并将改进后的配方再次分享出去。正是这种开放的精神，让全球无数开发者自发地加入进来，共同雕琢这个系统。</p>\n<p>你可能会问，这样一个由众人共同搭建的系统，究竟能有多厉害？答案可能超乎你的想象。</p>\n<p>每天早上，当你打开手机（如果用的是Android系统，那么你已经在使用Linux了）、浏览网页（绝大多数网站运行在Linux服务器上）、甚至使用共享单车（许多嵌入式设备都基于Linux），你都在不知不觉中与它打交道。从身边的小设备，到太空中火星探测车的控制系统，Linux的身影无处不在。</p>\n<p>更重要的是，Linux背后代表的一种理念：技术应该是开放、自由的。它不属于任何一家公司，而是属于全人类。正因为如此，我们才能看到无数基于Linux的创新诞生——无论是贫困地区学校使用的低成本电脑，还是科研机构中处理海量数据的超级计算机，都能见到它的身影。</p>\n<p>当然，Linux的世界并非完美无缺。对于普通用户来说，它的入门门槛可能稍高，图形界面虽然已经越来越友好，但依然需要一定的学习成本。不过，正是这种可定制性，让每个人都能打造属于自己的专属系统。</p>\n<p>如今，Linux已经走过了三十多个年头，但它依然保持着活力。每时每刻，来自世界各地的开发者仍在为它贡献代码，修复漏洞，添加新功能。这棵大树之所以能枝繁叶茂，正是因为它扎根于开放的土壤中。</p>\n<p>或许，Linux最大的启示不在于技术本身，而在于它向我们展示了一种可能性：当人们为了共同的目标而协作时，能够创造出怎样的奇迹。在这个意义上，Linux不仅仅是一个操作系统，更是一次关于合作与共享的伟大实践。</p>\n<hr>\n"},{"title":"Windows 11 Insider Preview Build 26220.5790 更新日志：AI赋能更智能的PC体验","description":"Windows 11 25H2 Build 26220.5790预览版的更新内容","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg","summary":"酥米小机器人来啦，这篇文章介绍了Windows 11 25H2 Build 26220.5790预览版的更新内容，重点包括Copilot+ PC的AI功能增强如流体听写、扩展的Studio Effects支持更多摄像头硬件以及文件资源管理器的悬停操作优化，同时修复了系统稳定性与性能问题，但测试版可能存在bugcheck和功能异常，不建议在生产环境中使用。","date":"2025-09-07T12:45:08.000Z","_content":"\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.5790\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-1.jpg)\n\n> 微软最新发布的Windows 11 25H2 Build 26220.5790预览版为Copilot+ PC带来了一系列AI驱动的新功能，让操作系统变得更加智能高效。\n\n近日，微软向Dev频道的Windows Insider项目成员发布了Windows 11 Insider Preview Build 26220.5790（KB5065779），作为即将到来的25H2版本的一部分。\n\n这个版本主要集中在提升Copilot+ PC的体验上，引入了智能语音听写、扩展的Studio Effects支持以及文件资源管理器的改进。\n\n---\n\n# 智能语音听写：更流畅的语音输入体验\n\nBuild 26220.5790 为Copilot+ PC带来了**流体听写（Fluid Dictation）** 功能。它通过设备端的小型语言模型（SLMs）实时自动纠正语法、标点符号和填充词，从而减少手动编辑的需要。\n\n这意味着用户在使用语音输入时可以获得更流畅、更智能的体验。\n\n此功能在任何支持文本输入的应用中都能工作，但在密码或PIN等安全字段中会自动禁用以保护隐私。目前流体听写支持**所有英语 locales**。\n\n要使用此功能，用户只需启动语音访问（Voice Access）并完成设置（如果是首次使用），流体听写默认即为启用状态。\n\n# Studio Effects扩展支持更多摄像头\n\n本次更新另一个亮点是 **Windows Studio Effects 开始支持更多类型的摄像头硬件**。\n\n此前Studio Effects主要限于集成式笔记本电脑摄像头，现在，在支持的Copilot+ PC上，用户可以在**额外的备用摄像头**（如USB网络摄像头或笔记本电脑的内置后置摄像头）上使用AI加持的摄像头增强功能了。\n\n要启用该功能，只需导航到 **“设置”>“蓝牙和设备”>“摄像头”**，从已连接的摄像头列表中选择首选摄像头，然后打开高级摄像头选项菜单，找到新的“使用Windows Studio Effects”切换开关即可。\n\n需要注意的是，该功能所需的Windows Studio Effects驱动程序更新将**首先推送给基于Intel的Copilot+ PC**，基于AMD和Snapdragon的Copilot+ PC则在未来几周内陆续获得支持。\n\n# 文件资源管理器的新悬停操作\n\n文件资源管理器的“主页”现在提供了**新的悬停操作**，以便更快地进行文件管理。\n\n当用户在文件资源管理器主页中将鼠标悬停在文件上时，会显示“打开文件位置”和“向Copilot询问此文件”等命令。这使得用户能更轻松地尝试Copilot集成并附加文件。\n\n不过此体验目前仅限使用**Microsoft帐户登录**的用户。对未来工作或学校账户（Entra ID）的支持将在未来的版本中推出，并且此更改尚未向欧洲经济区（EEA）的Windows Insider成员推出。\n\n# 底层优化和问题修复\n\n除了引入新功能，Build 26220.5790 也带来了一系列修复，提升了系统的稳定性和性能：\n\n*   **常规性修复**：解决了某些设备上各种场景中出现的意外延迟增加问题，包括与文件资源管理器和任务栏的交互（单击可能需要500毫秒才能处理）以及浏览器窗口（尤其是在观看视频时）。\n*   **任务栏和系统托盘**：修复了更改显示分辨率后，任务栏中的应用预览窗口可能与单击/悬停的应用图标**不对齐的问题**。\n*   **文件资源管理器**：修复了安装某些应用程序后，右键单击时上下文菜单可能在正常初始视图和“显示更多选项”之间意外切换的问题。\n*   **设置**：解决了“设置”>“系统”>“存储”>“临时文件”页面在文件扫描阶段**卡住的问题**。\n*   **其他**：修复了导致某些Insiders的事件查看器中出现“Microsoft Pluton加密提供程序未加载，因为初始化失败”并出现错误57的问题。\n\n# 已知问题\n\n目前仍存在一些已知问题，微软正在调查解决：\n\n*   一些PC在**休眠期间**可能会遇到bugcheck（绿屏），建议用户暂时避免使PC休眠。\n*   文件资源管理器主页中的“共享”部分对某些用户可能**显示为空**。\n*   一些Insiders遇到**音频问题**（音频停止工作，设备管理器中设备显示黄色感叹号），可尝试通过更新设备驱动程序来缓解。\n*   正在调查**通过蓝牙使用Xbox控制器**导致PC bugcheck的问题。\n\n---\n\nBuild 26220.5790预览版展现了Windows 11 25H2在**AI与操作系统深度融合**方面的探索。流体听写、扩展的Studio Effects以及更便捷的文件操作悬停菜单，都预示着更智能、更高效的个人计算体验。\n\n由于此版本是测试版，**稳定性可能受到影响**，不建议在生产环境中使用。\n\n## Tips\n本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。","source":"_posts/Windows/win11dev.md","raw":"---\ntitle: Windows 11 Insider Preview Build 26220.5790 更新日志：AI赋能更智能的PC体验\ndescription: Windows 11 25H2 Build 26220.5790预览版的更新内容\ntags:\n  - Windows\n  - 系统\ncategories:\n  - 系统类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Windows 11 25H2 Build 26220.5790预览版的更新内容，重点包括Copilot+\n  PC的AI功能增强如流体听写、扩展的Studio\n  Effects支持更多摄像头硬件以及文件资源管理器的悬停操作优化，同时修复了系统稳定性与性能问题，但测试版可能存在bugcheck和功能异常，不建议在生产环境中使用。\ndate: 2025-09-07 20:45:08\n---\n\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.5790\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-1.jpg)\n\n> 微软最新发布的Windows 11 25H2 Build 26220.5790预览版为Copilot+ PC带来了一系列AI驱动的新功能，让操作系统变得更加智能高效。\n\n近日，微软向Dev频道的Windows Insider项目成员发布了Windows 11 Insider Preview Build 26220.5790（KB5065779），作为即将到来的25H2版本的一部分。\n\n这个版本主要集中在提升Copilot+ PC的体验上，引入了智能语音听写、扩展的Studio Effects支持以及文件资源管理器的改进。\n\n---\n\n# 智能语音听写：更流畅的语音输入体验\n\nBuild 26220.5790 为Copilot+ PC带来了**流体听写（Fluid Dictation）** 功能。它通过设备端的小型语言模型（SLMs）实时自动纠正语法、标点符号和填充词，从而减少手动编辑的需要。\n\n这意味着用户在使用语音输入时可以获得更流畅、更智能的体验。\n\n此功能在任何支持文本输入的应用中都能工作，但在密码或PIN等安全字段中会自动禁用以保护隐私。目前流体听写支持**所有英语 locales**。\n\n要使用此功能，用户只需启动语音访问（Voice Access）并完成设置（如果是首次使用），流体听写默认即为启用状态。\n\n# Studio Effects扩展支持更多摄像头\n\n本次更新另一个亮点是 **Windows Studio Effects 开始支持更多类型的摄像头硬件**。\n\n此前Studio Effects主要限于集成式笔记本电脑摄像头，现在，在支持的Copilot+ PC上，用户可以在**额外的备用摄像头**（如USB网络摄像头或笔记本电脑的内置后置摄像头）上使用AI加持的摄像头增强功能了。\n\n要启用该功能，只需导航到 **“设置”>“蓝牙和设备”>“摄像头”**，从已连接的摄像头列表中选择首选摄像头，然后打开高级摄像头选项菜单，找到新的“使用Windows Studio Effects”切换开关即可。\n\n需要注意的是，该功能所需的Windows Studio Effects驱动程序更新将**首先推送给基于Intel的Copilot+ PC**，基于AMD和Snapdragon的Copilot+ PC则在未来几周内陆续获得支持。\n\n# 文件资源管理器的新悬停操作\n\n文件资源管理器的“主页”现在提供了**新的悬停操作**，以便更快地进行文件管理。\n\n当用户在文件资源管理器主页中将鼠标悬停在文件上时，会显示“打开文件位置”和“向Copilot询问此文件”等命令。这使得用户能更轻松地尝试Copilot集成并附加文件。\n\n不过此体验目前仅限使用**Microsoft帐户登录**的用户。对未来工作或学校账户（Entra ID）的支持将在未来的版本中推出，并且此更改尚未向欧洲经济区（EEA）的Windows Insider成员推出。\n\n# 底层优化和问题修复\n\n除了引入新功能，Build 26220.5790 也带来了一系列修复，提升了系统的稳定性和性能：\n\n*   **常规性修复**：解决了某些设备上各种场景中出现的意外延迟增加问题，包括与文件资源管理器和任务栏的交互（单击可能需要500毫秒才能处理）以及浏览器窗口（尤其是在观看视频时）。\n*   **任务栏和系统托盘**：修复了更改显示分辨率后，任务栏中的应用预览窗口可能与单击/悬停的应用图标**不对齐的问题**。\n*   **文件资源管理器**：修复了安装某些应用程序后，右键单击时上下文菜单可能在正常初始视图和“显示更多选项”之间意外切换的问题。\n*   **设置**：解决了“设置”>“系统”>“存储”>“临时文件”页面在文件扫描阶段**卡住的问题**。\n*   **其他**：修复了导致某些Insiders的事件查看器中出现“Microsoft Pluton加密提供程序未加载，因为初始化失败”并出现错误57的问题。\n\n# 已知问题\n\n目前仍存在一些已知问题，微软正在调查解决：\n\n*   一些PC在**休眠期间**可能会遇到bugcheck（绿屏），建议用户暂时避免使PC休眠。\n*   文件资源管理器主页中的“共享”部分对某些用户可能**显示为空**。\n*   一些Insiders遇到**音频问题**（音频停止工作，设备管理器中设备显示黄色感叹号），可尝试通过更新设备驱动程序来缓解。\n*   正在调查**通过蓝牙使用Xbox控制器**导致PC bugcheck的问题。\n\n---\n\nBuild 26220.5790预览版展现了Windows 11 25H2在**AI与操作系统深度融合**方面的探索。流体听写、扩展的Studio Effects以及更便捷的文件操作悬停菜单，都预示着更智能、更高效的个人计算体验。\n\n由于此版本是测试版，**稳定性可能受到影响**，不建议在生产环境中使用。\n\n## Tips\n本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。","slug":"Windows/win11dev","published":1,"updated":"2025-09-21T10:34:50.756Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560p003fg0fyh6kx33sf","content":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.5790</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-1.jpg\"></p>\n<blockquote>\n<p>微软最新发布的Windows 11 25H2 Build 26220.5790预览版为Copilot+ PC带来了一系列AI驱动的新功能，让操作系统变得更加智能高效。</p>\n</blockquote>\n<p>近日，微软向Dev频道的Windows Insider项目成员发布了Windows 11 Insider Preview Build 26220.5790（KB5065779），作为即将到来的25H2版本的一部分。</p>\n<p>这个版本主要集中在提升Copilot+ PC的体验上，引入了智能语音听写、扩展的Studio Effects支持以及文件资源管理器的改进。</p>\n<hr>\n<h1 id=\"智能语音听写：更流畅的语音输入体验\"><a href=\"#智能语音听写：更流畅的语音输入体验\" class=\"headerlink\" title=\"智能语音听写：更流畅的语音输入体验\"></a>智能语音听写：更流畅的语音输入体验</h1><p>Build 26220.5790 为Copilot+ PC带来了<strong>流体听写（Fluid Dictation）</strong> 功能。它通过设备端的小型语言模型（SLMs）实时自动纠正语法、标点符号和填充词，从而减少手动编辑的需要。</p>\n<p>这意味着用户在使用语音输入时可以获得更流畅、更智能的体验。</p>\n<p>此功能在任何支持文本输入的应用中都能工作，但在密码或PIN等安全字段中会自动禁用以保护隐私。目前流体听写支持<strong>所有英语 locales</strong>。</p>\n<p>要使用此功能，用户只需启动语音访问（Voice Access）并完成设置（如果是首次使用），流体听写默认即为启用状态。</p>\n<h1 id=\"Studio-Effects扩展支持更多摄像头\"><a href=\"#Studio-Effects扩展支持更多摄像头\" class=\"headerlink\" title=\"Studio Effects扩展支持更多摄像头\"></a>Studio Effects扩展支持更多摄像头</h1><p>本次更新另一个亮点是 <strong>Windows Studio Effects 开始支持更多类型的摄像头硬件</strong>。</p>\n<p>此前Studio Effects主要限于集成式笔记本电脑摄像头，现在，在支持的Copilot+ PC上，用户可以在<strong>额外的备用摄像头</strong>（如USB网络摄像头或笔记本电脑的内置后置摄像头）上使用AI加持的摄像头增强功能了。</p>\n<p>要启用该功能，只需导航到 <strong>“设置”&gt;“蓝牙和设备”&gt;“摄像头”</strong>，从已连接的摄像头列表中选择首选摄像头，然后打开高级摄像头选项菜单，找到新的“使用Windows Studio Effects”切换开关即可。</p>\n<p>需要注意的是，该功能所需的Windows Studio Effects驱动程序更新将<strong>首先推送给基于Intel的Copilot+ PC</strong>，基于AMD和Snapdragon的Copilot+ PC则在未来几周内陆续获得支持。</p>\n<h1 id=\"文件资源管理器的新悬停操作\"><a href=\"#文件资源管理器的新悬停操作\" class=\"headerlink\" title=\"文件资源管理器的新悬停操作\"></a>文件资源管理器的新悬停操作</h1><p>文件资源管理器的“主页”现在提供了<strong>新的悬停操作</strong>，以便更快地进行文件管理。</p>\n<p>当用户在文件资源管理器主页中将鼠标悬停在文件上时，会显示“打开文件位置”和“向Copilot询问此文件”等命令。这使得用户能更轻松地尝试Copilot集成并附加文件。</p>\n<p>不过此体验目前仅限使用<strong>Microsoft帐户登录</strong>的用户。对未来工作或学校账户（Entra ID）的支持将在未来的版本中推出，并且此更改尚未向欧洲经济区（EEA）的Windows Insider成员推出。</p>\n<h1 id=\"底层优化和问题修复\"><a href=\"#底层优化和问题修复\" class=\"headerlink\" title=\"底层优化和问题修复\"></a>底层优化和问题修复</h1><p>除了引入新功能，Build 26220.5790 也带来了一系列修复，提升了系统的稳定性和性能：</p>\n<ul>\n<li><strong>常规性修复</strong>：解决了某些设备上各种场景中出现的意外延迟增加问题，包括与文件资源管理器和任务栏的交互（单击可能需要500毫秒才能处理）以及浏览器窗口（尤其是在观看视频时）。</li>\n<li><strong>任务栏和系统托盘</strong>：修复了更改显示分辨率后，任务栏中的应用预览窗口可能与单击&#x2F;悬停的应用图标<strong>不对齐的问题</strong>。</li>\n<li><strong>文件资源管理器</strong>：修复了安装某些应用程序后，右键单击时上下文菜单可能在正常初始视图和“显示更多选项”之间意外切换的问题。</li>\n<li><strong>设置</strong>：解决了“设置”&gt;“系统”&gt;“存储”&gt;“临时文件”页面在文件扫描阶段<strong>卡住的问题</strong>。</li>\n<li><strong>其他</strong>：修复了导致某些Insiders的事件查看器中出现“Microsoft Pluton加密提供程序未加载，因为初始化失败”并出现错误57的问题。</li>\n</ul>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>目前仍存在一些已知问题，微软正在调查解决：</p>\n<ul>\n<li>一些PC在<strong>休眠期间</strong>可能会遇到bugcheck（绿屏），建议用户暂时避免使PC休眠。</li>\n<li>文件资源管理器主页中的“共享”部分对某些用户可能<strong>显示为空</strong>。</li>\n<li>一些Insiders遇到<strong>音频问题</strong>（音频停止工作，设备管理器中设备显示黄色感叹号），可尝试通过更新设备驱动程序来缓解。</li>\n<li>正在调查<strong>通过蓝牙使用Xbox控制器</strong>导致PC bugcheck的问题。</li>\n</ul>\n<hr>\n<p>Build 26220.5790预览版展现了Windows 11 25H2在<strong>AI与操作系统深度融合</strong>方面的探索。流体听写、扩展的Studio Effects以及更便捷的文件操作悬停菜单，都预示着更智能、更高效的个人计算体验。</p>\n<p>由于此版本是测试版，<strong>稳定性可能受到影响</strong>，不建议在生产环境中使用。</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.5790</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-1.jpg\"></p>\n<blockquote>\n<p>微软最新发布的Windows 11 25H2 Build 26220.5790预览版为Copilot+ PC带来了一系列AI驱动的新功能，让操作系统变得更加智能高效。</p>\n</blockquote>\n<p>近日，微软向Dev频道的Windows Insider项目成员发布了Windows 11 Insider Preview Build 26220.5790（KB5065779），作为即将到来的25H2版本的一部分。</p>\n<p>这个版本主要集中在提升Copilot+ PC的体验上，引入了智能语音听写、扩展的Studio Effects支持以及文件资源管理器的改进。</p>\n<hr>\n<h1 id=\"智能语音听写：更流畅的语音输入体验\"><a href=\"#智能语音听写：更流畅的语音输入体验\" class=\"headerlink\" title=\"智能语音听写：更流畅的语音输入体验\"></a>智能语音听写：更流畅的语音输入体验</h1><p>Build 26220.5790 为Copilot+ PC带来了<strong>流体听写（Fluid Dictation）</strong> 功能。它通过设备端的小型语言模型（SLMs）实时自动纠正语法、标点符号和填充词，从而减少手动编辑的需要。</p>\n<p>这意味着用户在使用语音输入时可以获得更流畅、更智能的体验。</p>\n<p>此功能在任何支持文本输入的应用中都能工作，但在密码或PIN等安全字段中会自动禁用以保护隐私。目前流体听写支持<strong>所有英语 locales</strong>。</p>\n<p>要使用此功能，用户只需启动语音访问（Voice Access）并完成设置（如果是首次使用），流体听写默认即为启用状态。</p>\n<h1 id=\"Studio-Effects扩展支持更多摄像头\"><a href=\"#Studio-Effects扩展支持更多摄像头\" class=\"headerlink\" title=\"Studio Effects扩展支持更多摄像头\"></a>Studio Effects扩展支持更多摄像头</h1><p>本次更新另一个亮点是 <strong>Windows Studio Effects 开始支持更多类型的摄像头硬件</strong>。</p>\n<p>此前Studio Effects主要限于集成式笔记本电脑摄像头，现在，在支持的Copilot+ PC上，用户可以在<strong>额外的备用摄像头</strong>（如USB网络摄像头或笔记本电脑的内置后置摄像头）上使用AI加持的摄像头增强功能了。</p>\n<p>要启用该功能，只需导航到 <strong>“设置”&gt;“蓝牙和设备”&gt;“摄像头”</strong>，从已连接的摄像头列表中选择首选摄像头，然后打开高级摄像头选项菜单，找到新的“使用Windows Studio Effects”切换开关即可。</p>\n<p>需要注意的是，该功能所需的Windows Studio Effects驱动程序更新将<strong>首先推送给基于Intel的Copilot+ PC</strong>，基于AMD和Snapdragon的Copilot+ PC则在未来几周内陆续获得支持。</p>\n<h1 id=\"文件资源管理器的新悬停操作\"><a href=\"#文件资源管理器的新悬停操作\" class=\"headerlink\" title=\"文件资源管理器的新悬停操作\"></a>文件资源管理器的新悬停操作</h1><p>文件资源管理器的“主页”现在提供了<strong>新的悬停操作</strong>，以便更快地进行文件管理。</p>\n<p>当用户在文件资源管理器主页中将鼠标悬停在文件上时，会显示“打开文件位置”和“向Copilot询问此文件”等命令。这使得用户能更轻松地尝试Copilot集成并附加文件。</p>\n<p>不过此体验目前仅限使用<strong>Microsoft帐户登录</strong>的用户。对未来工作或学校账户（Entra ID）的支持将在未来的版本中推出，并且此更改尚未向欧洲经济区（EEA）的Windows Insider成员推出。</p>\n<h1 id=\"底层优化和问题修复\"><a href=\"#底层优化和问题修复\" class=\"headerlink\" title=\"底层优化和问题修复\"></a>底层优化和问题修复</h1><p>除了引入新功能，Build 26220.5790 也带来了一系列修复，提升了系统的稳定性和性能：</p>\n<ul>\n<li><strong>常规性修复</strong>：解决了某些设备上各种场景中出现的意外延迟增加问题，包括与文件资源管理器和任务栏的交互（单击可能需要500毫秒才能处理）以及浏览器窗口（尤其是在观看视频时）。</li>\n<li><strong>任务栏和系统托盘</strong>：修复了更改显示分辨率后，任务栏中的应用预览窗口可能与单击&#x2F;悬停的应用图标<strong>不对齐的问题</strong>。</li>\n<li><strong>文件资源管理器</strong>：修复了安装某些应用程序后，右键单击时上下文菜单可能在正常初始视图和“显示更多选项”之间意外切换的问题。</li>\n<li><strong>设置</strong>：解决了“设置”&gt;“系统”&gt;“存储”&gt;“临时文件”页面在文件扫描阶段<strong>卡住的问题</strong>。</li>\n<li><strong>其他</strong>：修复了导致某些Insiders的事件查看器中出现“Microsoft Pluton加密提供程序未加载，因为初始化失败”并出现错误57的问题。</li>\n</ul>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>目前仍存在一些已知问题，微软正在调查解决：</p>\n<ul>\n<li>一些PC在<strong>休眠期间</strong>可能会遇到bugcheck（绿屏），建议用户暂时避免使PC休眠。</li>\n<li>文件资源管理器主页中的“共享”部分对某些用户可能<strong>显示为空</strong>。</li>\n<li>一些Insiders遇到<strong>音频问题</strong>（音频停止工作，设备管理器中设备显示黄色感叹号），可尝试通过更新设备驱动程序来缓解。</li>\n<li>正在调查<strong>通过蓝牙使用Xbox控制器</strong>导致PC bugcheck的问题。</li>\n</ul>\n<hr>\n<p>Build 26220.5790预览版展现了Windows 11 25H2在<strong>AI与操作系统深度融合</strong>方面的探索。流体听写、扩展的Studio Effects以及更便捷的文件操作悬停菜单，都预示着更智能、更高效的个人计算体验。</p>\n<p>由于此版本是测试版，<strong>稳定性可能受到影响</strong>，不建议在生产环境中使用。</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。</p>\n"},{"title":"Windows 11 Insider Preview Build 26220.6682 更新日志：AI功能持续增强","description":"Windows 11 25H2 Build 26220.6682预览版的更新内容","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg","summary":"酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build 26220.6682更新内容，重点包括AI功能增强，如Click to Do新增自定义指令输入、本地AI推荐提示及视觉动画优化，同时优化了讲述人无障碍功能与自然语音播报稳定性，新增7个Emoji符号并调整Xbox控制器操作方式，修复任务栏隐藏、文件资源管理器无响应等bug，但部分功能可能存在兼容性问题且稳定性未完全验证，此版本仅限Insider测试，不建议生产环境使用。","date":"2025-09-13T16:15:00.000Z","_content":"\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6682\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-2.jpg)\n\n> 微软今日向 Dev 频道的 Windows Insider 项目成员推送了 Windows 11 Insider Preview Build 26220.6682 (KB5065782) 版本更新。本次更新主要针对 Copilot+ PC 设备，进一步增强了 Click to Do 功能的实用性和智能化水平，同时对讲述人(Narrator)无障碍功能进行了优化。\n\n---\n\n# 1. Click to Do 功能增强（预览版）\n\n本次更新为 Copilot+ PC 带来了多项 Click to Do 功能的改进：\n\n**自定义指令输入**：现在在 Click to Do 的上下文菜单中可以直接输入自定义指令，与选定的屏幕内容一并发送给 Copilot，交互更加灵活。\n\n**本地 AI 推荐提示**：菜单下方会显示由设备端 Phi-Silica 模型生成的推荐提示（目前支持英文、西班牙文和法文），响应更快且保护隐私。\n\n**视觉动画优化**：使用屏幕右边缘手势触发 Click to Do 时，新增了流畅的视觉动画反馈，操作体验更加直观。\n\n**功能发现性提升**：上下文菜单中新增\"新建和热门\"动作标签，帮助用户更快发现实用功能。同时\"总结\"功能的输出结果更加简洁精炼。\n\n**开始菜单集成**：开始菜单的\"推荐\"区域会展示 Copilot 示例提示，引导用户体验 AI 功能。\n\n> ⚠️ 注意：上述 Click to Do 增强功能目前未向欧洲经济区(EEA)或中国的 Insiders 推送。\n\n# 2. 讲述人(Narrator)无障碍功能优化\n\n本次更新对讲述人功能进行了多项改进：\n\n*   **自然语音优化**：使用自然语音时，讲述人播报标题或语法错误时不再显著提高音调，减少听觉干扰\n*   **脚注导航改进**：新增脚注导航功能，可清晰听取脚注编号，便于处理参考文献类文档\n*   **阅读稳定性提升**：修复了讲述人可能在文档中间意外停止阅读的问题\n\n# 3. 新表情符号加入\n\n本次更新引入了 7 个新的 Emoji 16.0 表情符号：\n\n| 表情符号 | 名称               | 含义与使用场景                                 |\n| :------- | :----------------- | :------------------------------------------- |\n| 🫤       | 有眼袋的脸         | 表示**疲惫、倦怠**或需要休息                 |\n| 🫰       | 指纹               | 代表**身份、安全、解锁**或隐私相关话题         |\n| 🫚       | 根类蔬菜           | 代表**健康饮食、园艺**或烹饪                 |\n| 🫗       | 光秃秃的树         | 象征**冬天、休眠、空旷**或孤独感               |\n| 🫖       | 竖琴               | 表示**音乐、艺术**，或带有古老、优雅的意境           |\n| 🫕       | 铲子               | 用于**园艺、挖掘**，或比喻“摆脱困境” |\n| 🫔       | 飞溅               | 表达**创造力、混乱**或趣味性的泼洒               |\n\n> 💡 提示：这些新表情符号在系统表情面板中可用，但第三方应用可能需要更新才能正确显示。\n\n# 4. Xbox 控制器操作调整\n\n*   **短按** Xbox 按钮：打开 Game Bar\n*   **长按** Xbox 按钮：打开任务视图(Task View)\n*   **按住** Xbox 按钮：保持原有功能，关闭控制器\n\n# 问题修复\n\n本次更新包含了多项稳定性改进：\n\n*   提升了任务栏隐藏和取消隐藏的可靠性\n*   解决了文件资源管理器可能无响应的问题\n*   修复了使用 NDI 和显示捕获时 OBS 音频卡顿的问题\n*   改进了 Windows 沙盒的稳定性\n*   优化了语音访问和 Windows Hello 的体验\n\n# 已知问题\n\n*   Click to Do 可能无法为某些用户启动\n*   锁定屏幕上可能不显示媒体控件\n*   部分用户可能会遇到音频问题，设备管理器中可能出现黄色感叹号\n*   某些 PC 在休眠期间可能会遇到 bugcheck（绿屏错误）\n*   文件资源管理器主页中的\"共享\"部分对某些用户可能显示为空\n\n由于此版本是测试版，**稳定性可能受到影响**，不建议在生产环境中使用。\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","source":"_posts/Windows/win11dev1.md","raw":"---\ntitle: Windows 11 Insider Preview Build 26220.6682 更新日志：AI功能持续增强\ndescription: Windows 11 25H2 Build 26220.6682预览版的更新内容\ntags:\n  - Windows\n  - 系统\ncategories:\n  - 系统类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build\n  26220.6682更新内容，重点包括AI功能增强，如Click to\n  Do新增自定义指令输入、本地AI推荐提示及视觉动画优化，同时优化了讲述人无障碍功能与自然语音播报稳定性，新增7个Emoji符号并调整Xbox控制器操作方式，修复任务栏隐藏、文件资源管理器无响应等bug，但部分功能可能存在兼容性问题且稳定性未完全验证，此版本仅限Insider测试，不建议生产环境使用。\ndate: 2025-09-14 00:15:00\n---\n\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6682\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-2.jpg)\n\n> 微软今日向 Dev 频道的 Windows Insider 项目成员推送了 Windows 11 Insider Preview Build 26220.6682 (KB5065782) 版本更新。本次更新主要针对 Copilot+ PC 设备，进一步增强了 Click to Do 功能的实用性和智能化水平，同时对讲述人(Narrator)无障碍功能进行了优化。\n\n---\n\n# 1. Click to Do 功能增强（预览版）\n\n本次更新为 Copilot+ PC 带来了多项 Click to Do 功能的改进：\n\n**自定义指令输入**：现在在 Click to Do 的上下文菜单中可以直接输入自定义指令，与选定的屏幕内容一并发送给 Copilot，交互更加灵活。\n\n**本地 AI 推荐提示**：菜单下方会显示由设备端 Phi-Silica 模型生成的推荐提示（目前支持英文、西班牙文和法文），响应更快且保护隐私。\n\n**视觉动画优化**：使用屏幕右边缘手势触发 Click to Do 时，新增了流畅的视觉动画反馈，操作体验更加直观。\n\n**功能发现性提升**：上下文菜单中新增\"新建和热门\"动作标签，帮助用户更快发现实用功能。同时\"总结\"功能的输出结果更加简洁精炼。\n\n**开始菜单集成**：开始菜单的\"推荐\"区域会展示 Copilot 示例提示，引导用户体验 AI 功能。\n\n> ⚠️ 注意：上述 Click to Do 增强功能目前未向欧洲经济区(EEA)或中国的 Insiders 推送。\n\n# 2. 讲述人(Narrator)无障碍功能优化\n\n本次更新对讲述人功能进行了多项改进：\n\n*   **自然语音优化**：使用自然语音时，讲述人播报标题或语法错误时不再显著提高音调，减少听觉干扰\n*   **脚注导航改进**：新增脚注导航功能，可清晰听取脚注编号，便于处理参考文献类文档\n*   **阅读稳定性提升**：修复了讲述人可能在文档中间意外停止阅读的问题\n\n# 3. 新表情符号加入\n\n本次更新引入了 7 个新的 Emoji 16.0 表情符号：\n\n| 表情符号 | 名称               | 含义与使用场景                                 |\n| :------- | :----------------- | :------------------------------------------- |\n| 🫤       | 有眼袋的脸         | 表示**疲惫、倦怠**或需要休息                 |\n| 🫰       | 指纹               | 代表**身份、安全、解锁**或隐私相关话题         |\n| 🫚       | 根类蔬菜           | 代表**健康饮食、园艺**或烹饪                 |\n| 🫗       | 光秃秃的树         | 象征**冬天、休眠、空旷**或孤独感               |\n| 🫖       | 竖琴               | 表示**音乐、艺术**，或带有古老、优雅的意境           |\n| 🫕       | 铲子               | 用于**园艺、挖掘**，或比喻“摆脱困境” |\n| 🫔       | 飞溅               | 表达**创造力、混乱**或趣味性的泼洒               |\n\n> 💡 提示：这些新表情符号在系统表情面板中可用，但第三方应用可能需要更新才能正确显示。\n\n# 4. Xbox 控制器操作调整\n\n*   **短按** Xbox 按钮：打开 Game Bar\n*   **长按** Xbox 按钮：打开任务视图(Task View)\n*   **按住** Xbox 按钮：保持原有功能，关闭控制器\n\n# 问题修复\n\n本次更新包含了多项稳定性改进：\n\n*   提升了任务栏隐藏和取消隐藏的可靠性\n*   解决了文件资源管理器可能无响应的问题\n*   修复了使用 NDI 和显示捕获时 OBS 音频卡顿的问题\n*   改进了 Windows 沙盒的稳定性\n*   优化了语音访问和 Windows Hello 的体验\n\n# 已知问题\n\n*   Click to Do 可能无法为某些用户启动\n*   锁定屏幕上可能不显示媒体控件\n*   部分用户可能会遇到音频问题，设备管理器中可能出现黄色感叹号\n*   某些 PC 在休眠期间可能会遇到 bugcheck（绿屏错误）\n*   文件资源管理器主页中的\"共享\"部分对某些用户可能显示为空\n\n由于此版本是测试版，**稳定性可能受到影响**，不建议在生产环境中使用。\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","slug":"Windows/win11dev1","published":1,"updated":"2025-09-21T10:34:54.498Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560s003kg0fy21gsf8k8","content":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6682</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-2.jpg\"></p>\n<blockquote>\n<p>微软今日向 Dev 频道的 Windows Insider 项目成员推送了 Windows 11 Insider Preview Build 26220.6682 (KB5065782) 版本更新。本次更新主要针对 Copilot+ PC 设备，进一步增强了 Click to Do 功能的实用性和智能化水平，同时对讲述人(Narrator)无障碍功能进行了优化。</p>\n</blockquote>\n<hr>\n<h1 id=\"1-Click-to-Do-功能增强（预览版）\"><a href=\"#1-Click-to-Do-功能增强（预览版）\" class=\"headerlink\" title=\"1. Click to Do 功能增强（预览版）\"></a>1. Click to Do 功能增强（预览版）</h1><p>本次更新为 Copilot+ PC 带来了多项 Click to Do 功能的改进：</p>\n<p><strong>自定义指令输入</strong>：现在在 Click to Do 的上下文菜单中可以直接输入自定义指令，与选定的屏幕内容一并发送给 Copilot，交互更加灵活。</p>\n<p><strong>本地 AI 推荐提示</strong>：菜单下方会显示由设备端 Phi-Silica 模型生成的推荐提示（目前支持英文、西班牙文和法文），响应更快且保护隐私。</p>\n<p><strong>视觉动画优化</strong>：使用屏幕右边缘手势触发 Click to Do 时，新增了流畅的视觉动画反馈，操作体验更加直观。</p>\n<p><strong>功能发现性提升</strong>：上下文菜单中新增”新建和热门”动作标签，帮助用户更快发现实用功能。同时”总结”功能的输出结果更加简洁精炼。</p>\n<p><strong>开始菜单集成</strong>：开始菜单的”推荐”区域会展示 Copilot 示例提示，引导用户体验 AI 功能。</p>\n<blockquote>\n<p>⚠️ 注意：上述 Click to Do 增强功能目前未向欧洲经济区(EEA)或中国的 Insiders 推送。</p>\n</blockquote>\n<h1 id=\"2-讲述人-Narrator-无障碍功能优化\"><a href=\"#2-讲述人-Narrator-无障碍功能优化\" class=\"headerlink\" title=\"2. 讲述人(Narrator)无障碍功能优化\"></a>2. 讲述人(Narrator)无障碍功能优化</h1><p>本次更新对讲述人功能进行了多项改进：</p>\n<ul>\n<li><strong>自然语音优化</strong>：使用自然语音时，讲述人播报标题或语法错误时不再显著提高音调，减少听觉干扰</li>\n<li><strong>脚注导航改进</strong>：新增脚注导航功能，可清晰听取脚注编号，便于处理参考文献类文档</li>\n<li><strong>阅读稳定性提升</strong>：修复了讲述人可能在文档中间意外停止阅读的问题</li>\n</ul>\n<h1 id=\"3-新表情符号加入\"><a href=\"#3-新表情符号加入\" class=\"headerlink\" title=\"3. 新表情符号加入\"></a>3. 新表情符号加入</h1><p>本次更新引入了 7 个新的 Emoji 16.0 表情符号：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">表情符号</th>\n<th align=\"left\">名称</th>\n<th align=\"left\">含义与使用场景</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">🫤</td>\n<td align=\"left\">有眼袋的脸</td>\n<td align=\"left\">表示<strong>疲惫、倦怠</strong>或需要休息</td>\n</tr>\n<tr>\n<td align=\"left\">🫰</td>\n<td align=\"left\">指纹</td>\n<td align=\"left\">代表<strong>身份、安全、解锁</strong>或隐私相关话题</td>\n</tr>\n<tr>\n<td align=\"left\">🫚</td>\n<td align=\"left\">根类蔬菜</td>\n<td align=\"left\">代表<strong>健康饮食、园艺</strong>或烹饪</td>\n</tr>\n<tr>\n<td align=\"left\">🫗</td>\n<td align=\"left\">光秃秃的树</td>\n<td align=\"left\">象征<strong>冬天、休眠、空旷</strong>或孤独感</td>\n</tr>\n<tr>\n<td align=\"left\">🫖</td>\n<td align=\"left\">竖琴</td>\n<td align=\"left\">表示<strong>音乐、艺术</strong>，或带有古老、优雅的意境</td>\n</tr>\n<tr>\n<td align=\"left\">🫕</td>\n<td align=\"left\">铲子</td>\n<td align=\"left\">用于<strong>园艺、挖掘</strong>，或比喻“摆脱困境”</td>\n</tr>\n<tr>\n<td align=\"left\">🫔</td>\n<td align=\"left\">飞溅</td>\n<td align=\"left\">表达<strong>创造力、混乱</strong>或趣味性的泼洒</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>💡 提示：这些新表情符号在系统表情面板中可用，但第三方应用可能需要更新才能正确显示。</p>\n</blockquote>\n<h1 id=\"4-Xbox-控制器操作调整\"><a href=\"#4-Xbox-控制器操作调整\" class=\"headerlink\" title=\"4. Xbox 控制器操作调整\"></a>4. Xbox 控制器操作调整</h1><ul>\n<li><strong>短按</strong> Xbox 按钮：打开 Game Bar</li>\n<li><strong>长按</strong> Xbox 按钮：打开任务视图(Task View)</li>\n<li><strong>按住</strong> Xbox 按钮：保持原有功能，关闭控制器</li>\n</ul>\n<h1 id=\"问题修复\"><a href=\"#问题修复\" class=\"headerlink\" title=\"问题修复\"></a>问题修复</h1><p>本次更新包含了多项稳定性改进：</p>\n<ul>\n<li>提升了任务栏隐藏和取消隐藏的可靠性</li>\n<li>解决了文件资源管理器可能无响应的问题</li>\n<li>修复了使用 NDI 和显示捕获时 OBS 音频卡顿的问题</li>\n<li>改进了 Windows 沙盒的稳定性</li>\n<li>优化了语音访问和 Windows Hello 的体验</li>\n</ul>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><ul>\n<li>Click to Do 可能无法为某些用户启动</li>\n<li>锁定屏幕上可能不显示媒体控件</li>\n<li>部分用户可能会遇到音频问题，设备管理器中可能出现黄色感叹号</li>\n<li>某些 PC 在休眠期间可能会遇到 bugcheck（绿屏错误）</li>\n<li>文件资源管理器主页中的”共享”部分对某些用户可能显示为空</li>\n</ul>\n<p>由于此版本是测试版，<strong>稳定性可能受到影响</strong>，不建议在生产环境中使用。</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6682</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-2.jpg\"></p>\n<blockquote>\n<p>微软今日向 Dev 频道的 Windows Insider 项目成员推送了 Windows 11 Insider Preview Build 26220.6682 (KB5065782) 版本更新。本次更新主要针对 Copilot+ PC 设备，进一步增强了 Click to Do 功能的实用性和智能化水平，同时对讲述人(Narrator)无障碍功能进行了优化。</p>\n</blockquote>\n<hr>\n<h1 id=\"1-Click-to-Do-功能增强（预览版）\"><a href=\"#1-Click-to-Do-功能增强（预览版）\" class=\"headerlink\" title=\"1. Click to Do 功能增强（预览版）\"></a>1. Click to Do 功能增强（预览版）</h1><p>本次更新为 Copilot+ PC 带来了多项 Click to Do 功能的改进：</p>\n<p><strong>自定义指令输入</strong>：现在在 Click to Do 的上下文菜单中可以直接输入自定义指令，与选定的屏幕内容一并发送给 Copilot，交互更加灵活。</p>\n<p><strong>本地 AI 推荐提示</strong>：菜单下方会显示由设备端 Phi-Silica 模型生成的推荐提示（目前支持英文、西班牙文和法文），响应更快且保护隐私。</p>\n<p><strong>视觉动画优化</strong>：使用屏幕右边缘手势触发 Click to Do 时，新增了流畅的视觉动画反馈，操作体验更加直观。</p>\n<p><strong>功能发现性提升</strong>：上下文菜单中新增”新建和热门”动作标签，帮助用户更快发现实用功能。同时”总结”功能的输出结果更加简洁精炼。</p>\n<p><strong>开始菜单集成</strong>：开始菜单的”推荐”区域会展示 Copilot 示例提示，引导用户体验 AI 功能。</p>\n<blockquote>\n<p>⚠️ 注意：上述 Click to Do 增强功能目前未向欧洲经济区(EEA)或中国的 Insiders 推送。</p>\n</blockquote>\n<h1 id=\"2-讲述人-Narrator-无障碍功能优化\"><a href=\"#2-讲述人-Narrator-无障碍功能优化\" class=\"headerlink\" title=\"2. 讲述人(Narrator)无障碍功能优化\"></a>2. 讲述人(Narrator)无障碍功能优化</h1><p>本次更新对讲述人功能进行了多项改进：</p>\n<ul>\n<li><strong>自然语音优化</strong>：使用自然语音时，讲述人播报标题或语法错误时不再显著提高音调，减少听觉干扰</li>\n<li><strong>脚注导航改进</strong>：新增脚注导航功能，可清晰听取脚注编号，便于处理参考文献类文档</li>\n<li><strong>阅读稳定性提升</strong>：修复了讲述人可能在文档中间意外停止阅读的问题</li>\n</ul>\n<h1 id=\"3-新表情符号加入\"><a href=\"#3-新表情符号加入\" class=\"headerlink\" title=\"3. 新表情符号加入\"></a>3. 新表情符号加入</h1><p>本次更新引入了 7 个新的 Emoji 16.0 表情符号：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">表情符号</th>\n<th align=\"left\">名称</th>\n<th align=\"left\">含义与使用场景</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">🫤</td>\n<td align=\"left\">有眼袋的脸</td>\n<td align=\"left\">表示<strong>疲惫、倦怠</strong>或需要休息</td>\n</tr>\n<tr>\n<td align=\"left\">🫰</td>\n<td align=\"left\">指纹</td>\n<td align=\"left\">代表<strong>身份、安全、解锁</strong>或隐私相关话题</td>\n</tr>\n<tr>\n<td align=\"left\">🫚</td>\n<td align=\"left\">根类蔬菜</td>\n<td align=\"left\">代表<strong>健康饮食、园艺</strong>或烹饪</td>\n</tr>\n<tr>\n<td align=\"left\">🫗</td>\n<td align=\"left\">光秃秃的树</td>\n<td align=\"left\">象征<strong>冬天、休眠、空旷</strong>或孤独感</td>\n</tr>\n<tr>\n<td align=\"left\">🫖</td>\n<td align=\"left\">竖琴</td>\n<td align=\"left\">表示<strong>音乐、艺术</strong>，或带有古老、优雅的意境</td>\n</tr>\n<tr>\n<td align=\"left\">🫕</td>\n<td align=\"left\">铲子</td>\n<td align=\"left\">用于<strong>园艺、挖掘</strong>，或比喻“摆脱困境”</td>\n</tr>\n<tr>\n<td align=\"left\">🫔</td>\n<td align=\"left\">飞溅</td>\n<td align=\"left\">表达<strong>创造力、混乱</strong>或趣味性的泼洒</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>💡 提示：这些新表情符号在系统表情面板中可用，但第三方应用可能需要更新才能正确显示。</p>\n</blockquote>\n<h1 id=\"4-Xbox-控制器操作调整\"><a href=\"#4-Xbox-控制器操作调整\" class=\"headerlink\" title=\"4. Xbox 控制器操作调整\"></a>4. Xbox 控制器操作调整</h1><ul>\n<li><strong>短按</strong> Xbox 按钮：打开 Game Bar</li>\n<li><strong>长按</strong> Xbox 按钮：打开任务视图(Task View)</li>\n<li><strong>按住</strong> Xbox 按钮：保持原有功能，关闭控制器</li>\n</ul>\n<h1 id=\"问题修复\"><a href=\"#问题修复\" class=\"headerlink\" title=\"问题修复\"></a>问题修复</h1><p>本次更新包含了多项稳定性改进：</p>\n<ul>\n<li>提升了任务栏隐藏和取消隐藏的可靠性</li>\n<li>解决了文件资源管理器可能无响应的问题</li>\n<li>修复了使用 NDI 和显示捕获时 OBS 音频卡顿的问题</li>\n<li>改进了 Windows 沙盒的稳定性</li>\n<li>优化了语音访问和 Windows Hello 的体验</li>\n</ul>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><ul>\n<li>Click to Do 可能无法为某些用户启动</li>\n<li>锁定屏幕上可能不显示媒体控件</li>\n<li>部分用户可能会遇到音频问题，设备管理器中可能出现黄色感叹号</li>\n<li>某些 PC 在休眠期间可能会遇到 bugcheck（绿屏错误）</li>\n<li>文件资源管理器主页中的”共享”部分对某些用户可能显示为空</li>\n</ul>\n<p>由于此版本是测试版，<strong>稳定性可能受到影响</strong>，不建议在生产环境中使用。</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n"},{"title":"Windows 11 Insider Preview Build 26220.6690 更新日志：Copilot 整合再深化","description":"Windows 11 Insider Preview Build 26220.6690预览版的更新内容","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg","summary":"酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build 26220.6690更新内容，重点在于Copilot功能的深化整合，新增翻译支持、任务栏分享到Copilot选项、桌面背景上下文菜单及账户管理优化，部分功能需特定硬件支持且受限于地区，如欧洲经济区和中国尚未推送，同时存在稳定性不足及已知问题，微软建议Dev频道用户开启即时更新选项以逐步体验新功能。","date":"2025-09-21T08:30:00.000Z","_content":"\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6690\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-3.jpg)\n\n> 微软于2025年9月19日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6690 (KB5065786) 版本更新。本次更新继续深化Copilot与系统壳层的整合，并带来多项体验优化和问题修复。\n\n---\n\n# 1. Click to Do (预览版) 翻译功能\n\n*   为 **Copilot+ PC** 引入了由 **Microsoft Copilot 提供支持的翻译功能**。\n*   当选择的文本与Windows显示语言或首选语言设置不同时，会**出现翻译建议**。\n*   选定的文本会发送到Copilot应用，并在体验中**无缝提供翻译**。\n*   ⚠️ 注意：此功能需要已在之前版本中推出的新Copilot提示框，且**目前尚未向欧洲经济区(EEA)或中国的Insiders推送**。\n\n# 2. 任务栏与系统托盘：分享到 Copilot\n\n*   鼠标悬停在任务栏上已打开的应用窗口时，会出现一个“**分享给 Copilot**”（Share with Copilot）选项。\n*   此功能允许快速与Copilot开始新对话，并使用 **Copilot Vision 扫描、分析**屏幕上的应用内容。\n\n# 3. Desktop Spotlight 上下文菜单选项\n\n*   若在“设置”>“个性化”>“背景”中选择 **Windows Spotlight 作为桌面背景**，右键单击桌面时，上下文菜单会添加“**了解有关此背景的更多信息**”和“**下一个桌面背景**”选项。\n\n# 4. 设置账户管理优化\n\n*   “设置”>“账户”下的“**电子邮件和账户**”部分现已更名为“**您的账户**”（Your accounts）。\n*   这反映了在Windows和应用中保持连接的**更统一和简化的方式**。\n\n# 逐步推出的修复\n\n以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：\n\n| 组件          | 修复描述                                                       |\n| :------------ | :------------------------------------------------------------- |\n| **文件资源管理器** | 修复了在地址栏中直接输入UNC服务器名称可能导致文件资源管理器**无响应的问题** |\n| **Windows Update** | 修复了近期部分Insider安装最新版本时**失败并出现错误0x80070002**的问题   |\n| **音频**        | 解决了近期更新后可能出现的**音频无法正常工作的问题**                   |\n| **设置**        | 修复了启用管理员保护后，“设置”>“系统”>“可选功能”>“添加可选功能”可能**无法加载的问题** |\n\n# 已知问题\n\n微软正在调查此版本中存在的以下问题：\n\n*   **Click to Do**：通过右边缘手势在主显示器上启动Click to Do会导致**滑动视觉效果显示在错误的显示器上**。\n*   **锁定和登录屏幕**：此版本中**锁定屏幕上可能不显示媒体控件**。\n*   **任务栏**：由于问题，任务栏预览的**新动画已被暂时禁用**。\n\n# 更新提示\n\n*   该版本通过**受控功能推送 (CFR)** 方式分发。\n*   建议Dev频道用户在“设置”>“Windows更新”中**开启“在最新更新可用时立即获取”** 切换开关，以逐步体验到所有新功能。\n*   **Copilot+ PC 的特定功能需要符合相应规格的硬件支持**。\n\n> ⚠️ **注意事项**：此版本为开发预览版，**稳定性无法与正式版相比**，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。\n\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","source":"_posts/Windows/win11dev2.md","raw":"---\ntitle: Windows 11 Insider Preview Build 26220.6690 更新日志：Copilot 整合再深化\ndescription: Windows 11 Insider Preview Build 26220.6690预览版的更新内容\ntags:\n  - Windows\n  - 系统\ncategories:\n  - 系统类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build\n  26220.6690更新内容，重点在于Copilot功能的深化整合，新增翻译支持、任务栏分享到Copilot选项、桌面背景上下文菜单及账户管理优化，部分功能需特定硬件支持且受限于地区，如欧洲经济区和中国尚未推送，同时存在稳定性不足及已知问题，微软建议Dev频道用户开启即时更新选项以逐步体验新功能。\ndate: 2025-09-21 16:30:00\n---\n\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6690\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-3.jpg)\n\n> 微软于2025年9月19日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6690 (KB5065786) 版本更新。本次更新继续深化Copilot与系统壳层的整合，并带来多项体验优化和问题修复。\n\n---\n\n# 1. Click to Do (预览版) 翻译功能\n\n*   为 **Copilot+ PC** 引入了由 **Microsoft Copilot 提供支持的翻译功能**。\n*   当选择的文本与Windows显示语言或首选语言设置不同时，会**出现翻译建议**。\n*   选定的文本会发送到Copilot应用，并在体验中**无缝提供翻译**。\n*   ⚠️ 注意：此功能需要已在之前版本中推出的新Copilot提示框，且**目前尚未向欧洲经济区(EEA)或中国的Insiders推送**。\n\n# 2. 任务栏与系统托盘：分享到 Copilot\n\n*   鼠标悬停在任务栏上已打开的应用窗口时，会出现一个“**分享给 Copilot**”（Share with Copilot）选项。\n*   此功能允许快速与Copilot开始新对话，并使用 **Copilot Vision 扫描、分析**屏幕上的应用内容。\n\n# 3. Desktop Spotlight 上下文菜单选项\n\n*   若在“设置”>“个性化”>“背景”中选择 **Windows Spotlight 作为桌面背景**，右键单击桌面时，上下文菜单会添加“**了解有关此背景的更多信息**”和“**下一个桌面背景**”选项。\n\n# 4. 设置账户管理优化\n\n*   “设置”>“账户”下的“**电子邮件和账户**”部分现已更名为“**您的账户**”（Your accounts）。\n*   这反映了在Windows和应用中保持连接的**更统一和简化的方式**。\n\n# 逐步推出的修复\n\n以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：\n\n| 组件          | 修复描述                                                       |\n| :------------ | :------------------------------------------------------------- |\n| **文件资源管理器** | 修复了在地址栏中直接输入UNC服务器名称可能导致文件资源管理器**无响应的问题** |\n| **Windows Update** | 修复了近期部分Insider安装最新版本时**失败并出现错误0x80070002**的问题   |\n| **音频**        | 解决了近期更新后可能出现的**音频无法正常工作的问题**                   |\n| **设置**        | 修复了启用管理员保护后，“设置”>“系统”>“可选功能”>“添加可选功能”可能**无法加载的问题** |\n\n# 已知问题\n\n微软正在调查此版本中存在的以下问题：\n\n*   **Click to Do**：通过右边缘手势在主显示器上启动Click to Do会导致**滑动视觉效果显示在错误的显示器上**。\n*   **锁定和登录屏幕**：此版本中**锁定屏幕上可能不显示媒体控件**。\n*   **任务栏**：由于问题，任务栏预览的**新动画已被暂时禁用**。\n\n# 更新提示\n\n*   该版本通过**受控功能推送 (CFR)** 方式分发。\n*   建议Dev频道用户在“设置”>“Windows更新”中**开启“在最新更新可用时立即获取”** 切换开关，以逐步体验到所有新功能。\n*   **Copilot+ PC 的特定功能需要符合相应规格的硬件支持**。\n\n> ⚠️ **注意事项**：此版本为开发预览版，**稳定性无法与正式版相比**，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。\n\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","slug":"Windows/win11dev2","published":1,"updated":"2025-09-21T10:34:57.843Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560v003pg0fy7ums1hyj","content":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6690</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-3.jpg\"></p>\n<blockquote>\n<p>微软于2025年9月19日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6690 (KB5065786) 版本更新。本次更新继续深化Copilot与系统壳层的整合，并带来多项体验优化和问题修复。</p>\n</blockquote>\n<hr>\n<h1 id=\"1-Click-to-Do-预览版-翻译功能\"><a href=\"#1-Click-to-Do-预览版-翻译功能\" class=\"headerlink\" title=\"1. Click to Do (预览版) 翻译功能\"></a>1. Click to Do (预览版) 翻译功能</h1><ul>\n<li>为 <strong>Copilot+ PC</strong> 引入了由 <strong>Microsoft Copilot 提供支持的翻译功能</strong>。</li>\n<li>当选择的文本与Windows显示语言或首选语言设置不同时，会<strong>出现翻译建议</strong>。</li>\n<li>选定的文本会发送到Copilot应用，并在体验中<strong>无缝提供翻译</strong>。</li>\n<li>⚠️ 注意：此功能需要已在之前版本中推出的新Copilot提示框，且<strong>目前尚未向欧洲经济区(EEA)或中国的Insiders推送</strong>。</li>\n</ul>\n<h1 id=\"2-任务栏与系统托盘：分享到-Copilot\"><a href=\"#2-任务栏与系统托盘：分享到-Copilot\" class=\"headerlink\" title=\"2. 任务栏与系统托盘：分享到 Copilot\"></a>2. 任务栏与系统托盘：分享到 Copilot</h1><ul>\n<li>鼠标悬停在任务栏上已打开的应用窗口时，会出现一个“<strong>分享给 Copilot</strong>”（Share with Copilot）选项。</li>\n<li>此功能允许快速与Copilot开始新对话，并使用 <strong>Copilot Vision 扫描、分析</strong>屏幕上的应用内容。</li>\n</ul>\n<h1 id=\"3-Desktop-Spotlight-上下文菜单选项\"><a href=\"#3-Desktop-Spotlight-上下文菜单选项\" class=\"headerlink\" title=\"3. Desktop Spotlight 上下文菜单选项\"></a>3. Desktop Spotlight 上下文菜单选项</h1><ul>\n<li>若在“设置”&gt;“个性化”&gt;“背景”中选择 <strong>Windows Spotlight 作为桌面背景</strong>，右键单击桌面时，上下文菜单会添加“<strong>了解有关此背景的更多信息</strong>”和“<strong>下一个桌面背景</strong>”选项。</li>\n</ul>\n<h1 id=\"4-设置账户管理优化\"><a href=\"#4-设置账户管理优化\" class=\"headerlink\" title=\"4. 设置账户管理优化\"></a>4. 设置账户管理优化</h1><ul>\n<li>“设置”&gt;“账户”下的“<strong>电子邮件和账户</strong>”部分现已更名为“<strong>您的账户</strong>”（Your accounts）。</li>\n<li>这反映了在Windows和应用中保持连接的<strong>更统一和简化的方式</strong>。</li>\n</ul>\n<h1 id=\"逐步推出的修复\"><a href=\"#逐步推出的修复\" class=\"headerlink\" title=\"逐步推出的修复\"></a>逐步推出的修复</h1><p>以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">组件</th>\n<th align=\"left\">修复描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><strong>文件资源管理器</strong></td>\n<td align=\"left\">修复了在地址栏中直接输入UNC服务器名称可能导致文件资源管理器<strong>无响应的问题</strong></td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Windows Update</strong></td>\n<td align=\"left\">修复了近期部分Insider安装最新版本时<strong>失败并出现错误0x80070002</strong>的问题</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>音频</strong></td>\n<td align=\"left\">解决了近期更新后可能出现的<strong>音频无法正常工作的问题</strong></td>\n</tr>\n<tr>\n<td align=\"left\"><strong>设置</strong></td>\n<td align=\"left\">修复了启用管理员保护后，“设置”&gt;“系统”&gt;“可选功能”&gt;“添加可选功能”可能<strong>无法加载的问题</strong></td>\n</tr>\n</tbody></table>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>微软正在调查此版本中存在的以下问题：</p>\n<ul>\n<li><strong>Click to Do</strong>：通过右边缘手势在主显示器上启动Click to Do会导致<strong>滑动视觉效果显示在错误的显示器上</strong>。</li>\n<li><strong>锁定和登录屏幕</strong>：此版本中<strong>锁定屏幕上可能不显示媒体控件</strong>。</li>\n<li><strong>任务栏</strong>：由于问题，任务栏预览的<strong>新动画已被暂时禁用</strong>。</li>\n</ul>\n<h1 id=\"更新提示\"><a href=\"#更新提示\" class=\"headerlink\" title=\"更新提示\"></a>更新提示</h1><ul>\n<li>该版本通过<strong>受控功能推送 (CFR)</strong> 方式分发。</li>\n<li>建议Dev频道用户在“设置”&gt;“Windows更新”中<strong>开启“在最新更新可用时立即获取”</strong> 切换开关，以逐步体验到所有新功能。</li>\n<li><strong>Copilot+ PC 的特定功能需要符合相应规格的硬件支持</strong>。</li>\n</ul>\n<blockquote>\n<p>⚠️ <strong>注意事项</strong>：此版本为开发预览版，<strong>稳定性无法与正式版相比</strong>，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。</p>\n</blockquote>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6690</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-3.jpg\"></p>\n<blockquote>\n<p>微软于2025年9月19日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6690 (KB5065786) 版本更新。本次更新继续深化Copilot与系统壳层的整合，并带来多项体验优化和问题修复。</p>\n</blockquote>\n<hr>\n<h1 id=\"1-Click-to-Do-预览版-翻译功能\"><a href=\"#1-Click-to-Do-预览版-翻译功能\" class=\"headerlink\" title=\"1. Click to Do (预览版) 翻译功能\"></a>1. Click to Do (预览版) 翻译功能</h1><ul>\n<li>为 <strong>Copilot+ PC</strong> 引入了由 <strong>Microsoft Copilot 提供支持的翻译功能</strong>。</li>\n<li>当选择的文本与Windows显示语言或首选语言设置不同时，会<strong>出现翻译建议</strong>。</li>\n<li>选定的文本会发送到Copilot应用，并在体验中<strong>无缝提供翻译</strong>。</li>\n<li>⚠️ 注意：此功能需要已在之前版本中推出的新Copilot提示框，且<strong>目前尚未向欧洲经济区(EEA)或中国的Insiders推送</strong>。</li>\n</ul>\n<h1 id=\"2-任务栏与系统托盘：分享到-Copilot\"><a href=\"#2-任务栏与系统托盘：分享到-Copilot\" class=\"headerlink\" title=\"2. 任务栏与系统托盘：分享到 Copilot\"></a>2. 任务栏与系统托盘：分享到 Copilot</h1><ul>\n<li>鼠标悬停在任务栏上已打开的应用窗口时，会出现一个“<strong>分享给 Copilot</strong>”（Share with Copilot）选项。</li>\n<li>此功能允许快速与Copilot开始新对话，并使用 <strong>Copilot Vision 扫描、分析</strong>屏幕上的应用内容。</li>\n</ul>\n<h1 id=\"3-Desktop-Spotlight-上下文菜单选项\"><a href=\"#3-Desktop-Spotlight-上下文菜单选项\" class=\"headerlink\" title=\"3. Desktop Spotlight 上下文菜单选项\"></a>3. Desktop Spotlight 上下文菜单选项</h1><ul>\n<li>若在“设置”&gt;“个性化”&gt;“背景”中选择 <strong>Windows Spotlight 作为桌面背景</strong>，右键单击桌面时，上下文菜单会添加“<strong>了解有关此背景的更多信息</strong>”和“<strong>下一个桌面背景</strong>”选项。</li>\n</ul>\n<h1 id=\"4-设置账户管理优化\"><a href=\"#4-设置账户管理优化\" class=\"headerlink\" title=\"4. 设置账户管理优化\"></a>4. 设置账户管理优化</h1><ul>\n<li>“设置”&gt;“账户”下的“<strong>电子邮件和账户</strong>”部分现已更名为“<strong>您的账户</strong>”（Your accounts）。</li>\n<li>这反映了在Windows和应用中保持连接的<strong>更统一和简化的方式</strong>。</li>\n</ul>\n<h1 id=\"逐步推出的修复\"><a href=\"#逐步推出的修复\" class=\"headerlink\" title=\"逐步推出的修复\"></a>逐步推出的修复</h1><p>以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">组件</th>\n<th align=\"left\">修复描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><strong>文件资源管理器</strong></td>\n<td align=\"left\">修复了在地址栏中直接输入UNC服务器名称可能导致文件资源管理器<strong>无响应的问题</strong></td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Windows Update</strong></td>\n<td align=\"left\">修复了近期部分Insider安装最新版本时<strong>失败并出现错误0x80070002</strong>的问题</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>音频</strong></td>\n<td align=\"left\">解决了近期更新后可能出现的<strong>音频无法正常工作的问题</strong></td>\n</tr>\n<tr>\n<td align=\"left\"><strong>设置</strong></td>\n<td align=\"left\">修复了启用管理员保护后，“设置”&gt;“系统”&gt;“可选功能”&gt;“添加可选功能”可能<strong>无法加载的问题</strong></td>\n</tr>\n</tbody></table>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>微软正在调查此版本中存在的以下问题：</p>\n<ul>\n<li><strong>Click to Do</strong>：通过右边缘手势在主显示器上启动Click to Do会导致<strong>滑动视觉效果显示在错误的显示器上</strong>。</li>\n<li><strong>锁定和登录屏幕</strong>：此版本中<strong>锁定屏幕上可能不显示媒体控件</strong>。</li>\n<li><strong>任务栏</strong>：由于问题，任务栏预览的<strong>新动画已被暂时禁用</strong>。</li>\n</ul>\n<h1 id=\"更新提示\"><a href=\"#更新提示\" class=\"headerlink\" title=\"更新提示\"></a>更新提示</h1><ul>\n<li>该版本通过<strong>受控功能推送 (CFR)</strong> 方式分发。</li>\n<li>建议Dev频道用户在“设置”&gt;“Windows更新”中<strong>开启“在最新更新可用时立即获取”</strong> 切换开关，以逐步体验到所有新功能。</li>\n<li><strong>Copilot+ PC 的特定功能需要符合相应规格的硬件支持</strong>。</li>\n</ul>\n<blockquote>\n<p>⚠️ <strong>注意事项</strong>：此版本为开发预览版，<strong>稳定性无法与正式版相比</strong>，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。</p>\n</blockquote>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n"},{"title":"Windows 11 Insider Preview Build 26220.6760 更新日志：新增任务栏网速测试与多项优化","description":"Windows 11 Insider Preview Build 26220.6760预览版的更新内容","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg","summary":"酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build 26220.6760更新内容，包括任务栏新增网络速度测试工具可直接测试以太网、Wi-Fi和蜂窝网络，语音访问优化新增执行前等待时间设置，文件资源管理器集成StorageProvider API，表情符号暂时移除Emoji 16.0，Copilot+ PC搜索体验改进，同时修复了部分显示问题但稳定性仍低于正式版不建议生产环境使用且部分功能需特定硬件支持","date":"2025-09-30T17:58:00.000Z","_content":"\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6760\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-4.jpg)\n\n> 微软于2025年9月29日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6760 (KB5065793) 版本更新。本次更新为Windows 11版本25H2带来了多项实用功能改进，包括任务栏内置网速测试、语音访问延迟设置调整，以及针对文件资源管理器、表情符号和Copilot+ PC体验的多项优化和修复。\n\n---\n\n# 逐步推出的新功能与改进\n\n以下功能正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：\n\n## 1. 任务栏与系统托盘：内置网络速度测试\n\n*   新增内置**网络速度测试工具**，可直接从任务栏访问。\n*   启动方式：通过**Wi-Fi和蜂窝网络快速设置页面**，或右键单击系统托盘中的网络图标。\n*   该工具在默认浏览器中打开，支持测试**以太网、Wi-Fi和蜂窝网络连接**，帮助评估网络性能和排查问题。\n\n## 2. 入门应用与Microsoft 365 Copilot\n\n*   为受管理的商业设备（拥有有效的Microsoft 365订阅）在“入门”应用中新增**Microsoft 365 Copilot页面**。\n*   此体验旨在帮助用户更轻松地**发现和使用Microsoft 365 Copilot**，直接在入门流程中提供关键功能的快速访问和有用指导。\n\n## 3. Windows搜索（Copilot+ PC）\n\n*   针对Copilot+ PC改进了Windows搜索，更新了**文件资源管理器搜索框的占位符文本**，以提高对今年早些时候引入的改进版Windows搜索体验的认知度。\n\n# 面向所有Dev频道用户的更改与改进\n\n以下改进正向所有Dev频道用户逐步推出：\n\n## 1. 文件资源管理器\n\n*   新增**StorageProvider API**，允许云提供商与文件资源管理器主页集成。\n\n## 2. 表情符号\n\n*   **暂时移除了Emoji 16.0**，将在未来的版本中重新引入。\n\n## 3. 语音访问\n\n*   引入新的“**执行前等待时间**”设置，允许用户配置语音命令执行前的延迟。\n*   为**不同语速模式的用户**提供了更大的灵活性，无论说话慢还是快，都能实现更准确的识别。\n*   设置路径：语音访问设置 > 执行前等待时间，然后选择最适合的选项。\n\n# 逐步推出的修复\n\n以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：\n\n| 组件 | 修复描述 |\n| :--- | :--- |\n| **常规** | 修复了导致部分屏幕阅读器在最近更新后**无法读取屏幕内容**的底层问题。 |\n| **Click to Do (预览版)** | 修复了在Copilot+ PC上**有时按WIN + P会意外调用Click to Do**的问题。 |\n| **任务栏和系统托盘** | 修复了最近版本中**电池图标与实际充电状态不同步**的问题（例如，已插入电源却显示未充电）。 |\n| **文件资源管理器** | 修复了自定义文件夹视图（例如按名称排序文件或更改图标大小）后，这些设置**仅应用于特定导航路径的问题**。之前，从其他应用（如浏览器）打开同一文件夹时，设置不会保留，导致每次都需要手动重新应用。这在关闭了“按日期分组”的**下载文件夹**中尤为明显。 |\n| **锁定和登录屏幕** | 修复了最近版本中，**尽管支持媒体控制的应用正在播放媒体，但锁定屏幕上可能不显示媒体控件**的问题。 |\n| **Windows Update** | 修复了一个底层问题。 |\n\n# 已知问题\n\n微软正在调查此版本中存在的以下问题：\n\n*   **Click to Do**：通过右边缘手势在主显示器上启动Click to Do会导致**滑动视觉效果显示在错误的显示器上**。\n*   **锁定和登录屏幕**：此版本中**锁定屏幕上可能不显示媒体控件**。\n*   **任务栏**：由于问题，任务栏预览的**新动画已被暂时禁用**。\n\n# 更新提示\n\n*   该版本通过**受控功能推送 (CFR)** 方式分发。\n*   建议Dev频道用户在“设置”>“Windows更新”中**开启“在最新更新可用时立即获取”** 切换开关，以逐步体验到所有新功能。\n*   **Copilot+ PC 的特定功能需要符合相应规格的硬件支持**。\n\n{% note warning flat %}此版本为开发预览版，**稳定性无法与正式版相比**，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。{% endnote %}\n\n**【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】**\n\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","source":"_posts/Windows/win11dev3.md","raw":"---\ntitle: Windows 11 Insider Preview Build 26220.6760 更新日志：新增任务栏网速测试与多项优化\ndescription: Windows 11 Insider Preview Build 26220.6760预览版的更新内容\ntags:\n  - Windows\n  - 系统\ncategories:\n  - 系统类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build\n  26220.6760更新内容，包括任务栏新增网络速度测试工具可直接测试以太网、Wi-Fi和蜂窝网络，语音访问优化新增执行前等待时间设置，文件资源管理器集成StorageProvider\n  API，表情符号暂时移除Emoji 16.0，Copilot+\n  PC搜索体验改进，同时修复了部分显示问题但稳定性仍低于正式版不建议生产环境使用且部分功能需特定硬件支持\ndate: 2025-10-01 01:58:00\n---\n\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6760\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-4.jpg)\n\n> 微软于2025年9月29日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6760 (KB5065793) 版本更新。本次更新为Windows 11版本25H2带来了多项实用功能改进，包括任务栏内置网速测试、语音访问延迟设置调整，以及针对文件资源管理器、表情符号和Copilot+ PC体验的多项优化和修复。\n\n---\n\n# 逐步推出的新功能与改进\n\n以下功能正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：\n\n## 1. 任务栏与系统托盘：内置网络速度测试\n\n*   新增内置**网络速度测试工具**，可直接从任务栏访问。\n*   启动方式：通过**Wi-Fi和蜂窝网络快速设置页面**，或右键单击系统托盘中的网络图标。\n*   该工具在默认浏览器中打开，支持测试**以太网、Wi-Fi和蜂窝网络连接**，帮助评估网络性能和排查问题。\n\n## 2. 入门应用与Microsoft 365 Copilot\n\n*   为受管理的商业设备（拥有有效的Microsoft 365订阅）在“入门”应用中新增**Microsoft 365 Copilot页面**。\n*   此体验旨在帮助用户更轻松地**发现和使用Microsoft 365 Copilot**，直接在入门流程中提供关键功能的快速访问和有用指导。\n\n## 3. Windows搜索（Copilot+ PC）\n\n*   针对Copilot+ PC改进了Windows搜索，更新了**文件资源管理器搜索框的占位符文本**，以提高对今年早些时候引入的改进版Windows搜索体验的认知度。\n\n# 面向所有Dev频道用户的更改与改进\n\n以下改进正向所有Dev频道用户逐步推出：\n\n## 1. 文件资源管理器\n\n*   新增**StorageProvider API**，允许云提供商与文件资源管理器主页集成。\n\n## 2. 表情符号\n\n*   **暂时移除了Emoji 16.0**，将在未来的版本中重新引入。\n\n## 3. 语音访问\n\n*   引入新的“**执行前等待时间**”设置，允许用户配置语音命令执行前的延迟。\n*   为**不同语速模式的用户**提供了更大的灵活性，无论说话慢还是快，都能实现更准确的识别。\n*   设置路径：语音访问设置 > 执行前等待时间，然后选择最适合的选项。\n\n# 逐步推出的修复\n\n以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：\n\n| 组件 | 修复描述 |\n| :--- | :--- |\n| **常规** | 修复了导致部分屏幕阅读器在最近更新后**无法读取屏幕内容**的底层问题。 |\n| **Click to Do (预览版)** | 修复了在Copilot+ PC上**有时按WIN + P会意外调用Click to Do**的问题。 |\n| **任务栏和系统托盘** | 修复了最近版本中**电池图标与实际充电状态不同步**的问题（例如，已插入电源却显示未充电）。 |\n| **文件资源管理器** | 修复了自定义文件夹视图（例如按名称排序文件或更改图标大小）后，这些设置**仅应用于特定导航路径的问题**。之前，从其他应用（如浏览器）打开同一文件夹时，设置不会保留，导致每次都需要手动重新应用。这在关闭了“按日期分组”的**下载文件夹**中尤为明显。 |\n| **锁定和登录屏幕** | 修复了最近版本中，**尽管支持媒体控制的应用正在播放媒体，但锁定屏幕上可能不显示媒体控件**的问题。 |\n| **Windows Update** | 修复了一个底层问题。 |\n\n# 已知问题\n\n微软正在调查此版本中存在的以下问题：\n\n*   **Click to Do**：通过右边缘手势在主显示器上启动Click to Do会导致**滑动视觉效果显示在错误的显示器上**。\n*   **锁定和登录屏幕**：此版本中**锁定屏幕上可能不显示媒体控件**。\n*   **任务栏**：由于问题，任务栏预览的**新动画已被暂时禁用**。\n\n# 更新提示\n\n*   该版本通过**受控功能推送 (CFR)** 方式分发。\n*   建议Dev频道用户在“设置”>“Windows更新”中**开启“在最新更新可用时立即获取”** 切换开关，以逐步体验到所有新功能。\n*   **Copilot+ PC 的特定功能需要符合相应规格的硬件支持**。\n\n{% note warning flat %}此版本为开发预览版，**稳定性无法与正式版相比**，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。{% endnote %}\n\n**【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】**\n\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","slug":"Windows/win11dev3","published":1,"updated":"2025-09-30T18:09:43.286Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9560x003ug0fycmkg8l7n","content":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6760</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-4.jpg\"></p>\n<blockquote>\n<p>微软于2025年9月29日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6760 (KB5065793) 版本更新。本次更新为Windows 11版本25H2带来了多项实用功能改进，包括任务栏内置网速测试、语音访问延迟设置调整，以及针对文件资源管理器、表情符号和Copilot+ PC体验的多项优化和修复。</p>\n</blockquote>\n<hr>\n<h1 id=\"逐步推出的新功能与改进\"><a href=\"#逐步推出的新功能与改进\" class=\"headerlink\" title=\"逐步推出的新功能与改进\"></a>逐步推出的新功能与改进</h1><p>以下功能正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：</p>\n<h2 id=\"1-任务栏与系统托盘：内置网络速度测试\"><a href=\"#1-任务栏与系统托盘：内置网络速度测试\" class=\"headerlink\" title=\"1. 任务栏与系统托盘：内置网络速度测试\"></a>1. 任务栏与系统托盘：内置网络速度测试</h2><ul>\n<li>新增内置<strong>网络速度测试工具</strong>，可直接从任务栏访问。</li>\n<li>启动方式：通过<strong>Wi-Fi和蜂窝网络快速设置页面</strong>，或右键单击系统托盘中的网络图标。</li>\n<li>该工具在默认浏览器中打开，支持测试<strong>以太网、Wi-Fi和蜂窝网络连接</strong>，帮助评估网络性能和排查问题。</li>\n</ul>\n<h2 id=\"2-入门应用与Microsoft-365-Copilot\"><a href=\"#2-入门应用与Microsoft-365-Copilot\" class=\"headerlink\" title=\"2. 入门应用与Microsoft 365 Copilot\"></a>2. 入门应用与Microsoft 365 Copilot</h2><ul>\n<li>为受管理的商业设备（拥有有效的Microsoft 365订阅）在“入门”应用中新增<strong>Microsoft 365 Copilot页面</strong>。</li>\n<li>此体验旨在帮助用户更轻松地<strong>发现和使用Microsoft 365 Copilot</strong>，直接在入门流程中提供关键功能的快速访问和有用指导。</li>\n</ul>\n<h2 id=\"3-Windows搜索（Copilot-PC）\"><a href=\"#3-Windows搜索（Copilot-PC）\" class=\"headerlink\" title=\"3. Windows搜索（Copilot+ PC）\"></a>3. Windows搜索（Copilot+ PC）</h2><ul>\n<li>针对Copilot+ PC改进了Windows搜索，更新了<strong>文件资源管理器搜索框的占位符文本</strong>，以提高对今年早些时候引入的改进版Windows搜索体验的认知度。</li>\n</ul>\n<h1 id=\"面向所有Dev频道用户的更改与改进\"><a href=\"#面向所有Dev频道用户的更改与改进\" class=\"headerlink\" title=\"面向所有Dev频道用户的更改与改进\"></a>面向所有Dev频道用户的更改与改进</h1><p>以下改进正向所有Dev频道用户逐步推出：</p>\n<h2 id=\"1-文件资源管理器\"><a href=\"#1-文件资源管理器\" class=\"headerlink\" title=\"1. 文件资源管理器\"></a>1. 文件资源管理器</h2><ul>\n<li>新增<strong>StorageProvider API</strong>，允许云提供商与文件资源管理器主页集成。</li>\n</ul>\n<h2 id=\"2-表情符号\"><a href=\"#2-表情符号\" class=\"headerlink\" title=\"2. 表情符号\"></a>2. 表情符号</h2><ul>\n<li><strong>暂时移除了Emoji 16.0</strong>，将在未来的版本中重新引入。</li>\n</ul>\n<h2 id=\"3-语音访问\"><a href=\"#3-语音访问\" class=\"headerlink\" title=\"3. 语音访问\"></a>3. 语音访问</h2><ul>\n<li>引入新的“<strong>执行前等待时间</strong>”设置，允许用户配置语音命令执行前的延迟。</li>\n<li>为<strong>不同语速模式的用户</strong>提供了更大的灵活性，无论说话慢还是快，都能实现更准确的识别。</li>\n<li>设置路径：语音访问设置 &gt; 执行前等待时间，然后选择最适合的选项。</li>\n</ul>\n<h1 id=\"逐步推出的修复\"><a href=\"#逐步推出的修复\" class=\"headerlink\" title=\"逐步推出的修复\"></a>逐步推出的修复</h1><p>以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">组件</th>\n<th align=\"left\">修复描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><strong>常规</strong></td>\n<td align=\"left\">修复了导致部分屏幕阅读器在最近更新后<strong>无法读取屏幕内容</strong>的底层问题。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Click to Do (预览版)</strong></td>\n<td align=\"left\">修复了在Copilot+ PC上<strong>有时按WIN + P会意外调用Click to Do</strong>的问题。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>任务栏和系统托盘</strong></td>\n<td align=\"left\">修复了最近版本中<strong>电池图标与实际充电状态不同步</strong>的问题（例如，已插入电源却显示未充电）。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>文件资源管理器</strong></td>\n<td align=\"left\">修复了自定义文件夹视图（例如按名称排序文件或更改图标大小）后，这些设置<strong>仅应用于特定导航路径的问题</strong>。之前，从其他应用（如浏览器）打开同一文件夹时，设置不会保留，导致每次都需要手动重新应用。这在关闭了“按日期分组”的<strong>下载文件夹</strong>中尤为明显。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>锁定和登录屏幕</strong></td>\n<td align=\"left\">修复了最近版本中，<strong>尽管支持媒体控制的应用正在播放媒体，但锁定屏幕上可能不显示媒体控件</strong>的问题。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Windows Update</strong></td>\n<td align=\"left\">修复了一个底层问题。</td>\n</tr>\n</tbody></table>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>微软正在调查此版本中存在的以下问题：</p>\n<ul>\n<li><strong>Click to Do</strong>：通过右边缘手势在主显示器上启动Click to Do会导致<strong>滑动视觉效果显示在错误的显示器上</strong>。</li>\n<li><strong>锁定和登录屏幕</strong>：此版本中<strong>锁定屏幕上可能不显示媒体控件</strong>。</li>\n<li><strong>任务栏</strong>：由于问题，任务栏预览的<strong>新动画已被暂时禁用</strong>。</li>\n</ul>\n<h1 id=\"更新提示\"><a href=\"#更新提示\" class=\"headerlink\" title=\"更新提示\"></a>更新提示</h1><ul>\n<li>该版本通过<strong>受控功能推送 (CFR)</strong> 方式分发。</li>\n<li>建议Dev频道用户在“设置”&gt;“Windows更新”中<strong>开启“在最新更新可用时立即获取”</strong> 切换开关，以逐步体验到所有新功能。</li>\n<li><strong>Copilot+ PC 的特定功能需要符合相应规格的硬件支持</strong>。</li>\n</ul>\n<div class=\"note warning flat\"><p>此版本为开发预览版，<strong>稳定性无法与正式版相比</strong>，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。</p>\n</div>\n\n<p><strong>【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】</strong></p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6760</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-4.jpg\"></p>\n<blockquote>\n<p>微软于2025年9月29日向Dev频道的Windows Insider项目成员推送了Windows 11 Insider Preview Build 26220.6760 (KB5065793) 版本更新。本次更新为Windows 11版本25H2带来了多项实用功能改进，包括任务栏内置网速测试、语音访问延迟设置调整，以及针对文件资源管理器、表情符号和Copilot+ PC体验的多项优化和修复。</p>\n</blockquote>\n<hr>\n<h1 id=\"逐步推出的新功能与改进\"><a href=\"#逐步推出的新功能与改进\" class=\"headerlink\" title=\"逐步推出的新功能与改进\"></a>逐步推出的新功能与改进</h1><p>以下功能正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：</p>\n<h2 id=\"1-任务栏与系统托盘：内置网络速度测试\"><a href=\"#1-任务栏与系统托盘：内置网络速度测试\" class=\"headerlink\" title=\"1. 任务栏与系统托盘：内置网络速度测试\"></a>1. 任务栏与系统托盘：内置网络速度测试</h2><ul>\n<li>新增内置<strong>网络速度测试工具</strong>，可直接从任务栏访问。</li>\n<li>启动方式：通过<strong>Wi-Fi和蜂窝网络快速设置页面</strong>，或右键单击系统托盘中的网络图标。</li>\n<li>该工具在默认浏览器中打开，支持测试<strong>以太网、Wi-Fi和蜂窝网络连接</strong>，帮助评估网络性能和排查问题。</li>\n</ul>\n<h2 id=\"2-入门应用与Microsoft-365-Copilot\"><a href=\"#2-入门应用与Microsoft-365-Copilot\" class=\"headerlink\" title=\"2. 入门应用与Microsoft 365 Copilot\"></a>2. 入门应用与Microsoft 365 Copilot</h2><ul>\n<li>为受管理的商业设备（拥有有效的Microsoft 365订阅）在“入门”应用中新增<strong>Microsoft 365 Copilot页面</strong>。</li>\n<li>此体验旨在帮助用户更轻松地<strong>发现和使用Microsoft 365 Copilot</strong>，直接在入门流程中提供关键功能的快速访问和有用指导。</li>\n</ul>\n<h2 id=\"3-Windows搜索（Copilot-PC）\"><a href=\"#3-Windows搜索（Copilot-PC）\" class=\"headerlink\" title=\"3. Windows搜索（Copilot+ PC）\"></a>3. Windows搜索（Copilot+ PC）</h2><ul>\n<li>针对Copilot+ PC改进了Windows搜索，更新了<strong>文件资源管理器搜索框的占位符文本</strong>，以提高对今年早些时候引入的改进版Windows搜索体验的认知度。</li>\n</ul>\n<h1 id=\"面向所有Dev频道用户的更改与改进\"><a href=\"#面向所有Dev频道用户的更改与改进\" class=\"headerlink\" title=\"面向所有Dev频道用户的更改与改进\"></a>面向所有Dev频道用户的更改与改进</h1><p>以下改进正向所有Dev频道用户逐步推出：</p>\n<h2 id=\"1-文件资源管理器\"><a href=\"#1-文件资源管理器\" class=\"headerlink\" title=\"1. 文件资源管理器\"></a>1. 文件资源管理器</h2><ul>\n<li>新增<strong>StorageProvider API</strong>，允许云提供商与文件资源管理器主页集成。</li>\n</ul>\n<h2 id=\"2-表情符号\"><a href=\"#2-表情符号\" class=\"headerlink\" title=\"2. 表情符号\"></a>2. 表情符号</h2><ul>\n<li><strong>暂时移除了Emoji 16.0</strong>，将在未来的版本中重新引入。</li>\n</ul>\n<h2 id=\"3-语音访问\"><a href=\"#3-语音访问\" class=\"headerlink\" title=\"3. 语音访问\"></a>3. 语音访问</h2><ul>\n<li>引入新的“<strong>执行前等待时间</strong>”设置，允许用户配置语音命令执行前的延迟。</li>\n<li>为<strong>不同语速模式的用户</strong>提供了更大的灵活性，无论说话慢还是快，都能实现更准确的识别。</li>\n<li>设置路径：语音访问设置 &gt; 执行前等待时间，然后选择最适合的选项。</li>\n</ul>\n<h1 id=\"逐步推出的修复\"><a href=\"#逐步推出的修复\" class=\"headerlink\" title=\"逐步推出的修复\"></a>逐步推出的修复</h1><p>以下修复正逐步向开启了“在最新更新可用时立即获取”选项的Dev频道用户推送：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">组件</th>\n<th align=\"left\">修复描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><strong>常规</strong></td>\n<td align=\"left\">修复了导致部分屏幕阅读器在最近更新后<strong>无法读取屏幕内容</strong>的底层问题。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Click to Do (预览版)</strong></td>\n<td align=\"left\">修复了在Copilot+ PC上<strong>有时按WIN + P会意外调用Click to Do</strong>的问题。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>任务栏和系统托盘</strong></td>\n<td align=\"left\">修复了最近版本中<strong>电池图标与实际充电状态不同步</strong>的问题（例如，已插入电源却显示未充电）。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>文件资源管理器</strong></td>\n<td align=\"left\">修复了自定义文件夹视图（例如按名称排序文件或更改图标大小）后，这些设置<strong>仅应用于特定导航路径的问题</strong>。之前，从其他应用（如浏览器）打开同一文件夹时，设置不会保留，导致每次都需要手动重新应用。这在关闭了“按日期分组”的<strong>下载文件夹</strong>中尤为明显。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>锁定和登录屏幕</strong></td>\n<td align=\"left\">修复了最近版本中，<strong>尽管支持媒体控制的应用正在播放媒体，但锁定屏幕上可能不显示媒体控件</strong>的问题。</td>\n</tr>\n<tr>\n<td align=\"left\"><strong>Windows Update</strong></td>\n<td align=\"left\">修复了一个底层问题。</td>\n</tr>\n</tbody></table>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>微软正在调查此版本中存在的以下问题：</p>\n<ul>\n<li><strong>Click to Do</strong>：通过右边缘手势在主显示器上启动Click to Do会导致<strong>滑动视觉效果显示在错误的显示器上</strong>。</li>\n<li><strong>锁定和登录屏幕</strong>：此版本中<strong>锁定屏幕上可能不显示媒体控件</strong>。</li>\n<li><strong>任务栏</strong>：由于问题，任务栏预览的<strong>新动画已被暂时禁用</strong>。</li>\n</ul>\n<h1 id=\"更新提示\"><a href=\"#更新提示\" class=\"headerlink\" title=\"更新提示\"></a>更新提示</h1><ul>\n<li>该版本通过<strong>受控功能推送 (CFR)</strong> 方式分发。</li>\n<li>建议Dev频道用户在“设置”&gt;“Windows更新”中<strong>开启“在最新更新可用时立即获取”</strong> 切换开关，以逐步体验到所有新功能。</li>\n<li><strong>Copilot+ PC 的特定功能需要符合相应规格的硬件支持</strong>。</li>\n</ul>\n<div class=\"note warning flat\"><p>此版本为开发预览版，<strong>稳定性无法与正式版相比</strong>，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。</p>\n</div>\n\n<p><strong>【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】</strong></p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n"},{"title":"Windows 11 Insider Preview Build 26220.6780 更新日志：AI助手与拖拽托盘升级","description":"Windows 11 Insider Preview Build 26220.6780预览版的更新内容","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg","summary":"酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build 26220.6780的更新内容，重点包括设置应用AI助手功能（仅限Copilot+PC）推荐个性化设置选项和增强搜索能力，拖拽托盘支持多文件操作、智能应用推荐及无缝文件夹移动，Click to Do优化了启动时的实体高亮提示，同时修复了任务栏、文件资源管理器等稳定性问题并启用深色模式（仅限部分预览成员），部分功能需特定硬件或受地区限制，建议开启自动更新以体验新功能。","date":"2025-10-11T13:58:00.000Z","_content":"\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6780\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-5.jpg)\n\n> 微软于2025年10月11日面向Dev频道推送了Windows 11 Insider Preview Build 26220.6780 (KB5067103) 版本更新，此次更新重点强化了设置应用的AI助手能力，并为拖拽托盘带来多项实用改进。\n\n---\n\n# AI助手与设置优化\n\n本次更新中，设置应用新增了AI助手功能。这一功能目前**仅限于Copilot+PC**，能够根据用户的操作习惯，**推荐个性化的设置选项**，帮助用户快速修改最近调整过的设置项。\n\n设置应用的搜索功能也得到了增强。搜索界面会显示更多结果，方便用户更快找到并修改设置项。如果某些设置无法进一步调整，系统会弹出对话框说明原因，并提供相应的修改选项。\n\n# 拖拽托盘与Click to Do功能升级\n\n拖拽托盘功能获得了多项实用改进：\n\n*   **多文件支持**：用户现在可以**拖拽多个文件**到托盘中，并作为一个整体进行移动或分享\n*   **智能应用推荐**：托盘会**更智能地推荐相关应用**，提高目标应用（如邮件、Teams、Slack、OneDrive等）的显示优先级\n*   **无缝文件夹移动**：将文件拖到拖拽托盘后选择文件夹，会执行**直接移动操作**，无需额外的复制/确认步骤\n\n同时，Click to Do（预览版）也进行了改进，在启动时，系统会通过**视觉提示高亮显示关键实体**，点击这些元素即可触发智能操作。\n\n# 系统稳定性与Bug修复\n\n除了新功能的加入，本次更新还修复了多个Bug，涵盖了任务栏、文件资源管理器、开始菜单、搜索以及部分应用崩溃等问题。\n\n例如，修复了**按下Win+`键无法切换应用窗口的问题**，以及上个版本中导致部分预览体验成员频繁崩溃的问题。\n\n**管理员保护功能**也得到了重新启用，用户可以在Windows安全中心 > 帐户保护中重新启用该功能，增强了系统的安全性。\n\n# 深色模式与未来展望\n\n微软为\"运行\"功能**启用了深色模式**，但目前**仅限于少数Windows预览体验成员可见**，未来将扩大推送范围。\n\n# 已知问题\n\n微软正在调查此版本中存在的以下问题：\n\n*   **Click to Do**：通过右边缘手势在主显示器上启动Click to Do会导致滑动视觉效果显示在错误的显示器上\n*   **锁定和登录屏幕**：此版本中锁定屏幕上可能不显示媒体控件\n*   **任务栏**：由于问题，任务栏预览的新动画已被暂时禁用\n\n# 更新提示\n\n该版本通过**受控功能推送 (CFR)** 方式分发。建议Dev频道用户在\"设置\" > \"Windows更新\"中**开启\"在最新更新可用时立即获取\"** 切换开关，以逐步体验到所有新功能。\n\n{% note warning flat %}此版本为开发预览版，**稳定性无法与正式版相比**，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。{% endnote %}\n\n**【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】**\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","source":"_posts/Windows/win11dev4.md","raw":"---\ntitle: Windows 11 Insider Preview Build 26220.6780 更新日志：AI助手与拖拽托盘升级\ndescription: Windows 11 Insider Preview Build 26220.6780预览版的更新内容\ntags:\n  - Windows\n  - 系统\ncategories:\n  - 系统类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/Windows11DEVCHANNEL.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Windows 11 Insider Preview Build\n  26220.6780的更新内容，重点包括设置应用AI助手功能（仅限Copilot+PC）推荐个性化设置选项和增强搜索能力，拖拽托盘支持多文件操作、智能应用推荐及无缝文件夹移动，Click\n  to\n  Do优化了启动时的实体高亮提示，同时修复了任务栏、文件资源管理器等稳定性问题并启用深色模式（仅限部分预览成员），部分功能需特定硬件或受地区限制，建议开启自动更新以体验新功能。\ndate: 2025-10-11 21:58:00\n---\n\n# 版本信息\n系统版本：Windows 11 25H2\n\n内核版本：26220.6780\n\n频道：Dev Channel\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-5.jpg)\n\n> 微软于2025年10月11日面向Dev频道推送了Windows 11 Insider Preview Build 26220.6780 (KB5067103) 版本更新，此次更新重点强化了设置应用的AI助手能力，并为拖拽托盘带来多项实用改进。\n\n---\n\n# AI助手与设置优化\n\n本次更新中，设置应用新增了AI助手功能。这一功能目前**仅限于Copilot+PC**，能够根据用户的操作习惯，**推荐个性化的设置选项**，帮助用户快速修改最近调整过的设置项。\n\n设置应用的搜索功能也得到了增强。搜索界面会显示更多结果，方便用户更快找到并修改设置项。如果某些设置无法进一步调整，系统会弹出对话框说明原因，并提供相应的修改选项。\n\n# 拖拽托盘与Click to Do功能升级\n\n拖拽托盘功能获得了多项实用改进：\n\n*   **多文件支持**：用户现在可以**拖拽多个文件**到托盘中，并作为一个整体进行移动或分享\n*   **智能应用推荐**：托盘会**更智能地推荐相关应用**，提高目标应用（如邮件、Teams、Slack、OneDrive等）的显示优先级\n*   **无缝文件夹移动**：将文件拖到拖拽托盘后选择文件夹，会执行**直接移动操作**，无需额外的复制/确认步骤\n\n同时，Click to Do（预览版）也进行了改进，在启动时，系统会通过**视觉提示高亮显示关键实体**，点击这些元素即可触发智能操作。\n\n# 系统稳定性与Bug修复\n\n除了新功能的加入，本次更新还修复了多个Bug，涵盖了任务栏、文件资源管理器、开始菜单、搜索以及部分应用崩溃等问题。\n\n例如，修复了**按下Win+`键无法切换应用窗口的问题**，以及上个版本中导致部分预览体验成员频繁崩溃的问题。\n\n**管理员保护功能**也得到了重新启用，用户可以在Windows安全中心 > 帐户保护中重新启用该功能，增强了系统的安全性。\n\n# 深色模式与未来展望\n\n微软为\"运行\"功能**启用了深色模式**，但目前**仅限于少数Windows预览体验成员可见**，未来将扩大推送范围。\n\n# 已知问题\n\n微软正在调查此版本中存在的以下问题：\n\n*   **Click to Do**：通过右边缘手势在主显示器上启动Click to Do会导致滑动视觉效果显示在错误的显示器上\n*   **锁定和登录屏幕**：此版本中锁定屏幕上可能不显示媒体控件\n*   **任务栏**：由于问题，任务栏预览的新动画已被暂时禁用\n\n# 更新提示\n\n该版本通过**受控功能推送 (CFR)** 方式分发。建议Dev频道用户在\"设置\" > \"Windows更新\"中**开启\"在最新更新可用时立即获取\"** 切换开关，以逐步体验到所有新功能。\n\n{% note warning flat %}此版本为开发预览版，**稳定性无法与正式版相比**，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。{% endnote %}\n\n**【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】**\n\n## Tips\n本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。","slug":"Windows/win11dev4","published":1,"updated":"2025-10-11T14:02:19.391Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95610003zg0fye36sed6j","content":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6780</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-5.jpg\"></p>\n<blockquote>\n<p>微软于2025年10月11日面向Dev频道推送了Windows 11 Insider Preview Build 26220.6780 (KB5067103) 版本更新，此次更新重点强化了设置应用的AI助手能力，并为拖拽托盘带来多项实用改进。</p>\n</blockquote>\n<hr>\n<h1 id=\"AI助手与设置优化\"><a href=\"#AI助手与设置优化\" class=\"headerlink\" title=\"AI助手与设置优化\"></a>AI助手与设置优化</h1><p>本次更新中，设置应用新增了AI助手功能。这一功能目前<strong>仅限于Copilot+PC</strong>，能够根据用户的操作习惯，<strong>推荐个性化的设置选项</strong>，帮助用户快速修改最近调整过的设置项。</p>\n<p>设置应用的搜索功能也得到了增强。搜索界面会显示更多结果，方便用户更快找到并修改设置项。如果某些设置无法进一步调整，系统会弹出对话框说明原因，并提供相应的修改选项。</p>\n<h1 id=\"拖拽托盘与Click-to-Do功能升级\"><a href=\"#拖拽托盘与Click-to-Do功能升级\" class=\"headerlink\" title=\"拖拽托盘与Click to Do功能升级\"></a>拖拽托盘与Click to Do功能升级</h1><p>拖拽托盘功能获得了多项实用改进：</p>\n<ul>\n<li><strong>多文件支持</strong>：用户现在可以<strong>拖拽多个文件</strong>到托盘中，并作为一个整体进行移动或分享</li>\n<li><strong>智能应用推荐</strong>：托盘会<strong>更智能地推荐相关应用</strong>，提高目标应用（如邮件、Teams、Slack、OneDrive等）的显示优先级</li>\n<li><strong>无缝文件夹移动</strong>：将文件拖到拖拽托盘后选择文件夹，会执行<strong>直接移动操作</strong>，无需额外的复制&#x2F;确认步骤</li>\n</ul>\n<p>同时，Click to Do（预览版）也进行了改进，在启动时，系统会通过<strong>视觉提示高亮显示关键实体</strong>，点击这些元素即可触发智能操作。</p>\n<h1 id=\"系统稳定性与Bug修复\"><a href=\"#系统稳定性与Bug修复\" class=\"headerlink\" title=\"系统稳定性与Bug修复\"></a>系统稳定性与Bug修复</h1><p>除了新功能的加入，本次更新还修复了多个Bug，涵盖了任务栏、文件资源管理器、开始菜单、搜索以及部分应用崩溃等问题。</p>\n<p>例如，修复了<strong>按下Win+&#96;键无法切换应用窗口的问题</strong>，以及上个版本中导致部分预览体验成员频繁崩溃的问题。</p>\n<p><strong>管理员保护功能</strong>也得到了重新启用，用户可以在Windows安全中心 &gt; 帐户保护中重新启用该功能，增强了系统的安全性。</p>\n<h1 id=\"深色模式与未来展望\"><a href=\"#深色模式与未来展望\" class=\"headerlink\" title=\"深色模式与未来展望\"></a>深色模式与未来展望</h1><p>微软为”运行”功能<strong>启用了深色模式</strong>，但目前<strong>仅限于少数Windows预览体验成员可见</strong>，未来将扩大推送范围。</p>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>微软正在调查此版本中存在的以下问题：</p>\n<ul>\n<li><strong>Click to Do</strong>：通过右边缘手势在主显示器上启动Click to Do会导致滑动视觉效果显示在错误的显示器上</li>\n<li><strong>锁定和登录屏幕</strong>：此版本中锁定屏幕上可能不显示媒体控件</li>\n<li><strong>任务栏</strong>：由于问题，任务栏预览的新动画已被暂时禁用</li>\n</ul>\n<h1 id=\"更新提示\"><a href=\"#更新提示\" class=\"headerlink\" title=\"更新提示\"></a>更新提示</h1><p>该版本通过<strong>受控功能推送 (CFR)</strong> 方式分发。建议Dev频道用户在”设置” &gt; “Windows更新”中<strong>开启”在最新更新可用时立即获取”</strong> 切换开关，以逐步体验到所有新功能。</p>\n<div class=\"note warning flat\"><p>此版本为开发预览版，<strong>稳定性无法与正式版相比</strong>，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。</p>\n</div>\n\n<p><strong>【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】</strong></p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"版本信息\"><a href=\"#版本信息\" class=\"headerlink\" title=\"版本信息\"></a>版本信息</h1><p>系统版本：Windows 11 25H2</p>\n<p>内核版本：26220.6780</p>\n<p>频道：Dev Channel</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/1-5.jpg\"></p>\n<blockquote>\n<p>微软于2025年10月11日面向Dev频道推送了Windows 11 Insider Preview Build 26220.6780 (KB5067103) 版本更新，此次更新重点强化了设置应用的AI助手能力，并为拖拽托盘带来多项实用改进。</p>\n</blockquote>\n<hr>\n<h1 id=\"AI助手与设置优化\"><a href=\"#AI助手与设置优化\" class=\"headerlink\" title=\"AI助手与设置优化\"></a>AI助手与设置优化</h1><p>本次更新中，设置应用新增了AI助手功能。这一功能目前<strong>仅限于Copilot+PC</strong>，能够根据用户的操作习惯，<strong>推荐个性化的设置选项</strong>，帮助用户快速修改最近调整过的设置项。</p>\n<p>设置应用的搜索功能也得到了增强。搜索界面会显示更多结果，方便用户更快找到并修改设置项。如果某些设置无法进一步调整，系统会弹出对话框说明原因，并提供相应的修改选项。</p>\n<h1 id=\"拖拽托盘与Click-to-Do功能升级\"><a href=\"#拖拽托盘与Click-to-Do功能升级\" class=\"headerlink\" title=\"拖拽托盘与Click to Do功能升级\"></a>拖拽托盘与Click to Do功能升级</h1><p>拖拽托盘功能获得了多项实用改进：</p>\n<ul>\n<li><strong>多文件支持</strong>：用户现在可以<strong>拖拽多个文件</strong>到托盘中，并作为一个整体进行移动或分享</li>\n<li><strong>智能应用推荐</strong>：托盘会<strong>更智能地推荐相关应用</strong>，提高目标应用（如邮件、Teams、Slack、OneDrive等）的显示优先级</li>\n<li><strong>无缝文件夹移动</strong>：将文件拖到拖拽托盘后选择文件夹，会执行<strong>直接移动操作</strong>，无需额外的复制&#x2F;确认步骤</li>\n</ul>\n<p>同时，Click to Do（预览版）也进行了改进，在启动时，系统会通过<strong>视觉提示高亮显示关键实体</strong>，点击这些元素即可触发智能操作。</p>\n<h1 id=\"系统稳定性与Bug修复\"><a href=\"#系统稳定性与Bug修复\" class=\"headerlink\" title=\"系统稳定性与Bug修复\"></a>系统稳定性与Bug修复</h1><p>除了新功能的加入，本次更新还修复了多个Bug，涵盖了任务栏、文件资源管理器、开始菜单、搜索以及部分应用崩溃等问题。</p>\n<p>例如，修复了<strong>按下Win+&#96;键无法切换应用窗口的问题</strong>，以及上个版本中导致部分预览体验成员频繁崩溃的问题。</p>\n<p><strong>管理员保护功能</strong>也得到了重新启用，用户可以在Windows安全中心 &gt; 帐户保护中重新启用该功能，增强了系统的安全性。</p>\n<h1 id=\"深色模式与未来展望\"><a href=\"#深色模式与未来展望\" class=\"headerlink\" title=\"深色模式与未来展望\"></a>深色模式与未来展望</h1><p>微软为”运行”功能<strong>启用了深色模式</strong>，但目前<strong>仅限于少数Windows预览体验成员可见</strong>，未来将扩大推送范围。</p>\n<h1 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h1><p>微软正在调查此版本中存在的以下问题：</p>\n<ul>\n<li><strong>Click to Do</strong>：通过右边缘手势在主显示器上启动Click to Do会导致滑动视觉效果显示在错误的显示器上</li>\n<li><strong>锁定和登录屏幕</strong>：此版本中锁定屏幕上可能不显示媒体控件</li>\n<li><strong>任务栏</strong>：由于问题，任务栏预览的新动画已被暂时禁用</li>\n</ul>\n<h1 id=\"更新提示\"><a href=\"#更新提示\" class=\"headerlink\" title=\"更新提示\"></a>更新提示</h1><p>该版本通过<strong>受控功能推送 (CFR)</strong> 方式分发。建议Dev频道用户在”设置” &gt; “Windows更新”中<strong>开启”在最新更新可用时立即获取”</strong> 切换开关，以逐步体验到所有新功能。</p>\n<div class=\"note warning flat\"><p>此版本为开发预览版，<strong>稳定性无法与正式版相比</strong>，不建议在生产环境中使用。部分新功能可能需要特定硬件支持，且推送范围可能受地区限制。</p>\n</div>\n\n<p><strong>【本文基于微软官方博客更新日志编写，具体功能体验可能因设备配置和区域设置而有所不同】</strong></p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3基于微软官方更新日志润色编写而成，具体功能体验可能因设备配置和区域设置而有所不同，如有错误，请指出，酥米将会及时更改。</p>\n"},{"title":"华为eNSP基础指令","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C-1bc90f97feecf1994.jpg","summary":"酥米小机器人来啦，这篇文章主要介绍了华为eNSP配置中的常见报错及基础指令使用方法常见报错包括Incomplete command命令不完整Unrecognized command命令有误Ambiguous command命令无法识别基础指令部分包含防止交换机配置时一直弹出信息的un info e进入特权模式的system-view返回的quit进入端口配置的interface命令进入console口的user-interface console修改主机名称的sysname以及查看端口状态的display ip interface brief接口类型方面access用于连接终端设备trunk用于连接另一台交换机通过port link-type命令切换不同接口类型操作时需注意命令语法的正确性以避免报错同时掌握常用指令的快捷方式能提升配置效率","date":"2024-05-27T07:21:46.000Z","_content":"\n## 常见报错：\n```\nIncomplete command：命令不完整\nUnrecognized command：命令有误\nAmbiguous command：命令无法识别\n```\n\n## 基础指令：\n```\n防止交换机配置时一直弹出信息：un info e（un in e）\n进入特权模式：system-view（sy）\n返回：quit/q\nint   [端口]：进入该端口的配置\n进入某个console口：user-interface console 接口\n更换主机名称：sysname 主机名称\ninterface loopback：创建虚拟接口\ndisplay ip interface brief：查看所有端口的启用情况和ip地址\n```\n\n## 接口类型：\n```\n使用命令port link-type 【接口】来切换\naccess：用于连接终端，电脑等\ntrunk：用于连接另一台终端\n```","source":"_posts/eNSP/eNSP指令及基础.md","raw":"---\ntitle: 华为eNSP基础指令\ncategories:\n  - 系统类\ntags:\n  - ensp\n  - 指令\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/OIP-C-1bc90f97feecf1994.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章主要介绍了华为eNSP配置中的常见报错及基础指令使用方法常见报错包括Incomplete\n  command命令不完整Unrecognized command命令有误Ambiguous\n  command命令无法识别基础指令部分包含防止交换机配置时一直弹出信息的un info\n  e进入特权模式的system-view返回的quit进入端口配置的interface命令进入console口的user-interface\n  console修改主机名称的sysname以及查看端口状态的display ip interface\n  brief接口类型方面access用于连接终端设备trunk用于连接另一台交换机通过port\n  link-type命令切换不同接口类型操作时需注意命令语法的正确性以避免报错同时掌握常用指令的快捷方式能提升配置效率\ndate: 2024-05-27 15:21:46\n---\n\n## 常见报错：\n```\nIncomplete command：命令不完整\nUnrecognized command：命令有误\nAmbiguous command：命令无法识别\n```\n\n## 基础指令：\n```\n防止交换机配置时一直弹出信息：un info e（un in e）\n进入特权模式：system-view（sy）\n返回：quit/q\nint   [端口]：进入该端口的配置\n进入某个console口：user-interface console 接口\n更换主机名称：sysname 主机名称\ninterface loopback：创建虚拟接口\ndisplay ip interface brief：查看所有端口的启用情况和ip地址\n```\n\n## 接口类型：\n```\n使用命令port link-type 【接口】来切换\naccess：用于连接终端，电脑等\ntrunk：用于连接另一台终端\n```","slug":"eNSP/eNSP指令及基础","published":1,"updated":"2025-09-21T10:35:06.522Z","comments":1,"layout":"post","photos":[],"_id":"cmgu956170043g0fy12b008vf","content":"<h2 id=\"常见报错：\"><a href=\"#常见报错：\" class=\"headerlink\" title=\"常见报错：\"></a>常见报错：</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Incomplete command：命令不完整</span><br><span class=\"line\">Unrecognized command：命令有误</span><br><span class=\"line\">Ambiguous command：命令无法识别</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"基础指令：\"><a href=\"#基础指令：\" class=\"headerlink\" title=\"基础指令：\"></a>基础指令：</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">防止交换机配置时一直弹出信息：un info e（un in e）</span><br><span class=\"line\">进入特权模式：system-view（sy）</span><br><span class=\"line\">返回：quit/q</span><br><span class=\"line\">int   [端口]：进入该端口的配置</span><br><span class=\"line\">进入某个console口：user-interface console 接口</span><br><span class=\"line\">更换主机名称：sysname 主机名称</span><br><span class=\"line\">interface loopback：创建虚拟接口</span><br><span class=\"line\">display ip interface brief：查看所有端口的启用情况和ip地址</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"接口类型：\"><a href=\"#接口类型：\" class=\"headerlink\" title=\"接口类型：\"></a>接口类型：</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">使用命令port link-type 【接口】来切换</span><br><span class=\"line\">access：用于连接终端，电脑等</span><br><span class=\"line\">trunk：用于连接另一台终端</span><br></pre></td></tr></table></figure>","cover_type":"img","excerpt":"","more":"<h2 id=\"常见报错：\"><a href=\"#常见报错：\" class=\"headerlink\" title=\"常见报错：\"></a>常见报错：</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Incomplete command：命令不完整</span><br><span class=\"line\">Unrecognized command：命令有误</span><br><span class=\"line\">Ambiguous command：命令无法识别</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"基础指令：\"><a href=\"#基础指令：\" class=\"headerlink\" title=\"基础指令：\"></a>基础指令：</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">防止交换机配置时一直弹出信息：un info e（un in e）</span><br><span class=\"line\">进入特权模式：system-view（sy）</span><br><span class=\"line\">返回：quit/q</span><br><span class=\"line\">int   [端口]：进入该端口的配置</span><br><span class=\"line\">进入某个console口：user-interface console 接口</span><br><span class=\"line\">更换主机名称：sysname 主机名称</span><br><span class=\"line\">interface loopback：创建虚拟接口</span><br><span class=\"line\">display ip interface brief：查看所有端口的启用情况和ip地址</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"接口类型：\"><a href=\"#接口类型：\" class=\"headerlink\" title=\"接口类型：\"></a>接口类型：</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">使用命令port link-type 【接口】来切换</span><br><span class=\"line\">access：用于连接终端，电脑等</span><br><span class=\"line\">trunk：用于连接另一台终端</span><br></pre></td></tr></table></figure>"},{"title":"酥米小站微信小程序即将上线","description":"基于Vant-weapp制作的Hexo静态博客微信小程序《酥米小站》即将上线","summary":"酥米小机器人来啦，这篇文章介绍了作者基于ryanuo的hexo-wx-api项目开发的静态博客小程序，通过抓取hexo-generator-restful生成的json文件实现文章实时刷新，目前已完成登录功能和基础阅读留言板分类功能，未来计划添加暗色模式Twikoo评论区文章优化等特性，但因未满18岁暂无法发布，预计月底或下月上线，感谢原项目方为静态博客小程序化提供可能","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-6.webp","date":"2025-10-13T16:00:13.000Z","_content":"\n# 前提\n\n最近看到彬红茶大佬更新了博客App，突发奇想（其实是眼馋了🌚），也想做一个属于Hexo的静态博客软件。\n\n静态博客最被人诟病的是页面的刷新不及时，获取信息的速度没有动态博客快，于是我选择了ryanuo大佬的hexo-wx-api项目，通过直接抓取hexo-generator-restful生成的json文件，这样小程序里的文章更新就会比博客网站及时。俺选择微信小程序的原因是方便，不需要特别的打理，也不需要考虑多端适配，只需要打开微信搜索小程序就行了，方便了开发者也方便了用户。\n\n\n# 启动！开干！\n\n于是我花了大概8hours+，基于ryanuo大佬的hexo-wx-api项目，制作出了这个博客。修改了原项目70%+的代码，目前实现了基础功能\n\n## 截图\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-1.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-2.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-4.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-5.jpg)\n\n# 进度\n\n## 目前可以使用的功能\n\n- 文章阅读\n- 留言板\n- 分类功能\n- 博客实时刷新\n\n## 未来完成的功能\n\n- [ ] 暗色模式适配\n- [ ] Twikoo评论区\n- [ ] 友链页面\n- [ ] 文章界面优化\n- [x] 添加登录功能（已经通过微信登录实现）\n- [ ] 微信文章通知（不知道静态博客可不可以实现，想试试）\n- [ ] 博客文章分享\n- [ ] 搜索功能（目前是半废状态，所以去除了）\n\n\n## 问题\n- 有部分功能尚未完工，正在抓紧补全\n- 部分ui出现拉伸情况，正在修复\n- 搜索半废（去掉了）\n\n# 遗憾\n\n本人差半个月成年，暂时无法进行小程序的发布，所以发布日期会在月底至下个月，大家敬请期待哦~\n\n# 链接\n感谢ryanuo大佬编写的hexo-wx-api项目，让静态博客小程序化成为了可能，谢谢您！\n\n原项目：\n\n{% link ryanuo/hexo-wx-api,GitHub,https://github.com/ryanuo/hexo-wx-api %}","source":"_posts/其他/sumiblogappsup.md","raw":"---\ntitle: 酥米小站微信小程序即将上线\ndescription: 基于Vant-weapp制作的Hexo静态博客微信小程序《酥米小站》即将上线\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了作者基于ryanuo的hexo-wx-api项目开发的静态博客小程序，通过抓取hexo-generator-restful生成的json文件实现文章实时刷新，目前已完成登录功能和基础阅读留言板分类功能，未来计划添加暗色模式Twikoo评论区文章优化等特性，但因未满18岁暂无法发布，预计月底或下月上线，感谢原项目方为静态博客小程序化提供可能\ntags:\n  - 博客\ncategories:\n  - 其他\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-6.webp\ndate: 2025-10-14 00:00:13\n---\n\n# 前提\n\n最近看到彬红茶大佬更新了博客App，突发奇想（其实是眼馋了🌚），也想做一个属于Hexo的静态博客软件。\n\n静态博客最被人诟病的是页面的刷新不及时，获取信息的速度没有动态博客快，于是我选择了ryanuo大佬的hexo-wx-api项目，通过直接抓取hexo-generator-restful生成的json文件，这样小程序里的文章更新就会比博客网站及时。俺选择微信小程序的原因是方便，不需要特别的打理，也不需要考虑多端适配，只需要打开微信搜索小程序就行了，方便了开发者也方便了用户。\n\n\n# 启动！开干！\n\n于是我花了大概8hours+，基于ryanuo大佬的hexo-wx-api项目，制作出了这个博客。修改了原项目70%+的代码，目前实现了基础功能\n\n## 截图\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-1.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-2.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-4.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-5.jpg)\n\n# 进度\n\n## 目前可以使用的功能\n\n- 文章阅读\n- 留言板\n- 分类功能\n- 博客实时刷新\n\n## 未来完成的功能\n\n- [ ] 暗色模式适配\n- [ ] Twikoo评论区\n- [ ] 友链页面\n- [ ] 文章界面优化\n- [x] 添加登录功能（已经通过微信登录实现）\n- [ ] 微信文章通知（不知道静态博客可不可以实现，想试试）\n- [ ] 博客文章分享\n- [ ] 搜索功能（目前是半废状态，所以去除了）\n\n\n## 问题\n- 有部分功能尚未完工，正在抓紧补全\n- 部分ui出现拉伸情况，正在修复\n- 搜索半废（去掉了）\n\n# 遗憾\n\n本人差半个月成年，暂时无法进行小程序的发布，所以发布日期会在月底至下个月，大家敬请期待哦~\n\n# 链接\n感谢ryanuo大佬编写的hexo-wx-api项目，让静态博客小程序化成为了可能，谢谢您！\n\n原项目：\n\n{% link ryanuo/hexo-wx-api,GitHub,https://github.com/ryanuo/hexo-wx-api %}","slug":"其他/sumiblogappsup","published":1,"updated":"2025-10-13T16:13:14.305Z","comments":1,"layout":"post","photos":[],"_id":"cmgu956190047g0fy7z0n6434","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>最近看到彬红茶大佬更新了博客App，突发奇想（其实是眼馋了🌚），也想做一个属于Hexo的静态博客软件。</p>\n<p>静态博客最被人诟病的是页面的刷新不及时，获取信息的速度没有动态博客快，于是我选择了ryanuo大佬的hexo-wx-api项目，通过直接抓取hexo-generator-restful生成的json文件，这样小程序里的文章更新就会比博客网站及时。俺选择微信小程序的原因是方便，不需要特别的打理，也不需要考虑多端适配，只需要打开微信搜索小程序就行了，方便了开发者也方便了用户。</p>\n<h1 id=\"启动！开干！\"><a href=\"#启动！开干！\" class=\"headerlink\" title=\"启动！开干！\"></a>启动！开干！</h1><p>于是我花了大概8hours+，基于ryanuo大佬的hexo-wx-api项目，制作出了这个博客。修改了原项目70%+的代码，目前实现了基础功能</p>\n<h2 id=\"截图\"><a href=\"#截图\" class=\"headerlink\" title=\"截图\"></a>截图</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-1.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-2.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-4.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-5.jpg\"></p>\n<h1 id=\"进度\"><a href=\"#进度\" class=\"headerlink\" title=\"进度\"></a>进度</h1><h2 id=\"目前可以使用的功能\"><a href=\"#目前可以使用的功能\" class=\"headerlink\" title=\"目前可以使用的功能\"></a>目前可以使用的功能</h2><ul>\n<li>文章阅读</li>\n<li>留言板</li>\n<li>分类功能</li>\n<li>博客实时刷新</li>\n</ul>\n<h2 id=\"未来完成的功能\"><a href=\"#未来完成的功能\" class=\"headerlink\" title=\"未来完成的功能\"></a>未来完成的功能</h2><ul>\n<li><input disabled type=\"checkbox\"> 暗色模式适配</li>\n<li><input disabled type=\"checkbox\"> Twikoo评论区</li>\n<li><input disabled type=\"checkbox\"> 友链页面</li>\n<li><input disabled type=\"checkbox\"> 文章界面优化</li>\n<li><input checked disabled type=\"checkbox\"> 添加登录功能（已经通过微信登录实现）</li>\n<li><input disabled type=\"checkbox\"> 微信文章通知（不知道静态博客可不可以实现，想试试）</li>\n<li><input disabled type=\"checkbox\"> 博客文章分享</li>\n<li><input disabled type=\"checkbox\"> 搜索功能（目前是半废状态，所以去除了）</li>\n</ul>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><ul>\n<li>有部分功能尚未完工，正在抓紧补全</li>\n<li>部分ui出现拉伸情况，正在修复</li>\n<li>搜索半废（去掉了）</li>\n</ul>\n<h1 id=\"遗憾\"><a href=\"#遗憾\" class=\"headerlink\" title=\"遗憾\"></a>遗憾</h1><p>本人差半个月成年，暂时无法进行小程序的发布，所以发布日期会在月底至下个月，大家敬请期待哦~</p>\n<h1 id=\"链接\"><a href=\"#链接\" class=\"headerlink\" title=\"链接\"></a>链接</h1><p>感谢ryanuo大佬编写的hexo-wx-api项目，让静态博客小程序化成为了可能，谢谢您！</p>\n<p>原项目：</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://github.com/ryanuo/hexo-wx-api\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">ryanuo/hexo-wx-api</div>\n            <div class=\"tag-link-sitename\">GitHub</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>最近看到彬红茶大佬更新了博客App，突发奇想（其实是眼馋了🌚），也想做一个属于Hexo的静态博客软件。</p>\n<p>静态博客最被人诟病的是页面的刷新不及时，获取信息的速度没有动态博客快，于是我选择了ryanuo大佬的hexo-wx-api项目，通过直接抓取hexo-generator-restful生成的json文件，这样小程序里的文章更新就会比博客网站及时。俺选择微信小程序的原因是方便，不需要特别的打理，也不需要考虑多端适配，只需要打开微信搜索小程序就行了，方便了开发者也方便了用户。</p>\n<h1 id=\"启动！开干！\"><a href=\"#启动！开干！\" class=\"headerlink\" title=\"启动！开干！\"></a>启动！开干！</h1><p>于是我花了大概8hours+，基于ryanuo大佬的hexo-wx-api项目，制作出了这个博客。修改了原项目70%+的代码，目前实现了基础功能</p>\n<h2 id=\"截图\"><a href=\"#截图\" class=\"headerlink\" title=\"截图\"></a>截图</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-1.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-2.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-4.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/wx-5.jpg\"></p>\n<h1 id=\"进度\"><a href=\"#进度\" class=\"headerlink\" title=\"进度\"></a>进度</h1><h2 id=\"目前可以使用的功能\"><a href=\"#目前可以使用的功能\" class=\"headerlink\" title=\"目前可以使用的功能\"></a>目前可以使用的功能</h2><ul>\n<li>文章阅读</li>\n<li>留言板</li>\n<li>分类功能</li>\n<li>博客实时刷新</li>\n</ul>\n<h2 id=\"未来完成的功能\"><a href=\"#未来完成的功能\" class=\"headerlink\" title=\"未来完成的功能\"></a>未来完成的功能</h2><ul>\n<li><input disabled type=\"checkbox\"> 暗色模式适配</li>\n<li><input disabled type=\"checkbox\"> Twikoo评论区</li>\n<li><input disabled type=\"checkbox\"> 友链页面</li>\n<li><input disabled type=\"checkbox\"> 文章界面优化</li>\n<li><input checked disabled type=\"checkbox\"> 添加登录功能（已经通过微信登录实现）</li>\n<li><input disabled type=\"checkbox\"> 微信文章通知（不知道静态博客可不可以实现，想试试）</li>\n<li><input disabled type=\"checkbox\"> 博客文章分享</li>\n<li><input disabled type=\"checkbox\"> 搜索功能（目前是半废状态，所以去除了）</li>\n</ul>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><ul>\n<li>有部分功能尚未完工，正在抓紧补全</li>\n<li>部分ui出现拉伸情况，正在修复</li>\n<li>搜索半废（去掉了）</li>\n</ul>\n<h1 id=\"遗憾\"><a href=\"#遗憾\" class=\"headerlink\" title=\"遗憾\"></a>遗憾</h1><p>本人差半个月成年，暂时无法进行小程序的发布，所以发布日期会在月底至下个月，大家敬请期待哦~</p>\n<h1 id=\"链接\"><a href=\"#链接\" class=\"headerlink\" title=\"链接\"></a>链接</h1><p>感谢ryanuo大佬编写的hexo-wx-api项目，让静态博客小程序化成为了可能，谢谢您！</p>\n<p>原项目：</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://github.com/ryanuo/hexo-wx-api\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">ryanuo/hexo-wx-api</div>\n            <div class=\"tag-link-sitename\">GitHub</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>"},{"title":"每一步都是意外之外！荣耀平板5 10.1英寸版本的各种折腾 （总结篇）","description":"每一步都是意外之外！荣耀平板5 10.1英寸版本的各种折腾 （总结篇）","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(29).jpg","summary":"酥米小机器人来啦，这篇文章详细讲述了作者购入荣耀平板5 10.1英寸屏幕带线版后遭遇屏幕竖纹故障、与卖家追讨退款的纠纷过程，以及华为鸿蒙系统对麒麟659芯片优化不佳导致的卡顿问题；随后探索了官方降级通道关闭下的强刷包降级方法、拆机解锁BL的具体步骤，并指导了刷入LineageOS GSI和Magisk的完整教程以实现老设备的流畅系统体验，全文通过亲身经历分享了折腾细节和实用技巧。","date":"2024-12-26T12:21:46.000Z","_content":"\n# 前提\n三天前，我在闲鱼相中了一台荣耀平板5 10英寸，并且以155的低价购入屏幕带线版，当时卖家是说除了屏幕顶上有线其他正常，结果到手三天意外就发生了，屏幕直接被被竖纹给霸占，找商家追诉，返了55块\n![01](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(29).jpg)\n![02](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(26).jpg)\n\n小嘴一句，这个卖家本来还不想理我，直接未读但闲鱼在线，还把简介的非质量问题改成了不退不换，想耍闲鱼小花招，没门！我直接给他甩追差评+投诉+拉黑小连招，让卖家怂的返了一部分的钱款\n![03](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(24).jpg)\n\n# 麒麟659在鸿蒙下\n真的好卡！！！！！！我已经不能用言语形容卡顿，是那种没法正常用的卡顿，鸿蒙的对于老机型的优化真的很垃圾，我不明白套壳emui9为什么还能这么卡，在鸿蒙下没装软件滑动桌面都会卡，更别说了装了软件了，我还跑了个娱乐兔跑分，这颗u跑分在14-15w分左右，和625不分伯仲，但是这个价位要什么自行车？/doge\n![04](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).jpg)\n![05](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).jpg)\n\n\n# 降级\n## 官方渠道无法正常降级\nOKOK扯远了，回到正题，于是我就开启了我的难崩降级之旅，因为华为的解bl和刷机嘛，需要在emui下实现，所以得从鸿蒙降级下来。\n华为也很鸡贼，明明之前说好升了鸿蒙可以随便降回emui，但是从Harmony Next之后，华为就取消了所以老机型的降级通道，这意味着唯一的官方通道被彻底覆灭，我也尝试过像代理降级的办法，都是无法正常降级的\n\n# 三键强刷\n所幸，我在万维论坛找到了高维禁用的emui9强刷包，食用方法也很简单：\n\n- 下载之后直接解压dload放在sd卡目录（一定是sd卡或者otg，不能是内部存储）\n\n- 然后打开系统自带的计算器输入()()2846579()()进入工程菜单\n\n![06](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg)\n\n- 选择软件升级——存储卡升级，平板就会重启到rec自动降级emui9.1了\n\n![07](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(27).jpg)\n\n- 注：由于万维论坛的注册是邀请制，并且限制分享，所以要强刷包下载链接的可以点击右下角三个选项中间的小气泡按钮找我要链接下载\n\n- 也可以使用代理法降级EMUI9（只能降最新的EMUI9.1），这里就不细说了，网上有很多教学视频\n\n\n## Bingo\n恭喜你完成第一步，降级EMUI9，降完级你会得到一个可以正常使用流畅度也还行的麒麟659设备\n（本来想降EMUI8的，但是官方彻底关降级通道了）\n\n# 拆机解锁BL\n但是还不够，我的终极目标是解锁BL刷入LineageOS GSI！达到真正的流畅使用！\n\n## 拆机\n本来是没那么早拆机的，但是因为屏幕迫使我的好奇心一看究竟。\n我讲下我的方法吧（过程全错，结果全对doge）\n\n需要的材料：吹风机、热风枪或者拆机台，镊子一个，翘机片若干，刀片x1\n\n## 步骤\n- 首先拿吹风机调热风或者热风枪调低温，有那个拆机台加热也可以，加热下屏幕四周，一定要热够时间！！！！而且要热一边拆一边，原装屏幕胶很黏，不热拆不下来（不然会像我一样，死活拆不下来，用刀片割胶）\n- 然后用刀片插进屏幕缝隙里翘翘，要慢慢来，不要心急，不要翘成下面的塑料支架，也别妄想从塑料支架上手（深刻的教训呜呜呜，塑料支架里面有螺丝固定）。翘的时候不要刀片朝屏幕方向刮翘，本人亲测会把屏幕边框刮掉色（血的教训呜呜呜！）\n- 如果觉得难拆就用翘片顶着刀片刮开松的地方，划过去，只要不刮到屏幕，使劲造，因为屏幕胶很厚，而且屏幕边底下是塑料支架，只要不要刮太深基本上刮不到里面的东西（指纹键除外，这个要注意不要把指纹键边上的玻璃搞断了）\n- 四个边都撬开就可以拿起屏幕了，到这里其实差不多了。但是因为要短接，屏幕挂着短接很麻烦，我的建议是可以把屏幕拆下来。\n拧下三颗螺丝拆下挡着电池排线和屏幕排线的盖板，把屏幕排线断开拆屏幕就完成了！\n由于拆机拆得太入迷了，所以只有拆完的图片doge\n\n![25](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(19).jpg)\n\n![26](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(7).jpg)\n\n## 解锁BL\n先下载链接里面的工具\n\n{% link 123PAN,刷机工具,https://www.123684.com/s/mIXlVv-LEOB %}\n\n提取码:1234\n\n- 先过开机向导\n- 打开自带计算器输入()()2846579()() 进入工程菜单\n![08](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg)\n\n- 选择 后台设置——usb端口设置——选择生产模式\n- 安装华为的COM1.0驱动\n- 将设备关机，用镊子短接COM1.0刷机点和屏蔽罩，一边刷机点，一边屏蔽罩，然后插入数据线，具体短接点可以参考酷安@孙子烧烤 大佬给出的短接截图\n- 设备管理器中出现COM1.0设备就是成功进入啦\n![09](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(28).jpg)\n\n- 打开PotatoNV ，Target device选择刚刚的端口，Bootloader选择Kirin 65X（A），勾引Disable Fblock（关闭工厂解锁，使用用户级解锁，这是因为华为将BL解锁划分成了工程解锁和用户解锁，工程解锁可以访问全部分区，用户级则是system啥的普通分区，不建议使用工程解锁，把其他分区搞坏了没备份修复很麻烦）\n![10](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).png)\n\n- 选择start开始解锁！\n- 不一会就会解锁完成自动重启，软件也会显示解锁码，一定要妥善保存，升降EMUI有概率会自动锁上\n![11](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).png)\n\n- 解锁之后每次开机有提示是正常的，等五秒或者按电源键继续就行\n![12](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(11).jpg)\n\n至此，荣耀平板5的解锁BL就到这里了\n\n# 刷入LineageOS GSI\n## 前期准备\n- 平板和稳定的数据线\n- 基于Phh的类原生GSI。尽量不高于安卓12、13，高版本安卓比较卡顿，EMUI8选择Aonly分区的，EMUI9以后请选择A/B分区。（别问其他OEM GSI和SGSI能不能开机，答案是不能，原因应该是内核宽容）\n- Magisk 24以上，类原生需要24以上\n- 麒麟盘古工具箱（可以前往酷安@某贼 大佬那下载）\n- 一双灵巧的手（刚刚都完成拆机了应该不会不巧了吧/doge）\n准备好了让我们开始吧！\n\n## 开始刷机\n按住电源 + 音量上进入Fastboot 数据线链接电脑\n解锁BL（这步前面搞完的可以直接跳过）,使用盘古工具箱解锁BL，平板有提示按音量上然后按电源键确认解锁。解锁了会自动重启格式化，格式化失败是正常滴，直接强制重启再次进Fastboot就行\n![13](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(13).jpg)\n\n使用盘古工具箱刷入奇兔通用REC\n![14](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(5).jpg)\n\n重启平板,到警告页面的时候长按电源+ 进入eREC\n选择格式化，输入yes进入REC（由于华为设备系统分区的特殊性，双rec，这一步的目的是以格式化的名义欺骗eREC进入真正的rec，实际上并不会执行格式化命令）\n-然后就进入奇兔rec啦！\n![15](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(14).jpg)\n![16](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(15).jpg)\n\n选择清除，高级选项\n勾选内置存储，Data，System，Cache，Dalvik/ART Cache。滑动清除分区\n![17](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(16).jpg)\n\n完事儿后，回到主页面，重启，重启到Bootloader\n打开盘古工具箱，选择刷入自定义系统镜像，拖入下载的GSI，等待刷机完成\n![18](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).jpg)\n\n刷完后，重启等开机。Enjoy it! :)\n![19](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(12).jpg)\n\n## 刷入Magisk\n注：由于GSI SAR分区的特殊性，刷入Magisk会丢失REC，原来REC的分区会被Magisk用来引导带Root的系统\n\n- 从盘古工具箱提取出来奇兔rec镜像，和Magisk一起传进平板\n![20](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).png)\n\n- 平板安装Magisk，完成后打开\n- 点击右边的安装——安装到rec-选择一个文件修补然后选择刚刚的奇兔镜像进行修补就行啦\n![21](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(10).jpg)\n\n- 等输出显示All Done！后，链接电脑把平板内置存储Download目录的修补镜像导出电脑\n- 然后将平板进入Fastboot\n- 打开盘古工具箱选择刷入自定义REC拖入刚刚的rec镜像路径，回车等待刷入完成\n![22](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(9).jpg)\n\n- 刷入完成后盘古工具箱选择重启\n- 出现启动警告页面后长按三秒音量上键进入erec\n- 选择格式化，输入yes，诱骗erec进入root后的系统\n- 打开Magisk，如果有提示修补选重启修补就行\nMagisk到这里就刷完啦！这篇教程也快到尾声啦，俺还是第一次写这么长的文章，如果有文笔不仔细的地方，请各位见谅！","source":"_posts/刷机/Agassi2-W09BHN.md","raw":"---\ntitle: 每一步都是意外之外！荣耀平板5 10.1英寸版本的各种折腾 （总结篇）\ndescription: 每一步都是意外之外！荣耀平板5 10.1英寸版本的各种折腾 （总结篇）\ncategories:\n  - 搞机类\n  - 教程类\ntags:\n  - 刷机\n  - 玩机\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(29).jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章详细讲述了作者购入荣耀平板5\n  10.1英寸屏幕带线版后遭遇屏幕竖纹故障、与卖家追讨退款的纠纷过程，以及华为鸿蒙系统对麒麟659芯片优化不佳导致的卡顿问题；随后探索了官方降级通道关闭下的强刷包降级方法、拆机解锁BL的具体步骤，并指导了刷入LineageOS\n  GSI和Magisk的完整教程以实现老设备的流畅系统体验，全文通过亲身经历分享了折腾细节和实用技巧。\ndate: 2024-12-26 20:21:46\n---\n\n# 前提\n三天前，我在闲鱼相中了一台荣耀平板5 10英寸，并且以155的低价购入屏幕带线版，当时卖家是说除了屏幕顶上有线其他正常，结果到手三天意外就发生了，屏幕直接被被竖纹给霸占，找商家追诉，返了55块\n![01](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(29).jpg)\n![02](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(26).jpg)\n\n小嘴一句，这个卖家本来还不想理我，直接未读但闲鱼在线，还把简介的非质量问题改成了不退不换，想耍闲鱼小花招，没门！我直接给他甩追差评+投诉+拉黑小连招，让卖家怂的返了一部分的钱款\n![03](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(24).jpg)\n\n# 麒麟659在鸿蒙下\n真的好卡！！！！！！我已经不能用言语形容卡顿，是那种没法正常用的卡顿，鸿蒙的对于老机型的优化真的很垃圾，我不明白套壳emui9为什么还能这么卡，在鸿蒙下没装软件滑动桌面都会卡，更别说了装了软件了，我还跑了个娱乐兔跑分，这颗u跑分在14-15w分左右，和625不分伯仲，但是这个价位要什么自行车？/doge\n![04](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).jpg)\n![05](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).jpg)\n\n\n# 降级\n## 官方渠道无法正常降级\nOKOK扯远了，回到正题，于是我就开启了我的难崩降级之旅，因为华为的解bl和刷机嘛，需要在emui下实现，所以得从鸿蒙降级下来。\n华为也很鸡贼，明明之前说好升了鸿蒙可以随便降回emui，但是从Harmony Next之后，华为就取消了所以老机型的降级通道，这意味着唯一的官方通道被彻底覆灭，我也尝试过像代理降级的办法，都是无法正常降级的\n\n# 三键强刷\n所幸，我在万维论坛找到了高维禁用的emui9强刷包，食用方法也很简单：\n\n- 下载之后直接解压dload放在sd卡目录（一定是sd卡或者otg，不能是内部存储）\n\n- 然后打开系统自带的计算器输入()()2846579()()进入工程菜单\n\n![06](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg)\n\n- 选择软件升级——存储卡升级，平板就会重启到rec自动降级emui9.1了\n\n![07](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(27).jpg)\n\n- 注：由于万维论坛的注册是邀请制，并且限制分享，所以要强刷包下载链接的可以点击右下角三个选项中间的小气泡按钮找我要链接下载\n\n- 也可以使用代理法降级EMUI9（只能降最新的EMUI9.1），这里就不细说了，网上有很多教学视频\n\n\n## Bingo\n恭喜你完成第一步，降级EMUI9，降完级你会得到一个可以正常使用流畅度也还行的麒麟659设备\n（本来想降EMUI8的，但是官方彻底关降级通道了）\n\n# 拆机解锁BL\n但是还不够，我的终极目标是解锁BL刷入LineageOS GSI！达到真正的流畅使用！\n\n## 拆机\n本来是没那么早拆机的，但是因为屏幕迫使我的好奇心一看究竟。\n我讲下我的方法吧（过程全错，结果全对doge）\n\n需要的材料：吹风机、热风枪或者拆机台，镊子一个，翘机片若干，刀片x1\n\n## 步骤\n- 首先拿吹风机调热风或者热风枪调低温，有那个拆机台加热也可以，加热下屏幕四周，一定要热够时间！！！！而且要热一边拆一边，原装屏幕胶很黏，不热拆不下来（不然会像我一样，死活拆不下来，用刀片割胶）\n- 然后用刀片插进屏幕缝隙里翘翘，要慢慢来，不要心急，不要翘成下面的塑料支架，也别妄想从塑料支架上手（深刻的教训呜呜呜，塑料支架里面有螺丝固定）。翘的时候不要刀片朝屏幕方向刮翘，本人亲测会把屏幕边框刮掉色（血的教训呜呜呜！）\n- 如果觉得难拆就用翘片顶着刀片刮开松的地方，划过去，只要不刮到屏幕，使劲造，因为屏幕胶很厚，而且屏幕边底下是塑料支架，只要不要刮太深基本上刮不到里面的东西（指纹键除外，这个要注意不要把指纹键边上的玻璃搞断了）\n- 四个边都撬开就可以拿起屏幕了，到这里其实差不多了。但是因为要短接，屏幕挂着短接很麻烦，我的建议是可以把屏幕拆下来。\n拧下三颗螺丝拆下挡着电池排线和屏幕排线的盖板，把屏幕排线断开拆屏幕就完成了！\n由于拆机拆得太入迷了，所以只有拆完的图片doge\n\n![25](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(19).jpg)\n\n![26](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(7).jpg)\n\n## 解锁BL\n先下载链接里面的工具\n\n{% link 123PAN,刷机工具,https://www.123684.com/s/mIXlVv-LEOB %}\n\n提取码:1234\n\n- 先过开机向导\n- 打开自带计算器输入()()2846579()() 进入工程菜单\n![08](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg)\n\n- 选择 后台设置——usb端口设置——选择生产模式\n- 安装华为的COM1.0驱动\n- 将设备关机，用镊子短接COM1.0刷机点和屏蔽罩，一边刷机点，一边屏蔽罩，然后插入数据线，具体短接点可以参考酷安@孙子烧烤 大佬给出的短接截图\n- 设备管理器中出现COM1.0设备就是成功进入啦\n![09](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(28).jpg)\n\n- 打开PotatoNV ，Target device选择刚刚的端口，Bootloader选择Kirin 65X（A），勾引Disable Fblock（关闭工厂解锁，使用用户级解锁，这是因为华为将BL解锁划分成了工程解锁和用户解锁，工程解锁可以访问全部分区，用户级则是system啥的普通分区，不建议使用工程解锁，把其他分区搞坏了没备份修复很麻烦）\n![10](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).png)\n\n- 选择start开始解锁！\n- 不一会就会解锁完成自动重启，软件也会显示解锁码，一定要妥善保存，升降EMUI有概率会自动锁上\n![11](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).png)\n\n- 解锁之后每次开机有提示是正常的，等五秒或者按电源键继续就行\n![12](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(11).jpg)\n\n至此，荣耀平板5的解锁BL就到这里了\n\n# 刷入LineageOS GSI\n## 前期准备\n- 平板和稳定的数据线\n- 基于Phh的类原生GSI。尽量不高于安卓12、13，高版本安卓比较卡顿，EMUI8选择Aonly分区的，EMUI9以后请选择A/B分区。（别问其他OEM GSI和SGSI能不能开机，答案是不能，原因应该是内核宽容）\n- Magisk 24以上，类原生需要24以上\n- 麒麟盘古工具箱（可以前往酷安@某贼 大佬那下载）\n- 一双灵巧的手（刚刚都完成拆机了应该不会不巧了吧/doge）\n准备好了让我们开始吧！\n\n## 开始刷机\n按住电源 + 音量上进入Fastboot 数据线链接电脑\n解锁BL（这步前面搞完的可以直接跳过）,使用盘古工具箱解锁BL，平板有提示按音量上然后按电源键确认解锁。解锁了会自动重启格式化，格式化失败是正常滴，直接强制重启再次进Fastboot就行\n![13](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(13).jpg)\n\n使用盘古工具箱刷入奇兔通用REC\n![14](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(5).jpg)\n\n重启平板,到警告页面的时候长按电源+ 进入eREC\n选择格式化，输入yes进入REC（由于华为设备系统分区的特殊性，双rec，这一步的目的是以格式化的名义欺骗eREC进入真正的rec，实际上并不会执行格式化命令）\n-然后就进入奇兔rec啦！\n![15](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(14).jpg)\n![16](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(15).jpg)\n\n选择清除，高级选项\n勾选内置存储，Data，System，Cache，Dalvik/ART Cache。滑动清除分区\n![17](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(16).jpg)\n\n完事儿后，回到主页面，重启，重启到Bootloader\n打开盘古工具箱，选择刷入自定义系统镜像，拖入下载的GSI，等待刷机完成\n![18](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).jpg)\n\n刷完后，重启等开机。Enjoy it! :)\n![19](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(12).jpg)\n\n## 刷入Magisk\n注：由于GSI SAR分区的特殊性，刷入Magisk会丢失REC，原来REC的分区会被Magisk用来引导带Root的系统\n\n- 从盘古工具箱提取出来奇兔rec镜像，和Magisk一起传进平板\n![20](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).png)\n\n- 平板安装Magisk，完成后打开\n- 点击右边的安装——安装到rec-选择一个文件修补然后选择刚刚的奇兔镜像进行修补就行啦\n![21](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(10).jpg)\n\n- 等输出显示All Done！后，链接电脑把平板内置存储Download目录的修补镜像导出电脑\n- 然后将平板进入Fastboot\n- 打开盘古工具箱选择刷入自定义REC拖入刚刚的rec镜像路径，回车等待刷入完成\n![22](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(9).jpg)\n\n- 刷入完成后盘古工具箱选择重启\n- 出现启动警告页面后长按三秒音量上键进入erec\n- 选择格式化，输入yes，诱骗erec进入root后的系统\n- 打开Magisk，如果有提示修补选重启修补就行\nMagisk到这里就刷完啦！这篇教程也快到尾声啦，俺还是第一次写这么长的文章，如果有文笔不仔细的地方，请各位见谅！","slug":"刷机/Agassi2-W09BHN","published":1,"updated":"2025-09-22T15:22:41.023Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561c004cg0fyfl9s3b49","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>三天前，我在闲鱼相中了一台荣耀平板5 10英寸，并且以155的低价购入屏幕带线版，当时卖家是说除了屏幕顶上有线其他正常，结果到手三天意外就发生了，屏幕直接被被竖纹给霸占，找商家追诉，返了55块<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(29).jpg\" alt=\"01\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(26).jpg\" alt=\"02\"></p>\n<p>小嘴一句，这个卖家本来还不想理我，直接未读但闲鱼在线，还把简介的非质量问题改成了不退不换，想耍闲鱼小花招，没门！我直接给他甩追差评+投诉+拉黑小连招，让卖家怂的返了一部分的钱款<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(24).jpg\" alt=\"03\"></p>\n<h1 id=\"麒麟659在鸿蒙下\"><a href=\"#麒麟659在鸿蒙下\" class=\"headerlink\" title=\"麒麟659在鸿蒙下\"></a>麒麟659在鸿蒙下</h1><p>真的好卡！！！！！！我已经不能用言语形容卡顿，是那种没法正常用的卡顿，鸿蒙的对于老机型的优化真的很垃圾，我不明白套壳emui9为什么还能这么卡，在鸿蒙下没装软件滑动桌面都会卡，更别说了装了软件了，我还跑了个娱乐兔跑分，这颗u跑分在14-15w分左右，和625不分伯仲，但是这个价位要什么自行车？&#x2F;doge<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).jpg\" alt=\"04\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).jpg\" alt=\"05\"></p>\n<h1 id=\"降级\"><a href=\"#降级\" class=\"headerlink\" title=\"降级\"></a>降级</h1><h2 id=\"官方渠道无法正常降级\"><a href=\"#官方渠道无法正常降级\" class=\"headerlink\" title=\"官方渠道无法正常降级\"></a>官方渠道无法正常降级</h2><p>OKOK扯远了，回到正题，于是我就开启了我的难崩降级之旅，因为华为的解bl和刷机嘛，需要在emui下实现，所以得从鸿蒙降级下来。<br>华为也很鸡贼，明明之前说好升了鸿蒙可以随便降回emui，但是从Harmony Next之后，华为就取消了所以老机型的降级通道，这意味着唯一的官方通道被彻底覆灭，我也尝试过像代理降级的办法，都是无法正常降级的</p>\n<h1 id=\"三键强刷\"><a href=\"#三键强刷\" class=\"headerlink\" title=\"三键强刷\"></a>三键强刷</h1><p>所幸，我在万维论坛找到了高维禁用的emui9强刷包，食用方法也很简单：</p>\n<ul>\n<li><p>下载之后直接解压dload放在sd卡目录（一定是sd卡或者otg，不能是内部存储）</p>\n</li>\n<li><p>然后打开系统自带的计算器输入()()2846579()()进入工程菜单</p>\n</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg\" alt=\"06\"></p>\n<ul>\n<li>选择软件升级——存储卡升级，平板就会重启到rec自动降级emui9.1了</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(27).jpg\" alt=\"07\"></p>\n<ul>\n<li><p>注：由于万维论坛的注册是邀请制，并且限制分享，所以要强刷包下载链接的可以点击右下角三个选项中间的小气泡按钮找我要链接下载</p>\n</li>\n<li><p>也可以使用代理法降级EMUI9（只能降最新的EMUI9.1），这里就不细说了，网上有很多教学视频</p>\n</li>\n</ul>\n<h2 id=\"Bingo\"><a href=\"#Bingo\" class=\"headerlink\" title=\"Bingo\"></a>Bingo</h2><p>恭喜你完成第一步，降级EMUI9，降完级你会得到一个可以正常使用流畅度也还行的麒麟659设备<br>（本来想降EMUI8的，但是官方彻底关降级通道了）</p>\n<h1 id=\"拆机解锁BL\"><a href=\"#拆机解锁BL\" class=\"headerlink\" title=\"拆机解锁BL\"></a>拆机解锁BL</h1><p>但是还不够，我的终极目标是解锁BL刷入LineageOS GSI！达到真正的流畅使用！</p>\n<h2 id=\"拆机\"><a href=\"#拆机\" class=\"headerlink\" title=\"拆机\"></a>拆机</h2><p>本来是没那么早拆机的，但是因为屏幕迫使我的好奇心一看究竟。<br>我讲下我的方法吧（过程全错，结果全对doge）</p>\n<p>需要的材料：吹风机、热风枪或者拆机台，镊子一个，翘机片若干，刀片x1</p>\n<h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><ul>\n<li>首先拿吹风机调热风或者热风枪调低温，有那个拆机台加热也可以，加热下屏幕四周，一定要热够时间！！！！而且要热一边拆一边，原装屏幕胶很黏，不热拆不下来（不然会像我一样，死活拆不下来，用刀片割胶）</li>\n<li>然后用刀片插进屏幕缝隙里翘翘，要慢慢来，不要心急，不要翘成下面的塑料支架，也别妄想从塑料支架上手（深刻的教训呜呜呜，塑料支架里面有螺丝固定）。翘的时候不要刀片朝屏幕方向刮翘，本人亲测会把屏幕边框刮掉色（血的教训呜呜呜！）</li>\n<li>如果觉得难拆就用翘片顶着刀片刮开松的地方，划过去，只要不刮到屏幕，使劲造，因为屏幕胶很厚，而且屏幕边底下是塑料支架，只要不要刮太深基本上刮不到里面的东西（指纹键除外，这个要注意不要把指纹键边上的玻璃搞断了）</li>\n<li>四个边都撬开就可以拿起屏幕了，到这里其实差不多了。但是因为要短接，屏幕挂着短接很麻烦，我的建议是可以把屏幕拆下来。<br>拧下三颗螺丝拆下挡着电池排线和屏幕排线的盖板，把屏幕排线断开拆屏幕就完成了！<br>由于拆机拆得太入迷了，所以只有拆完的图片doge</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(19).jpg\" alt=\"25\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(7).jpg\" alt=\"26\"></p>\n<h2 id=\"解锁BL\"><a href=\"#解锁BL\" class=\"headerlink\" title=\"解锁BL\"></a>解锁BL</h2><p>先下载链接里面的工具</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://www.123684.com/s/mIXlVv-LEOB\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">123PAN</div>\n            <div class=\"tag-link-sitename\">刷机工具</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>提取码:1234</p>\n<ul>\n<li><p>先过开机向导</p>\n</li>\n<li><p>打开自带计算器输入()()2846579()() 进入工程菜单<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg\" alt=\"08\"></p>\n</li>\n<li><p>选择 后台设置——usb端口设置——选择生产模式</p>\n</li>\n<li><p>安装华为的COM1.0驱动</p>\n</li>\n<li><p>将设备关机，用镊子短接COM1.0刷机点和屏蔽罩，一边刷机点，一边屏蔽罩，然后插入数据线，具体短接点可以参考酷安@孙子烧烤 大佬给出的短接截图</p>\n</li>\n<li><p>设备管理器中出现COM1.0设备就是成功进入啦<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(28).jpg\" alt=\"09\"></p>\n</li>\n<li><p>打开PotatoNV ，Target device选择刚刚的端口，Bootloader选择Kirin 65X（A），勾引Disable Fblock（关闭工厂解锁，使用用户级解锁，这是因为华为将BL解锁划分成了工程解锁和用户解锁，工程解锁可以访问全部分区，用户级则是system啥的普通分区，不建议使用工程解锁，把其他分区搞坏了没备份修复很麻烦）<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).png\" alt=\"10\"></p>\n</li>\n<li><p>选择start开始解锁！</p>\n</li>\n<li><p>不一会就会解锁完成自动重启，软件也会显示解锁码，一定要妥善保存，升降EMUI有概率会自动锁上<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).png\" alt=\"11\"></p>\n</li>\n<li><p>解锁之后每次开机有提示是正常的，等五秒或者按电源键继续就行<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(11).jpg\" alt=\"12\"></p>\n</li>\n</ul>\n<p>至此，荣耀平板5的解锁BL就到这里了</p>\n<h1 id=\"刷入LineageOS-GSI\"><a href=\"#刷入LineageOS-GSI\" class=\"headerlink\" title=\"刷入LineageOS GSI\"></a>刷入LineageOS GSI</h1><h2 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h2><ul>\n<li>平板和稳定的数据线</li>\n<li>基于Phh的类原生GSI。尽量不高于安卓12、13，高版本安卓比较卡顿，EMUI8选择Aonly分区的，EMUI9以后请选择A&#x2F;B分区。（别问其他OEM GSI和SGSI能不能开机，答案是不能，原因应该是内核宽容）</li>\n<li>Magisk 24以上，类原生需要24以上</li>\n<li>麒麟盘古工具箱（可以前往酷安@某贼 大佬那下载）</li>\n<li>一双灵巧的手（刚刚都完成拆机了应该不会不巧了吧&#x2F;doge）<br>准备好了让我们开始吧！</li>\n</ul>\n<h2 id=\"开始刷机\"><a href=\"#开始刷机\" class=\"headerlink\" title=\"开始刷机\"></a>开始刷机</h2><p>按住电源 + 音量上进入Fastboot 数据线链接电脑<br>解锁BL（这步前面搞完的可以直接跳过）,使用盘古工具箱解锁BL，平板有提示按音量上然后按电源键确认解锁。解锁了会自动重启格式化，格式化失败是正常滴，直接强制重启再次进Fastboot就行<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(13).jpg\" alt=\"13\"></p>\n<p>使用盘古工具箱刷入奇兔通用REC<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(5).jpg\" alt=\"14\"></p>\n<p>重启平板,到警告页面的时候长按电源+ 进入eREC<br>选择格式化，输入yes进入REC（由于华为设备系统分区的特殊性，双rec，这一步的目的是以格式化的名义欺骗eREC进入真正的rec，实际上并不会执行格式化命令）<br>-然后就进入奇兔rec啦！<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(14).jpg\" alt=\"15\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(15).jpg\" alt=\"16\"></p>\n<p>选择清除，高级选项<br>勾选内置存储，Data，System，Cache，Dalvik&#x2F;ART Cache。滑动清除分区<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(16).jpg\" alt=\"17\"></p>\n<p>完事儿后，回到主页面，重启，重启到Bootloader<br>打开盘古工具箱，选择刷入自定义系统镜像，拖入下载的GSI，等待刷机完成<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).jpg\" alt=\"18\"></p>\n<p>刷完后，重启等开机。Enjoy it! :)<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(12).jpg\" alt=\"19\"></p>\n<h2 id=\"刷入Magisk\"><a href=\"#刷入Magisk\" class=\"headerlink\" title=\"刷入Magisk\"></a>刷入Magisk</h2><p>注：由于GSI SAR分区的特殊性，刷入Magisk会丢失REC，原来REC的分区会被Magisk用来引导带Root的系统</p>\n<ul>\n<li><p>从盘古工具箱提取出来奇兔rec镜像，和Magisk一起传进平板<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).png\" alt=\"20\"></p>\n</li>\n<li><p>平板安装Magisk，完成后打开</p>\n</li>\n<li><p>点击右边的安装——安装到rec-选择一个文件修补然后选择刚刚的奇兔镜像进行修补就行啦<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(10).jpg\" alt=\"21\"></p>\n</li>\n<li><p>等输出显示All Done！后，链接电脑把平板内置存储Download目录的修补镜像导出电脑</p>\n</li>\n<li><p>然后将平板进入Fastboot</p>\n</li>\n<li><p>打开盘古工具箱选择刷入自定义REC拖入刚刚的rec镜像路径，回车等待刷入完成<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(9).jpg\" alt=\"22\"></p>\n</li>\n<li><p>刷入完成后盘古工具箱选择重启</p>\n</li>\n<li><p>出现启动警告页面后长按三秒音量上键进入erec</p>\n</li>\n<li><p>选择格式化，输入yes，诱骗erec进入root后的系统</p>\n</li>\n<li><p>打开Magisk，如果有提示修补选重启修补就行<br>Magisk到这里就刷完啦！这篇教程也快到尾声啦，俺还是第一次写这么长的文章，如果有文笔不仔细的地方，请各位见谅！</p>\n</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>三天前，我在闲鱼相中了一台荣耀平板5 10英寸，并且以155的低价购入屏幕带线版，当时卖家是说除了屏幕顶上有线其他正常，结果到手三天意外就发生了，屏幕直接被被竖纹给霸占，找商家追诉，返了55块<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(29).jpg\" alt=\"01\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(26).jpg\" alt=\"02\"></p>\n<p>小嘴一句，这个卖家本来还不想理我，直接未读但闲鱼在线，还把简介的非质量问题改成了不退不换，想耍闲鱼小花招，没门！我直接给他甩追差评+投诉+拉黑小连招，让卖家怂的返了一部分的钱款<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(24).jpg\" alt=\"03\"></p>\n<h1 id=\"麒麟659在鸿蒙下\"><a href=\"#麒麟659在鸿蒙下\" class=\"headerlink\" title=\"麒麟659在鸿蒙下\"></a>麒麟659在鸿蒙下</h1><p>真的好卡！！！！！！我已经不能用言语形容卡顿，是那种没法正常用的卡顿，鸿蒙的对于老机型的优化真的很垃圾，我不明白套壳emui9为什么还能这么卡，在鸿蒙下没装软件滑动桌面都会卡，更别说了装了软件了，我还跑了个娱乐兔跑分，这颗u跑分在14-15w分左右，和625不分伯仲，但是这个价位要什么自行车？&#x2F;doge<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).jpg\" alt=\"04\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).jpg\" alt=\"05\"></p>\n<h1 id=\"降级\"><a href=\"#降级\" class=\"headerlink\" title=\"降级\"></a>降级</h1><h2 id=\"官方渠道无法正常降级\"><a href=\"#官方渠道无法正常降级\" class=\"headerlink\" title=\"官方渠道无法正常降级\"></a>官方渠道无法正常降级</h2><p>OKOK扯远了，回到正题，于是我就开启了我的难崩降级之旅，因为华为的解bl和刷机嘛，需要在emui下实现，所以得从鸿蒙降级下来。<br>华为也很鸡贼，明明之前说好升了鸿蒙可以随便降回emui，但是从Harmony Next之后，华为就取消了所以老机型的降级通道，这意味着唯一的官方通道被彻底覆灭，我也尝试过像代理降级的办法，都是无法正常降级的</p>\n<h1 id=\"三键强刷\"><a href=\"#三键强刷\" class=\"headerlink\" title=\"三键强刷\"></a>三键强刷</h1><p>所幸，我在万维论坛找到了高维禁用的emui9强刷包，食用方法也很简单：</p>\n<ul>\n<li><p>下载之后直接解压dload放在sd卡目录（一定是sd卡或者otg，不能是内部存储）</p>\n</li>\n<li><p>然后打开系统自带的计算器输入()()2846579()()进入工程菜单</p>\n</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg\" alt=\"06\"></p>\n<ul>\n<li>选择软件升级——存储卡升级，平板就会重启到rec自动降级emui9.1了</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(27).jpg\" alt=\"07\"></p>\n<ul>\n<li><p>注：由于万维论坛的注册是邀请制，并且限制分享，所以要强刷包下载链接的可以点击右下角三个选项中间的小气泡按钮找我要链接下载</p>\n</li>\n<li><p>也可以使用代理法降级EMUI9（只能降最新的EMUI9.1），这里就不细说了，网上有很多教学视频</p>\n</li>\n</ul>\n<h2 id=\"Bingo\"><a href=\"#Bingo\" class=\"headerlink\" title=\"Bingo\"></a>Bingo</h2><p>恭喜你完成第一步，降级EMUI9，降完级你会得到一个可以正常使用流畅度也还行的麒麟659设备<br>（本来想降EMUI8的，但是官方彻底关降级通道了）</p>\n<h1 id=\"拆机解锁BL\"><a href=\"#拆机解锁BL\" class=\"headerlink\" title=\"拆机解锁BL\"></a>拆机解锁BL</h1><p>但是还不够，我的终极目标是解锁BL刷入LineageOS GSI！达到真正的流畅使用！</p>\n<h2 id=\"拆机\"><a href=\"#拆机\" class=\"headerlink\" title=\"拆机\"></a>拆机</h2><p>本来是没那么早拆机的，但是因为屏幕迫使我的好奇心一看究竟。<br>我讲下我的方法吧（过程全错，结果全对doge）</p>\n<p>需要的材料：吹风机、热风枪或者拆机台，镊子一个，翘机片若干，刀片x1</p>\n<h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><ul>\n<li>首先拿吹风机调热风或者热风枪调低温，有那个拆机台加热也可以，加热下屏幕四周，一定要热够时间！！！！而且要热一边拆一边，原装屏幕胶很黏，不热拆不下来（不然会像我一样，死活拆不下来，用刀片割胶）</li>\n<li>然后用刀片插进屏幕缝隙里翘翘，要慢慢来，不要心急，不要翘成下面的塑料支架，也别妄想从塑料支架上手（深刻的教训呜呜呜，塑料支架里面有螺丝固定）。翘的时候不要刀片朝屏幕方向刮翘，本人亲测会把屏幕边框刮掉色（血的教训呜呜呜！）</li>\n<li>如果觉得难拆就用翘片顶着刀片刮开松的地方，划过去，只要不刮到屏幕，使劲造，因为屏幕胶很厚，而且屏幕边底下是塑料支架，只要不要刮太深基本上刮不到里面的东西（指纹键除外，这个要注意不要把指纹键边上的玻璃搞断了）</li>\n<li>四个边都撬开就可以拿起屏幕了，到这里其实差不多了。但是因为要短接，屏幕挂着短接很麻烦，我的建议是可以把屏幕拆下来。<br>拧下三颗螺丝拆下挡着电池排线和屏幕排线的盖板，把屏幕排线断开拆屏幕就完成了！<br>由于拆机拆得太入迷了，所以只有拆完的图片doge</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(19).jpg\" alt=\"25\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(7).jpg\" alt=\"26\"></p>\n<h2 id=\"解锁BL\"><a href=\"#解锁BL\" class=\"headerlink\" title=\"解锁BL\"></a>解锁BL</h2><p>先下载链接里面的工具</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://www.123684.com/s/mIXlVv-LEOB\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">123PAN</div>\n            <div class=\"tag-link-sitename\">刷机工具</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>提取码:1234</p>\n<ul>\n<li><p>先过开机向导</p>\n</li>\n<li><p>打开自带计算器输入()()2846579()() 进入工程菜单<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(3).jpg\" alt=\"08\"></p>\n</li>\n<li><p>选择 后台设置——usb端口设置——选择生产模式</p>\n</li>\n<li><p>安装华为的COM1.0驱动</p>\n</li>\n<li><p>将设备关机，用镊子短接COM1.0刷机点和屏蔽罩，一边刷机点，一边屏蔽罩，然后插入数据线，具体短接点可以参考酷安@孙子烧烤 大佬给出的短接截图</p>\n</li>\n<li><p>设备管理器中出现COM1.0设备就是成功进入啦<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(28).jpg\" alt=\"09\"></p>\n</li>\n<li><p>打开PotatoNV ，Target device选择刚刚的端口，Bootloader选择Kirin 65X（A），勾引Disable Fblock（关闭工厂解锁，使用用户级解锁，这是因为华为将BL解锁划分成了工程解锁和用户解锁，工程解锁可以访问全部分区，用户级则是system啥的普通分区，不建议使用工程解锁，把其他分区搞坏了没备份修复很麻烦）<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).png\" alt=\"10\"></p>\n</li>\n<li><p>选择start开始解锁！</p>\n</li>\n<li><p>不一会就会解锁完成自动重启，软件也会显示解锁码，一定要妥善保存，升降EMUI有概率会自动锁上<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(2).png\" alt=\"11\"></p>\n</li>\n<li><p>解锁之后每次开机有提示是正常的，等五秒或者按电源键继续就行<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(11).jpg\" alt=\"12\"></p>\n</li>\n</ul>\n<p>至此，荣耀平板5的解锁BL就到这里了</p>\n<h1 id=\"刷入LineageOS-GSI\"><a href=\"#刷入LineageOS-GSI\" class=\"headerlink\" title=\"刷入LineageOS GSI\"></a>刷入LineageOS GSI</h1><h2 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h2><ul>\n<li>平板和稳定的数据线</li>\n<li>基于Phh的类原生GSI。尽量不高于安卓12、13，高版本安卓比较卡顿，EMUI8选择Aonly分区的，EMUI9以后请选择A&#x2F;B分区。（别问其他OEM GSI和SGSI能不能开机，答案是不能，原因应该是内核宽容）</li>\n<li>Magisk 24以上，类原生需要24以上</li>\n<li>麒麟盘古工具箱（可以前往酷安@某贼 大佬那下载）</li>\n<li>一双灵巧的手（刚刚都完成拆机了应该不会不巧了吧&#x2F;doge）<br>准备好了让我们开始吧！</li>\n</ul>\n<h2 id=\"开始刷机\"><a href=\"#开始刷机\" class=\"headerlink\" title=\"开始刷机\"></a>开始刷机</h2><p>按住电源 + 音量上进入Fastboot 数据线链接电脑<br>解锁BL（这步前面搞完的可以直接跳过）,使用盘古工具箱解锁BL，平板有提示按音量上然后按电源键确认解锁。解锁了会自动重启格式化，格式化失败是正常滴，直接强制重启再次进Fastboot就行<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(13).jpg\" alt=\"13\"></p>\n<p>使用盘古工具箱刷入奇兔通用REC<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(5).jpg\" alt=\"14\"></p>\n<p>重启平板,到警告页面的时候长按电源+ 进入eREC<br>选择格式化，输入yes进入REC（由于华为设备系统分区的特殊性，双rec，这一步的目的是以格式化的名义欺骗eREC进入真正的rec，实际上并不会执行格式化命令）<br>-然后就进入奇兔rec啦！<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(14).jpg\" alt=\"15\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(15).jpg\" alt=\"16\"></p>\n<p>选择清除，高级选项<br>勾选内置存储，Data，System，Cache，Dalvik&#x2F;ART Cache。滑动清除分区<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(16).jpg\" alt=\"17\"></p>\n<p>完事儿后，回到主页面，重启，重启到Bootloader<br>打开盘古工具箱，选择刷入自定义系统镜像，拖入下载的GSI，等待刷机完成<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(4).jpg\" alt=\"18\"></p>\n<p>刷完后，重启等开机。Enjoy it! :)<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(12).jpg\" alt=\"19\"></p>\n<h2 id=\"刷入Magisk\"><a href=\"#刷入Magisk\" class=\"headerlink\" title=\"刷入Magisk\"></a>刷入Magisk</h2><p>注：由于GSI SAR分区的特殊性，刷入Magisk会丢失REC，原来REC的分区会被Magisk用来引导带Root的系统</p>\n<ul>\n<li><p>从盘古工具箱提取出来奇兔rec镜像，和Magisk一起传进平板<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(1).png\" alt=\"20\"></p>\n</li>\n<li><p>平板安装Magisk，完成后打开</p>\n</li>\n<li><p>点击右边的安装——安装到rec-选择一个文件修补然后选择刚刚的奇兔镜像进行修补就行啦<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(10).jpg\" alt=\"21\"></p>\n</li>\n<li><p>等输出显示All Done！后，链接电脑把平板内置存储Download目录的修补镜像导出电脑</p>\n</li>\n<li><p>然后将平板进入Fastboot</p>\n</li>\n<li><p>打开盘古工具箱选择刷入自定义REC拖入刚刚的rec镜像路径，回车等待刷入完成<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/honorpad5%20(9).jpg\" alt=\"22\"></p>\n</li>\n<li><p>刷入完成后盘古工具箱选择重启</p>\n</li>\n<li><p>出现启动警告页面后长按三秒音量上键进入erec</p>\n</li>\n<li><p>选择格式化，输入yes，诱骗erec进入root后的系统</p>\n</li>\n<li><p>打开Magisk，如果有提示修补选重启修补就行<br>Magisk到这里就刷完啦！这篇教程也快到尾声啦，俺还是第一次写这么长的文章，如果有文笔不仔细的地方，请各位见谅！</p>\n</li>\n</ul>\n"},{"title":"另辟蹊径！荣耀畅玩5x任意版本使用Erec恢复官方最新系统","description":"另辟蹊径！荣耀畅玩5x任意版本使用Erec恢复官方最新系统","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(4).jpeg","summary":"酥米小机器人来啦，这篇文章介绍了荣耀畅玩5x通过Erec恢复官方最新系统的教程需要注意华为自带Erecovery模式会自动恢复到设备最新版本因此需先刷入emui4官改卡刷包且版本需为b422以上刷入后需保持充电状态按音量键加和电源键进入erecovery模式选择最新版本并恢复选项连接wifi等待下载官方全量包并完成系统恢复过程中会重新锁bootloader需备份好解锁码整个操作大约需要10到15分钟最终设备会重启并进入更新后的emui4 b443系统该方法适用于避免第三方rom限制的情况","date":"2020-06-16T13:21:46.000Z","_content":"\n### 小贴士：\n+ 华为自带的Erecovery（类似于可以联网的小型救砖系统）会自动帮您恢复到设备的最新版本,所以我们可以搞点骚操作（bushi，利用EREC恢复到官方系统，因为大部分第三方的ROM都是基于低版本底包，EREC将无法使用，所以此教程诞生了！\n+ 由于华为的原因,恢复回去会*重新给Bootloader上锁*，*请备份好您的解锁码*再进行操作。\n\n### 正文\n+ 手机一台，数据线一个。\n\n+ 刷入一个属于自己机型emui4的官改卡刷包，必须是b422+以上的版本。\n+ 刷完别急着进系统，现在是无法进入系统的（会卡一屏无限重启或者二屏一直卡着）\n+ 先关机，然后接上充电器，*保持充电状态*，按音量键+和电源键，开机后松开电源键会进入华为的erecovery模式。\n![Erec模式](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(1).jpeg \"Erec模式\")\n\n+ 选择下载'最新版本并恢复'选项，连接WIFI，之后会自动下载官方全量包，下载之后会自动恢复，大约10分钟～15分钟，设备将会自动重启。\n![开机](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg \"开机！\")\n\n+ 等待进入系统，可以看到恢复到了最新的EMUI4 B443版本，本教程到这里就告一段落了。\n![关于](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg \"关于界面\")\n\n> 此文章原文从酷安迁移过来，原文日期为2019-08-17","source":"_posts/刷机/kiwi-downdate.md","raw":"---\ntitle: 另辟蹊径！荣耀畅玩5x任意版本使用Erec恢复官方最新系统\ndescription: 另辟蹊径！荣耀畅玩5x任意版本使用Erec恢复官方最新系统\ncategories:\n  - 搞机类\ntags:\n  - 刷机\n  - 玩机\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(4).jpeg\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了荣耀畅玩5x通过Erec恢复官方最新系统的教程需要注意华为自带Erecovery模式会自动恢复到设备最新版本因此需先刷入emui4官改卡刷包且版本需为b422以上刷入后需保持充电状态按音量键加和电源键进入erecovery模式选择最新版本并恢复选项连接wifi等待下载官方全量包并完成系统恢复过程中会重新锁bootloader需备份好解锁码整个操作大约需要10到15分钟最终设备会重启并进入更新后的emui4\n  b443系统该方法适用于避免第三方rom限制的情况\ndate: 2020-06-16 21:21:46\n---\n\n### 小贴士：\n+ 华为自带的Erecovery（类似于可以联网的小型救砖系统）会自动帮您恢复到设备的最新版本,所以我们可以搞点骚操作（bushi，利用EREC恢复到官方系统，因为大部分第三方的ROM都是基于低版本底包，EREC将无法使用，所以此教程诞生了！\n+ 由于华为的原因,恢复回去会*重新给Bootloader上锁*，*请备份好您的解锁码*再进行操作。\n\n### 正文\n+ 手机一台，数据线一个。\n\n+ 刷入一个属于自己机型emui4的官改卡刷包，必须是b422+以上的版本。\n+ 刷完别急着进系统，现在是无法进入系统的（会卡一屏无限重启或者二屏一直卡着）\n+ 先关机，然后接上充电器，*保持充电状态*，按音量键+和电源键，开机后松开电源键会进入华为的erecovery模式。\n![Erec模式](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(1).jpeg \"Erec模式\")\n\n+ 选择下载'最新版本并恢复'选项，连接WIFI，之后会自动下载官方全量包，下载之后会自动恢复，大约10分钟～15分钟，设备将会自动重启。\n![开机](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg \"开机！\")\n\n+ 等待进入系统，可以看到恢复到了最新的EMUI4 B443版本，本教程到这里就告一段落了。\n![关于](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg \"关于界面\")\n\n> 此文章原文从酷安迁移过来，原文日期为2019-08-17","slug":"刷机/kiwi-downdate","published":1,"updated":"2025-09-21T10:36:46.333Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561f004hg0fyap2h3xww","content":"<h3 id=\"小贴士：\"><a href=\"#小贴士：\" class=\"headerlink\" title=\"小贴士：\"></a>小贴士：</h3><ul>\n<li>华为自带的Erecovery（类似于可以联网的小型救砖系统）会自动帮您恢复到设备的最新版本,所以我们可以搞点骚操作（bushi，利用EREC恢复到官方系统，因为大部分第三方的ROM都是基于低版本底包，EREC将无法使用，所以此教程诞生了！</li>\n<li>由于华为的原因,恢复回去会<em>重新给Bootloader上锁</em>，<em>请备份好您的解锁码</em>再进行操作。</li>\n</ul>\n<h3 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h3><ul>\n<li><p>手机一台，数据线一个。</p>\n</li>\n<li><p>刷入一个属于自己机型emui4的官改卡刷包，必须是b422+以上的版本。</p>\n</li>\n<li><p>刷完别急着进系统，现在是无法进入系统的（会卡一屏无限重启或者二屏一直卡着）</p>\n</li>\n<li><p>先关机，然后接上充电器，<em>保持充电状态</em>，按音量键+和电源键，开机后松开电源键会进入华为的erecovery模式。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(1).jpeg\" alt=\"Erec模式\" title=\"Erec模式\"></p>\n</li>\n<li><p>选择下载’最新版本并恢复’选项，连接WIFI，之后会自动下载官方全量包，下载之后会自动恢复，大约10分钟～15分钟，设备将会自动重启。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg\" alt=\"开机\" title=\"开机！\"></p>\n</li>\n<li><p>等待进入系统，可以看到恢复到了最新的EMUI4 B443版本，本教程到这里就告一段落了。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg\" alt=\"关于\" title=\"关于界面\"></p>\n</li>\n</ul>\n<blockquote>\n<p>此文章原文从酷安迁移过来，原文日期为2019-08-17</p>\n</blockquote>\n","cover_type":"img","excerpt":"","more":"<h3 id=\"小贴士：\"><a href=\"#小贴士：\" class=\"headerlink\" title=\"小贴士：\"></a>小贴士：</h3><ul>\n<li>华为自带的Erecovery（类似于可以联网的小型救砖系统）会自动帮您恢复到设备的最新版本,所以我们可以搞点骚操作（bushi，利用EREC恢复到官方系统，因为大部分第三方的ROM都是基于低版本底包，EREC将无法使用，所以此教程诞生了！</li>\n<li>由于华为的原因,恢复回去会<em>重新给Bootloader上锁</em>，<em>请备份好您的解锁码</em>再进行操作。</li>\n</ul>\n<h3 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h3><ul>\n<li><p>手机一台，数据线一个。</p>\n</li>\n<li><p>刷入一个属于自己机型emui4的官改卡刷包，必须是b422+以上的版本。</p>\n</li>\n<li><p>刷完别急着进系统，现在是无法进入系统的（会卡一屏无限重启或者二屏一直卡着）</p>\n</li>\n<li><p>先关机，然后接上充电器，<em>保持充电状态</em>，按音量键+和电源键，开机后松开电源键会进入华为的erecovery模式。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(1).jpeg\" alt=\"Erec模式\" title=\"Erec模式\"></p>\n</li>\n<li><p>选择下载’最新版本并恢复’选项，连接WIFI，之后会自动下载官方全量包，下载之后会自动恢复，大约10分钟～15分钟，设备将会自动重启。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg\" alt=\"开机\" title=\"开机！\"></p>\n</li>\n<li><p>等待进入系统，可以看到恢复到了最新的EMUI4 B443版本，本教程到这里就告一段落了。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/Huawei_kiwi%20(2).jpeg\" alt=\"关于\" title=\"关于界面\"></p>\n</li>\n</ul>\n<blockquote>\n<p>此文章原文从酷安迁移过来，原文日期为2019-08-17</p>\n</blockquote>\n"},{"title":"Project Treble | Android系统更新的革新之道","description":"Project Treble作为Android系统更新的革新方案","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/projecttreble.webp","summary":"酥米小机器人来啦，这篇文章介绍了Project Treble作为Android系统更新的革新方案，通过模块化架构将硬件抽象层与系统框架解耦，显著缩短设备升级周期并降低适配成本，使OEM厂商能更快响应系统更新需求，同时推动第三方ROM兼容性提升，但Android碎片化问题仍存，部分厂商基于市场策略选择不推送更新，技术障碍已大幅降低却未完全消除。","date":"2022-04-29T07:21:46.000Z","_content":"\n> 每次Android新版本发布后，那种漫长等待却迟迟收不到OTA更新的焦虑，Project Treble正是为了解决这一痛点而生。\n\n## 前话\n\n多年来，Android系统更新缓慢问题一直困扰着用户和制造商。每当Google发布新版本，设备制造商和芯片供应商都需要进行漫长而复杂的适配过程。\n\n这导致**Android设备升级率长期低迷**，甚至2025年仍有17%的设备无法及时获取安全补丁。\n\n2017年，Google在Android 8.0中引入了名为Project Treble的模块化架构设计，这是Android系统架构自诞生以来最重大的变革之一，旨在从根本上解决系统更新缓慢的问题。\n\n---\n\n## 01 传统Android更新的复杂流程\n\n在Project Treble之前，Android系统更新是一个复杂且耗时的过程。首先，Google将新系统源码发布至AOSP（Android开放源代码项目）。\n\n接着，芯片制造商（如高通、三星、联发科等）需要对源码进行针对性修改，以让自家芯片能够在新版本Android系统上正常启动和运行。\n\n然后，芯片制造商将修改后的源码交给OEM厂商，厂商根据自己的需求进一步定制新系统，加入特色功能和预装应用。\n\n最后，经过一系列测试后，新版系统才能通过OTA方式推送给用户。这个过程涉及多方协作，**任何一环出现延迟**都会导致更新推送缓慢。\n\n## 02 Project Treble的核心革新\n\nProject Treble最关键的变化是引入了**vendor interface（供应商接口）** 的概念，将Vender Implementation（由芯片制造商编写的设备专属底层软件）从Android系统框架中剥离出来。\n\n这种架构重组创建了一个稳定的接口，位于Android操作系统框架和设备的特定硬件组件之间。通过这个接口，Android框架可以独立于设备特定的底层软件进行更新。\n\n为了保证兼容性，Google还引入了**Vendor Test Suite（VTS）测试套件**，类似于兼容性测试套件（CTS），用于对vendor interface的合理性和兼容性进行检验。\n\n## 03 Treble架构的关键技术\n\nProject Treble引入了几项重要技术创新：HIDL（HAL接口定义语言）用于指定HAL和其他组件之间的接口；设备树叠加层（DTO）将设备树分割为主DT和叠加DT，使设备树更容易更新和修改；供应商原生开发套件（VNDK）提供了一组让供应商实现其HAL的专用库；供应商接口对象（VINTF）用于汇总设备相关信息并通过可查询的API提供这些信息。\n\nHIDL分为两种模式：Passthrough（直通式）和Binderized（绑定式）。直通式HAL主要用于兼容旧版HAL，而绑定式HAL则运行在独立的进程中，通过Binder机制与框架通信。\n\n## 04 对系统更新的实际影响\n\nProject Treble极大地简化了Android更新流程。在新架构下，Google发布新版本AOSP后，OEM厂商可以直接基于A源码进行定制，无需等待芯片制造商适配。\n\n芯片制造商编写的设备专属底层部分则由Google和芯片厂商共同维护，并被设计为不再面向特定版本的Android系统。\n\n这意味着**OEM厂商可以更快地适配和发布**新版本Android系统，显著降低开发成本和复杂度，同时延长了设备生命周期。\n\nGoogle Android软件工程部门副总理David Burke表示，Project Treble将“让制造商以更低的成本更轻松、更快速地将设备更新到新版Android系统”。\n\n## 05 对第三方ROM开发的影响\n\nProject Treble不仅对官方更新有益，也为第三方ROM开发带来了革命性变化。支持Treble的设备如果想要预装或升级Android 8.0，都必须先经过Project Treble认证。\n\n这意味着设备在OEM厂商对AOSP源码进行定制前，就已经能够运行AOSP系统并通过CDD、CTS、VTS等一系列测试。\n\n开发者通过AOSP代码编译的ROM几乎可以在任何支持Project Treble的新手机上运行，**第三方ROM适配工作变得异常简单**。\n\n像Lineage OS这样的自定义ROM可以更容易地适配各种设备，极大地丰富了Android生态系统的多样性。\n\n## 06 现实挑战与局限性\n\n尽管Project Treble带来了巨大改进，但Android碎片化问题并未完全解决。David Burke曾坦言，像中国、印度等新兴市场最好的手机并不一定采用最新版系统，而是选择相对稳定、成熟的版本。\n\n这种市场策略差异意味着**主要流通版本仍可能存在差异**。2025年的数据显示，仍有17%的Android设备无法及时获取安全补丁，碎片化问题依然存在。\n\n某些地区和市场环境下，厂商可能仍然基于商业考量选择不提供更新，尽管技术障碍已经大大降低。\n\n---\n\nPixel系列手机作为首批支持Project Treble的设备，率先体验到了这一技术带来的优势。\n\n随着时间推移，众多Android厂商也跟随谷歌步伐，将Project Treble应用到自己的设备中。\n\n**三星手机以往很少提供Android更新**，但现在获得的更新比谷歌手机更多。第三方ROM开发者也不再需要为每一款设备进行专门适配，只需要编译一个通用的系统镜像（GSI）就能在所有支持Treble的设备上运行。\n\nProject Treble的价值不仅体现在技术架构上，更是Android生态系统成熟的重要标志。它平衡了开放性与碎片化之间的矛盾，为Android的持续进化奠定了坚实基础。\n\n## Tips\n本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。","source":"_posts/刷机/projecttreble.md","raw":"---\ntitle: Project Treble | Android系统更新的革新之道\ndescription: Project Treble作为Android系统更新的革新方案\ncategories:\n  - 搞机类\ntags:\n  - 刷机\n  - 玩机\n  - Linux\n  - 系统\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/projecttreble.webp\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Project\n  Treble作为Android系统更新的革新方案，通过模块化架构将硬件抽象层与系统框架解耦，显著缩短设备升级周期并降低适配成本，使OEM厂商能更快响应系统更新需求，同时推动第三方ROM兼容性提升，但Android碎片化问题仍存，部分厂商基于市场策略选择不推送更新，技术障碍已大幅降低却未完全消除。\ndate: 2022-04-29 15:21:46\n---\n\n> 每次Android新版本发布后，那种漫长等待却迟迟收不到OTA更新的焦虑，Project Treble正是为了解决这一痛点而生。\n\n## 前话\n\n多年来，Android系统更新缓慢问题一直困扰着用户和制造商。每当Google发布新版本，设备制造商和芯片供应商都需要进行漫长而复杂的适配过程。\n\n这导致**Android设备升级率长期低迷**，甚至2025年仍有17%的设备无法及时获取安全补丁。\n\n2017年，Google在Android 8.0中引入了名为Project Treble的模块化架构设计，这是Android系统架构自诞生以来最重大的变革之一，旨在从根本上解决系统更新缓慢的问题。\n\n---\n\n## 01 传统Android更新的复杂流程\n\n在Project Treble之前，Android系统更新是一个复杂且耗时的过程。首先，Google将新系统源码发布至AOSP（Android开放源代码项目）。\n\n接着，芯片制造商（如高通、三星、联发科等）需要对源码进行针对性修改，以让自家芯片能够在新版本Android系统上正常启动和运行。\n\n然后，芯片制造商将修改后的源码交给OEM厂商，厂商根据自己的需求进一步定制新系统，加入特色功能和预装应用。\n\n最后，经过一系列测试后，新版系统才能通过OTA方式推送给用户。这个过程涉及多方协作，**任何一环出现延迟**都会导致更新推送缓慢。\n\n## 02 Project Treble的核心革新\n\nProject Treble最关键的变化是引入了**vendor interface（供应商接口）** 的概念，将Vender Implementation（由芯片制造商编写的设备专属底层软件）从Android系统框架中剥离出来。\n\n这种架构重组创建了一个稳定的接口，位于Android操作系统框架和设备的特定硬件组件之间。通过这个接口，Android框架可以独立于设备特定的底层软件进行更新。\n\n为了保证兼容性，Google还引入了**Vendor Test Suite（VTS）测试套件**，类似于兼容性测试套件（CTS），用于对vendor interface的合理性和兼容性进行检验。\n\n## 03 Treble架构的关键技术\n\nProject Treble引入了几项重要技术创新：HIDL（HAL接口定义语言）用于指定HAL和其他组件之间的接口；设备树叠加层（DTO）将设备树分割为主DT和叠加DT，使设备树更容易更新和修改；供应商原生开发套件（VNDK）提供了一组让供应商实现其HAL的专用库；供应商接口对象（VINTF）用于汇总设备相关信息并通过可查询的API提供这些信息。\n\nHIDL分为两种模式：Passthrough（直通式）和Binderized（绑定式）。直通式HAL主要用于兼容旧版HAL，而绑定式HAL则运行在独立的进程中，通过Binder机制与框架通信。\n\n## 04 对系统更新的实际影响\n\nProject Treble极大地简化了Android更新流程。在新架构下，Google发布新版本AOSP后，OEM厂商可以直接基于A源码进行定制，无需等待芯片制造商适配。\n\n芯片制造商编写的设备专属底层部分则由Google和芯片厂商共同维护，并被设计为不再面向特定版本的Android系统。\n\n这意味着**OEM厂商可以更快地适配和发布**新版本Android系统，显著降低开发成本和复杂度，同时延长了设备生命周期。\n\nGoogle Android软件工程部门副总理David Burke表示，Project Treble将“让制造商以更低的成本更轻松、更快速地将设备更新到新版Android系统”。\n\n## 05 对第三方ROM开发的影响\n\nProject Treble不仅对官方更新有益，也为第三方ROM开发带来了革命性变化。支持Treble的设备如果想要预装或升级Android 8.0，都必须先经过Project Treble认证。\n\n这意味着设备在OEM厂商对AOSP源码进行定制前，就已经能够运行AOSP系统并通过CDD、CTS、VTS等一系列测试。\n\n开发者通过AOSP代码编译的ROM几乎可以在任何支持Project Treble的新手机上运行，**第三方ROM适配工作变得异常简单**。\n\n像Lineage OS这样的自定义ROM可以更容易地适配各种设备，极大地丰富了Android生态系统的多样性。\n\n## 06 现实挑战与局限性\n\n尽管Project Treble带来了巨大改进，但Android碎片化问题并未完全解决。David Burke曾坦言，像中国、印度等新兴市场最好的手机并不一定采用最新版系统，而是选择相对稳定、成熟的版本。\n\n这种市场策略差异意味着**主要流通版本仍可能存在差异**。2025年的数据显示，仍有17%的Android设备无法及时获取安全补丁，碎片化问题依然存在。\n\n某些地区和市场环境下，厂商可能仍然基于商业考量选择不提供更新，尽管技术障碍已经大大降低。\n\n---\n\nPixel系列手机作为首批支持Project Treble的设备，率先体验到了这一技术带来的优势。\n\n随着时间推移，众多Android厂商也跟随谷歌步伐，将Project Treble应用到自己的设备中。\n\n**三星手机以往很少提供Android更新**，但现在获得的更新比谷歌手机更多。第三方ROM开发者也不再需要为每一款设备进行专门适配，只需要编译一个通用的系统镜像（GSI）就能在所有支持Treble的设备上运行。\n\nProject Treble的价值不仅体现在技术架构上，更是Android生态系统成熟的重要标志。它平衡了开放性与碎片化之间的矛盾，为Android的持续进化奠定了坚实基础。\n\n## Tips\n本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。","slug":"刷机/projecttreble","published":1,"updated":"2025-09-21T10:36:34.532Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561i004mg0fy2ju12pio","content":"<blockquote>\n<p>每次Android新版本发布后，那种漫长等待却迟迟收不到OTA更新的焦虑，Project Treble正是为了解决这一痛点而生。</p>\n</blockquote>\n<h2 id=\"前话\"><a href=\"#前话\" class=\"headerlink\" title=\"前话\"></a>前话</h2><p>多年来，Android系统更新缓慢问题一直困扰着用户和制造商。每当Google发布新版本，设备制造商和芯片供应商都需要进行漫长而复杂的适配过程。</p>\n<p>这导致<strong>Android设备升级率长期低迷</strong>，甚至2025年仍有17%的设备无法及时获取安全补丁。</p>\n<p>2017年，Google在Android 8.0中引入了名为Project Treble的模块化架构设计，这是Android系统架构自诞生以来最重大的变革之一，旨在从根本上解决系统更新缓慢的问题。</p>\n<hr>\n<h2 id=\"01-传统Android更新的复杂流程\"><a href=\"#01-传统Android更新的复杂流程\" class=\"headerlink\" title=\"01 传统Android更新的复杂流程\"></a>01 传统Android更新的复杂流程</h2><p>在Project Treble之前，Android系统更新是一个复杂且耗时的过程。首先，Google将新系统源码发布至AOSP（Android开放源代码项目）。</p>\n<p>接着，芯片制造商（如高通、三星、联发科等）需要对源码进行针对性修改，以让自家芯片能够在新版本Android系统上正常启动和运行。</p>\n<p>然后，芯片制造商将修改后的源码交给OEM厂商，厂商根据自己的需求进一步定制新系统，加入特色功能和预装应用。</p>\n<p>最后，经过一系列测试后，新版系统才能通过OTA方式推送给用户。这个过程涉及多方协作，<strong>任何一环出现延迟</strong>都会导致更新推送缓慢。</p>\n<h2 id=\"02-Project-Treble的核心革新\"><a href=\"#02-Project-Treble的核心革新\" class=\"headerlink\" title=\"02 Project Treble的核心革新\"></a>02 Project Treble的核心革新</h2><p>Project Treble最关键的变化是引入了<strong>vendor interface（供应商接口）</strong> 的概念，将Vender Implementation（由芯片制造商编写的设备专属底层软件）从Android系统框架中剥离出来。</p>\n<p>这种架构重组创建了一个稳定的接口，位于Android操作系统框架和设备的特定硬件组件之间。通过这个接口，Android框架可以独立于设备特定的底层软件进行更新。</p>\n<p>为了保证兼容性，Google还引入了<strong>Vendor Test Suite（VTS）测试套件</strong>，类似于兼容性测试套件（CTS），用于对vendor interface的合理性和兼容性进行检验。</p>\n<h2 id=\"03-Treble架构的关键技术\"><a href=\"#03-Treble架构的关键技术\" class=\"headerlink\" title=\"03 Treble架构的关键技术\"></a>03 Treble架构的关键技术</h2><p>Project Treble引入了几项重要技术创新：HIDL（HAL接口定义语言）用于指定HAL和其他组件之间的接口；设备树叠加层（DTO）将设备树分割为主DT和叠加DT，使设备树更容易更新和修改；供应商原生开发套件（VNDK）提供了一组让供应商实现其HAL的专用库；供应商接口对象（VINTF）用于汇总设备相关信息并通过可查询的API提供这些信息。</p>\n<p>HIDL分为两种模式：Passthrough（直通式）和Binderized（绑定式）。直通式HAL主要用于兼容旧版HAL，而绑定式HAL则运行在独立的进程中，通过Binder机制与框架通信。</p>\n<h2 id=\"04-对系统更新的实际影响\"><a href=\"#04-对系统更新的实际影响\" class=\"headerlink\" title=\"04 对系统更新的实际影响\"></a>04 对系统更新的实际影响</h2><p>Project Treble极大地简化了Android更新流程。在新架构下，Google发布新版本AOSP后，OEM厂商可以直接基于A源码进行定制，无需等待芯片制造商适配。</p>\n<p>芯片制造商编写的设备专属底层部分则由Google和芯片厂商共同维护，并被设计为不再面向特定版本的Android系统。</p>\n<p>这意味着<strong>OEM厂商可以更快地适配和发布</strong>新版本Android系统，显著降低开发成本和复杂度，同时延长了设备生命周期。</p>\n<p>Google Android软件工程部门副总理David Burke表示，Project Treble将“让制造商以更低的成本更轻松、更快速地将设备更新到新版Android系统”。</p>\n<h2 id=\"05-对第三方ROM开发的影响\"><a href=\"#05-对第三方ROM开发的影响\" class=\"headerlink\" title=\"05 对第三方ROM开发的影响\"></a>05 对第三方ROM开发的影响</h2><p>Project Treble不仅对官方更新有益，也为第三方ROM开发带来了革命性变化。支持Treble的设备如果想要预装或升级Android 8.0，都必须先经过Project Treble认证。</p>\n<p>这意味着设备在OEM厂商对AOSP源码进行定制前，就已经能够运行AOSP系统并通过CDD、CTS、VTS等一系列测试。</p>\n<p>开发者通过AOSP代码编译的ROM几乎可以在任何支持Project Treble的新手机上运行，<strong>第三方ROM适配工作变得异常简单</strong>。</p>\n<p>像Lineage OS这样的自定义ROM可以更容易地适配各种设备，极大地丰富了Android生态系统的多样性。</p>\n<h2 id=\"06-现实挑战与局限性\"><a href=\"#06-现实挑战与局限性\" class=\"headerlink\" title=\"06 现实挑战与局限性\"></a>06 现实挑战与局限性</h2><p>尽管Project Treble带来了巨大改进，但Android碎片化问题并未完全解决。David Burke曾坦言，像中国、印度等新兴市场最好的手机并不一定采用最新版系统，而是选择相对稳定、成熟的版本。</p>\n<p>这种市场策略差异意味着<strong>主要流通版本仍可能存在差异</strong>。2025年的数据显示，仍有17%的Android设备无法及时获取安全补丁，碎片化问题依然存在。</p>\n<p>某些地区和市场环境下，厂商可能仍然基于商业考量选择不提供更新，尽管技术障碍已经大大降低。</p>\n<hr>\n<p>Pixel系列手机作为首批支持Project Treble的设备，率先体验到了这一技术带来的优势。</p>\n<p>随着时间推移，众多Android厂商也跟随谷歌步伐，将Project Treble应用到自己的设备中。</p>\n<p><strong>三星手机以往很少提供Android更新</strong>，但现在获得的更新比谷歌手机更多。第三方ROM开发者也不再需要为每一款设备进行专门适配，只需要编译一个通用的系统镜像（GSI）就能在所有支持Treble的设备上运行。</p>\n<p>Project Treble的价值不仅体现在技术架构上，更是Android生态系统成熟的重要标志。它平衡了开放性与碎片化之间的矛盾，为Android的持续进化奠定了坚实基础。</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。</p>\n","cover_type":"img","excerpt":"","more":"<blockquote>\n<p>每次Android新版本发布后，那种漫长等待却迟迟收不到OTA更新的焦虑，Project Treble正是为了解决这一痛点而生。</p>\n</blockquote>\n<h2 id=\"前话\"><a href=\"#前话\" class=\"headerlink\" title=\"前话\"></a>前话</h2><p>多年来，Android系统更新缓慢问题一直困扰着用户和制造商。每当Google发布新版本，设备制造商和芯片供应商都需要进行漫长而复杂的适配过程。</p>\n<p>这导致<strong>Android设备升级率长期低迷</strong>，甚至2025年仍有17%的设备无法及时获取安全补丁。</p>\n<p>2017年，Google在Android 8.0中引入了名为Project Treble的模块化架构设计，这是Android系统架构自诞生以来最重大的变革之一，旨在从根本上解决系统更新缓慢的问题。</p>\n<hr>\n<h2 id=\"01-传统Android更新的复杂流程\"><a href=\"#01-传统Android更新的复杂流程\" class=\"headerlink\" title=\"01 传统Android更新的复杂流程\"></a>01 传统Android更新的复杂流程</h2><p>在Project Treble之前，Android系统更新是一个复杂且耗时的过程。首先，Google将新系统源码发布至AOSP（Android开放源代码项目）。</p>\n<p>接着，芯片制造商（如高通、三星、联发科等）需要对源码进行针对性修改，以让自家芯片能够在新版本Android系统上正常启动和运行。</p>\n<p>然后，芯片制造商将修改后的源码交给OEM厂商，厂商根据自己的需求进一步定制新系统，加入特色功能和预装应用。</p>\n<p>最后，经过一系列测试后，新版系统才能通过OTA方式推送给用户。这个过程涉及多方协作，<strong>任何一环出现延迟</strong>都会导致更新推送缓慢。</p>\n<h2 id=\"02-Project-Treble的核心革新\"><a href=\"#02-Project-Treble的核心革新\" class=\"headerlink\" title=\"02 Project Treble的核心革新\"></a>02 Project Treble的核心革新</h2><p>Project Treble最关键的变化是引入了<strong>vendor interface（供应商接口）</strong> 的概念，将Vender Implementation（由芯片制造商编写的设备专属底层软件）从Android系统框架中剥离出来。</p>\n<p>这种架构重组创建了一个稳定的接口，位于Android操作系统框架和设备的特定硬件组件之间。通过这个接口，Android框架可以独立于设备特定的底层软件进行更新。</p>\n<p>为了保证兼容性，Google还引入了<strong>Vendor Test Suite（VTS）测试套件</strong>，类似于兼容性测试套件（CTS），用于对vendor interface的合理性和兼容性进行检验。</p>\n<h2 id=\"03-Treble架构的关键技术\"><a href=\"#03-Treble架构的关键技术\" class=\"headerlink\" title=\"03 Treble架构的关键技术\"></a>03 Treble架构的关键技术</h2><p>Project Treble引入了几项重要技术创新：HIDL（HAL接口定义语言）用于指定HAL和其他组件之间的接口；设备树叠加层（DTO）将设备树分割为主DT和叠加DT，使设备树更容易更新和修改；供应商原生开发套件（VNDK）提供了一组让供应商实现其HAL的专用库；供应商接口对象（VINTF）用于汇总设备相关信息并通过可查询的API提供这些信息。</p>\n<p>HIDL分为两种模式：Passthrough（直通式）和Binderized（绑定式）。直通式HAL主要用于兼容旧版HAL，而绑定式HAL则运行在独立的进程中，通过Binder机制与框架通信。</p>\n<h2 id=\"04-对系统更新的实际影响\"><a href=\"#04-对系统更新的实际影响\" class=\"headerlink\" title=\"04 对系统更新的实际影响\"></a>04 对系统更新的实际影响</h2><p>Project Treble极大地简化了Android更新流程。在新架构下，Google发布新版本AOSP后，OEM厂商可以直接基于A源码进行定制，无需等待芯片制造商适配。</p>\n<p>芯片制造商编写的设备专属底层部分则由Google和芯片厂商共同维护，并被设计为不再面向特定版本的Android系统。</p>\n<p>这意味着<strong>OEM厂商可以更快地适配和发布</strong>新版本Android系统，显著降低开发成本和复杂度，同时延长了设备生命周期。</p>\n<p>Google Android软件工程部门副总理David Burke表示，Project Treble将“让制造商以更低的成本更轻松、更快速地将设备更新到新版Android系统”。</p>\n<h2 id=\"05-对第三方ROM开发的影响\"><a href=\"#05-对第三方ROM开发的影响\" class=\"headerlink\" title=\"05 对第三方ROM开发的影响\"></a>05 对第三方ROM开发的影响</h2><p>Project Treble不仅对官方更新有益，也为第三方ROM开发带来了革命性变化。支持Treble的设备如果想要预装或升级Android 8.0，都必须先经过Project Treble认证。</p>\n<p>这意味着设备在OEM厂商对AOSP源码进行定制前，就已经能够运行AOSP系统并通过CDD、CTS、VTS等一系列测试。</p>\n<p>开发者通过AOSP代码编译的ROM几乎可以在任何支持Project Treble的新手机上运行，<strong>第三方ROM适配工作变得异常简单</strong>。</p>\n<p>像Lineage OS这样的自定义ROM可以更容易地适配各种设备，极大地丰富了Android生态系统的多样性。</p>\n<h2 id=\"06-现实挑战与局限性\"><a href=\"#06-现实挑战与局限性\" class=\"headerlink\" title=\"06 现实挑战与局限性\"></a>06 现实挑战与局限性</h2><p>尽管Project Treble带来了巨大改进，但Android碎片化问题并未完全解决。David Burke曾坦言，像中国、印度等新兴市场最好的手机并不一定采用最新版系统，而是选择相对稳定、成熟的版本。</p>\n<p>这种市场策略差异意味着<strong>主要流通版本仍可能存在差异</strong>。2025年的数据显示，仍有17%的Android设备无法及时获取安全补丁，碎片化问题依然存在。</p>\n<p>某些地区和市场环境下，厂商可能仍然基于商业考量选择不提供更新，尽管技术障碍已经大大降低。</p>\n<hr>\n<p>Pixel系列手机作为首批支持Project Treble的设备，率先体验到了这一技术带来的优势。</p>\n<p>随着时间推移，众多Android厂商也跟随谷歌步伐，将Project Treble应用到自己的设备中。</p>\n<p><strong>三星手机以往很少提供Android更新</strong>，但现在获得的更新比谷歌手机更多。第三方ROM开发者也不再需要为每一款设备进行专门适配，只需要编译一个通用的系统镜像（GSI）就能在所有支持Treble的设备上运行。</p>\n<p>Project Treble的价值不仅体现在技术架构上，更是Android生态系统成熟的重要标志。它平衡了开放性与碎片化之间的矛盾，为Android的持续进化奠定了坚实基础。</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>本文章使用Deepseek V3润色而成，如有错误，请指出，酥米将会及时更改。</p>\n"},{"title":"Hexo博客添加2048","description":"给你的Hexo博客添加2048小游戏","summary":"酥米小机器人来啦，这篇文章介绍了如何在Hexo博客中嵌入2048小游戏，通过独立容器封装实现不干扰博客原生样式和功能，支持明暗模式自动适配、键盘触屏操作、撤回与重置功能，并兼容Hexo Anzhiyu主题。游戏采用CSS Grid布局，代码量约600行，自适应多设备显示，用户只需复制代码至Markdown文章并调整容器样式即可部署运行。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/2048-2.jpg","date":"2025-10-06T15:20:13.000Z","_content":"\n# 前提\n\n{% note orange 'anzhiyufont anzhiyu-icon-bullhorn' flat %}截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀{% endnote %}\n\n最近看到彩蛋页空着，于是突发奇想，做一个2048小游戏嵌入在里面，于是我”请教“了万能的豆包，得到了以下项目\n\n# Demo\n\n本站已经内嵌此项目，可以去康康哦~ \n\n{% link 2048小游戏,酥米的小站,/Fun/ %}\n\n# 优势\n\n- **完全隔离，不干扰博客**\n  - 所有元素和逻辑封装在独立容器 `game-2048-container` 中，通过内联样式和容器限定作用域，不会污染博客原有CSS和JS。\n  - 不依赖任何外部资源（无图片、无字体文件），纯原生HTML+CSS+JS实现，加载速度快，不增加博客加载负担。\n\n\n- **适配Hexo Anzhiyu主题**\n  - 明暗模式自动切换：通过检测主题 `html` 标签的 `dark` 类，动态调整方块颜色、背景色，确保在亮色/暗色模式下都有清晰的视觉对比（例如暗色模式下方块用深色背景+浅色文字，亮色模式相反）。\n  - 风格统一：使用主题内置CSS变量（`--card-bg` 卡片背景、`--text-color` 文字色等），与博客整体风格无缝融合。\n\n\n- **多设备交互友好**\n  - 键盘控制：支持方向键（↑↓←→）移动方块，操作符合原版2048习惯。\n  - 触屏优化：滑动屏幕（上下左右）可控制方块移动，滑动阈值合理（避免误触）。\n  - 核心优化：通过 `e.preventDefault()` 和 `touch-action: none` 阻止触屏滑动时触发整个博客页面的滚动，专注游戏操作。\n  - 操作反馈：按钮状态动态变化（如“撤回”按钮在无历史记录时禁用并半透明）。\n\n\n- **完整游戏功能**\n  - 核心玩法：随机生成2/4方块，滑动合并相同数字，目标合成2048。\n  - 撤回功能：通过历史记录栈保存最近10步的游戏状态（网格+分数），点击“撤回”可回到上一步，提升容错性。\n  - 状态判断：自动检测胜利（合成2048）和失败（无空位且无法合并），并弹窗提示。\n  - 分数系统：实时显示当前分数，合并方块时自动累加。\n\n\n- **轻量精简**\n  - 代码量约600行，逻辑清晰，无冗余代码。\n  - 棋盘使用CSS Grid布局，自适应容器大小，在手机、电脑上均可正常显示（默认最大宽度400px，可按需调整）。\n\n# 创建界面\n\n可以先使用指令单独创建一个2048的页面\n\n`hexo new pages \"页面名称\"`\n\n然后使用工具编辑`“页面名称”/index.md`\n\n# 使用方法\n\n直接将代码复制到Hexo的Markdown文章（`.md`文件）中，部署后即可在博客中运行，无需额外配置。如需调整大小，修改容器的`max-width`样式即可。\n\n# 代码\n\n```\n<div id=\"game-2048-container\" style=\"max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;\">\n  <!-- 分数与控制区 -->\n  <div style=\"display: flex; justify-content: space-between; margin-bottom: 15px; font-family: 'Segoe UI', Arial;\">\n    <div style=\"font-size: 24px; font-weight: bold; color: var(--text-color);\">2048</div>\n    <div style=\"background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;\">\n      分数: <span id=\"score-2048\">0</span>\n    </div>\n    <div style=\"display: flex; gap: 5px;\">\n      <!-- 按钮增大点击区域并添加触摸反馈 -->\n      <button id=\"undo-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;\" disabled>\n        撤回\n      </button>\n      <button id=\"reset-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;\">\n        重置\n      </button>\n    </div>\n  </div>\n  \n  <!-- 游戏棋盘 -->\n  <div id=\"game-2048-board\" style=\"display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;\"></div>\n  \n  <!-- 操作说明 -->\n  <div style=\"margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: 'Segoe UI', Arial;\">\n    <p>操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并</p>\n  </div>\n</div>\n\n<script>\nconst container = document.getElementById('game-2048-container');\nif (container) {\n  // 获取DOM元素\n  const boardEl = container.querySelector('#game-2048-board');\n  const scoreEl = container.querySelector('#score-2048');\n  const resetBtn = container.querySelector('#reset-2048');\n  const undoBtn = container.querySelector('#undo-2048');\n  \n  // 游戏配置\n  const SIZE = 4;\n  let grid = [];\n  let score = 0;\n  let isDarkMode = false;\n  let history = [];\n  let isTouching = false;\n  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘\n  \n  // 颜色映射（保持不变）\n  const getColors = (value) => {\n    const colors = {\n      2: { bg: isDarkMode ? '#3a3a3a' : '#eee4da', text: isDarkMode ? '#fff' : '#776e65' },\n      4: { bg: isDarkMode ? '#4a4a4a' : '#ede0c8', text: isDarkMode ? '#fff' : '#776e65' },\n      8: { bg: isDarkMode ? '#ff9966' : '#f2b179', text: '#f9f6f2' },\n      16: { bg: isDarkMode ? '#ff7733' : '#f59563', text: '#f9f6f2' },\n      32: { bg: isDarkMode ? '#ff5500' : '#f67c5f', text: '#f9f6f2' },\n      64: { bg: isDarkMode ? '#ff3300' : '#f65e3b', text: '#f9f6f2' },\n      128: { bg: isDarkMode ? '#ffcc66' : '#edcf72', text: '#f9f6f2' },\n      256: { bg: isDarkMode ? '#ffbb33' : '#edcc61', text: '#f9f6f2' },\n      512: { bg: isDarkMode ? '#ffaa00' : '#edc850', text: '#f9f6f2' },\n      1024: { bg: isDarkMode ? '#ff9900' : '#edc53f', text: '#f9f6f2' },\n      2048: { bg: isDarkMode ? '#ff8800' : '#edc22e', text: '#f9f6f2' }\n    };\n    if (!colors[value]) {\n      colors[value] = { bg: isDarkMode ? '#ff5555' : '#3c3a32', text: '#f9f6f2' };\n    }\n    return colors[value];\n  };\n  \n  // 初始化网格（保持不变）\n  const initGrid = () => {\n    grid = Array(SIZE).fill().map(() => Array(SIZE).fill(0));\n    score = 0;\n    history = [];\n    scoreEl.textContent = '0';\n    addRandomNumber();\n    addRandomNumber();\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 保存历史记录（保持不变）\n  const saveHistory = () => {\n    const gridCopy = JSON.parse(JSON.stringify(grid));\n    history.push({ grid: gridCopy, score: score });\n    if (history.length > 10) history.shift();\n    updateUndoBtn();\n  };\n  \n  // 撤回操作（保持不变）\n  const undoMove = () => {\n    if (history.length === 0) return;\n    const lastState = history.pop();\n    grid = lastState.grid;\n    score = lastState.score;\n    scoreEl.textContent = score;\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 更新撤回按钮状态（保持不变）\n  const updateUndoBtn = () => {\n    undoBtn.disabled = history.length === 0;\n    undoBtn.style.opacity = history.length === 0 ? '0.5' : '1';\n  };\n  \n  // 随机生成数字（保持不变）\n  const addRandomNumber = () => {\n    const emptyCells = [];\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) emptyCells.push({ i, j });\n      }\n    }\n    if (emptyCells.length === 0) return false;\n    const { i, j } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    grid[i][j] = Math.random() < 0.9 ? 2 : 4;\n    return true;\n  };\n  \n  // 渲染网格（保持不变）\n  const renderGrid = () => {\n    boardEl.innerHTML = '';\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        const cell = document.createElement('div');\n        const value = grid[i][j];\n        cell.style.width = '80px';\n        cell.style.height = '80px';\n        cell.style.borderRadius = '4px';\n        cell.style.display = 'flex';\n        cell.style.alignItems = 'center';\n        cell.style.justifyContent = 'center';\n        cell.style.fontWeight = 'bold';\n        cell.style.transition = 'all 0.2s ease';\n        cell.style.fontFamily = 'Arial, sans-serif';\n        \n        if (value === 0) {\n          cell.style.background = isDarkMode ? '#2a2a2a' : '#cdc1b4';\n          cell.style.color = 'transparent';\n        } else {\n          const { bg, text } = getColors(value);\n          cell.style.background = bg;\n          cell.style.color = text;\n          cell.style.fontSize = value < 100 ? '24px' : value < 1000 ? '20px' : '16px';\n          cell.textContent = value;\n        }\n        boardEl.appendChild(cell);\n      }\n    }\n  };\n  \n  // 移动逻辑（保持不变）\n  const moveLeft = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 1; j < SIZE; j++) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k > 0 && grid[i][k - 1] === 0) {\n            grid[i][k - 1] = grid[i][k];\n            grid[i][k] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[i][k - 1] === grid[i][k]) {\n            grid[i][k - 1] *= 2;\n            score += grid[i][k - 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveRight = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = SIZE - 2; j >= 0; j--) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k < SIZE - 1 && grid[i][k + 1] === 0) {\n            grid[i][k + 1] = grid[i][k];\n            grid[i][k] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[i][k + 1] === grid[i][k]) {\n            grid[i][k + 1] *= 2;\n            score += grid[i][k + 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveUp = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 1; i < SIZE; i++) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k > 0 && grid[k - 1][j] === 0) {\n            grid[k - 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[k - 1][j] === grid[k][j]) {\n            grid[k - 1][j] *= 2;\n            score += grid[k - 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveDown = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = SIZE - 2; i >= 0; i--) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k < SIZE - 1 && grid[k + 1][j] === 0) {\n            grid[k + 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[k + 1][j] === grid[k][j]) {\n            grid[k + 1][j] *= 2;\n            score += grid[k + 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  // 处理移动（保持不变）\n  const handleMove = (direction) => {\n    let moved;\n    switch (direction) {\n      case 'left': moved = moveLeft(); break;\n      case 'right': moved = moveRight(); break;\n      case 'up': moved = moveUp(); break;\n      case 'down': moved = moveDown(); break;\n      default: return;\n    }\n    \n    if (moved) {\n      saveHistory();\n      scoreEl.textContent = score;\n      addRandomNumber();\n      renderGrid();\n      checkGameState();\n    }\n  };\n  \n  // 检查游戏状态（保持不变）\n  const checkGameState = () => {\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 2048) {\n          setTimeout(() => alert('恭喜你赢了！'), 300);\n          return;\n        }\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) return;\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE - 1; j++) {\n        if (grid[i][j] === grid[i][j + 1]) return;\n      }\n    }\n    \n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 0; i < SIZE - 1; i++) {\n        if (grid[i][j] === grid[i + 1][j]) return;\n      }\n    }\n    \n    setTimeout(() => alert('游戏结束！得分：' + score), 300);\n  };\n  \n  // 明暗模式适配（保持不变）\n  const checkThemeMode = () => {\n    isDarkMode = document.documentElement.classList.contains('dark');\n    renderGrid();\n  };\n  \n  const themeObserver = new MutationObserver(() => checkThemeMode());\n  themeObserver.observe(document.documentElement, { attributes: true });\n  \n  // 键盘控制（保持不变）\n  const handleKeydown = (e) => {\n    switch (e.key) {\n      case 'ArrowLeft': handleMove('left'); e.preventDefault(); break;\n      case 'ArrowRight': handleMove('right'); e.preventDefault(); break;\n      case 'ArrowUp': handleMove('up'); e.preventDefault(); break;\n      case 'ArrowDown': handleMove('down'); e.preventDefault(); break;\n      default: return;\n    }\n  };\n  \n  // 触屏控制（核心修复：区分按钮和棋盘触摸）\n  let touchStartX = 0, touchStartY = 0;\n  \n  // 触摸开始：记录目标元素\n  const handleTouchStart = (e) => {\n    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）\n    // 只有触摸棋盘时才处理滑动逻辑\n    if (touchTarget === boardEl || boardEl.contains(touchTarget)) {\n      isTouching = true;\n      touchStartX = e.touches[0].clientX;\n      touchStartY = e.touches[0].clientY;\n      e.preventDefault();\n    }\n    // 触摸按钮时不阻止默认行为，确保点击有效\n  };\n  \n  // 触摸移动：只在触摸棋盘时阻止滚动\n  const handleTouchMove = (e) => {\n    if (isTouching && (touchTarget === boardEl || boardEl.contains(touchTarget))) {\n      e.preventDefault(); // 仅棋盘滑动阻止滚动\n    }\n  };\n  \n  // 触摸结束：区分处理\n  const handleTouchEnd = (e) => {\n    if (isTouching) {\n      isTouching = false;\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const diffX = touchEndX - touchStartX;\n      const diffY = touchEndY - touchStartY;\n      \n      if (Math.abs(diffX) > 30 || Math.abs(diffY) > 30) {\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n          diffX > 0 ? handleMove('right') : handleMove('left');\n        } else {\n          diffY > 0 ? handleMove('down') : handleMove('up');\n        }\n      }\n      e.preventDefault();\n    }\n    touchTarget = null; // 重置触摸目标\n  };\n  \n  // 为按钮添加专门的触摸事件（解决移动端点击无反应）\n  const handleButtonTouch = (callback) => {\n    return (e) => {\n      e.stopPropagation(); // 阻止事件冒泡到容器\n      callback();\n    };\n  };\n  \n  // 事件绑定（优化版）\n  document.addEventListener('keydown', handleKeydown);\n  container.addEventListener('touchstart', handleTouchStart, { passive: false });\n  container.addEventListener('touchmove', handleTouchMove, { passive: false });\n  container.addEventListener('touchend', handleTouchEnd, { passive: false });\n  \n  // 按钮单独绑定触摸和点击事件，确保移动端响应\n  resetBtn.addEventListener('click', initGrid);\n  resetBtn.addEventListener('touchstart', handleButtonTouch(initGrid), { passive: true });\n  undoBtn.addEventListener('click', undoMove);\n  undoBtn.addEventListener('touchstart', handleButtonTouch(undoMove), { passive: true });\n  \n  // 初始化\n  checkThemeMode();\n  initGrid();\n}\n</script>\n```\n\n# 问题\n- 触控模式稍微有点bug，刷新一下能恢复\n\n# 截图\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/2048-1.jpg)\n\n# Tips\n本文章中的代码使用豆包AI修改而成，如有错误，请指出，酥米将会及时更改。","source":"_posts/教程/blog2048plus.md","raw":"---\ntitle: Hexo博客添加2048\ndescription: 给你的Hexo博客添加2048小游戏\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了如何在Hexo博客中嵌入2048小游戏，通过独立容器封装实现不干扰博客原生样式和功能，支持明暗模式自动适配、键盘触屏操作、撤回与重置功能，并兼容Hexo\n  Anzhiyu主题。游戏采用CSS Grid布局，代码量约600行，自适应多设备显示，用户只需复制代码至Markdown文章并调整容器样式即可部署运行。\ntags:\n  - 博客\n  - 教程\ncategories:\n  - 教程类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/2048-2.jpg\ndate: 2025-10-06 23:20:13\n---\n\n# 前提\n\n{% note orange 'anzhiyufont anzhiyu-icon-bullhorn' flat %}截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀{% endnote %}\n\n最近看到彩蛋页空着，于是突发奇想，做一个2048小游戏嵌入在里面，于是我”请教“了万能的豆包，得到了以下项目\n\n# Demo\n\n本站已经内嵌此项目，可以去康康哦~ \n\n{% link 2048小游戏,酥米的小站,/Fun/ %}\n\n# 优势\n\n- **完全隔离，不干扰博客**\n  - 所有元素和逻辑封装在独立容器 `game-2048-container` 中，通过内联样式和容器限定作用域，不会污染博客原有CSS和JS。\n  - 不依赖任何外部资源（无图片、无字体文件），纯原生HTML+CSS+JS实现，加载速度快，不增加博客加载负担。\n\n\n- **适配Hexo Anzhiyu主题**\n  - 明暗模式自动切换：通过检测主题 `html` 标签的 `dark` 类，动态调整方块颜色、背景色，确保在亮色/暗色模式下都有清晰的视觉对比（例如暗色模式下方块用深色背景+浅色文字，亮色模式相反）。\n  - 风格统一：使用主题内置CSS变量（`--card-bg` 卡片背景、`--text-color` 文字色等），与博客整体风格无缝融合。\n\n\n- **多设备交互友好**\n  - 键盘控制：支持方向键（↑↓←→）移动方块，操作符合原版2048习惯。\n  - 触屏优化：滑动屏幕（上下左右）可控制方块移动，滑动阈值合理（避免误触）。\n  - 核心优化：通过 `e.preventDefault()` 和 `touch-action: none` 阻止触屏滑动时触发整个博客页面的滚动，专注游戏操作。\n  - 操作反馈：按钮状态动态变化（如“撤回”按钮在无历史记录时禁用并半透明）。\n\n\n- **完整游戏功能**\n  - 核心玩法：随机生成2/4方块，滑动合并相同数字，目标合成2048。\n  - 撤回功能：通过历史记录栈保存最近10步的游戏状态（网格+分数），点击“撤回”可回到上一步，提升容错性。\n  - 状态判断：自动检测胜利（合成2048）和失败（无空位且无法合并），并弹窗提示。\n  - 分数系统：实时显示当前分数，合并方块时自动累加。\n\n\n- **轻量精简**\n  - 代码量约600行，逻辑清晰，无冗余代码。\n  - 棋盘使用CSS Grid布局，自适应容器大小，在手机、电脑上均可正常显示（默认最大宽度400px，可按需调整）。\n\n# 创建界面\n\n可以先使用指令单独创建一个2048的页面\n\n`hexo new pages \"页面名称\"`\n\n然后使用工具编辑`“页面名称”/index.md`\n\n# 使用方法\n\n直接将代码复制到Hexo的Markdown文章（`.md`文件）中，部署后即可在博客中运行，无需额外配置。如需调整大小，修改容器的`max-width`样式即可。\n\n# 代码\n\n```\n<div id=\"game-2048-container\" style=\"max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;\">\n  <!-- 分数与控制区 -->\n  <div style=\"display: flex; justify-content: space-between; margin-bottom: 15px; font-family: 'Segoe UI', Arial;\">\n    <div style=\"font-size: 24px; font-weight: bold; color: var(--text-color);\">2048</div>\n    <div style=\"background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;\">\n      分数: <span id=\"score-2048\">0</span>\n    </div>\n    <div style=\"display: flex; gap: 5px;\">\n      <!-- 按钮增大点击区域并添加触摸反馈 -->\n      <button id=\"undo-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;\" disabled>\n        撤回\n      </button>\n      <button id=\"reset-2048\" style=\"background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;\">\n        重置\n      </button>\n    </div>\n  </div>\n  \n  <!-- 游戏棋盘 -->\n  <div id=\"game-2048-board\" style=\"display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;\"></div>\n  \n  <!-- 操作说明 -->\n  <div style=\"margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: 'Segoe UI', Arial;\">\n    <p>操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并</p>\n  </div>\n</div>\n\n<script>\nconst container = document.getElementById('game-2048-container');\nif (container) {\n  // 获取DOM元素\n  const boardEl = container.querySelector('#game-2048-board');\n  const scoreEl = container.querySelector('#score-2048');\n  const resetBtn = container.querySelector('#reset-2048');\n  const undoBtn = container.querySelector('#undo-2048');\n  \n  // 游戏配置\n  const SIZE = 4;\n  let grid = [];\n  let score = 0;\n  let isDarkMode = false;\n  let history = [];\n  let isTouching = false;\n  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘\n  \n  // 颜色映射（保持不变）\n  const getColors = (value) => {\n    const colors = {\n      2: { bg: isDarkMode ? '#3a3a3a' : '#eee4da', text: isDarkMode ? '#fff' : '#776e65' },\n      4: { bg: isDarkMode ? '#4a4a4a' : '#ede0c8', text: isDarkMode ? '#fff' : '#776e65' },\n      8: { bg: isDarkMode ? '#ff9966' : '#f2b179', text: '#f9f6f2' },\n      16: { bg: isDarkMode ? '#ff7733' : '#f59563', text: '#f9f6f2' },\n      32: { bg: isDarkMode ? '#ff5500' : '#f67c5f', text: '#f9f6f2' },\n      64: { bg: isDarkMode ? '#ff3300' : '#f65e3b', text: '#f9f6f2' },\n      128: { bg: isDarkMode ? '#ffcc66' : '#edcf72', text: '#f9f6f2' },\n      256: { bg: isDarkMode ? '#ffbb33' : '#edcc61', text: '#f9f6f2' },\n      512: { bg: isDarkMode ? '#ffaa00' : '#edc850', text: '#f9f6f2' },\n      1024: { bg: isDarkMode ? '#ff9900' : '#edc53f', text: '#f9f6f2' },\n      2048: { bg: isDarkMode ? '#ff8800' : '#edc22e', text: '#f9f6f2' }\n    };\n    if (!colors[value]) {\n      colors[value] = { bg: isDarkMode ? '#ff5555' : '#3c3a32', text: '#f9f6f2' };\n    }\n    return colors[value];\n  };\n  \n  // 初始化网格（保持不变）\n  const initGrid = () => {\n    grid = Array(SIZE).fill().map(() => Array(SIZE).fill(0));\n    score = 0;\n    history = [];\n    scoreEl.textContent = '0';\n    addRandomNumber();\n    addRandomNumber();\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 保存历史记录（保持不变）\n  const saveHistory = () => {\n    const gridCopy = JSON.parse(JSON.stringify(grid));\n    history.push({ grid: gridCopy, score: score });\n    if (history.length > 10) history.shift();\n    updateUndoBtn();\n  };\n  \n  // 撤回操作（保持不变）\n  const undoMove = () => {\n    if (history.length === 0) return;\n    const lastState = history.pop();\n    grid = lastState.grid;\n    score = lastState.score;\n    scoreEl.textContent = score;\n    updateUndoBtn();\n    renderGrid();\n  };\n  \n  // 更新撤回按钮状态（保持不变）\n  const updateUndoBtn = () => {\n    undoBtn.disabled = history.length === 0;\n    undoBtn.style.opacity = history.length === 0 ? '0.5' : '1';\n  };\n  \n  // 随机生成数字（保持不变）\n  const addRandomNumber = () => {\n    const emptyCells = [];\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) emptyCells.push({ i, j });\n      }\n    }\n    if (emptyCells.length === 0) return false;\n    const { i, j } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n    grid[i][j] = Math.random() < 0.9 ? 2 : 4;\n    return true;\n  };\n  \n  // 渲染网格（保持不变）\n  const renderGrid = () => {\n    boardEl.innerHTML = '';\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        const cell = document.createElement('div');\n        const value = grid[i][j];\n        cell.style.width = '80px';\n        cell.style.height = '80px';\n        cell.style.borderRadius = '4px';\n        cell.style.display = 'flex';\n        cell.style.alignItems = 'center';\n        cell.style.justifyContent = 'center';\n        cell.style.fontWeight = 'bold';\n        cell.style.transition = 'all 0.2s ease';\n        cell.style.fontFamily = 'Arial, sans-serif';\n        \n        if (value === 0) {\n          cell.style.background = isDarkMode ? '#2a2a2a' : '#cdc1b4';\n          cell.style.color = 'transparent';\n        } else {\n          const { bg, text } = getColors(value);\n          cell.style.background = bg;\n          cell.style.color = text;\n          cell.style.fontSize = value < 100 ? '24px' : value < 1000 ? '20px' : '16px';\n          cell.textContent = value;\n        }\n        boardEl.appendChild(cell);\n      }\n    }\n  };\n  \n  // 移动逻辑（保持不变）\n  const moveLeft = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 1; j < SIZE; j++) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k > 0 && grid[i][k - 1] === 0) {\n            grid[i][k - 1] = grid[i][k];\n            grid[i][k] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[i][k - 1] === grid[i][k]) {\n            grid[i][k - 1] *= 2;\n            score += grid[i][k - 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveRight = () => {\n    let moved = false;\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = SIZE - 2; j >= 0; j--) {\n        if (grid[i][j] !== 0) {\n          let k = j;\n          while (k < SIZE - 1 && grid[i][k + 1] === 0) {\n            grid[i][k + 1] = grid[i][k];\n            grid[i][k] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[i][k + 1] === grid[i][k]) {\n            grid[i][k + 1] *= 2;\n            score += grid[i][k + 1];\n            grid[i][k] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveUp = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 1; i < SIZE; i++) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k > 0 && grid[k - 1][j] === 0) {\n            grid[k - 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k--;\n            moved = true;\n          }\n          if (k > 0 && grid[k - 1][j] === grid[k][j]) {\n            grid[k - 1][j] *= 2;\n            score += grid[k - 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  const moveDown = () => {\n    let moved = false;\n    for (let j = 0; j < SIZE; j++) {\n      for (let i = SIZE - 2; i >= 0; i--) {\n        if (grid[i][j] !== 0) {\n          let k = i;\n          while (k < SIZE - 1 && grid[k + 1][j] === 0) {\n            grid[k + 1][j] = grid[k][j];\n            grid[k][j] = 0;\n            k++;\n            moved = true;\n          }\n          if (k < SIZE - 1 && grid[k + 1][j] === grid[k][j]) {\n            grid[k + 1][j] *= 2;\n            score += grid[k + 1][j];\n            grid[k][j] = 0;\n            moved = true;\n          }\n        }\n      }\n    }\n    return moved;\n  };\n  \n  // 处理移动（保持不变）\n  const handleMove = (direction) => {\n    let moved;\n    switch (direction) {\n      case 'left': moved = moveLeft(); break;\n      case 'right': moved = moveRight(); break;\n      case 'up': moved = moveUp(); break;\n      case 'down': moved = moveDown(); break;\n      default: return;\n    }\n    \n    if (moved) {\n      saveHistory();\n      scoreEl.textContent = score;\n      addRandomNumber();\n      renderGrid();\n      checkGameState();\n    }\n  };\n  \n  // 检查游戏状态（保持不变）\n  const checkGameState = () => {\n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 2048) {\n          setTimeout(() => alert('恭喜你赢了！'), 300);\n          return;\n        }\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE; j++) {\n        if (grid[i][j] === 0) return;\n      }\n    }\n    \n    for (let i = 0; i < SIZE; i++) {\n      for (let j = 0; j < SIZE - 1; j++) {\n        if (grid[i][j] === grid[i][j + 1]) return;\n      }\n    }\n    \n    for (let j = 0; j < SIZE; j++) {\n      for (let i = 0; i < SIZE - 1; i++) {\n        if (grid[i][j] === grid[i + 1][j]) return;\n      }\n    }\n    \n    setTimeout(() => alert('游戏结束！得分：' + score), 300);\n  };\n  \n  // 明暗模式适配（保持不变）\n  const checkThemeMode = () => {\n    isDarkMode = document.documentElement.classList.contains('dark');\n    renderGrid();\n  };\n  \n  const themeObserver = new MutationObserver(() => checkThemeMode());\n  themeObserver.observe(document.documentElement, { attributes: true });\n  \n  // 键盘控制（保持不变）\n  const handleKeydown = (e) => {\n    switch (e.key) {\n      case 'ArrowLeft': handleMove('left'); e.preventDefault(); break;\n      case 'ArrowRight': handleMove('right'); e.preventDefault(); break;\n      case 'ArrowUp': handleMove('up'); e.preventDefault(); break;\n      case 'ArrowDown': handleMove('down'); e.preventDefault(); break;\n      default: return;\n    }\n  };\n  \n  // 触屏控制（核心修复：区分按钮和棋盘触摸）\n  let touchStartX = 0, touchStartY = 0;\n  \n  // 触摸开始：记录目标元素\n  const handleTouchStart = (e) => {\n    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）\n    // 只有触摸棋盘时才处理滑动逻辑\n    if (touchTarget === boardEl || boardEl.contains(touchTarget)) {\n      isTouching = true;\n      touchStartX = e.touches[0].clientX;\n      touchStartY = e.touches[0].clientY;\n      e.preventDefault();\n    }\n    // 触摸按钮时不阻止默认行为，确保点击有效\n  };\n  \n  // 触摸移动：只在触摸棋盘时阻止滚动\n  const handleTouchMove = (e) => {\n    if (isTouching && (touchTarget === boardEl || boardEl.contains(touchTarget))) {\n      e.preventDefault(); // 仅棋盘滑动阻止滚动\n    }\n  };\n  \n  // 触摸结束：区分处理\n  const handleTouchEnd = (e) => {\n    if (isTouching) {\n      isTouching = false;\n      const touchEndX = e.changedTouches[0].clientX;\n      const touchEndY = e.changedTouches[0].clientY;\n      const diffX = touchEndX - touchStartX;\n      const diffY = touchEndY - touchStartY;\n      \n      if (Math.abs(diffX) > 30 || Math.abs(diffY) > 30) {\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n          diffX > 0 ? handleMove('right') : handleMove('left');\n        } else {\n          diffY > 0 ? handleMove('down') : handleMove('up');\n        }\n      }\n      e.preventDefault();\n    }\n    touchTarget = null; // 重置触摸目标\n  };\n  \n  // 为按钮添加专门的触摸事件（解决移动端点击无反应）\n  const handleButtonTouch = (callback) => {\n    return (e) => {\n      e.stopPropagation(); // 阻止事件冒泡到容器\n      callback();\n    };\n  };\n  \n  // 事件绑定（优化版）\n  document.addEventListener('keydown', handleKeydown);\n  container.addEventListener('touchstart', handleTouchStart, { passive: false });\n  container.addEventListener('touchmove', handleTouchMove, { passive: false });\n  container.addEventListener('touchend', handleTouchEnd, { passive: false });\n  \n  // 按钮单独绑定触摸和点击事件，确保移动端响应\n  resetBtn.addEventListener('click', initGrid);\n  resetBtn.addEventListener('touchstart', handleButtonTouch(initGrid), { passive: true });\n  undoBtn.addEventListener('click', undoMove);\n  undoBtn.addEventListener('touchstart', handleButtonTouch(undoMove), { passive: true });\n  \n  // 初始化\n  checkThemeMode();\n  initGrid();\n}\n</script>\n```\n\n# 问题\n- 触控模式稍微有点bug，刷新一下能恢复\n\n# 截图\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/2048-1.jpg)\n\n# Tips\n本文章中的代码使用豆包AI修改而成，如有错误，请指出，酥米将会及时更改。","slug":"教程/blog2048plus","published":1,"updated":"2025-10-06T16:18:46.309Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561k004qg0fy4adq0tqc","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><div class=\"note orange anzhiyufont anzhiyu-icon-bullhorn flat\"><p>截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀</p>\n</div>\n\n<p>最近看到彩蛋页空着，于是突发奇想，做一个2048小游戏嵌入在里面，于是我”请教“了万能的豆包，得到了以下项目</p>\n<h1 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h1><p>本站已经内嵌此项目，可以去康康哦~ </p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"/Fun/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">2048小游戏</div>\n            <div class=\"tag-link-sitename\">酥米的小站</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h1 id=\"优势\"><a href=\"#优势\" class=\"headerlink\" title=\"优势\"></a>优势</h1><ul>\n<li><p><strong>完全隔离，不干扰博客</strong></p>\n<ul>\n<li>所有元素和逻辑封装在独立容器 <code>game-2048-container</code> 中，通过内联样式和容器限定作用域，不会污染博客原有CSS和JS。</li>\n<li>不依赖任何外部资源（无图片、无字体文件），纯原生HTML+CSS+JS实现，加载速度快，不增加博客加载负担。</li>\n</ul>\n</li>\n<li><p><strong>适配Hexo Anzhiyu主题</strong></p>\n<ul>\n<li>明暗模式自动切换：通过检测主题 <code>html</code> 标签的 <code>dark</code> 类，动态调整方块颜色、背景色，确保在亮色&#x2F;暗色模式下都有清晰的视觉对比（例如暗色模式下方块用深色背景+浅色文字，亮色模式相反）。</li>\n<li>风格统一：使用主题内置CSS变量（<code>--card-bg</code> 卡片背景、<code>--text-color</code> 文字色等），与博客整体风格无缝融合。</li>\n</ul>\n</li>\n<li><p><strong>多设备交互友好</strong></p>\n<ul>\n<li>键盘控制：支持方向键（↑↓←→）移动方块，操作符合原版2048习惯。</li>\n<li>触屏优化：滑动屏幕（上下左右）可控制方块移动，滑动阈值合理（避免误触）。</li>\n<li>核心优化：通过 <code>e.preventDefault()</code> 和 <code>touch-action: none</code> 阻止触屏滑动时触发整个博客页面的滚动，专注游戏操作。</li>\n<li>操作反馈：按钮状态动态变化（如“撤回”按钮在无历史记录时禁用并半透明）。</li>\n</ul>\n</li>\n<li><p><strong>完整游戏功能</strong></p>\n<ul>\n<li>核心玩法：随机生成2&#x2F;4方块，滑动合并相同数字，目标合成2048。</li>\n<li>撤回功能：通过历史记录栈保存最近10步的游戏状态（网格+分数），点击“撤回”可回到上一步，提升容错性。</li>\n<li>状态判断：自动检测胜利（合成2048）和失败（无空位且无法合并），并弹窗提示。</li>\n<li>分数系统：实时显示当前分数，合并方块时自动累加。</li>\n</ul>\n</li>\n<li><p><strong>轻量精简</strong></p>\n<ul>\n<li>代码量约600行，逻辑清晰，无冗余代码。</li>\n<li>棋盘使用CSS Grid布局，自适应容器大小，在手机、电脑上均可正常显示（默认最大宽度400px，可按需调整）。</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"创建界面\"><a href=\"#创建界面\" class=\"headerlink\" title=\"创建界面\"></a>创建界面</h1><p>可以先使用指令单独创建一个2048的页面</p>\n<p><code>hexo new pages &quot;页面名称&quot;</code></p>\n<p>然后使用工具编辑<code>“页面名称”/index.md</code></p>\n<h1 id=\"使用方法\"><a href=\"#使用方法\" class=\"headerlink\" title=\"使用方法\"></a>使用方法</h1><p>直接将代码复制到Hexo的Markdown文章（<code>.md</code>文件）中，部署后即可在博客中运行，无需额外配置。如需调整大小，修改容器的<code>max-width</code>样式即可。</p>\n<h1 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=&quot;game-2048-container&quot; style=&quot;max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;&quot;&gt;</span><br><span class=\"line\">  &lt;!-- 分数与控制区 --&gt;</span><br><span class=\"line\">  &lt;div style=&quot;display: flex; justify-content: space-between; margin-bottom: 15px; font-family: &#x27;Segoe UI&#x27;, Arial;&quot;&gt;</span><br><span class=\"line\">    &lt;div style=&quot;font-size: 24px; font-weight: bold; color: var(--text-color);&quot;&gt;2048&lt;/div&gt;</span><br><span class=\"line\">    &lt;div style=&quot;background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;&quot;&gt;</span><br><span class=\"line\">      分数: &lt;span id=&quot;score-2048&quot;&gt;0&lt;/span&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div style=&quot;display: flex; gap: 5px;&quot;&gt;</span><br><span class=\"line\">      &lt;!-- 按钮增大点击区域并添加触摸反馈 --&gt;</span><br><span class=\"line\">      &lt;button id=&quot;undo-2048&quot; style=&quot;background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;&quot; disabled&gt;</span><br><span class=\"line\">        撤回</span><br><span class=\"line\">      &lt;/button&gt;</span><br><span class=\"line\">      &lt;button id=&quot;reset-2048&quot; style=&quot;background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;&quot;&gt;</span><br><span class=\"line\">        重置</span><br><span class=\"line\">      &lt;/button&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">  </span><br><span class=\"line\">  &lt;!-- 游戏棋盘 --&gt;</span><br><span class=\"line\">  &lt;div id=&quot;game-2048-board&quot; style=&quot;display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">  </span><br><span class=\"line\">  &lt;!-- 操作说明 --&gt;</span><br><span class=\"line\">  &lt;div style=&quot;margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: &#x27;Segoe UI&#x27;, Arial;&quot;&gt;</span><br><span class=\"line\">    &lt;p&gt;操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并&lt;/p&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">const container = document.getElementById(&#x27;game-2048-container&#x27;);</span><br><span class=\"line\">if (container) &#123;</span><br><span class=\"line\">  // 获取DOM元素</span><br><span class=\"line\">  const boardEl = container.querySelector(&#x27;#game-2048-board&#x27;);</span><br><span class=\"line\">  const scoreEl = container.querySelector(&#x27;#score-2048&#x27;);</span><br><span class=\"line\">  const resetBtn = container.querySelector(&#x27;#reset-2048&#x27;);</span><br><span class=\"line\">  const undoBtn = container.querySelector(&#x27;#undo-2048&#x27;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 游戏配置</span><br><span class=\"line\">  const SIZE = 4;</span><br><span class=\"line\">  let grid = [];</span><br><span class=\"line\">  let score = 0;</span><br><span class=\"line\">  let isDarkMode = false;</span><br><span class=\"line\">  let history = [];</span><br><span class=\"line\">  let isTouching = false;</span><br><span class=\"line\">  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 颜色映射（保持不变）</span><br><span class=\"line\">  const getColors = (value) =&gt; &#123;</span><br><span class=\"line\">    const colors = &#123;</span><br><span class=\"line\">      2: &#123; bg: isDarkMode ? &#x27;#3a3a3a&#x27; : &#x27;#eee4da&#x27;, text: isDarkMode ? &#x27;#fff&#x27; : &#x27;#776e65&#x27; &#125;,</span><br><span class=\"line\">      4: &#123; bg: isDarkMode ? &#x27;#4a4a4a&#x27; : &#x27;#ede0c8&#x27;, text: isDarkMode ? &#x27;#fff&#x27; : &#x27;#776e65&#x27; &#125;,</span><br><span class=\"line\">      8: &#123; bg: isDarkMode ? &#x27;#ff9966&#x27; : &#x27;#f2b179&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      16: &#123; bg: isDarkMode ? &#x27;#ff7733&#x27; : &#x27;#f59563&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      32: &#123; bg: isDarkMode ? &#x27;#ff5500&#x27; : &#x27;#f67c5f&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      64: &#123; bg: isDarkMode ? &#x27;#ff3300&#x27; : &#x27;#f65e3b&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      128: &#123; bg: isDarkMode ? &#x27;#ffcc66&#x27; : &#x27;#edcf72&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      256: &#123; bg: isDarkMode ? &#x27;#ffbb33&#x27; : &#x27;#edcc61&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      512: &#123; bg: isDarkMode ? &#x27;#ffaa00&#x27; : &#x27;#edc850&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      1024: &#123; bg: isDarkMode ? &#x27;#ff9900&#x27; : &#x27;#edc53f&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      2048: &#123; bg: isDarkMode ? &#x27;#ff8800&#x27; : &#x27;#edc22e&#x27;, text: &#x27;#f9f6f2&#x27; &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    if (!colors[value]) &#123;</span><br><span class=\"line\">      colors[value] = &#123; bg: isDarkMode ? &#x27;#ff5555&#x27; : &#x27;#3c3a32&#x27;, text: &#x27;#f9f6f2&#x27; &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return colors[value];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 初始化网格（保持不变）</span><br><span class=\"line\">  const initGrid = () =&gt; &#123;</span><br><span class=\"line\">    grid = Array(SIZE).fill().map(() =&gt; Array(SIZE).fill(0));</span><br><span class=\"line\">    score = 0;</span><br><span class=\"line\">    history = [];</span><br><span class=\"line\">    scoreEl.textContent = &#x27;0&#x27;;</span><br><span class=\"line\">    addRandomNumber();</span><br><span class=\"line\">    addRandomNumber();</span><br><span class=\"line\">    updateUndoBtn();</span><br><span class=\"line\">    renderGrid();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 保存历史记录（保持不变）</span><br><span class=\"line\">  const saveHistory = () =&gt; &#123;</span><br><span class=\"line\">    const gridCopy = JSON.parse(JSON.stringify(grid));</span><br><span class=\"line\">    history.push(&#123; grid: gridCopy, score: score &#125;);</span><br><span class=\"line\">    if (history.length &gt; 10) history.shift();</span><br><span class=\"line\">    updateUndoBtn();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 撤回操作（保持不变）</span><br><span class=\"line\">  const undoMove = () =&gt; &#123;</span><br><span class=\"line\">    if (history.length === 0) return;</span><br><span class=\"line\">    const lastState = history.pop();</span><br><span class=\"line\">    grid = lastState.grid;</span><br><span class=\"line\">    score = lastState.score;</span><br><span class=\"line\">    scoreEl.textContent = score;</span><br><span class=\"line\">    updateUndoBtn();</span><br><span class=\"line\">    renderGrid();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 更新撤回按钮状态（保持不变）</span><br><span class=\"line\">  const updateUndoBtn = () =&gt; &#123;</span><br><span class=\"line\">    undoBtn.disabled = history.length === 0;</span><br><span class=\"line\">    undoBtn.style.opacity = history.length === 0 ? &#x27;0.5&#x27; : &#x27;1&#x27;;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 随机生成数字（保持不变）</span><br><span class=\"line\">  const addRandomNumber = () =&gt; &#123;</span><br><span class=\"line\">    const emptyCells = [];</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === 0) emptyCells.push(&#123; i, j &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (emptyCells.length === 0) return false;</span><br><span class=\"line\">    const &#123; i, j &#125; = emptyCells[Math.floor(Math.random() * emptyCells.length)];</span><br><span class=\"line\">    grid[i][j] = Math.random() &lt; 0.9 ? 2 : 4;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 渲染网格（保持不变）</span><br><span class=\"line\">  const renderGrid = () =&gt; &#123;</span><br><span class=\"line\">    boardEl.innerHTML = &#x27;&#x27;;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        const cell = document.createElement(&#x27;div&#x27;);</span><br><span class=\"line\">        const value = grid[i][j];</span><br><span class=\"line\">        cell.style.width = &#x27;80px&#x27;;</span><br><span class=\"line\">        cell.style.height = &#x27;80px&#x27;;</span><br><span class=\"line\">        cell.style.borderRadius = &#x27;4px&#x27;;</span><br><span class=\"line\">        cell.style.display = &#x27;flex&#x27;;</span><br><span class=\"line\">        cell.style.alignItems = &#x27;center&#x27;;</span><br><span class=\"line\">        cell.style.justifyContent = &#x27;center&#x27;;</span><br><span class=\"line\">        cell.style.fontWeight = &#x27;bold&#x27;;</span><br><span class=\"line\">        cell.style.transition = &#x27;all 0.2s ease&#x27;;</span><br><span class=\"line\">        cell.style.fontFamily = &#x27;Arial, sans-serif&#x27;;</span><br><span class=\"line\">        </span><br><span class=\"line\">        if (value === 0) &#123;</span><br><span class=\"line\">          cell.style.background = isDarkMode ? &#x27;#2a2a2a&#x27; : &#x27;#cdc1b4&#x27;;</span><br><span class=\"line\">          cell.style.color = &#x27;transparent&#x27;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          const &#123; bg, text &#125; = getColors(value);</span><br><span class=\"line\">          cell.style.background = bg;</span><br><span class=\"line\">          cell.style.color = text;</span><br><span class=\"line\">          cell.style.fontSize = value &lt; 100 ? &#x27;24px&#x27; : value &lt; 1000 ? &#x27;20px&#x27; : &#x27;16px&#x27;;</span><br><span class=\"line\">          cell.textContent = value;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        boardEl.appendChild(cell);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 移动逻辑（保持不变）</span><br><span class=\"line\">  const moveLeft = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 1; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = j;</span><br><span class=\"line\">          while (k &gt; 0 &amp;&amp; grid[i][k - 1] === 0) &#123;</span><br><span class=\"line\">            grid[i][k - 1] = grid[i][k];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            k--;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &gt; 0 &amp;&amp; grid[i][k - 1] === grid[i][k]) &#123;</span><br><span class=\"line\">            grid[i][k - 1] *= 2;</span><br><span class=\"line\">            score += grid[i][k - 1];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const moveRight = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = SIZE - 2; j &gt;= 0; j--) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = j;</span><br><span class=\"line\">          while (k &lt; SIZE - 1 &amp;&amp; grid[i][k + 1] === 0) &#123;</span><br><span class=\"line\">            grid[i][k + 1] = grid[i][k];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            k++;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &lt; SIZE - 1 &amp;&amp; grid[i][k + 1] === grid[i][k]) &#123;</span><br><span class=\"line\">            grid[i][k + 1] *= 2;</span><br><span class=\"line\">            score += grid[i][k + 1];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const moveUp = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">      for (let i = 1; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = i;</span><br><span class=\"line\">          while (k &gt; 0 &amp;&amp; grid[k - 1][j] === 0) &#123;</span><br><span class=\"line\">            grid[k - 1][j] = grid[k][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            k--;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &gt; 0 &amp;&amp; grid[k - 1][j] === grid[k][j]) &#123;</span><br><span class=\"line\">            grid[k - 1][j] *= 2;</span><br><span class=\"line\">            score += grid[k - 1][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const moveDown = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">      for (let i = SIZE - 2; i &gt;= 0; i--) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = i;</span><br><span class=\"line\">          while (k &lt; SIZE - 1 &amp;&amp; grid[k + 1][j] === 0) &#123;</span><br><span class=\"line\">            grid[k + 1][j] = grid[k][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            k++;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &lt; SIZE - 1 &amp;&amp; grid[k + 1][j] === grid[k][j]) &#123;</span><br><span class=\"line\">            grid[k + 1][j] *= 2;</span><br><span class=\"line\">            score += grid[k + 1][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 处理移动（保持不变）</span><br><span class=\"line\">  const handleMove = (direction) =&gt; &#123;</span><br><span class=\"line\">    let moved;</span><br><span class=\"line\">    switch (direction) &#123;</span><br><span class=\"line\">      case &#x27;left&#x27;: moved = moveLeft(); break;</span><br><span class=\"line\">      case &#x27;right&#x27;: moved = moveRight(); break;</span><br><span class=\"line\">      case &#x27;up&#x27;: moved = moveUp(); break;</span><br><span class=\"line\">      case &#x27;down&#x27;: moved = moveDown(); break;</span><br><span class=\"line\">      default: return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    if (moved) &#123;</span><br><span class=\"line\">      saveHistory();</span><br><span class=\"line\">      scoreEl.textContent = score;</span><br><span class=\"line\">      addRandomNumber();</span><br><span class=\"line\">      renderGrid();</span><br><span class=\"line\">      checkGameState();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 检查游戏状态（保持不变）</span><br><span class=\"line\">  const checkGameState = () =&gt; &#123;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === 2048) &#123;</span><br><span class=\"line\">          setTimeout(() =&gt; alert(&#x27;恭喜你赢了！&#x27;), 300);</span><br><span class=\"line\">          return;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === 0) return;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE - 1; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === grid[i][j + 1]) return;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">      for (let i = 0; i &lt; SIZE - 1; i++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === grid[i + 1][j]) return;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    setTimeout(() =&gt; alert(&#x27;游戏结束！得分：&#x27; + score), 300);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 明暗模式适配（保持不变）</span><br><span class=\"line\">  const checkThemeMode = () =&gt; &#123;</span><br><span class=\"line\">    isDarkMode = document.documentElement.classList.contains(&#x27;dark&#x27;);</span><br><span class=\"line\">    renderGrid();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const themeObserver = new MutationObserver(() =&gt; checkThemeMode());</span><br><span class=\"line\">  themeObserver.observe(document.documentElement, &#123; attributes: true &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 键盘控制（保持不变）</span><br><span class=\"line\">  const handleKeydown = (e) =&gt; &#123;</span><br><span class=\"line\">    switch (e.key) &#123;</span><br><span class=\"line\">      case &#x27;ArrowLeft&#x27;: handleMove(&#x27;left&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      case &#x27;ArrowRight&#x27;: handleMove(&#x27;right&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      case &#x27;ArrowUp&#x27;: handleMove(&#x27;up&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      case &#x27;ArrowDown&#x27;: handleMove(&#x27;down&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      default: return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触屏控制（核心修复：区分按钮和棋盘触摸）</span><br><span class=\"line\">  let touchStartX = 0, touchStartY = 0;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触摸开始：记录目标元素</span><br><span class=\"line\">  const handleTouchStart = (e) =&gt; &#123;</span><br><span class=\"line\">    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）</span><br><span class=\"line\">    // 只有触摸棋盘时才处理滑动逻辑</span><br><span class=\"line\">    if (touchTarget === boardEl || boardEl.contains(touchTarget)) &#123;</span><br><span class=\"line\">      isTouching = true;</span><br><span class=\"line\">      touchStartX = e.touches[0].clientX;</span><br><span class=\"line\">      touchStartY = e.touches[0].clientY;</span><br><span class=\"line\">      e.preventDefault();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 触摸按钮时不阻止默认行为，确保点击有效</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触摸移动：只在触摸棋盘时阻止滚动</span><br><span class=\"line\">  const handleTouchMove = (e) =&gt; &#123;</span><br><span class=\"line\">    if (isTouching &amp;&amp; (touchTarget === boardEl || boardEl.contains(touchTarget))) &#123;</span><br><span class=\"line\">      e.preventDefault(); // 仅棋盘滑动阻止滚动</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触摸结束：区分处理</span><br><span class=\"line\">  const handleTouchEnd = (e) =&gt; &#123;</span><br><span class=\"line\">    if (isTouching) &#123;</span><br><span class=\"line\">      isTouching = false;</span><br><span class=\"line\">      const touchEndX = e.changedTouches[0].clientX;</span><br><span class=\"line\">      const touchEndY = e.changedTouches[0].clientY;</span><br><span class=\"line\">      const diffX = touchEndX - touchStartX;</span><br><span class=\"line\">      const diffY = touchEndY - touchStartY;</span><br><span class=\"line\">      </span><br><span class=\"line\">      if (Math.abs(diffX) &gt; 30 || Math.abs(diffY) &gt; 30) &#123;</span><br><span class=\"line\">        if (Math.abs(diffX) &gt; Math.abs(diffY)) &#123;</span><br><span class=\"line\">          diffX &gt; 0 ? handleMove(&#x27;right&#x27;) : handleMove(&#x27;left&#x27;);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          diffY &gt; 0 ? handleMove(&#x27;down&#x27;) : handleMove(&#x27;up&#x27;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      e.preventDefault();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    touchTarget = null; // 重置触摸目标</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 为按钮添加专门的触摸事件（解决移动端点击无反应）</span><br><span class=\"line\">  const handleButtonTouch = (callback) =&gt; &#123;</span><br><span class=\"line\">    return (e) =&gt; &#123;</span><br><span class=\"line\">      e.stopPropagation(); // 阻止事件冒泡到容器</span><br><span class=\"line\">      callback();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 事件绑定（优化版）</span><br><span class=\"line\">  document.addEventListener(&#x27;keydown&#x27;, handleKeydown);</span><br><span class=\"line\">  container.addEventListener(&#x27;touchstart&#x27;, handleTouchStart, &#123; passive: false &#125;);</span><br><span class=\"line\">  container.addEventListener(&#x27;touchmove&#x27;, handleTouchMove, &#123; passive: false &#125;);</span><br><span class=\"line\">  container.addEventListener(&#x27;touchend&#x27;, handleTouchEnd, &#123; passive: false &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 按钮单独绑定触摸和点击事件，确保移动端响应</span><br><span class=\"line\">  resetBtn.addEventListener(&#x27;click&#x27;, initGrid);</span><br><span class=\"line\">  resetBtn.addEventListener(&#x27;touchstart&#x27;, handleButtonTouch(initGrid), &#123; passive: true &#125;);</span><br><span class=\"line\">  undoBtn.addEventListener(&#x27;click&#x27;, undoMove);</span><br><span class=\"line\">  undoBtn.addEventListener(&#x27;touchstart&#x27;, handleButtonTouch(undoMove), &#123; passive: true &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 初始化</span><br><span class=\"line\">  checkThemeMode();</span><br><span class=\"line\">  initGrid();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h1><ul>\n<li>触控模式稍微有点bug，刷新一下能恢复</li>\n</ul>\n<h1 id=\"截图\"><a href=\"#截图\" class=\"headerlink\" title=\"截图\"></a>截图</h1><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/2048-1.jpg\"></p>\n<h1 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h1><p>本文章中的代码使用豆包AI修改而成，如有错误，请指出，酥米将会及时更改。</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><div class=\"note orange anzhiyufont anzhiyu-icon-bullhorn flat\"><p>截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀</p>\n</div>\n\n<p>最近看到彩蛋页空着，于是突发奇想，做一个2048小游戏嵌入在里面，于是我”请教“了万能的豆包，得到了以下项目</p>\n<h1 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h1><p>本站已经内嵌此项目，可以去康康哦~ </p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"/Fun/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">2048小游戏</div>\n            <div class=\"tag-link-sitename\">酥米的小站</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h1 id=\"优势\"><a href=\"#优势\" class=\"headerlink\" title=\"优势\"></a>优势</h1><ul>\n<li><p><strong>完全隔离，不干扰博客</strong></p>\n<ul>\n<li>所有元素和逻辑封装在独立容器 <code>game-2048-container</code> 中，通过内联样式和容器限定作用域，不会污染博客原有CSS和JS。</li>\n<li>不依赖任何外部资源（无图片、无字体文件），纯原生HTML+CSS+JS实现，加载速度快，不增加博客加载负担。</li>\n</ul>\n</li>\n<li><p><strong>适配Hexo Anzhiyu主题</strong></p>\n<ul>\n<li>明暗模式自动切换：通过检测主题 <code>html</code> 标签的 <code>dark</code> 类，动态调整方块颜色、背景色，确保在亮色&#x2F;暗色模式下都有清晰的视觉对比（例如暗色模式下方块用深色背景+浅色文字，亮色模式相反）。</li>\n<li>风格统一：使用主题内置CSS变量（<code>--card-bg</code> 卡片背景、<code>--text-color</code> 文字色等），与博客整体风格无缝融合。</li>\n</ul>\n</li>\n<li><p><strong>多设备交互友好</strong></p>\n<ul>\n<li>键盘控制：支持方向键（↑↓←→）移动方块，操作符合原版2048习惯。</li>\n<li>触屏优化：滑动屏幕（上下左右）可控制方块移动，滑动阈值合理（避免误触）。</li>\n<li>核心优化：通过 <code>e.preventDefault()</code> 和 <code>touch-action: none</code> 阻止触屏滑动时触发整个博客页面的滚动，专注游戏操作。</li>\n<li>操作反馈：按钮状态动态变化（如“撤回”按钮在无历史记录时禁用并半透明）。</li>\n</ul>\n</li>\n<li><p><strong>完整游戏功能</strong></p>\n<ul>\n<li>核心玩法：随机生成2&#x2F;4方块，滑动合并相同数字，目标合成2048。</li>\n<li>撤回功能：通过历史记录栈保存最近10步的游戏状态（网格+分数），点击“撤回”可回到上一步，提升容错性。</li>\n<li>状态判断：自动检测胜利（合成2048）和失败（无空位且无法合并），并弹窗提示。</li>\n<li>分数系统：实时显示当前分数，合并方块时自动累加。</li>\n</ul>\n</li>\n<li><p><strong>轻量精简</strong></p>\n<ul>\n<li>代码量约600行，逻辑清晰，无冗余代码。</li>\n<li>棋盘使用CSS Grid布局，自适应容器大小，在手机、电脑上均可正常显示（默认最大宽度400px，可按需调整）。</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"创建界面\"><a href=\"#创建界面\" class=\"headerlink\" title=\"创建界面\"></a>创建界面</h1><p>可以先使用指令单独创建一个2048的页面</p>\n<p><code>hexo new pages &quot;页面名称&quot;</code></p>\n<p>然后使用工具编辑<code>“页面名称”/index.md</code></p>\n<h1 id=\"使用方法\"><a href=\"#使用方法\" class=\"headerlink\" title=\"使用方法\"></a>使用方法</h1><p>直接将代码复制到Hexo的Markdown文章（<code>.md</code>文件）中，部署后即可在博客中运行，无需额外配置。如需调整大小，修改容器的<code>max-width</code>样式即可。</p>\n<h1 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=&quot;game-2048-container&quot; style=&quot;max-width: 400px; margin: 20px auto; padding: 15px; border-radius: 8px; transition: all 0.3s ease; background: var(--card-bg); touch-action: none;&quot;&gt;</span><br><span class=\"line\">  &lt;!-- 分数与控制区 --&gt;</span><br><span class=\"line\">  &lt;div style=&quot;display: flex; justify-content: space-between; margin-bottom: 15px; font-family: &#x27;Segoe UI&#x27;, Arial;&quot;&gt;</span><br><span class=\"line\">    &lt;div style=&quot;font-size: 24px; font-weight: bold; color: var(--text-color);&quot;&gt;2048&lt;/div&gt;</span><br><span class=\"line\">    &lt;div style=&quot;background: var(--primary-color); color: white; padding: 5px 10px; border-radius: 4px;&quot;&gt;</span><br><span class=\"line\">      分数: &lt;span id=&quot;score-2048&quot;&gt;0&lt;/span&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div style=&quot;display: flex; gap: 5px;&quot;&gt;</span><br><span class=\"line\">      &lt;!-- 按钮增大点击区域并添加触摸反馈 --&gt;</span><br><span class=\"line\">      &lt;button id=&quot;undo-2048&quot; style=&quot;background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; opacity: 0.5; touch-action: manipulation;&quot; disabled&gt;</span><br><span class=\"line\">        撤回</span><br><span class=\"line\">      &lt;/button&gt;</span><br><span class=\"line\">      &lt;button id=&quot;reset-2048&quot; style=&quot;background: var(--btn-bg); color: var(--btn-color); border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; touch-action: manipulation;&quot;&gt;</span><br><span class=\"line\">        重置</span><br><span class=\"line\">      &lt;/button&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">  </span><br><span class=\"line\">  &lt;!-- 游戏棋盘 --&gt;</span><br><span class=\"line\">  &lt;div id=&quot;game-2048-board&quot; style=&quot;display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">  </span><br><span class=\"line\">  &lt;!-- 操作说明 --&gt;</span><br><span class=\"line\">  &lt;div style=&quot;margin-top: 15px; font-size: 14px; color: var(--text-color); font-family: &#x27;Segoe UI&#x27;, Arial;&quot;&gt;</span><br><span class=\"line\">    &lt;p&gt;操作：方向键或滑动屏幕移动方块，相同数字碰撞将合并&lt;/p&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">const container = document.getElementById(&#x27;game-2048-container&#x27;);</span><br><span class=\"line\">if (container) &#123;</span><br><span class=\"line\">  // 获取DOM元素</span><br><span class=\"line\">  const boardEl = container.querySelector(&#x27;#game-2048-board&#x27;);</span><br><span class=\"line\">  const scoreEl = container.querySelector(&#x27;#score-2048&#x27;);</span><br><span class=\"line\">  const resetBtn = container.querySelector(&#x27;#reset-2048&#x27;);</span><br><span class=\"line\">  const undoBtn = container.querySelector(&#x27;#undo-2048&#x27;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 游戏配置</span><br><span class=\"line\">  const SIZE = 4;</span><br><span class=\"line\">  let grid = [];</span><br><span class=\"line\">  let score = 0;</span><br><span class=\"line\">  let isDarkMode = false;</span><br><span class=\"line\">  let history = [];</span><br><span class=\"line\">  let isTouching = false;</span><br><span class=\"line\">  let touchTarget = null; // 记录触摸目标，区分按钮和棋盘</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 颜色映射（保持不变）</span><br><span class=\"line\">  const getColors = (value) =&gt; &#123;</span><br><span class=\"line\">    const colors = &#123;</span><br><span class=\"line\">      2: &#123; bg: isDarkMode ? &#x27;#3a3a3a&#x27; : &#x27;#eee4da&#x27;, text: isDarkMode ? &#x27;#fff&#x27; : &#x27;#776e65&#x27; &#125;,</span><br><span class=\"line\">      4: &#123; bg: isDarkMode ? &#x27;#4a4a4a&#x27; : &#x27;#ede0c8&#x27;, text: isDarkMode ? &#x27;#fff&#x27; : &#x27;#776e65&#x27; &#125;,</span><br><span class=\"line\">      8: &#123; bg: isDarkMode ? &#x27;#ff9966&#x27; : &#x27;#f2b179&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      16: &#123; bg: isDarkMode ? &#x27;#ff7733&#x27; : &#x27;#f59563&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      32: &#123; bg: isDarkMode ? &#x27;#ff5500&#x27; : &#x27;#f67c5f&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      64: &#123; bg: isDarkMode ? &#x27;#ff3300&#x27; : &#x27;#f65e3b&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      128: &#123; bg: isDarkMode ? &#x27;#ffcc66&#x27; : &#x27;#edcf72&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      256: &#123; bg: isDarkMode ? &#x27;#ffbb33&#x27; : &#x27;#edcc61&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      512: &#123; bg: isDarkMode ? &#x27;#ffaa00&#x27; : &#x27;#edc850&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      1024: &#123; bg: isDarkMode ? &#x27;#ff9900&#x27; : &#x27;#edc53f&#x27;, text: &#x27;#f9f6f2&#x27; &#125;,</span><br><span class=\"line\">      2048: &#123; bg: isDarkMode ? &#x27;#ff8800&#x27; : &#x27;#edc22e&#x27;, text: &#x27;#f9f6f2&#x27; &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    if (!colors[value]) &#123;</span><br><span class=\"line\">      colors[value] = &#123; bg: isDarkMode ? &#x27;#ff5555&#x27; : &#x27;#3c3a32&#x27;, text: &#x27;#f9f6f2&#x27; &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return colors[value];</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 初始化网格（保持不变）</span><br><span class=\"line\">  const initGrid = () =&gt; &#123;</span><br><span class=\"line\">    grid = Array(SIZE).fill().map(() =&gt; Array(SIZE).fill(0));</span><br><span class=\"line\">    score = 0;</span><br><span class=\"line\">    history = [];</span><br><span class=\"line\">    scoreEl.textContent = &#x27;0&#x27;;</span><br><span class=\"line\">    addRandomNumber();</span><br><span class=\"line\">    addRandomNumber();</span><br><span class=\"line\">    updateUndoBtn();</span><br><span class=\"line\">    renderGrid();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 保存历史记录（保持不变）</span><br><span class=\"line\">  const saveHistory = () =&gt; &#123;</span><br><span class=\"line\">    const gridCopy = JSON.parse(JSON.stringify(grid));</span><br><span class=\"line\">    history.push(&#123; grid: gridCopy, score: score &#125;);</span><br><span class=\"line\">    if (history.length &gt; 10) history.shift();</span><br><span class=\"line\">    updateUndoBtn();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 撤回操作（保持不变）</span><br><span class=\"line\">  const undoMove = () =&gt; &#123;</span><br><span class=\"line\">    if (history.length === 0) return;</span><br><span class=\"line\">    const lastState = history.pop();</span><br><span class=\"line\">    grid = lastState.grid;</span><br><span class=\"line\">    score = lastState.score;</span><br><span class=\"line\">    scoreEl.textContent = score;</span><br><span class=\"line\">    updateUndoBtn();</span><br><span class=\"line\">    renderGrid();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 更新撤回按钮状态（保持不变）</span><br><span class=\"line\">  const updateUndoBtn = () =&gt; &#123;</span><br><span class=\"line\">    undoBtn.disabled = history.length === 0;</span><br><span class=\"line\">    undoBtn.style.opacity = history.length === 0 ? &#x27;0.5&#x27; : &#x27;1&#x27;;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 随机生成数字（保持不变）</span><br><span class=\"line\">  const addRandomNumber = () =&gt; &#123;</span><br><span class=\"line\">    const emptyCells = [];</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === 0) emptyCells.push(&#123; i, j &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if (emptyCells.length === 0) return false;</span><br><span class=\"line\">    const &#123; i, j &#125; = emptyCells[Math.floor(Math.random() * emptyCells.length)];</span><br><span class=\"line\">    grid[i][j] = Math.random() &lt; 0.9 ? 2 : 4;</span><br><span class=\"line\">    return true;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 渲染网格（保持不变）</span><br><span class=\"line\">  const renderGrid = () =&gt; &#123;</span><br><span class=\"line\">    boardEl.innerHTML = &#x27;&#x27;;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        const cell = document.createElement(&#x27;div&#x27;);</span><br><span class=\"line\">        const value = grid[i][j];</span><br><span class=\"line\">        cell.style.width = &#x27;80px&#x27;;</span><br><span class=\"line\">        cell.style.height = &#x27;80px&#x27;;</span><br><span class=\"line\">        cell.style.borderRadius = &#x27;4px&#x27;;</span><br><span class=\"line\">        cell.style.display = &#x27;flex&#x27;;</span><br><span class=\"line\">        cell.style.alignItems = &#x27;center&#x27;;</span><br><span class=\"line\">        cell.style.justifyContent = &#x27;center&#x27;;</span><br><span class=\"line\">        cell.style.fontWeight = &#x27;bold&#x27;;</span><br><span class=\"line\">        cell.style.transition = &#x27;all 0.2s ease&#x27;;</span><br><span class=\"line\">        cell.style.fontFamily = &#x27;Arial, sans-serif&#x27;;</span><br><span class=\"line\">        </span><br><span class=\"line\">        if (value === 0) &#123;</span><br><span class=\"line\">          cell.style.background = isDarkMode ? &#x27;#2a2a2a&#x27; : &#x27;#cdc1b4&#x27;;</span><br><span class=\"line\">          cell.style.color = &#x27;transparent&#x27;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          const &#123; bg, text &#125; = getColors(value);</span><br><span class=\"line\">          cell.style.background = bg;</span><br><span class=\"line\">          cell.style.color = text;</span><br><span class=\"line\">          cell.style.fontSize = value &lt; 100 ? &#x27;24px&#x27; : value &lt; 1000 ? &#x27;20px&#x27; : &#x27;16px&#x27;;</span><br><span class=\"line\">          cell.textContent = value;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        boardEl.appendChild(cell);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 移动逻辑（保持不变）</span><br><span class=\"line\">  const moveLeft = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 1; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = j;</span><br><span class=\"line\">          while (k &gt; 0 &amp;&amp; grid[i][k - 1] === 0) &#123;</span><br><span class=\"line\">            grid[i][k - 1] = grid[i][k];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            k--;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &gt; 0 &amp;&amp; grid[i][k - 1] === grid[i][k]) &#123;</span><br><span class=\"line\">            grid[i][k - 1] *= 2;</span><br><span class=\"line\">            score += grid[i][k - 1];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const moveRight = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = SIZE - 2; j &gt;= 0; j--) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = j;</span><br><span class=\"line\">          while (k &lt; SIZE - 1 &amp;&amp; grid[i][k + 1] === 0) &#123;</span><br><span class=\"line\">            grid[i][k + 1] = grid[i][k];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            k++;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &lt; SIZE - 1 &amp;&amp; grid[i][k + 1] === grid[i][k]) &#123;</span><br><span class=\"line\">            grid[i][k + 1] *= 2;</span><br><span class=\"line\">            score += grid[i][k + 1];</span><br><span class=\"line\">            grid[i][k] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const moveUp = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">      for (let i = 1; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = i;</span><br><span class=\"line\">          while (k &gt; 0 &amp;&amp; grid[k - 1][j] === 0) &#123;</span><br><span class=\"line\">            grid[k - 1][j] = grid[k][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            k--;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &gt; 0 &amp;&amp; grid[k - 1][j] === grid[k][j]) &#123;</span><br><span class=\"line\">            grid[k - 1][j] *= 2;</span><br><span class=\"line\">            score += grid[k - 1][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const moveDown = () =&gt; &#123;</span><br><span class=\"line\">    let moved = false;</span><br><span class=\"line\">    for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">      for (let i = SIZE - 2; i &gt;= 0; i--) &#123;</span><br><span class=\"line\">        if (grid[i][j] !== 0) &#123;</span><br><span class=\"line\">          let k = i;</span><br><span class=\"line\">          while (k &lt; SIZE - 1 &amp;&amp; grid[k + 1][j] === 0) &#123;</span><br><span class=\"line\">            grid[k + 1][j] = grid[k][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            k++;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          if (k &lt; SIZE - 1 &amp;&amp; grid[k + 1][j] === grid[k][j]) &#123;</span><br><span class=\"line\">            grid[k + 1][j] *= 2;</span><br><span class=\"line\">            score += grid[k + 1][j];</span><br><span class=\"line\">            grid[k][j] = 0;</span><br><span class=\"line\">            moved = true;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return moved;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 处理移动（保持不变）</span><br><span class=\"line\">  const handleMove = (direction) =&gt; &#123;</span><br><span class=\"line\">    let moved;</span><br><span class=\"line\">    switch (direction) &#123;</span><br><span class=\"line\">      case &#x27;left&#x27;: moved = moveLeft(); break;</span><br><span class=\"line\">      case &#x27;right&#x27;: moved = moveRight(); break;</span><br><span class=\"line\">      case &#x27;up&#x27;: moved = moveUp(); break;</span><br><span class=\"line\">      case &#x27;down&#x27;: moved = moveDown(); break;</span><br><span class=\"line\">      default: return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    if (moved) &#123;</span><br><span class=\"line\">      saveHistory();</span><br><span class=\"line\">      scoreEl.textContent = score;</span><br><span class=\"line\">      addRandomNumber();</span><br><span class=\"line\">      renderGrid();</span><br><span class=\"line\">      checkGameState();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 检查游戏状态（保持不变）</span><br><span class=\"line\">  const checkGameState = () =&gt; &#123;</span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === 2048) &#123;</span><br><span class=\"line\">          setTimeout(() =&gt; alert(&#x27;恭喜你赢了！&#x27;), 300);</span><br><span class=\"line\">          return;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === 0) return;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    for (let i = 0; i &lt; SIZE; i++) &#123;</span><br><span class=\"line\">      for (let j = 0; j &lt; SIZE - 1; j++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === grid[i][j + 1]) return;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    for (let j = 0; j &lt; SIZE; j++) &#123;</span><br><span class=\"line\">      for (let i = 0; i &lt; SIZE - 1; i++) &#123;</span><br><span class=\"line\">        if (grid[i][j] === grid[i + 1][j]) return;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    setTimeout(() =&gt; alert(&#x27;游戏结束！得分：&#x27; + score), 300);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 明暗模式适配（保持不变）</span><br><span class=\"line\">  const checkThemeMode = () =&gt; &#123;</span><br><span class=\"line\">    isDarkMode = document.documentElement.classList.contains(&#x27;dark&#x27;);</span><br><span class=\"line\">    renderGrid();</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  const themeObserver = new MutationObserver(() =&gt; checkThemeMode());</span><br><span class=\"line\">  themeObserver.observe(document.documentElement, &#123; attributes: true &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 键盘控制（保持不变）</span><br><span class=\"line\">  const handleKeydown = (e) =&gt; &#123;</span><br><span class=\"line\">    switch (e.key) &#123;</span><br><span class=\"line\">      case &#x27;ArrowLeft&#x27;: handleMove(&#x27;left&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      case &#x27;ArrowRight&#x27;: handleMove(&#x27;right&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      case &#x27;ArrowUp&#x27;: handleMove(&#x27;up&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      case &#x27;ArrowDown&#x27;: handleMove(&#x27;down&#x27;); e.preventDefault(); break;</span><br><span class=\"line\">      default: return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触屏控制（核心修复：区分按钮和棋盘触摸）</span><br><span class=\"line\">  let touchStartX = 0, touchStartY = 0;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触摸开始：记录目标元素</span><br><span class=\"line\">  const handleTouchStart = (e) =&gt; &#123;</span><br><span class=\"line\">    touchTarget = e.target; // 记录触摸的元素（按钮或棋盘）</span><br><span class=\"line\">    // 只有触摸棋盘时才处理滑动逻辑</span><br><span class=\"line\">    if (touchTarget === boardEl || boardEl.contains(touchTarget)) &#123;</span><br><span class=\"line\">      isTouching = true;</span><br><span class=\"line\">      touchStartX = e.touches[0].clientX;</span><br><span class=\"line\">      touchStartY = e.touches[0].clientY;</span><br><span class=\"line\">      e.preventDefault();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 触摸按钮时不阻止默认行为，确保点击有效</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触摸移动：只在触摸棋盘时阻止滚动</span><br><span class=\"line\">  const handleTouchMove = (e) =&gt; &#123;</span><br><span class=\"line\">    if (isTouching &amp;&amp; (touchTarget === boardEl || boardEl.contains(touchTarget))) &#123;</span><br><span class=\"line\">      e.preventDefault(); // 仅棋盘滑动阻止滚动</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 触摸结束：区分处理</span><br><span class=\"line\">  const handleTouchEnd = (e) =&gt; &#123;</span><br><span class=\"line\">    if (isTouching) &#123;</span><br><span class=\"line\">      isTouching = false;</span><br><span class=\"line\">      const touchEndX = e.changedTouches[0].clientX;</span><br><span class=\"line\">      const touchEndY = e.changedTouches[0].clientY;</span><br><span class=\"line\">      const diffX = touchEndX - touchStartX;</span><br><span class=\"line\">      const diffY = touchEndY - touchStartY;</span><br><span class=\"line\">      </span><br><span class=\"line\">      if (Math.abs(diffX) &gt; 30 || Math.abs(diffY) &gt; 30) &#123;</span><br><span class=\"line\">        if (Math.abs(diffX) &gt; Math.abs(diffY)) &#123;</span><br><span class=\"line\">          diffX &gt; 0 ? handleMove(&#x27;right&#x27;) : handleMove(&#x27;left&#x27;);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          diffY &gt; 0 ? handleMove(&#x27;down&#x27;) : handleMove(&#x27;up&#x27;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      e.preventDefault();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    touchTarget = null; // 重置触摸目标</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 为按钮添加专门的触摸事件（解决移动端点击无反应）</span><br><span class=\"line\">  const handleButtonTouch = (callback) =&gt; &#123;</span><br><span class=\"line\">    return (e) =&gt; &#123;</span><br><span class=\"line\">      e.stopPropagation(); // 阻止事件冒泡到容器</span><br><span class=\"line\">      callback();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 事件绑定（优化版）</span><br><span class=\"line\">  document.addEventListener(&#x27;keydown&#x27;, handleKeydown);</span><br><span class=\"line\">  container.addEventListener(&#x27;touchstart&#x27;, handleTouchStart, &#123; passive: false &#125;);</span><br><span class=\"line\">  container.addEventListener(&#x27;touchmove&#x27;, handleTouchMove, &#123; passive: false &#125;);</span><br><span class=\"line\">  container.addEventListener(&#x27;touchend&#x27;, handleTouchEnd, &#123; passive: false &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 按钮单独绑定触摸和点击事件，确保移动端响应</span><br><span class=\"line\">  resetBtn.addEventListener(&#x27;click&#x27;, initGrid);</span><br><span class=\"line\">  resetBtn.addEventListener(&#x27;touchstart&#x27;, handleButtonTouch(initGrid), &#123; passive: true &#125;);</span><br><span class=\"line\">  undoBtn.addEventListener(&#x27;click&#x27;, undoMove);</span><br><span class=\"line\">  undoBtn.addEventListener(&#x27;touchstart&#x27;, handleButtonTouch(undoMove), &#123; passive: true &#125;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 初始化</span><br><span class=\"line\">  checkThemeMode();</span><br><span class=\"line\">  initGrid();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h1><ul>\n<li>触控模式稍微有点bug，刷新一下能恢复</li>\n</ul>\n<h1 id=\"截图\"><a href=\"#截图\" class=\"headerlink\" title=\"截图\"></a>截图</h1><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/2048-1.jpg\"></p>\n<h1 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h1><p>本文章中的代码使用豆包AI修改而成，如有错误，请指出，酥米将会及时更改。</p>\n"},{"title":"MacOS X 10.0 Developer Preview 3安装教程（附酥米的MacOS的小记说说）","description":"MacOS X 10.0 Developer Preview 3安装教程（附酥米的MacOS的小记说说）","summary":"酥米小机器人来啦，这篇文章讲述了如何安装MacOS X 10.0 Developer Preview 3。前言指出MacOS Classic系统因历史包袱，存在协作式多任务管理及内存缺乏保护的问题，程序崩溃甚至会导致系统瘫痪。转折回顾了苹果对全新内核探索未果，但乔布斯带回NeXTSTEP并发展为基础架构，随着Rhapsody发布，最终演进为现代MacOS系统的早期面貌。安装部分使用QEMU模拟器，需从网络下载镜体及操作系统ISO，通过编写脚本启动虚拟机。接着借助MacOS9光盘完成磁盘分区与操作系统安装，安装后进行一系列设置包括密码设定、网络配置、区域及时间选择等，最后达成自动登录或普通启动，标志着初代MacOS X体验环境搭建完毕。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).jpg","date":"2024-11-26T11:17:13.000Z","_content":"\n### 前记\n\n在MacOS X之前的MacOS，是属于Classic系列的传统操作系统，由于历史包袱的原因，MacOS Classic对多任务的支持并不完善，采用的是基于程序的协作式多任务管理，把内存依托于应用程序分配，再且加上Classic中并没有所谓的内存保护，导致程序和系统处在同一内存空间中，这就导致一个问题，当程序发生崩溃时，整个系统也会随之崩溃。\n\n![MacOS Classic](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).jpg)\n\nApple尝试过修复或者完善这些“烂摊子”，但是由于系统历史包袱原因，系统框架过于老旧。再是后期推出的的系统扩展，系统扩展由第三方或官方提供，可以扩展系统功能或者添加驱动，这就导致一个问题，因为Classic所有的应用扩展驱动系统都是在一个空间内，没有进行隔离，如果扩展冲突或者报错，机子将会连系统一起’宕机‘。\n\n### 转折\n\n苹果也陆陆续续尝试过如copland和AU/X的全新内核的系统，但无一例外，都失败了。直到1997年，苹果收购NeXT公司，被遣退的乔布斯带着NeXTSTEP回到苹果掌舵，NeXTSTEP是乔布斯基于Mach和BSD研发的操作系统，具有完善的GUI，面向对象和Objective-C，强大的多媒体功能，这在当时是十分超前的的。苹果基于NeXTSTEP开发出了现MacOS X Darwin的前身XNU混合内核，之后在1997年中发布了Rhapsody预览开发版，这就是MacOS X的前身……\n\n![NeXTSTEP](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).jpg)\n\n之后的事情大家都知道，Rhapsody的大部分组件大幅度得到保留并且逐步完善，并且一步步成为现在的MacOS系统。\n\n### 安装\n\n好啦！酥米扯远了，接下来要体验的版本就是初代MacOS X10.0的预览版本DP3，说起这个预览版本还是很有趣的，DP1和DP2和Rhapsody差不多，用的也是Platinum的界面，还是NeXT+MacOS Classic的味道。但是来到DP3，事情将会截然不同起来，DP3引入了全新的Aqua界面，提升了系统的精致程度（顺带提一嘴，这个aqua界面修修补补用到现在的MacOS最新版）\n\n#### Qemu\n这次我们使用Qemu-system-ppc进行模拟安装\n镜像可以在WinWorldPC中下载\n下载链接：\n\n{% link WinWorldPC,镜像下载链接,http://www.emaculation.com/forum/viewtopic.php?f=34&t=9028 %}\n\n首先将qemu-system-pc解压在目录，然后编写一个Bat脚本用于启动qemu虚拟机\n```\nqemu-system-ppc.exe ^\n-L pc-bios ^\n-M g3beige ^\n-cpu G3 ^\n-m 512 ^\n-drive file=mac.img,format=raw,media=disk ^  ##虚拟磁盘地址，可以通过qemu-img创建，需8g以上\n-drive file=Mdp2.iso,format=raw,media=cdrom ^ ## 安装镜像地址\n-prom-env \"vga-ndrv?-true\" ^\n-prom-env \"boot-device=cd:9,\\\\:tbxi\" ^\n-usb ^\n-netdev user,id=network01 -device sungem,netdev=network01 ^\n-device VGA,edid=on ^\n-boot c\n```\n#### 磁盘分区\n由于DP版本没有磁盘管理工具，所以需要借助MacOS9的启动光盘进行分区,按照图中进行操作就行\n- 打开磁盘分区工具\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/082c7e3d-a76a-44da-94b3-561fed6a306d933d5c1c097fe20b.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/b3bede69-ba0e-4ab7-b395-6fca629d892d64f4b84c3853ac43.png)\n\n- 选中刚刚的虚拟磁盘，点击Initialize\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(5).png)\n\n- 再次选择Initialize\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/4d88753e-b7e5-4d36-b6d3-2dddf21b055d87520d3fb48e80d7.png)\n\n至此磁盘的分区步骤全部完毕，接下来就是安装系统啦！\n\n### 正式安装\n- 将虚拟机关机，更换光盘镜像，再次启动虚拟机，等待开机……\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(13).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/288631E8586752E8507D5DCC3B077CF7b3b611b98f705add.png)\n\n- 选择Continue继续\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(19).png)\n\n- 选择下一步并且Agree\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(16).png)\n\n- 然后选择硬盘下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(3).png)\n\n- 然后按install进行安装\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(12).png)\n\n- 安装ing……\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/754908397BAF9C1028F57134BAA3C458600fdd045b1f72b8.png)\n\n- 安装完成啦！不要让模拟器自动重启哦，直接关闭模拟器，进行下一步操作\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/55abc630-feb1-4a66-b2b4-b89de93c2a30fb098cd1894a107a.png)\n#### 正式启动前的最后配置\n- 将虚拟机启动脚本的下列稍加修改，让模拟器使用硬盘启动\n\n修改前\n```\n-boot c # 启动设备\n-prom-env \"boot-device=cd:9,\\\\:tbxi\" ^ # 指定启动设备\n```\n修改后\n```\n-boot d #把c改成d，d为硬盘启动，c为从光盘启动\n# 去掉了指定启动设备语句\n```\n- 再次打开模拟器，就可以慢慢等待模拟器启动啦！\n- 进系统啦！第一次安装完会弹出设置助理\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(21).png)\n\n- 点击右下角的箭头下一步\n- 这里输入管理员的密码，然后下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(20).png)\n\n- 这里网络设置直接跳过，选择下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(22).png)\n\n- 这里直接下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(9).png)\n\n- 这里是DNS和域名设置，不设置直接下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(18).png)\n\n- 这里是远程登录，可开可不开，选完直接下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).png)\n\n- 地区设置\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(17).png)\n\n- 时间设置\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(4).png)\n\n- 用户设置，选择Add可以创建用户\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(11).png)\n\n- 自动登录，可以选择自动并且输入账户密码，可选可不选\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(15).png)\n\n- 设置预览，没有问题就可以选择go ahead继续啦\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(10).png)\n\n#### 完成安装啦！\n- 重启之后就可以享受新界面带来的赏心悦目了，Enjoy it! :)\n附上一些系统截图\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/396F014F493B905FD9C40FFB95F1E9C242d67356d36b8391.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(8).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(14).png)\n\n### 视频版\n#### 本教程根据视频版编写\n\n<iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=959704963&bvid=BV1rp4y1u7ep&cid=1298459925&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\" > </iframe>","source":"_posts/教程/MacOSXDP3install.md","raw":"---\ntitle: MacOS X 10.0 Developer Preview 3安装教程（附酥米的MacOS的小记说说）\ndescription: MacOS X 10.0 Developer Preview 3安装教程（附酥米的MacOS的小记说说）\nsummary: >-\n  酥米小机器人来啦，这篇文章讲述了如何安装MacOS X 10.0 Developer Preview 3。前言指出MacOS\n  Classic系统因历史包袱，存在协作式多任务管理及内存缺乏保护的问题，程序崩溃甚至会导致系统瘫痪。转折回顾了苹果对全新内核探索未果，但乔布斯带回NeXTSTEP并发展为基础架构，随着Rhapsody发布，最终演进为现代MacOS系统的早期面貌。安装部分使用QEMU模拟器，需从网络下载镜体及操作系统ISO，通过编写脚本启动虚拟机。接着借助MacOS9光盘完成磁盘分区与操作系统安装，安装后进行一系列设置包括密码设定、网络配置、区域及时间选择等，最后达成自动登录或普通启动，标志着初代MacOS\n  X体验环境搭建完毕。\ntags:\n  - 系统\n  - 苹果\ncategories: 教程类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).jpg\ndate: 2024-11-26 19:17:13\n---\n\n### 前记\n\n在MacOS X之前的MacOS，是属于Classic系列的传统操作系统，由于历史包袱的原因，MacOS Classic对多任务的支持并不完善，采用的是基于程序的协作式多任务管理，把内存依托于应用程序分配，再且加上Classic中并没有所谓的内存保护，导致程序和系统处在同一内存空间中，这就导致一个问题，当程序发生崩溃时，整个系统也会随之崩溃。\n\n![MacOS Classic](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).jpg)\n\nApple尝试过修复或者完善这些“烂摊子”，但是由于系统历史包袱原因，系统框架过于老旧。再是后期推出的的系统扩展，系统扩展由第三方或官方提供，可以扩展系统功能或者添加驱动，这就导致一个问题，因为Classic所有的应用扩展驱动系统都是在一个空间内，没有进行隔离，如果扩展冲突或者报错，机子将会连系统一起’宕机‘。\n\n### 转折\n\n苹果也陆陆续续尝试过如copland和AU/X的全新内核的系统，但无一例外，都失败了。直到1997年，苹果收购NeXT公司，被遣退的乔布斯带着NeXTSTEP回到苹果掌舵，NeXTSTEP是乔布斯基于Mach和BSD研发的操作系统，具有完善的GUI，面向对象和Objective-C，强大的多媒体功能，这在当时是十分超前的的。苹果基于NeXTSTEP开发出了现MacOS X Darwin的前身XNU混合内核，之后在1997年中发布了Rhapsody预览开发版，这就是MacOS X的前身……\n\n![NeXTSTEP](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).jpg)\n\n之后的事情大家都知道，Rhapsody的大部分组件大幅度得到保留并且逐步完善，并且一步步成为现在的MacOS系统。\n\n### 安装\n\n好啦！酥米扯远了，接下来要体验的版本就是初代MacOS X10.0的预览版本DP3，说起这个预览版本还是很有趣的，DP1和DP2和Rhapsody差不多，用的也是Platinum的界面，还是NeXT+MacOS Classic的味道。但是来到DP3，事情将会截然不同起来，DP3引入了全新的Aqua界面，提升了系统的精致程度（顺带提一嘴，这个aqua界面修修补补用到现在的MacOS最新版）\n\n#### Qemu\n这次我们使用Qemu-system-ppc进行模拟安装\n镜像可以在WinWorldPC中下载\n下载链接：\n\n{% link WinWorldPC,镜像下载链接,http://www.emaculation.com/forum/viewtopic.php?f=34&t=9028 %}\n\n首先将qemu-system-pc解压在目录，然后编写一个Bat脚本用于启动qemu虚拟机\n```\nqemu-system-ppc.exe ^\n-L pc-bios ^\n-M g3beige ^\n-cpu G3 ^\n-m 512 ^\n-drive file=mac.img,format=raw,media=disk ^  ##虚拟磁盘地址，可以通过qemu-img创建，需8g以上\n-drive file=Mdp2.iso,format=raw,media=cdrom ^ ## 安装镜像地址\n-prom-env \"vga-ndrv?-true\" ^\n-prom-env \"boot-device=cd:9,\\\\:tbxi\" ^\n-usb ^\n-netdev user,id=network01 -device sungem,netdev=network01 ^\n-device VGA,edid=on ^\n-boot c\n```\n#### 磁盘分区\n由于DP版本没有磁盘管理工具，所以需要借助MacOS9的启动光盘进行分区,按照图中进行操作就行\n- 打开磁盘分区工具\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/082c7e3d-a76a-44da-94b3-561fed6a306d933d5c1c097fe20b.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/b3bede69-ba0e-4ab7-b395-6fca629d892d64f4b84c3853ac43.png)\n\n- 选中刚刚的虚拟磁盘，点击Initialize\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(5).png)\n\n- 再次选择Initialize\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/4d88753e-b7e5-4d36-b6d3-2dddf21b055d87520d3fb48e80d7.png)\n\n至此磁盘的分区步骤全部完毕，接下来就是安装系统啦！\n\n### 正式安装\n- 将虚拟机关机，更换光盘镜像，再次启动虚拟机，等待开机……\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(13).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/288631E8586752E8507D5DCC3B077CF7b3b611b98f705add.png)\n\n- 选择Continue继续\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(19).png)\n\n- 选择下一步并且Agree\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(16).png)\n\n- 然后选择硬盘下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(3).png)\n\n- 然后按install进行安装\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(12).png)\n\n- 安装ing……\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/754908397BAF9C1028F57134BAA3C458600fdd045b1f72b8.png)\n\n- 安装完成啦！不要让模拟器自动重启哦，直接关闭模拟器，进行下一步操作\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/55abc630-feb1-4a66-b2b4-b89de93c2a30fb098cd1894a107a.png)\n#### 正式启动前的最后配置\n- 将虚拟机启动脚本的下列稍加修改，让模拟器使用硬盘启动\n\n修改前\n```\n-boot c # 启动设备\n-prom-env \"boot-device=cd:9,\\\\:tbxi\" ^ # 指定启动设备\n```\n修改后\n```\n-boot d #把c改成d，d为硬盘启动，c为从光盘启动\n# 去掉了指定启动设备语句\n```\n- 再次打开模拟器，就可以慢慢等待模拟器启动啦！\n- 进系统啦！第一次安装完会弹出设置助理\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(21).png)\n\n- 点击右下角的箭头下一步\n- 这里输入管理员的密码，然后下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(20).png)\n\n- 这里网络设置直接跳过，选择下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(22).png)\n\n- 这里直接下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(9).png)\n\n- 这里是DNS和域名设置，不设置直接下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(18).png)\n\n- 这里是远程登录，可开可不开，选完直接下一步\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).png)\n\n- 地区设置\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(17).png)\n\n- 时间设置\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(4).png)\n\n- 用户设置，选择Add可以创建用户\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(11).png)\n\n- 自动登录，可以选择自动并且输入账户密码，可选可不选\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(15).png)\n\n- 设置预览，没有问题就可以选择go ahead继续啦\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(10).png)\n\n#### 完成安装啦！\n- 重启之后就可以享受新界面带来的赏心悦目了，Enjoy it! :)\n附上一些系统截图\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/396F014F493B905FD9C40FFB95F1E9C242d67356d36b8391.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(8).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(14).png)\n\n### 视频版\n#### 本教程根据视频版编写\n\n<iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=959704963&bvid=BV1rp4y1u7ep&cid=1298459925&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\" > </iframe>","slug":"教程/MacOSXDP3install","published":1,"updated":"2025-09-22T15:20:12.209Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561m004wg0fyanmpa6ep","content":"<h3 id=\"前记\"><a href=\"#前记\" class=\"headerlink\" title=\"前记\"></a>前记</h3><p>在MacOS X之前的MacOS，是属于Classic系列的传统操作系统，由于历史包袱的原因，MacOS Classic对多任务的支持并不完善，采用的是基于程序的协作式多任务管理，把内存依托于应用程序分配，再且加上Classic中并没有所谓的内存保护，导致程序和系统处在同一内存空间中，这就导致一个问题，当程序发生崩溃时，整个系统也会随之崩溃。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).jpg\" alt=\"MacOS Classic\"></p>\n<p>Apple尝试过修复或者完善这些“烂摊子”，但是由于系统历史包袱原因，系统框架过于老旧。再是后期推出的的系统扩展，系统扩展由第三方或官方提供，可以扩展系统功能或者添加驱动，这就导致一个问题，因为Classic所有的应用扩展驱动系统都是在一个空间内，没有进行隔离，如果扩展冲突或者报错，机子将会连系统一起’宕机‘。</p>\n<h3 id=\"转折\"><a href=\"#转折\" class=\"headerlink\" title=\"转折\"></a>转折</h3><p>苹果也陆陆续续尝试过如copland和AU&#x2F;X的全新内核的系统，但无一例外，都失败了。直到1997年，苹果收购NeXT公司，被遣退的乔布斯带着NeXTSTEP回到苹果掌舵，NeXTSTEP是乔布斯基于Mach和BSD研发的操作系统，具有完善的GUI，面向对象和Objective-C，强大的多媒体功能，这在当时是十分超前的的。苹果基于NeXTSTEP开发出了现MacOS X Darwin的前身XNU混合内核，之后在1997年中发布了Rhapsody预览开发版，这就是MacOS X的前身……</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).jpg\" alt=\"NeXTSTEP\"></p>\n<p>之后的事情大家都知道，Rhapsody的大部分组件大幅度得到保留并且逐步完善，并且一步步成为现在的MacOS系统。</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>好啦！酥米扯远了，接下来要体验的版本就是初代MacOS X10.0的预览版本DP3，说起这个预览版本还是很有趣的，DP1和DP2和Rhapsody差不多，用的也是Platinum的界面，还是NeXT+MacOS Classic的味道。但是来到DP3，事情将会截然不同起来，DP3引入了全新的Aqua界面，提升了系统的精致程度（顺带提一嘴，这个aqua界面修修补补用到现在的MacOS最新版）</p>\n<h4 id=\"Qemu\"><a href=\"#Qemu\" class=\"headerlink\" title=\"Qemu\"></a>Qemu</h4><p>这次我们使用Qemu-system-ppc进行模拟安装<br>镜像可以在WinWorldPC中下载<br>下载链接：</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"http://www.emaculation.com/forum/viewtopic.php?f=34&t=9028\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">WinWorldPC</div>\n            <div class=\"tag-link-sitename\">镜像下载链接</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>首先将qemu-system-pc解压在目录，然后编写一个Bat脚本用于启动qemu虚拟机</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">qemu-system-ppc.exe ^</span><br><span class=\"line\">-L pc-bios ^</span><br><span class=\"line\">-M g3beige ^</span><br><span class=\"line\">-cpu G3 ^</span><br><span class=\"line\">-m 512 ^</span><br><span class=\"line\">-drive file=mac.img,format=raw,media=disk ^  ##虚拟磁盘地址，可以通过qemu-img创建，需8g以上</span><br><span class=\"line\">-drive file=Mdp2.iso,format=raw,media=cdrom ^ ## 安装镜像地址</span><br><span class=\"line\">-prom-env &quot;vga-ndrv?-true&quot; ^</span><br><span class=\"line\">-prom-env &quot;boot-device=cd:9,\\\\:tbxi&quot; ^</span><br><span class=\"line\">-usb ^</span><br><span class=\"line\">-netdev user,id=network01 -device sungem,netdev=network01 ^</span><br><span class=\"line\">-device VGA,edid=on ^</span><br><span class=\"line\">-boot c</span><br></pre></td></tr></table></figure>\n<h4 id=\"磁盘分区\"><a href=\"#磁盘分区\" class=\"headerlink\" title=\"磁盘分区\"></a>磁盘分区</h4><p>由于DP版本没有磁盘管理工具，所以需要借助MacOS9的启动光盘进行分区,按照图中进行操作就行</p>\n<ul>\n<li>打开磁盘分区工具</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/082c7e3d-a76a-44da-94b3-561fed6a306d933d5c1c097fe20b.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/b3bede69-ba0e-4ab7-b395-6fca629d892d64f4b84c3853ac43.png\"></p>\n<ul>\n<li>选中刚刚的虚拟磁盘，点击Initialize</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(5).png\"></p>\n<ul>\n<li>再次选择Initialize</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/4d88753e-b7e5-4d36-b6d3-2dddf21b055d87520d3fb48e80d7.png\"></p>\n<p>至此磁盘的分区步骤全部完毕，接下来就是安装系统啦！</p>\n<h3 id=\"正式安装\"><a href=\"#正式安装\" class=\"headerlink\" title=\"正式安装\"></a>正式安装</h3><ul>\n<li>将虚拟机关机，更换光盘镜像，再次启动虚拟机，等待开机……</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(13).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/288631E8586752E8507D5DCC3B077CF7b3b611b98f705add.png\"></p>\n<ul>\n<li>选择Continue继续</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(19).png\"></p>\n<ul>\n<li>选择下一步并且Agree</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(16).png\"></p>\n<ul>\n<li>然后选择硬盘下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(3).png\"></p>\n<ul>\n<li>然后按install进行安装</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(12).png\"></p>\n<ul>\n<li>安装ing……</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/754908397BAF9C1028F57134BAA3C458600fdd045b1f72b8.png\"></p>\n<ul>\n<li>安装完成啦！不要让模拟器自动重启哦，直接关闭模拟器，进行下一步操作</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/55abc630-feb1-4a66-b2b4-b89de93c2a30fb098cd1894a107a.png\"></p>\n<h4 id=\"正式启动前的最后配置\"><a href=\"#正式启动前的最后配置\" class=\"headerlink\" title=\"正式启动前的最后配置\"></a>正式启动前的最后配置</h4><ul>\n<li>将虚拟机启动脚本的下列稍加修改，让模拟器使用硬盘启动</li>\n</ul>\n<p>修改前</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-boot c # 启动设备</span><br><span class=\"line\">-prom-env &quot;boot-device=cd:9,\\\\:tbxi&quot; ^ # 指定启动设备</span><br></pre></td></tr></table></figure>\n<p>修改后</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-boot d #把c改成d，d为硬盘启动，c为从光盘启动</span><br><span class=\"line\"># 去掉了指定启动设备语句</span><br></pre></td></tr></table></figure>\n<ul>\n<li>再次打开模拟器，就可以慢慢等待模拟器启动啦！</li>\n<li>进系统啦！第一次安装完会弹出设置助理</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(21).png\"></p>\n<ul>\n<li>点击右下角的箭头下一步</li>\n<li>这里输入管理员的密码，然后下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(20).png\"></p>\n<ul>\n<li>这里网络设置直接跳过，选择下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(22).png\"></p>\n<ul>\n<li>这里直接下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(9).png\"></p>\n<ul>\n<li>这里是DNS和域名设置，不设置直接下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(18).png\"></p>\n<ul>\n<li>这里是远程登录，可开可不开，选完直接下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).png\"></p>\n<ul>\n<li>地区设置</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(17).png\"></p>\n<ul>\n<li>时间设置</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(4).png\"></p>\n<ul>\n<li>用户设置，选择Add可以创建用户</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(11).png\"></p>\n<ul>\n<li>自动登录，可以选择自动并且输入账户密码，可选可不选</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(15).png\"></p>\n<ul>\n<li>设置预览，没有问题就可以选择go ahead继续啦</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(10).png\"></p>\n<h4 id=\"完成安装啦！\"><a href=\"#完成安装啦！\" class=\"headerlink\" title=\"完成安装啦！\"></a>完成安装啦！</h4><ul>\n<li>重启之后就可以享受新界面带来的赏心悦目了，Enjoy it! :)<br>附上一些系统截图</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/396F014F493B905FD9C40FFB95F1E9C242d67356d36b8391.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(8).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(14).png\"></p>\n<h3 id=\"视频版\"><a href=\"#视频版\" class=\"headerlink\" title=\"视频版\"></a>视频版</h3><h4 id=\"本教程根据视频版编写\"><a href=\"#本教程根据视频版编写\" class=\"headerlink\" title=\"本教程根据视频版编写\"></a>本教程根据视频版编写</h4><iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=959704963&bvid=BV1rp4y1u7ep&cid=1298459925&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\"> </iframe>","cover_type":"img","excerpt":"","more":"<h3 id=\"前记\"><a href=\"#前记\" class=\"headerlink\" title=\"前记\"></a>前记</h3><p>在MacOS X之前的MacOS，是属于Classic系列的传统操作系统，由于历史包袱的原因，MacOS Classic对多任务的支持并不完善，采用的是基于程序的协作式多任务管理，把内存依托于应用程序分配，再且加上Classic中并没有所谓的内存保护，导致程序和系统处在同一内存空间中，这就导致一个问题，当程序发生崩溃时，整个系统也会随之崩溃。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).jpg\" alt=\"MacOS Classic\"></p>\n<p>Apple尝试过修复或者完善这些“烂摊子”，但是由于系统历史包袱原因，系统框架过于老旧。再是后期推出的的系统扩展，系统扩展由第三方或官方提供，可以扩展系统功能或者添加驱动，这就导致一个问题，因为Classic所有的应用扩展驱动系统都是在一个空间内，没有进行隔离，如果扩展冲突或者报错，机子将会连系统一起’宕机‘。</p>\n<h3 id=\"转折\"><a href=\"#转折\" class=\"headerlink\" title=\"转折\"></a>转折</h3><p>苹果也陆陆续续尝试过如copland和AU&#x2F;X的全新内核的系统，但无一例外，都失败了。直到1997年，苹果收购NeXT公司，被遣退的乔布斯带着NeXTSTEP回到苹果掌舵，NeXTSTEP是乔布斯基于Mach和BSD研发的操作系统，具有完善的GUI，面向对象和Objective-C，强大的多媒体功能，这在当时是十分超前的的。苹果基于NeXTSTEP开发出了现MacOS X Darwin的前身XNU混合内核，之后在1997年中发布了Rhapsody预览开发版，这就是MacOS X的前身……</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).jpg\" alt=\"NeXTSTEP\"></p>\n<p>之后的事情大家都知道，Rhapsody的大部分组件大幅度得到保留并且逐步完善，并且一步步成为现在的MacOS系统。</p>\n<h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>好啦！酥米扯远了，接下来要体验的版本就是初代MacOS X10.0的预览版本DP3，说起这个预览版本还是很有趣的，DP1和DP2和Rhapsody差不多，用的也是Platinum的界面，还是NeXT+MacOS Classic的味道。但是来到DP3，事情将会截然不同起来，DP3引入了全新的Aqua界面，提升了系统的精致程度（顺带提一嘴，这个aqua界面修修补补用到现在的MacOS最新版）</p>\n<h4 id=\"Qemu\"><a href=\"#Qemu\" class=\"headerlink\" title=\"Qemu\"></a>Qemu</h4><p>这次我们使用Qemu-system-ppc进行模拟安装<br>镜像可以在WinWorldPC中下载<br>下载链接：</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"http://www.emaculation.com/forum/viewtopic.php?f=34&t=9028\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">WinWorldPC</div>\n            <div class=\"tag-link-sitename\">镜像下载链接</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>首先将qemu-system-pc解压在目录，然后编写一个Bat脚本用于启动qemu虚拟机</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">qemu-system-ppc.exe ^</span><br><span class=\"line\">-L pc-bios ^</span><br><span class=\"line\">-M g3beige ^</span><br><span class=\"line\">-cpu G3 ^</span><br><span class=\"line\">-m 512 ^</span><br><span class=\"line\">-drive file=mac.img,format=raw,media=disk ^  ##虚拟磁盘地址，可以通过qemu-img创建，需8g以上</span><br><span class=\"line\">-drive file=Mdp2.iso,format=raw,media=cdrom ^ ## 安装镜像地址</span><br><span class=\"line\">-prom-env &quot;vga-ndrv?-true&quot; ^</span><br><span class=\"line\">-prom-env &quot;boot-device=cd:9,\\\\:tbxi&quot; ^</span><br><span class=\"line\">-usb ^</span><br><span class=\"line\">-netdev user,id=network01 -device sungem,netdev=network01 ^</span><br><span class=\"line\">-device VGA,edid=on ^</span><br><span class=\"line\">-boot c</span><br></pre></td></tr></table></figure>\n<h4 id=\"磁盘分区\"><a href=\"#磁盘分区\" class=\"headerlink\" title=\"磁盘分区\"></a>磁盘分区</h4><p>由于DP版本没有磁盘管理工具，所以需要借助MacOS9的启动光盘进行分区,按照图中进行操作就行</p>\n<ul>\n<li>打开磁盘分区工具</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/082c7e3d-a76a-44da-94b3-561fed6a306d933d5c1c097fe20b.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/b3bede69-ba0e-4ab7-b395-6fca629d892d64f4b84c3853ac43.png\"></p>\n<ul>\n<li>选中刚刚的虚拟磁盘，点击Initialize</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(5).png\"></p>\n<ul>\n<li>再次选择Initialize</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/4d88753e-b7e5-4d36-b6d3-2dddf21b055d87520d3fb48e80d7.png\"></p>\n<p>至此磁盘的分区步骤全部完毕，接下来就是安装系统啦！</p>\n<h3 id=\"正式安装\"><a href=\"#正式安装\" class=\"headerlink\" title=\"正式安装\"></a>正式安装</h3><ul>\n<li>将虚拟机关机，更换光盘镜像，再次启动虚拟机，等待开机……</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(13).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/288631E8586752E8507D5DCC3B077CF7b3b611b98f705add.png\"></p>\n<ul>\n<li>选择Continue继续</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(19).png\"></p>\n<ul>\n<li>选择下一步并且Agree</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(16).png\"></p>\n<ul>\n<li>然后选择硬盘下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(3).png\"></p>\n<ul>\n<li>然后按install进行安装</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(12).png\"></p>\n<ul>\n<li>安装ing……</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/754908397BAF9C1028F57134BAA3C458600fdd045b1f72b8.png\"></p>\n<ul>\n<li>安装完成啦！不要让模拟器自动重启哦，直接关闭模拟器，进行下一步操作</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/55abc630-feb1-4a66-b2b4-b89de93c2a30fb098cd1894a107a.png\"></p>\n<h4 id=\"正式启动前的最后配置\"><a href=\"#正式启动前的最后配置\" class=\"headerlink\" title=\"正式启动前的最后配置\"></a>正式启动前的最后配置</h4><ul>\n<li>将虚拟机启动脚本的下列稍加修改，让模拟器使用硬盘启动</li>\n</ul>\n<p>修改前</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-boot c # 启动设备</span><br><span class=\"line\">-prom-env &quot;boot-device=cd:9,\\\\:tbxi&quot; ^ # 指定启动设备</span><br></pre></td></tr></table></figure>\n<p>修改后</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-boot d #把c改成d，d为硬盘启动，c为从光盘启动</span><br><span class=\"line\"># 去掉了指定启动设备语句</span><br></pre></td></tr></table></figure>\n<ul>\n<li>再次打开模拟器，就可以慢慢等待模拟器启动啦！</li>\n<li>进系统啦！第一次安装完会弹出设置助理</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(21).png\"></p>\n<ul>\n<li>点击右下角的箭头下一步</li>\n<li>这里输入管理员的密码，然后下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(20).png\"></p>\n<ul>\n<li>这里网络设置直接跳过，选择下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(22).png\"></p>\n<ul>\n<li>这里直接下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(9).png\"></p>\n<ul>\n<li>这里是DNS和域名设置，不设置直接下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(18).png\"></p>\n<ul>\n<li>这里是远程登录，可开可不开，选完直接下一步</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(2).png\"></p>\n<ul>\n<li>地区设置</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(17).png\"></p>\n<ul>\n<li>时间设置</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(4).png\"></p>\n<ul>\n<li>用户设置，选择Add可以创建用户</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(11).png\"></p>\n<ul>\n<li>自动登录，可以选择自动并且输入账户密码，可选可不选</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(15).png\"></p>\n<ul>\n<li>设置预览，没有问题就可以选择go ahead继续啦</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(10).png\"></p>\n<h4 id=\"完成安装啦！\"><a href=\"#完成安装啦！\" class=\"headerlink\" title=\"完成安装啦！\"></a>完成安装啦！</h4><ul>\n<li>重启之后就可以享受新界面带来的赏心悦目了，Enjoy it! :)<br>附上一些系统截图</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/396F014F493B905FD9C40FFB95F1E9C242d67356d36b8391.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(8).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(1).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/macosxdp%20(14).png\"></p>\n<h3 id=\"视频版\"><a href=\"#视频版\" class=\"headerlink\" title=\"视频版\"></a>视频版</h3><h4 id=\"本教程根据视频版编写\"><a href=\"#本教程根据视频版编写\" class=\"headerlink\" title=\"本教程根据视频版编写\"></a>本教程根据视频版编写</h4><iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=959704963&bvid=BV1rp4y1u7ep&cid=1298459925&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\"> </iframe>"},{"title":"自动备份你的Hexo博客","description":"给你的Hexo博客添加github仓库备份","summary":"酥米小机器人来啦，这篇文章主要介绍如何通过Git和自动化脚本实现Hexo博客的备份，用户需先初始化Git仓库并配置远程地址，创建.gitignore文件过滤无用文件，手动首次提交源码至GitHub，再安装shelljs编写auto_backup.js脚本绑定deployAfter事件，自动执行代码提交和推送操作，确保博客数据安全，最终在部署后通过GitHub仓库验证备份结果。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-3.webp","date":"2025-10-10T07:55:13.000Z","_content":"\n# 前提\n最近十分难绷，为了搞code-server远程编辑博客，把博客的依赖给刷掉了，还好之前有备份逃过一劫，这也让我萌生了一个想法，可不可以把hexo源代码备份到github仓库上面呢？于是我在万能的度娘寻找答案，还真给我找到了一个方法。\n\n# 原文章地址\n\n{% link 自动备份 Hexo 博客源文件,AISYUN's Blog,https://blog.cyida.com/2023/32DJ476.html %}\n\n感谢AISYUN大佬提供的方案，此文章只做记录留档，如侵犯到您的权利，请联系我下架此文章，谢谢~\n\n# 正文\n\n## 将Hexo目录加入到Git仓库中\n\n```\ngit init\ngit remote add origin git@github.com:Github用户名/项目名字.git\ngit pull origin main # 原教程中为Master，现已替换为main\n```\n\n建议在博客根目录中写入`.gitignore` 文件，填入以下内容：\n\n```\npublic/\n.deploy\n.deploy_git/\n*.log\n```\n这样可以防止编译过的网页以及log文件被上传到仓库里，提升备份速度\n\n然后再执行以下命令，手动将源代码首次推送至Github仓库中：\n\n```\ngit add .\ngit commit -m \"备份hexo源码文件\"\ngit push origin master\n```\n\n## 自动化实现\n\n首先安装shelljs\n\n```\nnpm install --save shelljs\n```\n\n然后在博客根目录/scripts（如果没有此文件夹，就创建一个）文件夹里，创建一个名为`auto_backup.js`的脚本\n\n并且填入以下内容：\n```\nrequire('shelljs/global');\ntry {\n    hexo.on('deployAfter', function() {//当deploy完成后执行备份\n        run();\n    });\n\n} catch (e) {\n    console.log(\"产生了一个错误啊<(￣3￣)> !，错误详情为：\" + e.toString());\n}\nfunction run() {\n    if (!which('git')) {\n        echo('Sorry, this script requires git');\n        exit(1);\n    } else {\n        echo(\"======================Auto Backup Begin===========================\");\n        cd('Your Blog Folder');    //此处修改为Hexo根目录路径\n        if (exec('git add --all').code !== 0) {\n            echo('Error: Git add failed');\n            exit(1);\n        }\n        if (exec('git commit -am \"blog auto backup script\\'s commit\"').code !== 0) {\n            echo('Error: Git commit failed');\n            exit(1);\n        }\n        if (exec('git push origin main').code !== 0) {\n            echo('Error: Git push failed');\n            exit(1);\n        }\n        echo(\"==================Auto Backup Complete============================\")\n    }\n}\n\n```\n- Your Blog Folder处请改成自己博客的**绝对**目录路径如：D:/blog/\n- 如果你的仓库名称不是默认origin和分支不是main的话，需改成自己的仓库和相应分支名\n\n## 结果\n保存好脚本，在博客目录执行`hexo deploy`命令，在博客常规推送之后，会出现以下输出：\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-1.png)\n\n就证明博客代码推送成功啦~\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-2.png)\n\n此时查看Github仓库上也有相应的博客代码啦！","source":"_posts/教程/blogbackup.md","raw":"---\ntitle: 自动备份你的Hexo博客\ndescription: 给你的Hexo博客添加github仓库备份\nsummary: >-\n  酥米小机器人来啦，这篇文章主要介绍如何通过Git和自动化脚本实现Hexo博客的备份，用户需先初始化Git仓库并配置远程地址，创建.gitignore文件过滤无用文件，手动首次提交源码至GitHub，再安装shelljs编写auto_backup.js脚本绑定deployAfter事件，自动执行代码提交和推送操作，确保博客数据安全，最终在部署后通过GitHub仓库验证备份结果。\ntags:\n  - 博客\n  - 教程\ncategories:\n  - 教程类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-3.webp\ndate: 2025-10-10 15:55:13\n---\n\n# 前提\n最近十分难绷，为了搞code-server远程编辑博客，把博客的依赖给刷掉了，还好之前有备份逃过一劫，这也让我萌生了一个想法，可不可以把hexo源代码备份到github仓库上面呢？于是我在万能的度娘寻找答案，还真给我找到了一个方法。\n\n# 原文章地址\n\n{% link 自动备份 Hexo 博客源文件,AISYUN's Blog,https://blog.cyida.com/2023/32DJ476.html %}\n\n感谢AISYUN大佬提供的方案，此文章只做记录留档，如侵犯到您的权利，请联系我下架此文章，谢谢~\n\n# 正文\n\n## 将Hexo目录加入到Git仓库中\n\n```\ngit init\ngit remote add origin git@github.com:Github用户名/项目名字.git\ngit pull origin main # 原教程中为Master，现已替换为main\n```\n\n建议在博客根目录中写入`.gitignore` 文件，填入以下内容：\n\n```\npublic/\n.deploy\n.deploy_git/\n*.log\n```\n这样可以防止编译过的网页以及log文件被上传到仓库里，提升备份速度\n\n然后再执行以下命令，手动将源代码首次推送至Github仓库中：\n\n```\ngit add .\ngit commit -m \"备份hexo源码文件\"\ngit push origin master\n```\n\n## 自动化实现\n\n首先安装shelljs\n\n```\nnpm install --save shelljs\n```\n\n然后在博客根目录/scripts（如果没有此文件夹，就创建一个）文件夹里，创建一个名为`auto_backup.js`的脚本\n\n并且填入以下内容：\n```\nrequire('shelljs/global');\ntry {\n    hexo.on('deployAfter', function() {//当deploy完成后执行备份\n        run();\n    });\n\n} catch (e) {\n    console.log(\"产生了一个错误啊<(￣3￣)> !，错误详情为：\" + e.toString());\n}\nfunction run() {\n    if (!which('git')) {\n        echo('Sorry, this script requires git');\n        exit(1);\n    } else {\n        echo(\"======================Auto Backup Begin===========================\");\n        cd('Your Blog Folder');    //此处修改为Hexo根目录路径\n        if (exec('git add --all').code !== 0) {\n            echo('Error: Git add failed');\n            exit(1);\n        }\n        if (exec('git commit -am \"blog auto backup script\\'s commit\"').code !== 0) {\n            echo('Error: Git commit failed');\n            exit(1);\n        }\n        if (exec('git push origin main').code !== 0) {\n            echo('Error: Git push failed');\n            exit(1);\n        }\n        echo(\"==================Auto Backup Complete============================\")\n    }\n}\n\n```\n- Your Blog Folder处请改成自己博客的**绝对**目录路径如：D:/blog/\n- 如果你的仓库名称不是默认origin和分支不是main的话，需改成自己的仓库和相应分支名\n\n## 结果\n保存好脚本，在博客目录执行`hexo deploy`命令，在博客常规推送之后，会出现以下输出：\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-1.png)\n\n就证明博客代码推送成功啦~\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-2.png)\n\n此时查看Github仓库上也有相应的博客代码啦！","slug":"教程/blogbackup","published":1,"updated":"2025-10-10T10:29:12.386Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561o0050g0fye7znapgz","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>最近十分难绷，为了搞code-server远程编辑博客，把博客的依赖给刷掉了，还好之前有备份逃过一劫，这也让我萌生了一个想法，可不可以把hexo源代码备份到github仓库上面呢？于是我在万能的度娘寻找答案，还真给我找到了一个方法。</p>\n<h1 id=\"原文章地址\"><a href=\"#原文章地址\" class=\"headerlink\" title=\"原文章地址\"></a>原文章地址</h1><div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://blog.cyida.com/2023/32DJ476.html\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">自动备份 Hexo 博客源文件</div>\n            <div class=\"tag-link-sitename\">AISYUN's Blog</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>感谢AISYUN大佬提供的方案，此文章只做记录留档，如侵犯到您的权利，请联系我下架此文章，谢谢~</p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"将Hexo目录加入到Git仓库中\"><a href=\"#将Hexo目录加入到Git仓库中\" class=\"headerlink\" title=\"将Hexo目录加入到Git仓库中\"></a>将Hexo目录加入到Git仓库中</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git init</span><br><span class=\"line\">git remote add origin git@github.com:Github用户名/项目名字.git</span><br><span class=\"line\">git pull origin main # 原教程中为Master，现已替换为main</span><br></pre></td></tr></table></figure>\n\n<p>建议在博客根目录中写入<code>.gitignore</code> 文件，填入以下内容：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public/</span><br><span class=\"line\">.deploy</span><br><span class=\"line\">.deploy_git/</span><br><span class=\"line\">*.log</span><br></pre></td></tr></table></figure>\n<p>这样可以防止编译过的网页以及log文件被上传到仓库里，提升备份速度</p>\n<p>然后再执行以下命令，手动将源代码首次推送至Github仓库中：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m &quot;备份hexo源码文件&quot;</span><br><span class=\"line\">git push origin master</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"自动化实现\"><a href=\"#自动化实现\" class=\"headerlink\" title=\"自动化实现\"></a>自动化实现</h2><p>首先安装shelljs</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save shelljs</span><br></pre></td></tr></table></figure>\n\n<p>然后在博客根目录&#x2F;scripts（如果没有此文件夹，就创建一个）文件夹里，创建一个名为<code>auto_backup.js</code>的脚本</p>\n<p>并且填入以下内容：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require(&#x27;shelljs/global&#x27;);</span><br><span class=\"line\">try &#123;</span><br><span class=\"line\">    hexo.on(&#x27;deployAfter&#x27;, function() &#123;//当deploy完成后执行备份</span><br><span class=\"line\">        run();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (e) &#123;</span><br><span class=\"line\">    console.log(&quot;产生了一个错误啊&lt;(￣3￣)&gt; !，错误详情为：&quot; + e.toString());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function run() &#123;</span><br><span class=\"line\">    if (!which(&#x27;git&#x27;)) &#123;</span><br><span class=\"line\">        echo(&#x27;Sorry, this script requires git&#x27;);</span><br><span class=\"line\">        exit(1);</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">        echo(&quot;======================Auto Backup Begin===========================&quot;);</span><br><span class=\"line\">        cd(&#x27;Your Blog Folder&#x27;);    //此处修改为Hexo根目录路径</span><br><span class=\"line\">        if (exec(&#x27;git add --all&#x27;).code !== 0) &#123;</span><br><span class=\"line\">            echo(&#x27;Error: Git add failed&#x27;);</span><br><span class=\"line\">            exit(1);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (exec(&#x27;git commit -am &quot;blog auto backup script\\&#x27;s commit&quot;&#x27;).code !== 0) &#123;</span><br><span class=\"line\">            echo(&#x27;Error: Git commit failed&#x27;);</span><br><span class=\"line\">            exit(1);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (exec(&#x27;git push origin main&#x27;).code !== 0) &#123;</span><br><span class=\"line\">            echo(&#x27;Error: Git push failed&#x27;);</span><br><span class=\"line\">            exit(1);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        echo(&quot;==================Auto Backup Complete============================&quot;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<ul>\n<li>Your Blog Folder处请改成自己博客的<strong>绝对</strong>目录路径如：D:&#x2F;blog&#x2F;</li>\n<li>如果你的仓库名称不是默认origin和分支不是main的话，需改成自己的仓库和相应分支名</li>\n</ul>\n<h2 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h2><p>保存好脚本，在博客目录执行<code>hexo deploy</code>命令，在博客常规推送之后，会出现以下输出：</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-1.png\"></p>\n<p>就证明博客代码推送成功啦~</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-2.png\"></p>\n<p>此时查看Github仓库上也有相应的博客代码啦！</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>最近十分难绷，为了搞code-server远程编辑博客，把博客的依赖给刷掉了，还好之前有备份逃过一劫，这也让我萌生了一个想法，可不可以把hexo源代码备份到github仓库上面呢？于是我在万能的度娘寻找答案，还真给我找到了一个方法。</p>\n<h1 id=\"原文章地址\"><a href=\"#原文章地址\" class=\"headerlink\" title=\"原文章地址\"></a>原文章地址</h1><div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://blog.cyida.com/2023/32DJ476.html\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">自动备份 Hexo 博客源文件</div>\n            <div class=\"tag-link-sitename\">AISYUN's Blog</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>感谢AISYUN大佬提供的方案，此文章只做记录留档，如侵犯到您的权利，请联系我下架此文章，谢谢~</p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"将Hexo目录加入到Git仓库中\"><a href=\"#将Hexo目录加入到Git仓库中\" class=\"headerlink\" title=\"将Hexo目录加入到Git仓库中\"></a>将Hexo目录加入到Git仓库中</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git init</span><br><span class=\"line\">git remote add origin git@github.com:Github用户名/项目名字.git</span><br><span class=\"line\">git pull origin main # 原教程中为Master，现已替换为main</span><br></pre></td></tr></table></figure>\n\n<p>建议在博客根目录中写入<code>.gitignore</code> 文件，填入以下内容：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public/</span><br><span class=\"line\">.deploy</span><br><span class=\"line\">.deploy_git/</span><br><span class=\"line\">*.log</span><br></pre></td></tr></table></figure>\n<p>这样可以防止编译过的网页以及log文件被上传到仓库里，提升备份速度</p>\n<p>然后再执行以下命令，手动将源代码首次推送至Github仓库中：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m &quot;备份hexo源码文件&quot;</span><br><span class=\"line\">git push origin master</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"自动化实现\"><a href=\"#自动化实现\" class=\"headerlink\" title=\"自动化实现\"></a>自动化实现</h2><p>首先安装shelljs</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save shelljs</span><br></pre></td></tr></table></figure>\n\n<p>然后在博客根目录&#x2F;scripts（如果没有此文件夹，就创建一个）文件夹里，创建一个名为<code>auto_backup.js</code>的脚本</p>\n<p>并且填入以下内容：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require(&#x27;shelljs/global&#x27;);</span><br><span class=\"line\">try &#123;</span><br><span class=\"line\">    hexo.on(&#x27;deployAfter&#x27;, function() &#123;//当deploy完成后执行备份</span><br><span class=\"line\">        run();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125; catch (e) &#123;</span><br><span class=\"line\">    console.log(&quot;产生了一个错误啊&lt;(￣3￣)&gt; !，错误详情为：&quot; + e.toString());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function run() &#123;</span><br><span class=\"line\">    if (!which(&#x27;git&#x27;)) &#123;</span><br><span class=\"line\">        echo(&#x27;Sorry, this script requires git&#x27;);</span><br><span class=\"line\">        exit(1);</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">        echo(&quot;======================Auto Backup Begin===========================&quot;);</span><br><span class=\"line\">        cd(&#x27;Your Blog Folder&#x27;);    //此处修改为Hexo根目录路径</span><br><span class=\"line\">        if (exec(&#x27;git add --all&#x27;).code !== 0) &#123;</span><br><span class=\"line\">            echo(&#x27;Error: Git add failed&#x27;);</span><br><span class=\"line\">            exit(1);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (exec(&#x27;git commit -am &quot;blog auto backup script\\&#x27;s commit&quot;&#x27;).code !== 0) &#123;</span><br><span class=\"line\">            echo(&#x27;Error: Git commit failed&#x27;);</span><br><span class=\"line\">            exit(1);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (exec(&#x27;git push origin main&#x27;).code !== 0) &#123;</span><br><span class=\"line\">            echo(&#x27;Error: Git push failed&#x27;);</span><br><span class=\"line\">            exit(1);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        echo(&quot;==================Auto Backup Complete============================&quot;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<ul>\n<li>Your Blog Folder处请改成自己博客的<strong>绝对</strong>目录路径如：D:&#x2F;blog&#x2F;</li>\n<li>如果你的仓库名称不是默认origin和分支不是main的话，需改成自己的仓库和相应分支名</li>\n</ul>\n<h2 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h2><p>保存好脚本，在博客目录执行<code>hexo deploy</code>命令，在博客常规推送之后，会出现以下输出：</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-1.png\"></p>\n<p>就证明博客代码推送成功啦~</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht3-2.png\"></p>\n<p>此时查看Github仓库上也有相应的博客代码啦！</p>\n"},{"title":"Hexo博客添加电子木鱼","description":"给你的Hexo博客添加电子木鱼界面","summary":"酥米小机器人来啦，这篇文章分享了在Hexo博客中优化电子木鱼功能的方法，通过豆包AI重构52JS大佬的项目实现内嵌式加载无需外部文件，提升博客访问速度并适配anzhiyu深色亮色模式切换，修复首次打开可能存在的使用异常问题，同时支持自动点击功能，用户只需在index.md中插入简化的代码片段即可快速部署，界面包含功德计数器、机甲佛祖提示及作者信息链接，整体设计简洁且兼顾用户体验。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-1.png","date":"2025-09-27T08:48:13.000Z","_content":"\n# 前提\n\n之前博客里面一直都有电子木鱼，但是之前是塞了一个单独的网页界面，文件都是分散开的，加载也很慢，主要的还是影响博客的加载速度，于是我使用豆包AI基于52JS大佬的项目大改了一下，目前不需要文件，只需要将代码嵌入到界面的index.md文件里面即可搞定电子木鱼界面。\n\n# Demo\n\n本站已经内嵌此项目，可以去康康哦~ \n\n{% link 电子木鱼,酥米的小站,/fish/ %}\n\n# 优势\n\n- 不需要引用文件\n\n- 尽量修复第一次点进去无法正常使用的问题（还是有概率出现用不了的问题，不过刷新一下就好了）\n\n- 适配anzhiyu深色亮色模式，会跟着一起切换\n\n- 总代码少，便于博客加载\n\n# 创建界面\n\n可以先使用指令单独创建一个电子木鱼的页面\n\n`hexo new pages \"页面名称\"`\n\n然后使用工具编辑`“页面名称”/index.md`\n\n# 代码\n\n代码如下：\n```index.md\n\n<!-- 隔离容器 - 确保样式不冲突 -->\n<div id=\"fish-container\" style=\"all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n  <div class=\"centerContent\">\n    <div id=\"top\">\n      <div class=\"score\">\n        <div class=\"count\">0</div>\n        <div class=\"subtitle\">功德</div>\n      </div>\n    </div>\n    <div id=\"center\">\n      <svg class=\"myFish\" width=\"157pt\" height=\"126pt\" viewbox=\"0 0 247 197\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"fish-svg\">\n          <path class=\"fish-path\" d=\" M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z\"></path>\n        </g>\n      </svg>\n    </div>\n    <div id=\"bottom\">\n      <div class=\"keyTips\">\n        <key>点击</key>积攒功德\n        <span id=\"autoClick\" class=\"autoClick\">自动点击</span>\n      </div>\n      <div class=\"leftRight\">\n        <div class=\"left\">敲电子木鱼，见机甲佛祖，修赛博真经。</div>\n        <div class=\"right\">\n          <a href=\"https://github.com/52js\" class=\"textButton\">\n            <div class=\"text\">@52js & Supermini233</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <style>\n    /* 基础样式 - 确保优先级 */\n    #fish-container {\n      --text-color: #eee;\n      --bg-color: #111;\n      --sub-color: #aaa;\n      --fish-color: #eee;\n      --key-bg: #444;\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif !important;\n      background: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      padding: 20px !important;\n      transition: background-color 0.3s ease, color 0.3s ease !important;\n    }\n\n    /* 适配Anzhiyu亮色模式 */\n    html[data-theme=\"light\"] #fish-container,\n    body.light #fish-container {\n      --text-color: #333;\n      --bg-color: #f5f5f5;\n      --sub-color: #666;\n      --fish-color: #333;\n      --key-bg: #ddd;\n    }\n\n    /* 核心样式 */\n    #fish-container .centerContent {\n      width: 100% !important;\n      min-height: 300px !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      padding: 1rem 1rem !important;\n    }\n\n    #fish-container .score {\n      font-family: \"Helvetica Neue\", sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 20px 0 !important;\n    }\n\n    #fish-container .count {\n      text-align: center !important;\n      font-size: 6rem !important;\n      line-height: 1 !important;\n      transition: transform 0.1s ease !important;\n      color: var(--text-color) !important;\n    }\n\n    #fish-container .subtitle {\n      font-size: 1.5rem !important;\n      color: var(--sub-color) !important;\n      margin-top: 10px !important;\n    }\n\n    #fish-container #center {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin: 20px 0 !important;\n      position: relative !important;\n    }\n\n    #fish-container .myFish {\n      cursor: pointer !important;\n      margin: 0 auto !important;\n      pointer-events: auto !important;\n      transition: transform 0.1s ease !important;\n    }\n\n    #fish-container .fish-path {\n      fill: var(--fish-color) !important;\n      opacity: 1.00 !important;\n      transition: fill 0.3s ease !important;\n    }\n\n    #fish-container #bottom {\n      color: var(--sub-color) !important;\n      font-size: 0.9rem !important;\n      padding: 0 5px !important;\n      text-align: center !important;\n    }\n\n    #fish-container .keyTips {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin-bottom: 15px !important;\n    }\n\n    #fish-container .keyTips key {\n      color: var(--text-color) !important;\n      background-color: var(--key-bg) !important;\n      margin: 0.3rem 0.45rem !important;\n      border-radius: 0.3rem !important;\n      padding: 0.2rem 0.5rem !important;\n      font-size: 0.7rem !important;\n    }\n\n    #fish-container .leftRight {\n      display: flex !important;\n      justify-content: space-between !important;\n      align-items: center !important;\n    }\n\n    #fish-container .left {\n      font-size: 12px !important;\n    }\n\n    #fish-container .textButton {\n      color: var(--sub-color) !important;\n      text-decoration: none !important;\n      transition: color 0.2s ease !important;\n    }\n\n    #fish-container .textButton:hover {\n      color: var(--text-color) !important;\n    }\n\n    #fish-container #autoClick {\n      cursor: pointer !important;\n      margin-left: 10px !important;\n      transition: all 0.2s ease !important;\n    }\n\n    #fish-container #autoClick.confirm {\n      color: var(--text-color) !important;\n      text-decoration: underline !important;\n    }\n\n    #fish-container .subtitleCountTip {\n      position: absolute !important;\n      color: var(--text-color) !important;\n      animation: float 1s forwards !important;\n      opacity: 0 !important;\n      font-size: 16px !important;\n    }\n\n    @keyframes float {\n      from { transform: translateY(0); opacity: 1; }\n      to { transform: translateY(-30px); opacity: 0; }\n    }\n\n    /* 响应式调整 */\n    @media (max-width: 480px) {\n      #fish-container .count {\n        font-size: 4rem !important;\n      }\n    }\n  </style>\n\n  <script src=\"https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js\"></script>\n  <script>\n    // 主题变化时更新样式\n    function updateTheme() {\n      const container = document.getElementById('fish-container');\n      if (!container) return;\n      \n      // 触发重绘\n      container.style.display = 'none';\n      setTimeout(() => {\n        container.style.display = 'block';\n      }, 0);\n    }\n\n    // 监听主题变化事件\n    if (window.matchMedia) {\n      const darkModeMedia = window.matchMedia('(prefers-color-scheme: dark)');\n      darkModeMedia.addEventListener('change', updateTheme);\n    }\n\n    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme') {\n          updateTheme();\n        }\n      });\n    });\n\n    observer.observe(document.documentElement, { attributes: true });\n\n    // 初始化木鱼功能\n    function initFish() {\n      const maxRetries = 10;\n      let retries = 0;\n      \n      function tryInit() {\n        const container = document.getElementById('fish-container');\n        const countElement = container.querySelector('.count');\n        const myFishElement = container.querySelector('.myFish');\n        const centerElement = container.querySelector('#center');\n        const autoClickElement = container.querySelector('#autoClick');\n\n        if (!countElement || !myFishElement || !centerElement || !autoClickElement) {\n          retries++;\n          if (retries < maxRetries) {\n            setTimeout(tryInit, 100);\n            return;\n          } else {\n            console.error('无法加载电子木鱼元素');\n            return;\n          }\n        }\n\n        let count = 0;\n        let countFlag = false;\n        let autoClick = false;\n        let autoClickInterval = null;\n\n        try {\n          const saved = localStorage.getItem('count');\n          count = saved ? Number(saved) : 0;\n        } catch (e) {\n          count = 0;\n        }\n        countElement.textContent = count;\n\n        function startAnimate() {\n          countElement.style.transform = 'scale(1.1)';\n          myFishElement.style.transform = 'scale(0.95)';\n          const tip = document.createElement('div');\n          tip.className = 'subtitleCountTip';\n          tip.textContent = '功德 + 1';\n          centerElement.appendChild(tip);\n          setTimeout(() => tip.remove(), 1000);\n        }\n\n        function initAnimate() {\n          countElement.style.transform = 'scale(1)';\n          myFishElement.style.transform = 'scale(1)';\n        }\n\n        function counter() {\n          countFlag = true;\n          count++;\n          countElement.textContent = count;\n          startAnimate();\n          try {\n            localStorage.setItem('count', count);\n          } catch (e) {\n            console.log('无法保存到本地存储');\n          }\n        }\n\n        myFishElement.addEventListener('click', counter);\n        myFishElement.addEventListener('mousedown', () => {\n          setTimeout(initAnimate, 200);\n        });\n\n        document.addEventListener('keyup', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            if (!countFlag) counter();\n          }\n        });\n\n        document.addEventListener('keydown', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            countFlag = false;\n            initAnimate();\n          }\n        });\n\n        autoClickElement.addEventListener('click', () => {\n          autoClick = !autoClick;\n          if (autoClick) {\n            autoClickElement.classList.add('confirm');\n            autoClickInterval = setInterval(() => {\n              counter();\n              setTimeout(initAnimate, 200);\n            }, 500);\n          } else {\n            autoClickElement.classList.remove('confirm');\n            clearInterval(autoClickInterval);\n          }\n        });\n\n        console.log('电子木鱼初始化成功');\n      }\n\n      tryInit();\n    }\n\n    if (document.readyState === 'complete') {\n      initFish();\n    } else {\n      window.addEventListener('load', initFish);\n    }\n  </script>\n</div>\n\n```\n\n# 问题\n\n- 目前第一次打开还是会有概率无法使用（很小），刷新一次即可正常使用\n\n\n# 引用教程\n\n- 谢谢大佬们的无私贡献！\n\n{% link ElectronFish 电子木鱼,52JS,https://github.com/52js/ElectronFish %}\n\n\n# 最终实现效果\n\n## 深色模式\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-3.png)\n\n## 亮色模式\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-2.png)","source":"_posts/教程/blogelectronfish.md","raw":"---\ntitle: Hexo博客添加电子木鱼\ndescription: 给你的Hexo博客添加电子木鱼界面\nsummary: >-\n  酥米小机器人来啦，这篇文章分享了在Hexo博客中优化电子木鱼功能的方法，通过豆包AI重构52JS大佬的项目实现内嵌式加载无需外部文件，提升博客访问速度并适配anzhiyu深色亮色模式切换，修复首次打开可能存在的使用异常问题，同时支持自动点击功能，用户只需在index.md中插入简化的代码片段即可快速部署，界面包含功德计数器、机甲佛祖提示及作者信息链接，整体设计简洁且兼顾用户体验。\ntags:\n  - 博客\n  - 教程\ncategories:\n  - 教程类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-1.png\ndate: 2025-09-27 16:48:13\n---\n\n# 前提\n\n之前博客里面一直都有电子木鱼，但是之前是塞了一个单独的网页界面，文件都是分散开的，加载也很慢，主要的还是影响博客的加载速度，于是我使用豆包AI基于52JS大佬的项目大改了一下，目前不需要文件，只需要将代码嵌入到界面的index.md文件里面即可搞定电子木鱼界面。\n\n# Demo\n\n本站已经内嵌此项目，可以去康康哦~ \n\n{% link 电子木鱼,酥米的小站,/fish/ %}\n\n# 优势\n\n- 不需要引用文件\n\n- 尽量修复第一次点进去无法正常使用的问题（还是有概率出现用不了的问题，不过刷新一下就好了）\n\n- 适配anzhiyu深色亮色模式，会跟着一起切换\n\n- 总代码少，便于博客加载\n\n# 创建界面\n\n可以先使用指令单独创建一个电子木鱼的页面\n\n`hexo new pages \"页面名称\"`\n\n然后使用工具编辑`“页面名称”/index.md`\n\n# 代码\n\n代码如下：\n```index.md\n\n<!-- 隔离容器 - 确保样式不冲突 -->\n<div id=\"fish-container\" style=\"all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);\">\n  <div class=\"centerContent\">\n    <div id=\"top\">\n      <div class=\"score\">\n        <div class=\"count\">0</div>\n        <div class=\"subtitle\">功德</div>\n      </div>\n    </div>\n    <div id=\"center\">\n      <svg class=\"myFish\" width=\"157pt\" height=\"126pt\" viewbox=\"0 0 247 197\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g id=\"fish-svg\">\n          <path class=\"fish-path\" d=\" M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z\"></path>\n        </g>\n      </svg>\n    </div>\n    <div id=\"bottom\">\n      <div class=\"keyTips\">\n        <key>点击</key>积攒功德\n        <span id=\"autoClick\" class=\"autoClick\">自动点击</span>\n      </div>\n      <div class=\"leftRight\">\n        <div class=\"left\">敲电子木鱼，见机甲佛祖，修赛博真经。</div>\n        <div class=\"right\">\n          <a href=\"https://github.com/52js\" class=\"textButton\">\n            <div class=\"text\">@52js & Supermini233</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <style>\n    /* 基础样式 - 确保优先级 */\n    #fish-container {\n      --text-color: #eee;\n      --bg-color: #111;\n      --sub-color: #aaa;\n      --fish-color: #eee;\n      --key-bg: #444;\n      font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif !important;\n      background: var(--bg-color) !important;\n      color: var(--text-color) !important;\n      padding: 20px !important;\n      transition: background-color 0.3s ease, color 0.3s ease !important;\n    }\n\n    /* 适配Anzhiyu亮色模式 */\n    html[data-theme=\"light\"] #fish-container,\n    body.light #fish-container {\n      --text-color: #333;\n      --bg-color: #f5f5f5;\n      --sub-color: #666;\n      --fish-color: #333;\n      --key-bg: #ddd;\n    }\n\n    /* 核心样式 */\n    #fish-container .centerContent {\n      width: 100% !important;\n      min-height: 300px !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      padding: 1rem 1rem !important;\n    }\n\n    #fish-container .score {\n      font-family: \"Helvetica Neue\", sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 20px 0 !important;\n    }\n\n    #fish-container .count {\n      text-align: center !important;\n      font-size: 6rem !important;\n      line-height: 1 !important;\n      transition: transform 0.1s ease !important;\n      color: var(--text-color) !important;\n    }\n\n    #fish-container .subtitle {\n      font-size: 1.5rem !important;\n      color: var(--sub-color) !important;\n      margin-top: 10px !important;\n    }\n\n    #fish-container #center {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin: 20px 0 !important;\n      position: relative !important;\n    }\n\n    #fish-container .myFish {\n      cursor: pointer !important;\n      margin: 0 auto !important;\n      pointer-events: auto !important;\n      transition: transform 0.1s ease !important;\n    }\n\n    #fish-container .fish-path {\n      fill: var(--fish-color) !important;\n      opacity: 1.00 !important;\n      transition: fill 0.3s ease !important;\n    }\n\n    #fish-container #bottom {\n      color: var(--sub-color) !important;\n      font-size: 0.9rem !important;\n      padding: 0 5px !important;\n      text-align: center !important;\n    }\n\n    #fish-container .keyTips {\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      margin-bottom: 15px !important;\n    }\n\n    #fish-container .keyTips key {\n      color: var(--text-color) !important;\n      background-color: var(--key-bg) !important;\n      margin: 0.3rem 0.45rem !important;\n      border-radius: 0.3rem !important;\n      padding: 0.2rem 0.5rem !important;\n      font-size: 0.7rem !important;\n    }\n\n    #fish-container .leftRight {\n      display: flex !important;\n      justify-content: space-between !important;\n      align-items: center !important;\n    }\n\n    #fish-container .left {\n      font-size: 12px !important;\n    }\n\n    #fish-container .textButton {\n      color: var(--sub-color) !important;\n      text-decoration: none !important;\n      transition: color 0.2s ease !important;\n    }\n\n    #fish-container .textButton:hover {\n      color: var(--text-color) !important;\n    }\n\n    #fish-container #autoClick {\n      cursor: pointer !important;\n      margin-left: 10px !important;\n      transition: all 0.2s ease !important;\n    }\n\n    #fish-container #autoClick.confirm {\n      color: var(--text-color) !important;\n      text-decoration: underline !important;\n    }\n\n    #fish-container .subtitleCountTip {\n      position: absolute !important;\n      color: var(--text-color) !important;\n      animation: float 1s forwards !important;\n      opacity: 0 !important;\n      font-size: 16px !important;\n    }\n\n    @keyframes float {\n      from { transform: translateY(0); opacity: 1; }\n      to { transform: translateY(-30px); opacity: 0; }\n    }\n\n    /* 响应式调整 */\n    @media (max-width: 480px) {\n      #fish-container .count {\n        font-size: 4rem !important;\n      }\n    }\n  </style>\n\n  <script src=\"https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js\"></script>\n  <script>\n    // 主题变化时更新样式\n    function updateTheme() {\n      const container = document.getElementById('fish-container');\n      if (!container) return;\n      \n      // 触发重绘\n      container.style.display = 'none';\n      setTimeout(() => {\n        container.style.display = 'block';\n      }, 0);\n    }\n\n    // 监听主题变化事件\n    if (window.matchMedia) {\n      const darkModeMedia = window.matchMedia('(prefers-color-scheme: dark)');\n      darkModeMedia.addEventListener('change', updateTheme);\n    }\n\n    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach(mutation => {\n        if (mutation.attributeName === 'data-theme') {\n          updateTheme();\n        }\n      });\n    });\n\n    observer.observe(document.documentElement, { attributes: true });\n\n    // 初始化木鱼功能\n    function initFish() {\n      const maxRetries = 10;\n      let retries = 0;\n      \n      function tryInit() {\n        const container = document.getElementById('fish-container');\n        const countElement = container.querySelector('.count');\n        const myFishElement = container.querySelector('.myFish');\n        const centerElement = container.querySelector('#center');\n        const autoClickElement = container.querySelector('#autoClick');\n\n        if (!countElement || !myFishElement || !centerElement || !autoClickElement) {\n          retries++;\n          if (retries < maxRetries) {\n            setTimeout(tryInit, 100);\n            return;\n          } else {\n            console.error('无法加载电子木鱼元素');\n            return;\n          }\n        }\n\n        let count = 0;\n        let countFlag = false;\n        let autoClick = false;\n        let autoClickInterval = null;\n\n        try {\n          const saved = localStorage.getItem('count');\n          count = saved ? Number(saved) : 0;\n        } catch (e) {\n          count = 0;\n        }\n        countElement.textContent = count;\n\n        function startAnimate() {\n          countElement.style.transform = 'scale(1.1)';\n          myFishElement.style.transform = 'scale(0.95)';\n          const tip = document.createElement('div');\n          tip.className = 'subtitleCountTip';\n          tip.textContent = '功德 + 1';\n          centerElement.appendChild(tip);\n          setTimeout(() => tip.remove(), 1000);\n        }\n\n        function initAnimate() {\n          countElement.style.transform = 'scale(1)';\n          myFishElement.style.transform = 'scale(1)';\n        }\n\n        function counter() {\n          countFlag = true;\n          count++;\n          countElement.textContent = count;\n          startAnimate();\n          try {\n            localStorage.setItem('count', count);\n          } catch (e) {\n            console.log('无法保存到本地存储');\n          }\n        }\n\n        myFishElement.addEventListener('click', counter);\n        myFishElement.addEventListener('mousedown', () => {\n          setTimeout(initAnimate, 200);\n        });\n\n        document.addEventListener('keyup', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            if (!countFlag) counter();\n          }\n        });\n\n        document.addEventListener('keydown', (e) => {\n          if (e.key === ' ') {\n            e.preventDefault();\n            countFlag = false;\n            initAnimate();\n          }\n        });\n\n        autoClickElement.addEventListener('click', () => {\n          autoClick = !autoClick;\n          if (autoClick) {\n            autoClickElement.classList.add('confirm');\n            autoClickInterval = setInterval(() => {\n              counter();\n              setTimeout(initAnimate, 200);\n            }, 500);\n          } else {\n            autoClickElement.classList.remove('confirm');\n            clearInterval(autoClickInterval);\n          }\n        });\n\n        console.log('电子木鱼初始化成功');\n      }\n\n      tryInit();\n    }\n\n    if (document.readyState === 'complete') {\n      initFish();\n    } else {\n      window.addEventListener('load', initFish);\n    }\n  </script>\n</div>\n\n```\n\n# 问题\n\n- 目前第一次打开还是会有概率无法使用（很小），刷新一次即可正常使用\n\n\n# 引用教程\n\n- 谢谢大佬们的无私贡献！\n\n{% link ElectronFish 电子木鱼,52JS,https://github.com/52js/ElectronFish %}\n\n\n# 最终实现效果\n\n## 深色模式\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-3.png)\n\n## 亮色模式\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-2.png)","slug":"教程/blogelectronfish","published":1,"updated":"2025-09-27T09:16:17.399Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561r0056g0fy5291fqbw","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>之前博客里面一直都有电子木鱼，但是之前是塞了一个单独的网页界面，文件都是分散开的，加载也很慢，主要的还是影响博客的加载速度，于是我使用豆包AI基于52JS大佬的项目大改了一下，目前不需要文件，只需要将代码嵌入到界面的index.md文件里面即可搞定电子木鱼界面。</p>\n<h1 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h1><p>本站已经内嵌此项目，可以去康康哦~ </p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"/fish/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">电子木鱼</div>\n            <div class=\"tag-link-sitename\">酥米的小站</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h1 id=\"优势\"><a href=\"#优势\" class=\"headerlink\" title=\"优势\"></a>优势</h1><ul>\n<li><p>不需要引用文件</p>\n</li>\n<li><p>尽量修复第一次点进去无法正常使用的问题（还是有概率出现用不了的问题，不过刷新一下就好了）</p>\n</li>\n<li><p>适配anzhiyu深色亮色模式，会跟着一起切换</p>\n</li>\n<li><p>总代码少，便于博客加载</p>\n</li>\n</ul>\n<h1 id=\"创建界面\"><a href=\"#创建界面\" class=\"headerlink\" title=\"创建界面\"></a>创建界面</h1><p>可以先使用指令单独创建一个电子木鱼的页面</p>\n<p><code>hexo new pages &quot;页面名称&quot;</code></p>\n<p>然后使用工具编辑<code>“页面名称”/index.md</code></p>\n<h1 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h1><p>代码如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!-- 隔离容器 - 确保样式不冲突 --&gt;</span><br><span class=\"line\">&lt;div id=&quot;fish-container&quot; style=&quot;all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);&quot;&gt;</span><br><span class=\"line\">  &lt;div class=&quot;centerContent&quot;&gt;</span><br><span class=\"line\">    &lt;div id=&quot;top&quot;&gt;</span><br><span class=\"line\">      &lt;div class=&quot;score&quot;&gt;</span><br><span class=\"line\">        &lt;div class=&quot;count&quot;&gt;0&lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=&quot;subtitle&quot;&gt;功德&lt;/div&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div id=&quot;center&quot;&gt;</span><br><span class=\"line\">      &lt;svg class=&quot;myFish&quot; width=&quot;157pt&quot; height=&quot;126pt&quot; viewbox=&quot;0 0 247 197&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;</span><br><span class=\"line\">        &lt;g id=&quot;fish-svg&quot;&gt;</span><br><span class=\"line\">          &lt;path class=&quot;fish-path&quot; d=&quot; M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z&quot;&gt;&lt;/path&gt;</span><br><span class=\"line\">        &lt;/g&gt;</span><br><span class=\"line\">      &lt;/svg&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div id=&quot;bottom&quot;&gt;</span><br><span class=\"line\">      &lt;div class=&quot;keyTips&quot;&gt;</span><br><span class=\"line\">        &lt;key&gt;点击&lt;/key&gt;积攒功德</span><br><span class=\"line\">        &lt;span id=&quot;autoClick&quot; class=&quot;autoClick&quot;&gt;自动点击&lt;/span&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">      &lt;div class=&quot;leftRight&quot;&gt;</span><br><span class=\"line\">        &lt;div class=&quot;left&quot;&gt;敲电子木鱼，见机甲佛祖，修赛博真经。&lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=&quot;right&quot;&gt;</span><br><span class=\"line\">          &lt;a href=&quot;https://github.com/52js&quot; class=&quot;textButton&quot;&gt;</span><br><span class=\"line\">            &lt;div class=&quot;text&quot;&gt;@52js &amp; Supermini233&lt;/div&gt;</span><br><span class=\"line\">          &lt;/a&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;style&gt;</span><br><span class=\"line\">    /* 基础样式 - 确保优先级 */</span><br><span class=\"line\">    #fish-container &#123;</span><br><span class=\"line\">      --text-color: #eee;</span><br><span class=\"line\">      --bg-color: #111;</span><br><span class=\"line\">      --sub-color: #aaa;</span><br><span class=\"line\">      --fish-color: #eee;</span><br><span class=\"line\">      --key-bg: #444;</span><br><span class=\"line\">      font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, sans-serif !important;</span><br><span class=\"line\">      background: var(--bg-color) !important;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      padding: 20px !important;</span><br><span class=\"line\">      transition: background-color 0.3s ease, color 0.3s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* 适配Anzhiyu亮色模式 */</span><br><span class=\"line\">    html[data-theme=&quot;light&quot;] #fish-container,</span><br><span class=\"line\">    body.light #fish-container &#123;</span><br><span class=\"line\">      --text-color: #333;</span><br><span class=\"line\">      --bg-color: #f5f5f5;</span><br><span class=\"line\">      --sub-color: #666;</span><br><span class=\"line\">      --fish-color: #333;</span><br><span class=\"line\">      --key-bg: #ddd;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* 核心样式 */</span><br><span class=\"line\">    #fish-container .centerContent &#123;</span><br><span class=\"line\">      width: 100% !important;</span><br><span class=\"line\">      min-height: 300px !important;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      flex-direction: column !important;</span><br><span class=\"line\">      justify-content: space-between !important;</span><br><span class=\"line\">      padding: 1rem 1rem !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .score &#123;</span><br><span class=\"line\">      font-family: &quot;Helvetica Neue&quot;, sans-serif !important;</span><br><span class=\"line\">      text-align: center !important;</span><br><span class=\"line\">      width: 100% !important;</span><br><span class=\"line\">      margin: 20px 0 !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .count &#123;</span><br><span class=\"line\">      text-align: center !important;</span><br><span class=\"line\">      font-size: 6rem !important;</span><br><span class=\"line\">      line-height: 1 !important;</span><br><span class=\"line\">      transition: transform 0.1s ease !important;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .subtitle &#123;</span><br><span class=\"line\">      font-size: 1.5rem !important;</span><br><span class=\"line\">      color: var(--sub-color) !important;</span><br><span class=\"line\">      margin-top: 10px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #center &#123;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      justify-content: center !important;</span><br><span class=\"line\">      align-items: center !important;</span><br><span class=\"line\">      margin: 20px 0 !important;</span><br><span class=\"line\">      position: relative !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .myFish &#123;</span><br><span class=\"line\">      cursor: pointer !important;</span><br><span class=\"line\">      margin: 0 auto !important;</span><br><span class=\"line\">      pointer-events: auto !important;</span><br><span class=\"line\">      transition: transform 0.1s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .fish-path &#123;</span><br><span class=\"line\">      fill: var(--fish-color) !important;</span><br><span class=\"line\">      opacity: 1.00 !important;</span><br><span class=\"line\">      transition: fill 0.3s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #bottom &#123;</span><br><span class=\"line\">      color: var(--sub-color) !important;</span><br><span class=\"line\">      font-size: 0.9rem !important;</span><br><span class=\"line\">      padding: 0 5px !important;</span><br><span class=\"line\">      text-align: center !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .keyTips &#123;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      justify-content: center !important;</span><br><span class=\"line\">      align-items: center !important;</span><br><span class=\"line\">      margin-bottom: 15px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .keyTips key &#123;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      background-color: var(--key-bg) !important;</span><br><span class=\"line\">      margin: 0.3rem 0.45rem !important;</span><br><span class=\"line\">      border-radius: 0.3rem !important;</span><br><span class=\"line\">      padding: 0.2rem 0.5rem !important;</span><br><span class=\"line\">      font-size: 0.7rem !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .leftRight &#123;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      justify-content: space-between !important;</span><br><span class=\"line\">      align-items: center !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .left &#123;</span><br><span class=\"line\">      font-size: 12px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .textButton &#123;</span><br><span class=\"line\">      color: var(--sub-color) !important;</span><br><span class=\"line\">      text-decoration: none !important;</span><br><span class=\"line\">      transition: color 0.2s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .textButton:hover &#123;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #autoClick &#123;</span><br><span class=\"line\">      cursor: pointer !important;</span><br><span class=\"line\">      margin-left: 10px !important;</span><br><span class=\"line\">      transition: all 0.2s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #autoClick.confirm &#123;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      text-decoration: underline !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .subtitleCountTip &#123;</span><br><span class=\"line\">      position: absolute !important;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      animation: float 1s forwards !important;</span><br><span class=\"line\">      opacity: 0 !important;</span><br><span class=\"line\">      font-size: 16px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @keyframes float &#123;</span><br><span class=\"line\">      from &#123; transform: translateY(0); opacity: 1; &#125;</span><br><span class=\"line\">      to &#123; transform: translateY(-30px); opacity: 0; &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* 响应式调整 */</span><br><span class=\"line\">    @media (max-width: 480px) &#123;</span><br><span class=\"line\">      #fish-container .count &#123;</span><br><span class=\"line\">        font-size: 4rem !important;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &lt;/style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;script src=&quot;https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">  &lt;script&gt;</span><br><span class=\"line\">    // 主题变化时更新样式</span><br><span class=\"line\">    function updateTheme() &#123;</span><br><span class=\"line\">      const container = document.getElementById(&#x27;fish-container&#x27;);</span><br><span class=\"line\">      if (!container) return;</span><br><span class=\"line\">      </span><br><span class=\"line\">      // 触发重绘</span><br><span class=\"line\">      container.style.display = &#x27;none&#x27;;</span><br><span class=\"line\">      setTimeout(() =&gt; &#123;</span><br><span class=\"line\">        container.style.display = &#x27;block&#x27;;</span><br><span class=\"line\">      &#125;, 0);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 监听主题变化事件</span><br><span class=\"line\">    if (window.matchMedia) &#123;</span><br><span class=\"line\">      const darkModeMedia = window.matchMedia(&#x27;(prefers-color-scheme: dark)&#x27;);</span><br><span class=\"line\">      darkModeMedia.addEventListener(&#x27;change&#x27;, updateTheme);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）</span><br><span class=\"line\">    const observer = new MutationObserver((mutations) =&gt; &#123;</span><br><span class=\"line\">      mutations.forEach(mutation =&gt; &#123;</span><br><span class=\"line\">        if (mutation.attributeName === &#x27;data-theme&#x27;) &#123;</span><br><span class=\"line\">          updateTheme();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    observer.observe(document.documentElement, &#123; attributes: true &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    // 初始化木鱼功能</span><br><span class=\"line\">    function initFish() &#123;</span><br><span class=\"line\">      const maxRetries = 10;</span><br><span class=\"line\">      let retries = 0;</span><br><span class=\"line\">      </span><br><span class=\"line\">      function tryInit() &#123;</span><br><span class=\"line\">        const container = document.getElementById(&#x27;fish-container&#x27;);</span><br><span class=\"line\">        const countElement = container.querySelector(&#x27;.count&#x27;);</span><br><span class=\"line\">        const myFishElement = container.querySelector(&#x27;.myFish&#x27;);</span><br><span class=\"line\">        const centerElement = container.querySelector(&#x27;#center&#x27;);</span><br><span class=\"line\">        const autoClickElement = container.querySelector(&#x27;#autoClick&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">        if (!countElement || !myFishElement || !centerElement || !autoClickElement) &#123;</span><br><span class=\"line\">          retries++;</span><br><span class=\"line\">          if (retries &lt; maxRetries) &#123;</span><br><span class=\"line\">            setTimeout(tryInit, 100);</span><br><span class=\"line\">            return;</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            console.error(&#x27;无法加载电子木鱼元素&#x27;);</span><br><span class=\"line\">            return;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        let count = 0;</span><br><span class=\"line\">        let countFlag = false;</span><br><span class=\"line\">        let autoClick = false;</span><br><span class=\"line\">        let autoClickInterval = null;</span><br><span class=\"line\"></span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">          const saved = localStorage.getItem(&#x27;count&#x27;);</span><br><span class=\"line\">          count = saved ? Number(saved) : 0;</span><br><span class=\"line\">        &#125; catch (e) &#123;</span><br><span class=\"line\">          count = 0;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        countElement.textContent = count;</span><br><span class=\"line\"></span><br><span class=\"line\">        function startAnimate() &#123;</span><br><span class=\"line\">          countElement.style.transform = &#x27;scale(1.1)&#x27;;</span><br><span class=\"line\">          myFishElement.style.transform = &#x27;scale(0.95)&#x27;;</span><br><span class=\"line\">          const tip = document.createElement(&#x27;div&#x27;);</span><br><span class=\"line\">          tip.className = &#x27;subtitleCountTip&#x27;;</span><br><span class=\"line\">          tip.textContent = &#x27;功德 + 1&#x27;;</span><br><span class=\"line\">          centerElement.appendChild(tip);</span><br><span class=\"line\">          setTimeout(() =&gt; tip.remove(), 1000);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function initAnimate() &#123;</span><br><span class=\"line\">          countElement.style.transform = &#x27;scale(1)&#x27;;</span><br><span class=\"line\">          myFishElement.style.transform = &#x27;scale(1)&#x27;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function counter() &#123;</span><br><span class=\"line\">          countFlag = true;</span><br><span class=\"line\">          count++;</span><br><span class=\"line\">          countElement.textContent = count;</span><br><span class=\"line\">          startAnimate();</span><br><span class=\"line\">          try &#123;</span><br><span class=\"line\">            localStorage.setItem(&#x27;count&#x27;, count);</span><br><span class=\"line\">          &#125; catch (e) &#123;</span><br><span class=\"line\">            console.log(&#x27;无法保存到本地存储&#x27;);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        myFishElement.addEventListener(&#x27;click&#x27;, counter);</span><br><span class=\"line\">        myFishElement.addEventListener(&#x27;mousedown&#x27;, () =&gt; &#123;</span><br><span class=\"line\">          setTimeout(initAnimate, 200);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        document.addEventListener(&#x27;keyup&#x27;, (e) =&gt; &#123;</span><br><span class=\"line\">          if (e.key === &#x27; &#x27;) &#123;</span><br><span class=\"line\">            e.preventDefault();</span><br><span class=\"line\">            if (!countFlag) counter();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        document.addEventListener(&#x27;keydown&#x27;, (e) =&gt; &#123;</span><br><span class=\"line\">          if (e.key === &#x27; &#x27;) &#123;</span><br><span class=\"line\">            e.preventDefault();</span><br><span class=\"line\">            countFlag = false;</span><br><span class=\"line\">            initAnimate();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        autoClickElement.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class=\"line\">          autoClick = !autoClick;</span><br><span class=\"line\">          if (autoClick) &#123;</span><br><span class=\"line\">            autoClickElement.classList.add(&#x27;confirm&#x27;);</span><br><span class=\"line\">            autoClickInterval = setInterval(() =&gt; &#123;</span><br><span class=\"line\">              counter();</span><br><span class=\"line\">              setTimeout(initAnimate, 200);</span><br><span class=\"line\">            &#125;, 500);</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            autoClickElement.classList.remove(&#x27;confirm&#x27;);</span><br><span class=\"line\">            clearInterval(autoClickInterval);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        console.log(&#x27;电子木鱼初始化成功&#x27;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      tryInit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (document.readyState === &#x27;complete&#x27;) &#123;</span><br><span class=\"line\">      initFish();</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      window.addEventListener(&#x27;load&#x27;, initFish);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &lt;/script&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h1><ul>\n<li>目前第一次打开还是会有概率无法使用（很小），刷新一次即可正常使用</li>\n</ul>\n<h1 id=\"引用教程\"><a href=\"#引用教程\" class=\"headerlink\" title=\"引用教程\"></a>引用教程</h1><ul>\n<li>谢谢大佬们的无私贡献！</li>\n</ul>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://github.com/52js/ElectronFish\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">ElectronFish 电子木鱼</div>\n            <div class=\"tag-link-sitename\">52JS</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n\n<h1 id=\"最终实现效果\"><a href=\"#最终实现效果\" class=\"headerlink\" title=\"最终实现效果\"></a>最终实现效果</h1><h2 id=\"深色模式\"><a href=\"#深色模式\" class=\"headerlink\" title=\"深色模式\"></a>深色模式</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-3.png\"></p>\n<h2 id=\"亮色模式\"><a href=\"#亮色模式\" class=\"headerlink\" title=\"亮色模式\"></a>亮色模式</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-2.png\"></p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>之前博客里面一直都有电子木鱼，但是之前是塞了一个单独的网页界面，文件都是分散开的，加载也很慢，主要的还是影响博客的加载速度，于是我使用豆包AI基于52JS大佬的项目大改了一下，目前不需要文件，只需要将代码嵌入到界面的index.md文件里面即可搞定电子木鱼界面。</p>\n<h1 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h1><p>本站已经内嵌此项目，可以去康康哦~ </p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"/fish/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">电子木鱼</div>\n            <div class=\"tag-link-sitename\">酥米的小站</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h1 id=\"优势\"><a href=\"#优势\" class=\"headerlink\" title=\"优势\"></a>优势</h1><ul>\n<li><p>不需要引用文件</p>\n</li>\n<li><p>尽量修复第一次点进去无法正常使用的问题（还是有概率出现用不了的问题，不过刷新一下就好了）</p>\n</li>\n<li><p>适配anzhiyu深色亮色模式，会跟着一起切换</p>\n</li>\n<li><p>总代码少，便于博客加载</p>\n</li>\n</ul>\n<h1 id=\"创建界面\"><a href=\"#创建界面\" class=\"headerlink\" title=\"创建界面\"></a>创建界面</h1><p>可以先使用指令单独创建一个电子木鱼的页面</p>\n<p><code>hexo new pages &quot;页面名称&quot;</code></p>\n<p>然后使用工具编辑<code>“页面名称”/index.md</code></p>\n<h1 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h1><p>代码如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;!-- 隔离容器 - 确保样式不冲突 --&gt;</span><br><span class=\"line\">&lt;div id=&quot;fish-container&quot; style=&quot;all: initial; display: block; margin: 20px auto; max-width: 600px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);&quot;&gt;</span><br><span class=\"line\">  &lt;div class=&quot;centerContent&quot;&gt;</span><br><span class=\"line\">    &lt;div id=&quot;top&quot;&gt;</span><br><span class=\"line\">      &lt;div class=&quot;score&quot;&gt;</span><br><span class=\"line\">        &lt;div class=&quot;count&quot;&gt;0&lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=&quot;subtitle&quot;&gt;功德&lt;/div&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div id=&quot;center&quot;&gt;</span><br><span class=\"line\">      &lt;svg class=&quot;myFish&quot; width=&quot;157pt&quot; height=&quot;126pt&quot; viewbox=&quot;0 0 247 197&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;</span><br><span class=\"line\">        &lt;g id=&quot;fish-svg&quot;&gt;</span><br><span class=\"line\">          &lt;path class=&quot;fish-path&quot; d=&quot; M 109.12 6.53 C 124.09 4.27 139.37 2.82 154.47 4.79 C 173.07 7.14 191.38 14.02 206.02 25.89 C 217.01 34.77 225.17 46.63 231.55 59.13 C 237.81 72.25 241.16 86.53 243.92 100.74 C 225.49 104.75 206.58 105.76 187.77 106.20 C 186.21 100.02 183.12 93.94 177.74 90.25 C 172.00 85.96 163.98 84.19 157.26 87.18 C 145.99 91.69 139.62 105.22 142.63 116.85 C 145.12 127.39 154.97 136.11 166.05 135.69 C 176.18 134.97 184.61 126.81 187.19 117.22 C 192.74 116.73 198.32 116.63 203.89 116.32 C 217.57 115.26 231.14 113.14 244.82 111.98 C 245.52 121.28 246.13 130.75 244.11 139.94 C 242.32 149.02 239.23 158.07 233.39 165.39 C 224.88 176.55 212.15 183.64 199.01 187.98 C 187.42 191.86 175.20 193.41 163.05 194.29 C 140.40 195.87 117.64 195.62 94.99 194.19 C 74.79 192.81 54.55 190.78 34.79 186.17 C 27.91 184.54 21.07 182.47 14.77 179.21 C 8.58 175.93 4.23 169.71 2.72 162.92 C -0.48 151.41 3.00 139.09 9.20 129.21 C 14.61 119.75 27.61 116.88 30.81 105.83 C 35.50 90.01 37.28 73.40 42.87 57.82 C 47.56 45.36 54.34 33.26 64.82 24.75 C 77.25 14.19 93.24 9.04 109.12 6.53 Z&quot;&gt;&lt;/path&gt;</span><br><span class=\"line\">        &lt;/g&gt;</span><br><span class=\"line\">      &lt;/svg&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">    &lt;div id=&quot;bottom&quot;&gt;</span><br><span class=\"line\">      &lt;div class=&quot;keyTips&quot;&gt;</span><br><span class=\"line\">        &lt;key&gt;点击&lt;/key&gt;积攒功德</span><br><span class=\"line\">        &lt;span id=&quot;autoClick&quot; class=&quot;autoClick&quot;&gt;自动点击&lt;/span&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">      &lt;div class=&quot;leftRight&quot;&gt;</span><br><span class=\"line\">        &lt;div class=&quot;left&quot;&gt;敲电子木鱼，见机甲佛祖，修赛博真经。&lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=&quot;right&quot;&gt;</span><br><span class=\"line\">          &lt;a href=&quot;https://github.com/52js&quot; class=&quot;textButton&quot;&gt;</span><br><span class=\"line\">            &lt;div class=&quot;text&quot;&gt;@52js &amp; Supermini233&lt;/div&gt;</span><br><span class=\"line\">          &lt;/a&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;style&gt;</span><br><span class=\"line\">    /* 基础样式 - 确保优先级 */</span><br><span class=\"line\">    #fish-container &#123;</span><br><span class=\"line\">      --text-color: #eee;</span><br><span class=\"line\">      --bg-color: #111;</span><br><span class=\"line\">      --sub-color: #aaa;</span><br><span class=\"line\">      --fish-color: #eee;</span><br><span class=\"line\">      --key-bg: #444;</span><br><span class=\"line\">      font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, sans-serif !important;</span><br><span class=\"line\">      background: var(--bg-color) !important;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      padding: 20px !important;</span><br><span class=\"line\">      transition: background-color 0.3s ease, color 0.3s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* 适配Anzhiyu亮色模式 */</span><br><span class=\"line\">    html[data-theme=&quot;light&quot;] #fish-container,</span><br><span class=\"line\">    body.light #fish-container &#123;</span><br><span class=\"line\">      --text-color: #333;</span><br><span class=\"line\">      --bg-color: #f5f5f5;</span><br><span class=\"line\">      --sub-color: #666;</span><br><span class=\"line\">      --fish-color: #333;</span><br><span class=\"line\">      --key-bg: #ddd;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* 核心样式 */</span><br><span class=\"line\">    #fish-container .centerContent &#123;</span><br><span class=\"line\">      width: 100% !important;</span><br><span class=\"line\">      min-height: 300px !important;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      flex-direction: column !important;</span><br><span class=\"line\">      justify-content: space-between !important;</span><br><span class=\"line\">      padding: 1rem 1rem !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .score &#123;</span><br><span class=\"line\">      font-family: &quot;Helvetica Neue&quot;, sans-serif !important;</span><br><span class=\"line\">      text-align: center !important;</span><br><span class=\"line\">      width: 100% !important;</span><br><span class=\"line\">      margin: 20px 0 !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .count &#123;</span><br><span class=\"line\">      text-align: center !important;</span><br><span class=\"line\">      font-size: 6rem !important;</span><br><span class=\"line\">      line-height: 1 !important;</span><br><span class=\"line\">      transition: transform 0.1s ease !important;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .subtitle &#123;</span><br><span class=\"line\">      font-size: 1.5rem !important;</span><br><span class=\"line\">      color: var(--sub-color) !important;</span><br><span class=\"line\">      margin-top: 10px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #center &#123;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      justify-content: center !important;</span><br><span class=\"line\">      align-items: center !important;</span><br><span class=\"line\">      margin: 20px 0 !important;</span><br><span class=\"line\">      position: relative !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .myFish &#123;</span><br><span class=\"line\">      cursor: pointer !important;</span><br><span class=\"line\">      margin: 0 auto !important;</span><br><span class=\"line\">      pointer-events: auto !important;</span><br><span class=\"line\">      transition: transform 0.1s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .fish-path &#123;</span><br><span class=\"line\">      fill: var(--fish-color) !important;</span><br><span class=\"line\">      opacity: 1.00 !important;</span><br><span class=\"line\">      transition: fill 0.3s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #bottom &#123;</span><br><span class=\"line\">      color: var(--sub-color) !important;</span><br><span class=\"line\">      font-size: 0.9rem !important;</span><br><span class=\"line\">      padding: 0 5px !important;</span><br><span class=\"line\">      text-align: center !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .keyTips &#123;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      justify-content: center !important;</span><br><span class=\"line\">      align-items: center !important;</span><br><span class=\"line\">      margin-bottom: 15px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .keyTips key &#123;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      background-color: var(--key-bg) !important;</span><br><span class=\"line\">      margin: 0.3rem 0.45rem !important;</span><br><span class=\"line\">      border-radius: 0.3rem !important;</span><br><span class=\"line\">      padding: 0.2rem 0.5rem !important;</span><br><span class=\"line\">      font-size: 0.7rem !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .leftRight &#123;</span><br><span class=\"line\">      display: flex !important;</span><br><span class=\"line\">      justify-content: space-between !important;</span><br><span class=\"line\">      align-items: center !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .left &#123;</span><br><span class=\"line\">      font-size: 12px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .textButton &#123;</span><br><span class=\"line\">      color: var(--sub-color) !important;</span><br><span class=\"line\">      text-decoration: none !important;</span><br><span class=\"line\">      transition: color 0.2s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .textButton:hover &#123;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #autoClick &#123;</span><br><span class=\"line\">      cursor: pointer !important;</span><br><span class=\"line\">      margin-left: 10px !important;</span><br><span class=\"line\">      transition: all 0.2s ease !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container #autoClick.confirm &#123;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      text-decoration: underline !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #fish-container .subtitleCountTip &#123;</span><br><span class=\"line\">      position: absolute !important;</span><br><span class=\"line\">      color: var(--text-color) !important;</span><br><span class=\"line\">      animation: float 1s forwards !important;</span><br><span class=\"line\">      opacity: 0 !important;</span><br><span class=\"line\">      font-size: 16px !important;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    @keyframes float &#123;</span><br><span class=\"line\">      from &#123; transform: translateY(0); opacity: 1; &#125;</span><br><span class=\"line\">      to &#123; transform: translateY(-30px); opacity: 0; &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    /* 响应式调整 */</span><br><span class=\"line\">    @media (max-width: 480px) &#123;</span><br><span class=\"line\">      #fish-container .count &#123;</span><br><span class=\"line\">        font-size: 4rem !important;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &lt;/style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;script src=&quot;https://cdn.sumi233.top/npm/howler@2.2.3/dist/howler.min.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">  &lt;script&gt;</span><br><span class=\"line\">    // 主题变化时更新样式</span><br><span class=\"line\">    function updateTheme() &#123;</span><br><span class=\"line\">      const container = document.getElementById(&#x27;fish-container&#x27;);</span><br><span class=\"line\">      if (!container) return;</span><br><span class=\"line\">      </span><br><span class=\"line\">      // 触发重绘</span><br><span class=\"line\">      container.style.display = &#x27;none&#x27;;</span><br><span class=\"line\">      setTimeout(() =&gt; &#123;</span><br><span class=\"line\">        container.style.display = &#x27;block&#x27;;</span><br><span class=\"line\">      &#125;, 0);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 监听主题变化事件</span><br><span class=\"line\">    if (window.matchMedia) &#123;</span><br><span class=\"line\">      const darkModeMedia = window.matchMedia(&#x27;(prefers-color-scheme: dark)&#x27;);</span><br><span class=\"line\">      darkModeMedia.addEventListener(&#x27;change&#x27;, updateTheme);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 监听DOM变化（Anzhiyu主题切换时会改变data-theme属性）</span><br><span class=\"line\">    const observer = new MutationObserver((mutations) =&gt; &#123;</span><br><span class=\"line\">      mutations.forEach(mutation =&gt; &#123;</span><br><span class=\"line\">        if (mutation.attributeName === &#x27;data-theme&#x27;) &#123;</span><br><span class=\"line\">          updateTheme();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    observer.observe(document.documentElement, &#123; attributes: true &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    // 初始化木鱼功能</span><br><span class=\"line\">    function initFish() &#123;</span><br><span class=\"line\">      const maxRetries = 10;</span><br><span class=\"line\">      let retries = 0;</span><br><span class=\"line\">      </span><br><span class=\"line\">      function tryInit() &#123;</span><br><span class=\"line\">        const container = document.getElementById(&#x27;fish-container&#x27;);</span><br><span class=\"line\">        const countElement = container.querySelector(&#x27;.count&#x27;);</span><br><span class=\"line\">        const myFishElement = container.querySelector(&#x27;.myFish&#x27;);</span><br><span class=\"line\">        const centerElement = container.querySelector(&#x27;#center&#x27;);</span><br><span class=\"line\">        const autoClickElement = container.querySelector(&#x27;#autoClick&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">        if (!countElement || !myFishElement || !centerElement || !autoClickElement) &#123;</span><br><span class=\"line\">          retries++;</span><br><span class=\"line\">          if (retries &lt; maxRetries) &#123;</span><br><span class=\"line\">            setTimeout(tryInit, 100);</span><br><span class=\"line\">            return;</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            console.error(&#x27;无法加载电子木鱼元素&#x27;);</span><br><span class=\"line\">            return;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        let count = 0;</span><br><span class=\"line\">        let countFlag = false;</span><br><span class=\"line\">        let autoClick = false;</span><br><span class=\"line\">        let autoClickInterval = null;</span><br><span class=\"line\"></span><br><span class=\"line\">        try &#123;</span><br><span class=\"line\">          const saved = localStorage.getItem(&#x27;count&#x27;);</span><br><span class=\"line\">          count = saved ? Number(saved) : 0;</span><br><span class=\"line\">        &#125; catch (e) &#123;</span><br><span class=\"line\">          count = 0;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        countElement.textContent = count;</span><br><span class=\"line\"></span><br><span class=\"line\">        function startAnimate() &#123;</span><br><span class=\"line\">          countElement.style.transform = &#x27;scale(1.1)&#x27;;</span><br><span class=\"line\">          myFishElement.style.transform = &#x27;scale(0.95)&#x27;;</span><br><span class=\"line\">          const tip = document.createElement(&#x27;div&#x27;);</span><br><span class=\"line\">          tip.className = &#x27;subtitleCountTip&#x27;;</span><br><span class=\"line\">          tip.textContent = &#x27;功德 + 1&#x27;;</span><br><span class=\"line\">          centerElement.appendChild(tip);</span><br><span class=\"line\">          setTimeout(() =&gt; tip.remove(), 1000);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function initAnimate() &#123;</span><br><span class=\"line\">          countElement.style.transform = &#x27;scale(1)&#x27;;</span><br><span class=\"line\">          myFishElement.style.transform = &#x27;scale(1)&#x27;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        function counter() &#123;</span><br><span class=\"line\">          countFlag = true;</span><br><span class=\"line\">          count++;</span><br><span class=\"line\">          countElement.textContent = count;</span><br><span class=\"line\">          startAnimate();</span><br><span class=\"line\">          try &#123;</span><br><span class=\"line\">            localStorage.setItem(&#x27;count&#x27;, count);</span><br><span class=\"line\">          &#125; catch (e) &#123;</span><br><span class=\"line\">            console.log(&#x27;无法保存到本地存储&#x27;);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        myFishElement.addEventListener(&#x27;click&#x27;, counter);</span><br><span class=\"line\">        myFishElement.addEventListener(&#x27;mousedown&#x27;, () =&gt; &#123;</span><br><span class=\"line\">          setTimeout(initAnimate, 200);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        document.addEventListener(&#x27;keyup&#x27;, (e) =&gt; &#123;</span><br><span class=\"line\">          if (e.key === &#x27; &#x27;) &#123;</span><br><span class=\"line\">            e.preventDefault();</span><br><span class=\"line\">            if (!countFlag) counter();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        document.addEventListener(&#x27;keydown&#x27;, (e) =&gt; &#123;</span><br><span class=\"line\">          if (e.key === &#x27; &#x27;) &#123;</span><br><span class=\"line\">            e.preventDefault();</span><br><span class=\"line\">            countFlag = false;</span><br><span class=\"line\">            initAnimate();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        autoClickElement.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class=\"line\">          autoClick = !autoClick;</span><br><span class=\"line\">          if (autoClick) &#123;</span><br><span class=\"line\">            autoClickElement.classList.add(&#x27;confirm&#x27;);</span><br><span class=\"line\">            autoClickInterval = setInterval(() =&gt; &#123;</span><br><span class=\"line\">              counter();</span><br><span class=\"line\">              setTimeout(initAnimate, 200);</span><br><span class=\"line\">            &#125;, 500);</span><br><span class=\"line\">          &#125; else &#123;</span><br><span class=\"line\">            autoClickElement.classList.remove(&#x27;confirm&#x27;);</span><br><span class=\"line\">            clearInterval(autoClickInterval);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        console.log(&#x27;电子木鱼初始化成功&#x27;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      tryInit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (document.readyState === &#x27;complete&#x27;) &#123;</span><br><span class=\"line\">      initFish();</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      window.addEventListener(&#x27;load&#x27;, initFish);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &lt;/script&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h1><ul>\n<li>目前第一次打开还是会有概率无法使用（很小），刷新一次即可正常使用</li>\n</ul>\n<h1 id=\"引用教程\"><a href=\"#引用教程\" class=\"headerlink\" title=\"引用教程\"></a>引用教程</h1><ul>\n<li>谢谢大佬们的无私贡献！</li>\n</ul>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://github.com/52js/ElectronFish\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">ElectronFish 电子木鱼</div>\n            <div class=\"tag-link-sitename\">52JS</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n\n<h1 id=\"最终实现效果\"><a href=\"#最终实现效果\" class=\"headerlink\" title=\"最终实现效果\"></a>最终实现效果</h1><h2 id=\"深色模式\"><a href=\"#深色模式\" class=\"headerlink\" title=\"深色模式\"></a>深色模式</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-3.png\"></p>\n<h2 id=\"亮色模式\"><a href=\"#亮色模式\" class=\"headerlink\" title=\"亮色模式\"></a>亮色模式</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht2-2.png\"></p>\n"},{"title":"anzhiyu主题友链测速后端修复","description":"anzhiyu主题友链测速后端修复方案和脚本","summary":"酥米小机器人来啦，这篇文章介绍了anzhiyu主题友链测速后端修复过程，原js代码不兼容提示格式错误，经豆包调整现已支持自动检测编码、修复并生成合适的友链json，可检测语法问题输出错误，脚本可放置scripts文件夹或直接执行node link.js，代码通过处理BOM头替换制表符、严格解析YAML结构实现功能优化，同时提供错误定位与调试信息输出。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-3.png","date":"2025-09-23T18:20:13.000Z","_content":"\n# 前提\n最近在捣腾anzhiyu主题的友链延迟检测，前端使用了辰渊尘大佬的方法，后端则使用了LiuShen大佬的Github Action方法，但是大佬附带的友链提取js并不适配anzhiyu主题，提示格式错误，于是我投给豆包进行了修改。\n\n现已支持自动检测编码和自动修复并生成合适的友链json,也能检测出语法问题并且输出错误。\n\n脚本可以放在scripts文件夹也可以单独执行`node link.js`来生成\n\n**效果如图**：\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-1.png)\n\n# 代码\n代码如下：\n```node.js\nconst YML = require('yamljs');\nconst fs = require('fs').promises;\nconst path = require('path');\n\n// 路径配置\nconst LINK_YML_PATH = path.join('source', '_data', 'link.yml');\nconst OUTPUT_JSON_PATH = path.join('source', 'flink_count.json');\nconst TAKE_COUNT = 2;\n\nasync function processLinks() {\n  try {\n    // 读取文件（二进制方式）\n    const yamlBuffer = await fs.readFile(LINK_YML_PATH);\n    console.log('文件读取成功，大小:', yamlBuffer.length, '字节');\n    \n    // 处理UTF-8 BOM头（移除BOM）\n    let cleanBuffer = yamlBuffer;\n    if (yamlBuffer[0] === 0xef && yamlBuffer[1] === 0xbb && yamlBuffer[2] === 0xbf) {\n      console.warn('检测到UTF-8 BOM头，已自动移除');\n      cleanBuffer = yamlBuffer.slice(3); // 移除前3个BOM字节\n    }\n    \n    // 转换为字符串\n    const yamlContent = cleanBuffer.toString('utf8');\n    \n    // 显示文件前100个字符用于调试\n    console.log('文件前100字符:', yamlContent.substring(0, 100).replace(/\\n/g, '\\\\n'));\n    \n    // 更安全的YAML处理 - 只处理确实为空的rss字段\n    const processedContent = yamlContent\n      .replace(/^\\s*rss:\\s*$/gm, 'rss: \"\"')  // 处理空的rss字段\n      .replace(/\\t/g, '  ');  // 将制表符替换为两个空格（YAML不允许制表符缩进）\n    \n    // 保存处理后的内容用于调试\n    await fs.writeFile('processed_yaml_debug.yml', processedContent, 'utf8');\n    console.log('已保存处理后的YAML到 processed_yaml_debug.yml');\n    \n    // 尝试使用更严格的方式定位错误\n    try {\n      console.log('开始解析YAML...');\n      const data = YML.parse(processedContent);\n      console.log('YAML解析成功，根结构类型:', Array.isArray(data) ? '数组' : typeof data);\n      \n      if (!Array.isArray(data)) {\n        throw new Error('YAML文件的根结构不是数组');\n      }\n      \n      const linkList = [];\n      for (let i = 0; i < Math.min(TAKE_COUNT, data.length); i++) {\n        const item = data[i];\n        if (item && Array.isArray(item.link_list)) {\n          linkList.push(...item.link_list);\n        } else {\n          console.warn(`第${i+1}项不包含有效的link_list数组，已跳过`);\n        }\n      }\n      \n      const outputData = {\n        link_list: linkList,\n        length: linkList.length\n      };\n      \n      await fs.writeFile(\n        OUTPUT_JSON_PATH,\n        JSON.stringify(outputData, null, 2),\n        'utf8'\n      );\n      \n      console.log(`成功生成 ${OUTPUT_JSON_PATH}，共包含 ${linkList.length} 条友链`);\n      \n    } catch (parseError) {\n      console.error('\\n=== YAML解析错误 ===');\n      console.error('错误信息:', parseError.message);\n      \n      // 尝试定位错误行\n      if (parseError.parsedLine) {\n        console.error('错误位置: 第', parseError.parsedLine, '行');\n        // 输出错误行附近的内容\n        const lines = processedContent.split('\\n');\n        const errorLine = parseError.parsedLine - 1; // 转换为数组索引\n        // 显示错误行前后3行\n        for (let i = Math.max(0, errorLine - 3); i <= Math.min(lines.length - 1, errorLine + 3); i++) {\n          console.log(`${i + 1}: ${lines[i]}`);\n        }\n      } else {\n        console.error('错误位置: 未知（可能是文件开头附近）');\n      }\n      console.error('请检查 processed_yaml_debug.yml 文件是否有格式问题');\n    }\n    \n  } catch (error) {\n    console.error('\\n=== 处理过程出错 ===');\n    console.error('错误信息:', error.message);\n  }\n}\n\nprocessLinks();\n```\n\n运行脚本前请先安装yamljs `node install yamljs --save`\n\n# 后端Github Action修复方案\n\n{% note warning flat %}此修复方法仅经过本人测试正常运行，可否正常使用请自行测试{% endnote %}\n\n作者原版github actions运行后可能会出现找不到环境变量的问题，导致抓取失败。\n\n这里有个走偏门的方法，可以Fork后修改workflows文件夹里面的yaml文件夹的**check_links.yml**,将`env：`下面的\n\n`SOURCE_URL: ${{ secrets.SOURCE_URL }}`\n\n改成自己的URL，例如：\n\n`SOURCE_URL: https://www.sumi233.top/flink_count.json`\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-4.png)\n\n然后在项目的Github Actions再次运行workflows即可。\n\n# 引用教程\n- 谢谢大佬们的无私贡献！\n\n{% link Github Action实现友链状态检测,LiuShen,https://blog.liushen.fun/posts/c2262998/ %}\n\n{% link 安知鱼主题实现友链状态前端显示,辰渊尘の个人博客,https://blog.mcxiaochen.top/posts/p1c0fbc06/ %}\n\n# 最终实现效果\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png)\n","source":"_posts/教程/blogflinkcountfix.md","raw":"---\ntitle: anzhiyu主题友链测速后端修复\ndescription: anzhiyu主题友链测速后端修复方案和脚本\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了anzhiyu主题友链测速后端修复过程，原js代码不兼容提示格式错误，经豆包调整现已支持自动检测编码、修复并生成合适的友链json，可检测语法问题输出错误，脚本可放置scripts文件夹或直接执行node\n  link.js，代码通过处理BOM头替换制表符、严格解析YAML结构实现功能优化，同时提供错误定位与调试信息输出。\ntags:\n  - 博客\n  - 教程\ncategories:\n  - 教程类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-3.png\ndate: 2025-09-24 02:20:13\n---\n\n# 前提\n最近在捣腾anzhiyu主题的友链延迟检测，前端使用了辰渊尘大佬的方法，后端则使用了LiuShen大佬的Github Action方法，但是大佬附带的友链提取js并不适配anzhiyu主题，提示格式错误，于是我投给豆包进行了修改。\n\n现已支持自动检测编码和自动修复并生成合适的友链json,也能检测出语法问题并且输出错误。\n\n脚本可以放在scripts文件夹也可以单独执行`node link.js`来生成\n\n**效果如图**：\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-1.png)\n\n# 代码\n代码如下：\n```node.js\nconst YML = require('yamljs');\nconst fs = require('fs').promises;\nconst path = require('path');\n\n// 路径配置\nconst LINK_YML_PATH = path.join('source', '_data', 'link.yml');\nconst OUTPUT_JSON_PATH = path.join('source', 'flink_count.json');\nconst TAKE_COUNT = 2;\n\nasync function processLinks() {\n  try {\n    // 读取文件（二进制方式）\n    const yamlBuffer = await fs.readFile(LINK_YML_PATH);\n    console.log('文件读取成功，大小:', yamlBuffer.length, '字节');\n    \n    // 处理UTF-8 BOM头（移除BOM）\n    let cleanBuffer = yamlBuffer;\n    if (yamlBuffer[0] === 0xef && yamlBuffer[1] === 0xbb && yamlBuffer[2] === 0xbf) {\n      console.warn('检测到UTF-8 BOM头，已自动移除');\n      cleanBuffer = yamlBuffer.slice(3); // 移除前3个BOM字节\n    }\n    \n    // 转换为字符串\n    const yamlContent = cleanBuffer.toString('utf8');\n    \n    // 显示文件前100个字符用于调试\n    console.log('文件前100字符:', yamlContent.substring(0, 100).replace(/\\n/g, '\\\\n'));\n    \n    // 更安全的YAML处理 - 只处理确实为空的rss字段\n    const processedContent = yamlContent\n      .replace(/^\\s*rss:\\s*$/gm, 'rss: \"\"')  // 处理空的rss字段\n      .replace(/\\t/g, '  ');  // 将制表符替换为两个空格（YAML不允许制表符缩进）\n    \n    // 保存处理后的内容用于调试\n    await fs.writeFile('processed_yaml_debug.yml', processedContent, 'utf8');\n    console.log('已保存处理后的YAML到 processed_yaml_debug.yml');\n    \n    // 尝试使用更严格的方式定位错误\n    try {\n      console.log('开始解析YAML...');\n      const data = YML.parse(processedContent);\n      console.log('YAML解析成功，根结构类型:', Array.isArray(data) ? '数组' : typeof data);\n      \n      if (!Array.isArray(data)) {\n        throw new Error('YAML文件的根结构不是数组');\n      }\n      \n      const linkList = [];\n      for (let i = 0; i < Math.min(TAKE_COUNT, data.length); i++) {\n        const item = data[i];\n        if (item && Array.isArray(item.link_list)) {\n          linkList.push(...item.link_list);\n        } else {\n          console.warn(`第${i+1}项不包含有效的link_list数组，已跳过`);\n        }\n      }\n      \n      const outputData = {\n        link_list: linkList,\n        length: linkList.length\n      };\n      \n      await fs.writeFile(\n        OUTPUT_JSON_PATH,\n        JSON.stringify(outputData, null, 2),\n        'utf8'\n      );\n      \n      console.log(`成功生成 ${OUTPUT_JSON_PATH}，共包含 ${linkList.length} 条友链`);\n      \n    } catch (parseError) {\n      console.error('\\n=== YAML解析错误 ===');\n      console.error('错误信息:', parseError.message);\n      \n      // 尝试定位错误行\n      if (parseError.parsedLine) {\n        console.error('错误位置: 第', parseError.parsedLine, '行');\n        // 输出错误行附近的内容\n        const lines = processedContent.split('\\n');\n        const errorLine = parseError.parsedLine - 1; // 转换为数组索引\n        // 显示错误行前后3行\n        for (let i = Math.max(0, errorLine - 3); i <= Math.min(lines.length - 1, errorLine + 3); i++) {\n          console.log(`${i + 1}: ${lines[i]}`);\n        }\n      } else {\n        console.error('错误位置: 未知（可能是文件开头附近）');\n      }\n      console.error('请检查 processed_yaml_debug.yml 文件是否有格式问题');\n    }\n    \n  } catch (error) {\n    console.error('\\n=== 处理过程出错 ===');\n    console.error('错误信息:', error.message);\n  }\n}\n\nprocessLinks();\n```\n\n运行脚本前请先安装yamljs `node install yamljs --save`\n\n# 后端Github Action修复方案\n\n{% note warning flat %}此修复方法仅经过本人测试正常运行，可否正常使用请自行测试{% endnote %}\n\n作者原版github actions运行后可能会出现找不到环境变量的问题，导致抓取失败。\n\n这里有个走偏门的方法，可以Fork后修改workflows文件夹里面的yaml文件夹的**check_links.yml**,将`env：`下面的\n\n`SOURCE_URL: ${{ secrets.SOURCE_URL }}`\n\n改成自己的URL，例如：\n\n`SOURCE_URL: https://www.sumi233.top/flink_count.json`\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-4.png)\n\n然后在项目的Github Actions再次运行workflows即可。\n\n# 引用教程\n- 谢谢大佬们的无私贡献！\n\n{% link Github Action实现友链状态检测,LiuShen,https://blog.liushen.fun/posts/c2262998/ %}\n\n{% link 安知鱼主题实现友链状态前端显示,辰渊尘の个人博客,https://blog.mcxiaochen.top/posts/p1c0fbc06/ %}\n\n# 最终实现效果\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png)\n","slug":"教程/blogflinkcountfix","published":1,"updated":"2025-09-25T03:01:26.723Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561s0059g0fygvubgaxt","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>最近在捣腾anzhiyu主题的友链延迟检测，前端使用了辰渊尘大佬的方法，后端则使用了LiuShen大佬的Github Action方法，但是大佬附带的友链提取js并不适配anzhiyu主题，提示格式错误，于是我投给豆包进行了修改。</p>\n<p>现已支持自动检测编码和自动修复并生成合适的友链json,也能检测出语法问题并且输出错误。</p>\n<p>脚本可以放在scripts文件夹也可以单独执行<code>node link.js</code>来生成</p>\n<p><strong>效果如图</strong>：</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-1.png\"></p>\n<h1 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h1><p>代码如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const YML = require(&#x27;yamljs&#x27;);</span><br><span class=\"line\">const fs = require(&#x27;fs&#x27;).promises;</span><br><span class=\"line\">const path = require(&#x27;path&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 路径配置</span><br><span class=\"line\">const LINK_YML_PATH = path.join(&#x27;source&#x27;, &#x27;_data&#x27;, &#x27;link.yml&#x27;);</span><br><span class=\"line\">const OUTPUT_JSON_PATH = path.join(&#x27;source&#x27;, &#x27;flink_count.json&#x27;);</span><br><span class=\"line\">const TAKE_COUNT = 2;</span><br><span class=\"line\"></span><br><span class=\"line\">async function processLinks() &#123;</span><br><span class=\"line\">  try &#123;</span><br><span class=\"line\">    // 读取文件（二进制方式）</span><br><span class=\"line\">    const yamlBuffer = await fs.readFile(LINK_YML_PATH);</span><br><span class=\"line\">    console.log(&#x27;文件读取成功，大小:&#x27;, yamlBuffer.length, &#x27;字节&#x27;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 处理UTF-8 BOM头（移除BOM）</span><br><span class=\"line\">    let cleanBuffer = yamlBuffer;</span><br><span class=\"line\">    if (yamlBuffer[0] === 0xef &amp;&amp; yamlBuffer[1] === 0xbb &amp;&amp; yamlBuffer[2] === 0xbf) &#123;</span><br><span class=\"line\">      console.warn(&#x27;检测到UTF-8 BOM头，已自动移除&#x27;);</span><br><span class=\"line\">      cleanBuffer = yamlBuffer.slice(3); // 移除前3个BOM字节</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 转换为字符串</span><br><span class=\"line\">    const yamlContent = cleanBuffer.toString(&#x27;utf8&#x27;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 显示文件前100个字符用于调试</span><br><span class=\"line\">    console.log(&#x27;文件前100字符:&#x27;, yamlContent.substring(0, 100).replace(/\\n/g, &#x27;\\\\n&#x27;));</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 更安全的YAML处理 - 只处理确实为空的rss字段</span><br><span class=\"line\">    const processedContent = yamlContent</span><br><span class=\"line\">      .replace(/^\\s*rss:\\s*$/gm, &#x27;rss: &quot;&quot;&#x27;)  // 处理空的rss字段</span><br><span class=\"line\">      .replace(/\\t/g, &#x27;  &#x27;);  // 将制表符替换为两个空格（YAML不允许制表符缩进）</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 保存处理后的内容用于调试</span><br><span class=\"line\">    await fs.writeFile(&#x27;processed_yaml_debug.yml&#x27;, processedContent, &#x27;utf8&#x27;);</span><br><span class=\"line\">    console.log(&#x27;已保存处理后的YAML到 processed_yaml_debug.yml&#x27;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 尝试使用更严格的方式定位错误</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      console.log(&#x27;开始解析YAML...&#x27;);</span><br><span class=\"line\">      const data = YML.parse(processedContent);</span><br><span class=\"line\">      console.log(&#x27;YAML解析成功，根结构类型:&#x27;, Array.isArray(data) ? &#x27;数组&#x27; : typeof data);</span><br><span class=\"line\">      </span><br><span class=\"line\">      if (!Array.isArray(data)) &#123;</span><br><span class=\"line\">        throw new Error(&#x27;YAML文件的根结构不是数组&#x27;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      const linkList = [];</span><br><span class=\"line\">      for (let i = 0; i &lt; Math.min(TAKE_COUNT, data.length); i++) &#123;</span><br><span class=\"line\">        const item = data[i];</span><br><span class=\"line\">        if (item &amp;&amp; Array.isArray(item.link_list)) &#123;</span><br><span class=\"line\">          linkList.push(...item.link_list);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          console.warn(`第$&#123;i+1&#125;项不包含有效的link_list数组，已跳过`);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      const outputData = &#123;</span><br><span class=\"line\">        link_list: linkList,</span><br><span class=\"line\">        length: linkList.length</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      </span><br><span class=\"line\">      await fs.writeFile(</span><br><span class=\"line\">        OUTPUT_JSON_PATH,</span><br><span class=\"line\">        JSON.stringify(outputData, null, 2),</span><br><span class=\"line\">        &#x27;utf8&#x27;</span><br><span class=\"line\">      );</span><br><span class=\"line\">      </span><br><span class=\"line\">      console.log(`成功生成 $&#123;OUTPUT_JSON_PATH&#125;，共包含 $&#123;linkList.length&#125; 条友链`);</span><br><span class=\"line\">      </span><br><span class=\"line\">    &#125; catch (parseError) &#123;</span><br><span class=\"line\">      console.error(&#x27;\\n=== YAML解析错误 ===&#x27;);</span><br><span class=\"line\">      console.error(&#x27;错误信息:&#x27;, parseError.message);</span><br><span class=\"line\">      </span><br><span class=\"line\">      // 尝试定位错误行</span><br><span class=\"line\">      if (parseError.parsedLine) &#123;</span><br><span class=\"line\">        console.error(&#x27;错误位置: 第&#x27;, parseError.parsedLine, &#x27;行&#x27;);</span><br><span class=\"line\">        // 输出错误行附近的内容</span><br><span class=\"line\">        const lines = processedContent.split(&#x27;\\n&#x27;);</span><br><span class=\"line\">        const errorLine = parseError.parsedLine - 1; // 转换为数组索引</span><br><span class=\"line\">        // 显示错误行前后3行</span><br><span class=\"line\">        for (let i = Math.max(0, errorLine - 3); i &lt;= Math.min(lines.length - 1, errorLine + 3); i++) &#123;</span><br><span class=\"line\">          console.log(`$&#123;i + 1&#125;: $&#123;lines[i]&#125;`);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        console.error(&#x27;错误位置: 未知（可能是文件开头附近）&#x27;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      console.error(&#x27;请检查 processed_yaml_debug.yml 文件是否有格式问题&#x27;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125; catch (error) &#123;</span><br><span class=\"line\">    console.error(&#x27;\\n=== 处理过程出错 ===&#x27;);</span><br><span class=\"line\">    console.error(&#x27;错误信息:&#x27;, error.message);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">processLinks();</span><br></pre></td></tr></table></figure>\n\n<p>运行脚本前请先安装yamljs <code>node install yamljs --save</code></p>\n<h1 id=\"后端Github-Action修复方案\"><a href=\"#后端Github-Action修复方案\" class=\"headerlink\" title=\"后端Github Action修复方案\"></a>后端Github Action修复方案</h1><div class=\"note warning flat\"><p>此修复方法仅经过本人测试正常运行，可否正常使用请自行测试</p>\n</div>\n\n<p>作者原版github actions运行后可能会出现找不到环境变量的问题，导致抓取失败。</p>\n<p>这里有个走偏门的方法，可以Fork后修改workflows文件夹里面的yaml文件夹的<strong>check_links.yml</strong>,将<code>env：</code>下面的</p>\n<p><code>SOURCE_URL: $&#123;&#123; secrets.SOURCE_URL &#125;&#125;</code></p>\n<p>改成自己的URL，例如：</p>\n<p><code>SOURCE_URL: https://www.sumi233.top/flink_count.json</code></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-4.png\"></p>\n<p>然后在项目的Github Actions再次运行workflows即可。</p>\n<h1 id=\"引用教程\"><a href=\"#引用教程\" class=\"headerlink\" title=\"引用教程\"></a>引用教程</h1><ul>\n<li>谢谢大佬们的无私贡献！</li>\n</ul>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://blog.liushen.fun/posts/c2262998/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">Github Action实现友链状态检测</div>\n            <div class=\"tag-link-sitename\">LiuShen</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://blog.mcxiaochen.top/posts/p1c0fbc06/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">安知鱼主题实现友链状态前端显示</div>\n            <div class=\"tag-link-sitename\">辰渊尘の个人博客</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h1 id=\"最终实现效果\"><a href=\"#最终实现效果\" class=\"headerlink\" title=\"最终实现效果\"></a>最终实现效果</h1><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png\"></p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>最近在捣腾anzhiyu主题的友链延迟检测，前端使用了辰渊尘大佬的方法，后端则使用了LiuShen大佬的Github Action方法，但是大佬附带的友链提取js并不适配anzhiyu主题，提示格式错误，于是我投给豆包进行了修改。</p>\n<p>现已支持自动检测编码和自动修复并生成合适的友链json,也能检测出语法问题并且输出错误。</p>\n<p>脚本可以放在scripts文件夹也可以单独执行<code>node link.js</code>来生成</p>\n<p><strong>效果如图</strong>：</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-1.png\"></p>\n<h1 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h1><p>代码如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const YML = require(&#x27;yamljs&#x27;);</span><br><span class=\"line\">const fs = require(&#x27;fs&#x27;).promises;</span><br><span class=\"line\">const path = require(&#x27;path&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 路径配置</span><br><span class=\"line\">const LINK_YML_PATH = path.join(&#x27;source&#x27;, &#x27;_data&#x27;, &#x27;link.yml&#x27;);</span><br><span class=\"line\">const OUTPUT_JSON_PATH = path.join(&#x27;source&#x27;, &#x27;flink_count.json&#x27;);</span><br><span class=\"line\">const TAKE_COUNT = 2;</span><br><span class=\"line\"></span><br><span class=\"line\">async function processLinks() &#123;</span><br><span class=\"line\">  try &#123;</span><br><span class=\"line\">    // 读取文件（二进制方式）</span><br><span class=\"line\">    const yamlBuffer = await fs.readFile(LINK_YML_PATH);</span><br><span class=\"line\">    console.log(&#x27;文件读取成功，大小:&#x27;, yamlBuffer.length, &#x27;字节&#x27;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 处理UTF-8 BOM头（移除BOM）</span><br><span class=\"line\">    let cleanBuffer = yamlBuffer;</span><br><span class=\"line\">    if (yamlBuffer[0] === 0xef &amp;&amp; yamlBuffer[1] === 0xbb &amp;&amp; yamlBuffer[2] === 0xbf) &#123;</span><br><span class=\"line\">      console.warn(&#x27;检测到UTF-8 BOM头，已自动移除&#x27;);</span><br><span class=\"line\">      cleanBuffer = yamlBuffer.slice(3); // 移除前3个BOM字节</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 转换为字符串</span><br><span class=\"line\">    const yamlContent = cleanBuffer.toString(&#x27;utf8&#x27;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 显示文件前100个字符用于调试</span><br><span class=\"line\">    console.log(&#x27;文件前100字符:&#x27;, yamlContent.substring(0, 100).replace(/\\n/g, &#x27;\\\\n&#x27;));</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 更安全的YAML处理 - 只处理确实为空的rss字段</span><br><span class=\"line\">    const processedContent = yamlContent</span><br><span class=\"line\">      .replace(/^\\s*rss:\\s*$/gm, &#x27;rss: &quot;&quot;&#x27;)  // 处理空的rss字段</span><br><span class=\"line\">      .replace(/\\t/g, &#x27;  &#x27;);  // 将制表符替换为两个空格（YAML不允许制表符缩进）</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 保存处理后的内容用于调试</span><br><span class=\"line\">    await fs.writeFile(&#x27;processed_yaml_debug.yml&#x27;, processedContent, &#x27;utf8&#x27;);</span><br><span class=\"line\">    console.log(&#x27;已保存处理后的YAML到 processed_yaml_debug.yml&#x27;);</span><br><span class=\"line\">    </span><br><span class=\"line\">    // 尝试使用更严格的方式定位错误</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      console.log(&#x27;开始解析YAML...&#x27;);</span><br><span class=\"line\">      const data = YML.parse(processedContent);</span><br><span class=\"line\">      console.log(&#x27;YAML解析成功，根结构类型:&#x27;, Array.isArray(data) ? &#x27;数组&#x27; : typeof data);</span><br><span class=\"line\">      </span><br><span class=\"line\">      if (!Array.isArray(data)) &#123;</span><br><span class=\"line\">        throw new Error(&#x27;YAML文件的根结构不是数组&#x27;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      const linkList = [];</span><br><span class=\"line\">      for (let i = 0; i &lt; Math.min(TAKE_COUNT, data.length); i++) &#123;</span><br><span class=\"line\">        const item = data[i];</span><br><span class=\"line\">        if (item &amp;&amp; Array.isArray(item.link_list)) &#123;</span><br><span class=\"line\">          linkList.push(...item.link_list);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          console.warn(`第$&#123;i+1&#125;项不包含有效的link_list数组，已跳过`);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      const outputData = &#123;</span><br><span class=\"line\">        link_list: linkList,</span><br><span class=\"line\">        length: linkList.length</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      </span><br><span class=\"line\">      await fs.writeFile(</span><br><span class=\"line\">        OUTPUT_JSON_PATH,</span><br><span class=\"line\">        JSON.stringify(outputData, null, 2),</span><br><span class=\"line\">        &#x27;utf8&#x27;</span><br><span class=\"line\">      );</span><br><span class=\"line\">      </span><br><span class=\"line\">      console.log(`成功生成 $&#123;OUTPUT_JSON_PATH&#125;，共包含 $&#123;linkList.length&#125; 条友链`);</span><br><span class=\"line\">      </span><br><span class=\"line\">    &#125; catch (parseError) &#123;</span><br><span class=\"line\">      console.error(&#x27;\\n=== YAML解析错误 ===&#x27;);</span><br><span class=\"line\">      console.error(&#x27;错误信息:&#x27;, parseError.message);</span><br><span class=\"line\">      </span><br><span class=\"line\">      // 尝试定位错误行</span><br><span class=\"line\">      if (parseError.parsedLine) &#123;</span><br><span class=\"line\">        console.error(&#x27;错误位置: 第&#x27;, parseError.parsedLine, &#x27;行&#x27;);</span><br><span class=\"line\">        // 输出错误行附近的内容</span><br><span class=\"line\">        const lines = processedContent.split(&#x27;\\n&#x27;);</span><br><span class=\"line\">        const errorLine = parseError.parsedLine - 1; // 转换为数组索引</span><br><span class=\"line\">        // 显示错误行前后3行</span><br><span class=\"line\">        for (let i = Math.max(0, errorLine - 3); i &lt;= Math.min(lines.length - 1, errorLine + 3); i++) &#123;</span><br><span class=\"line\">          console.log(`$&#123;i + 1&#125;: $&#123;lines[i]&#125;`);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        console.error(&#x27;错误位置: 未知（可能是文件开头附近）&#x27;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      console.error(&#x27;请检查 processed_yaml_debug.yml 文件是否有格式问题&#x27;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125; catch (error) &#123;</span><br><span class=\"line\">    console.error(&#x27;\\n=== 处理过程出错 ===&#x27;);</span><br><span class=\"line\">    console.error(&#x27;错误信息:&#x27;, error.message);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">processLinks();</span><br></pre></td></tr></table></figure>\n\n<p>运行脚本前请先安装yamljs <code>node install yamljs --save</code></p>\n<h1 id=\"后端Github-Action修复方案\"><a href=\"#后端Github-Action修复方案\" class=\"headerlink\" title=\"后端Github Action修复方案\"></a>后端Github Action修复方案</h1><div class=\"note warning flat\"><p>此修复方法仅经过本人测试正常运行，可否正常使用请自行测试</p>\n</div>\n\n<p>作者原版github actions运行后可能会出现找不到环境变量的问题，导致抓取失败。</p>\n<p>这里有个走偏门的方法，可以Fork后修改workflows文件夹里面的yaml文件夹的<strong>check_links.yml</strong>,将<code>env：</code>下面的</p>\n<p><code>SOURCE_URL: $&#123;&#123; secrets.SOURCE_URL &#125;&#125;</code></p>\n<p>改成自己的URL，例如：</p>\n<p><code>SOURCE_URL: https://www.sumi233.top/flink_count.json</code></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-4.png\"></p>\n<p>然后在项目的Github Actions再次运行workflows即可。</p>\n<h1 id=\"引用教程\"><a href=\"#引用教程\" class=\"headerlink\" title=\"引用教程\"></a>引用教程</h1><ul>\n<li>谢谢大佬们的无私贡献！</li>\n</ul>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://blog.liushen.fun/posts/c2262998/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">Github Action实现友链状态检测</div>\n            <div class=\"tag-link-sitename\">LiuShen</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://blog.mcxiaochen.top/posts/p1c0fbc06/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">安知鱼主题实现友链状态前端显示</div>\n            <div class=\"tag-link-sitename\">辰渊尘の个人博客</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h1 id=\"最终实现效果\"><a href=\"#最终实现效果\" class=\"headerlink\" title=\"最终实现效果\"></a>最终实现效果</h1><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ht1-2.png\"></p>\n"},{"title":"使用CloudFlare加速Github Pages","description":"使用CloudFlare CDN进行加速您的github pages","summary":"酥米小机器人来啦，这篇文章介绍了如何利用CloudFlare CDN加速Github Pages网站访问。由于Github服务器位于国外导致国内用户访问延迟或失败，通过CloudFlare可有效改善这一情况。需准备已注册的域名、搭建好的Github Pages站点及操作能力，注册CloudFlare后连接主域名并选择Free计划，配置DNS记录为A类型，开启代理功能，填写子域名如www.xxxx.top及对应的四个IP地址，最后将域名DNS服务器更改为CloudFlare提供的地址。需注意域名解析迁移后建议使用独立域名或仅通过CloudFlare解析其他子域名记录以确保稳定性。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cf.webp","date":"2025-08-02T09:24:13.000Z","_content":"\n# 前言\n由于Github服务器在国外，导致国内用户总是打不开基于Github Pages的网站（或者抽风），于是在网上翻查了下，发现可以使用CloudFlare CDN进行加速，虽然服务器也在国外，但也好过没有（DOGE。\n\n# 准备事项\n- 一个正常使用的域名\n- 已经搭建好的GitHub Pages，并且绑定上域名\n- 灵活的脑子和手\n\n# 正文\n\n{% link Cloudflare,Cloudflare注册链接,https://dash.cloudflare.com/ %}\n\n打开cloudflare官网，进行注册。注册后点击右上角添加——连接域，输入你的主域名，默认选项继续。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(1).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(2).png)\n\n之后选择Free版计划，下一步会跳转到DNS记录。新增四个记录，类型为A，勾选代理，名称填写子域名，如要作为网站使用的域名为`www.xxxx.top`那子域名就是`www`，ipv4地址分别如下\n```\n185.199.108.153\n185.199.109.153\n185.199.110.153\n185.199.111.153\n```\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(3).png)\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(6).png)\n\n之后点击激活，会显示出两个cloudflare的专用解析DNS地址，去域名运营商那修改DNS服务器\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(4).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(5).png)\n等待运营商域名刷新后就大功告成啦！\n\n\n## 小贴士\n- 域名的DNS修改后，整个域名的DNS解析功能将会迁移至CloudFlare，建议使用单独的域名食用或在cloudflare上重新解析其他子域名记录","source":"_posts/教程/dnscloudflare.md","raw":"---\ntitle: 使用CloudFlare加速Github Pages\ndescription: 使用CloudFlare CDN进行加速您的github pages\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了如何利用CloudFlare CDN加速Github\n  Pages网站访问。由于Github服务器位于国外导致国内用户访问延迟或失败，通过CloudFlare可有效改善这一情况。需准备已注册的域名、搭建好的Github\n  Pages站点及操作能力，注册CloudFlare后连接主域名并选择Free计划，配置DNS记录为A类型，开启代理功能，填写子域名如www.xxxx.top及对应的四个IP地址，最后将域名DNS服务器更改为CloudFlare提供的地址。需注意域名解析迁移后建议使用独立域名或仅通过CloudFlare解析其他子域名记录以确保稳定性。\ntags:\n  - 网络\ncategories: 教程类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cf.webp\ndate: 2025-08-02 17:24:13\n---\n\n# 前言\n由于Github服务器在国外，导致国内用户总是打不开基于Github Pages的网站（或者抽风），于是在网上翻查了下，发现可以使用CloudFlare CDN进行加速，虽然服务器也在国外，但也好过没有（DOGE。\n\n# 准备事项\n- 一个正常使用的域名\n- 已经搭建好的GitHub Pages，并且绑定上域名\n- 灵活的脑子和手\n\n# 正文\n\n{% link Cloudflare,Cloudflare注册链接,https://dash.cloudflare.com/ %}\n\n打开cloudflare官网，进行注册。注册后点击右上角添加——连接域，输入你的主域名，默认选项继续。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(1).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(2).png)\n\n之后选择Free版计划，下一步会跳转到DNS记录。新增四个记录，类型为A，勾选代理，名称填写子域名，如要作为网站使用的域名为`www.xxxx.top`那子域名就是`www`，ipv4地址分别如下\n```\n185.199.108.153\n185.199.109.153\n185.199.110.153\n185.199.111.153\n```\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(3).png)\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(6).png)\n\n之后点击激活，会显示出两个cloudflare的专用解析DNS地址，去域名运营商那修改DNS服务器\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(4).png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(5).png)\n等待运营商域名刷新后就大功告成啦！\n\n\n## 小贴士\n- 域名的DNS修改后，整个域名的DNS解析功能将会迁移至CloudFlare，建议使用单独的域名食用或在cloudflare上重新解析其他子域名记录","slug":"教程/dnscloudflare","published":1,"updated":"2025-09-22T15:19:03.085Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9561y005eg0fyhfm6355w","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>由于Github服务器在国外，导致国内用户总是打不开基于Github Pages的网站（或者抽风），于是在网上翻查了下，发现可以使用CloudFlare CDN进行加速，虽然服务器也在国外，但也好过没有（DOGE。</p>\n<h1 id=\"准备事项\"><a href=\"#准备事项\" class=\"headerlink\" title=\"准备事项\"></a>准备事项</h1><ul>\n<li>一个正常使用的域名</li>\n<li>已经搭建好的GitHub Pages，并且绑定上域名</li>\n<li>灵活的脑子和手</li>\n</ul>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://dash.cloudflare.com/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">Cloudflare</div>\n            <div class=\"tag-link-sitename\">Cloudflare注册链接</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>打开cloudflare官网，进行注册。注册后点击右上角添加——连接域，输入你的主域名，默认选项继续。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(1).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(2).png\"></p>\n<p>之后选择Free版计划，下一步会跳转到DNS记录。新增四个记录，类型为A，勾选代理，名称填写子域名，如要作为网站使用的域名为<code>www.xxxx.top</code>那子域名就是<code>www</code>，ipv4地址分别如下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">185.199.108.153</span><br><span class=\"line\">185.199.109.153</span><br><span class=\"line\">185.199.110.153</span><br><span class=\"line\">185.199.111.153</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(3).png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(6).png\"></p>\n<p>之后点击激活，会显示出两个cloudflare的专用解析DNS地址，去域名运营商那修改DNS服务器<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(4).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(5).png\"><br>等待运营商域名刷新后就大功告成啦！</p>\n<h2 id=\"小贴士\"><a href=\"#小贴士\" class=\"headerlink\" title=\"小贴士\"></a>小贴士</h2><ul>\n<li>域名的DNS修改后，整个域名的DNS解析功能将会迁移至CloudFlare，建议使用单独的域名食用或在cloudflare上重新解析其他子域名记录</li>\n</ul>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>由于Github服务器在国外，导致国内用户总是打不开基于Github Pages的网站（或者抽风），于是在网上翻查了下，发现可以使用CloudFlare CDN进行加速，虽然服务器也在国外，但也好过没有（DOGE。</p>\n<h1 id=\"准备事项\"><a href=\"#准备事项\" class=\"headerlink\" title=\"准备事项\"></a>准备事项</h1><ul>\n<li>一个正常使用的域名</li>\n<li>已经搭建好的GitHub Pages，并且绑定上域名</li>\n<li>灵活的脑子和手</li>\n</ul>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://dash.cloudflare.com/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">Cloudflare</div>\n            <div class=\"tag-link-sitename\">Cloudflare注册链接</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<p>打开cloudflare官网，进行注册。注册后点击右上角添加——连接域，输入你的主域名，默认选项继续。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(1).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(2).png\"></p>\n<p>之后选择Free版计划，下一步会跳转到DNS记录。新增四个记录，类型为A，勾选代理，名称填写子域名，如要作为网站使用的域名为<code>www.xxxx.top</code>那子域名就是<code>www</code>，ipv4地址分别如下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">185.199.108.153</span><br><span class=\"line\">185.199.109.153</span><br><span class=\"line\">185.199.110.153</span><br><span class=\"line\">185.199.111.153</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(3).png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(6).png\"></p>\n<p>之后点击激活，会显示出两个cloudflare的专用解析DNS地址，去域名运营商那修改DNS服务器<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(4).png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/cloudflaredns%20(5).png\"><br>等待运营商域名刷新后就大功告成啦！</p>\n<h2 id=\"小贴士\"><a href=\"#小贴士\" class=\"headerlink\" title=\"小贴士\"></a>小贴士</h2><ul>\n<li>域名的DNS修改后，整个域名的DNS解析功能将会迁移至CloudFlare，建议使用单独的域名食用或在cloudflare上重新解析其他子域名记录</li>\n</ul>\n"},{"title":"红米2？Linux？ | 手把手教你刷入PostmarketOS Linux！老机换新颜！","description":"酥米手把手教你把红米2刷入PostmarketOS Linux！","summary":"酥米小机器人来啦，这篇文章介绍了如何将红米2刷入PostmarketOS Linux系统的方法，适用于1g或2g版机型，2a版不支持。前期需要准备数据线、电脑及对应的线刷包和Miflash工具，根据机型下载不同版本刷机包并更新系统至安卓5.1以上。刷入PostmarketOS时需进入Fastboot模式，依次刷入Recovery、引导文件及rootfs，过程中需通过ADB工具执行命令完成刷机，系统默认密码为147147且基于AlpineLinux，软件生态较少建议使用flatpak安装应用。最终可成功启动PostmarketOS系统并附带部分截图和视频教程。","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/7f9ab381466b2cab6d83ae8962a5d2281459383e.jpg%40672w_378h_1c.webp","date":"2025-08-19T11:05:13.000Z","_content":"\n# 前言\n本期教程将小白式手把手教大家将红米2刷入PostmarketOS\n\n# 前期准备\n- 红米2（1g或者2g版都行，2a不支持刷入Linux）\n- 数据线\n- 正常使用的电脑（建议系统版本windows10以上）\n- 灵巧的手和脑子\n\n# 合并分区\n已升级安卓5.1的增强版机型可以跳过此步骤，非增强版或未升级安卓5.1的增强版请继续往下\n\n## 下载附件\n请按照以下机型下载线刷包\n\n{% link 线刷包,红米2移动版/2a,https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt86047-stable-V9.2.3.0.LHJCNEK/#china-fastboot %}\n\n{% link 线刷包,红米2联通/电信版,https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt88047-stable-V9.2.5.0.LHJMIEK/#global-fastboot %}\n\n{% link Miflash,Miflash刷机工具,https://miuiver.com/miflash/ %}\n\n## 更新最新版系统合并分区\n红米2官方系统安卓5.1版本往上会自动合并分区，仅需使用miflash线刷更新系统即可\n\n首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png)\n解压下载好的miflash工具，打开点击左上角的driver选项，点击安装，显示完成后关闭\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194247.png)\n解压线刷包，miflash中点击选择，选择刚解压的线刷包文件夹\n点击加载设备，让工具识别到设备，识别到了点击刷机等待进度条跑完。如未识别到设备请检测驱动是否安装。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194312.png)\n进度条跑完后手机会自动重启，此时即更新完成\n\n\n# 刷入PostmarketOS Linux\n## 下载附件\n请下载以下刷机包和附件\n\n红米2全系PostmarketOS下载：https://images.postmarketos.org/bpo/edge/xiaomi-wt88047/phosh\nADB，recovery，lk2nd等文件的下载地址：https://www.123pan.com/s/mIXlVv-I7PB.html 提取码:sumi\n\n## 开始刷入PostmarketOS\n首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png)\n\n解压adb工具，打开cmd，cd到adb目录\n刷入fastboot device检测设备\n出现`xxxxxxxx  fastboot`即成功识别设备\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194328.png)\n\n输入`fastboot flash recovery “刚下载的rec.img的文件地址”`以刷入Recovery\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194045.png)\n\n之后手机长按电源键+音量上键进入工程模式，选择recovery模式进入\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210211.png)\n\n进入rec后点击settings，更改成简体中文\n之后选择清除-高级清除，选择data、system、cache然后滑动清除进行格式化\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194108.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194140.png)\n\n之后选择格式化Data，输入yes清除，清除后按返回回到主界面\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194151.png)\n\n选择重启-Bootloader模式进入线刷模式\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194203.png)\n\n打开cmd，cd到adb目录\n输入`fastboot flash boot “刚下载的lk2nd.img的文件地址”`以刷入引导文件\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194003.png)\n\n输入后fastboot reboot回车进入lk2nd\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210821.png)\n\n输入以下命令刷入内核和rootfs\n```\nfastboot flash boot “刚下载的boot.img的文件地址”\nfastboot flash userdata “刚下载的rootfs.img的文件地址”\n```\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210752.png)\n\n刷入后输入fastboot reboot回车或者单击手机电源键即可进入PostmarketOS系统啦！\n\n## Tips\n系统默认密码为：147147\n由于postmarketOS基于alpine而并非常见发行版，软件源生态匮乏，建议使用flatpak安装部分软件\n## 部分截图\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2290.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2289.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2275.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2274.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2291.jpg)\n## 视频版\n\n<iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=785369943&bvid=BV1E14y1m7xg&cid=1177972746&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\" > </iframe>","source":"_posts/教程/redmi2linux.md","raw":"---\ntitle: 红米2？Linux？ | 手把手教你刷入PostmarketOS Linux！老机换新颜！\ndescription: 酥米手把手教你把红米2刷入PostmarketOS Linux！\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了如何将红米2刷入PostmarketOS\n  Linux系统的方法，适用于1g或2g版机型，2a版不支持。前期需要准备数据线、电脑及对应的线刷包和Miflash工具，根据机型下载不同版本刷机包并更新系统至安卓5.1以上。刷入PostmarketOS时需进入Fastboot模式，依次刷入Recovery、引导文件及rootfs，过程中需通过ADB工具执行命令完成刷机，系统默认密码为147147且基于AlpineLinux，软件生态较少建议使用flatpak安装应用。最终可成功启动PostmarketOS系统并附带部分截图和视频教程。\ntags:\n  - 系统\n  - 刷机\n  - 教程\ncategories: \n  - 搞机类\n  - 教程类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/7f9ab381466b2cab6d83ae8962a5d2281459383e.jpg%40672w_378h_1c.webp\ndate: 2025-08-19 19:05:13\n---\n\n# 前言\n本期教程将小白式手把手教大家将红米2刷入PostmarketOS\n\n# 前期准备\n- 红米2（1g或者2g版都行，2a不支持刷入Linux）\n- 数据线\n- 正常使用的电脑（建议系统版本windows10以上）\n- 灵巧的手和脑子\n\n# 合并分区\n已升级安卓5.1的增强版机型可以跳过此步骤，非增强版或未升级安卓5.1的增强版请继续往下\n\n## 下载附件\n请按照以下机型下载线刷包\n\n{% link 线刷包,红米2移动版/2a,https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt86047-stable-V9.2.3.0.LHJCNEK/#china-fastboot %}\n\n{% link 线刷包,红米2联通/电信版,https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt88047-stable-V9.2.5.0.LHJMIEK/#global-fastboot %}\n\n{% link Miflash,Miflash刷机工具,https://miuiver.com/miflash/ %}\n\n## 更新最新版系统合并分区\n红米2官方系统安卓5.1版本往上会自动合并分区，仅需使用miflash线刷更新系统即可\n\n首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png)\n解压下载好的miflash工具，打开点击左上角的driver选项，点击安装，显示完成后关闭\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194247.png)\n解压线刷包，miflash中点击选择，选择刚解压的线刷包文件夹\n点击加载设备，让工具识别到设备，识别到了点击刷机等待进度条跑完。如未识别到设备请检测驱动是否安装。\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194312.png)\n进度条跑完后手机会自动重启，此时即更新完成\n\n\n# 刷入PostmarketOS Linux\n## 下载附件\n请下载以下刷机包和附件\n\n红米2全系PostmarketOS下载：https://images.postmarketos.org/bpo/edge/xiaomi-wt88047/phosh\nADB，recovery，lk2nd等文件的下载地址：https://www.123pan.com/s/mIXlVv-I7PB.html 提取码:sumi\n\n## 开始刷入PostmarketOS\n首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png)\n\n解压adb工具，打开cmd，cd到adb目录\n刷入fastboot device检测设备\n出现`xxxxxxxx  fastboot`即成功识别设备\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194328.png)\n\n输入`fastboot flash recovery “刚下载的rec.img的文件地址”`以刷入Recovery\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194045.png)\n\n之后手机长按电源键+音量上键进入工程模式，选择recovery模式进入\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210211.png)\n\n进入rec后点击settings，更改成简体中文\n之后选择清除-高级清除，选择data、system、cache然后滑动清除进行格式化\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194108.png)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194140.png)\n\n之后选择格式化Data，输入yes清除，清除后按返回回到主界面\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194151.png)\n\n选择重启-Bootloader模式进入线刷模式\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194203.png)\n\n打开cmd，cd到adb目录\n输入`fastboot flash boot “刚下载的lk2nd.img的文件地址”`以刷入引导文件\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194003.png)\n\n输入后fastboot reboot回车进入lk2nd\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210821.png)\n\n输入以下命令刷入内核和rootfs\n```\nfastboot flash boot “刚下载的boot.img的文件地址”\nfastboot flash userdata “刚下载的rootfs.img的文件地址”\n```\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210752.png)\n\n刷入后输入fastboot reboot回车或者单击手机电源键即可进入PostmarketOS系统啦！\n\n## Tips\n系统默认密码为：147147\n由于postmarketOS基于alpine而并非常见发行版，软件源生态匮乏，建议使用flatpak安装部分软件\n## 部分截图\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2290.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2289.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2275.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2274.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2291.jpg)\n## 视频版\n\n<iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=785369943&bvid=BV1E14y1m7xg&cid=1177972746&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\" > </iframe>","slug":"教程/redmi2linux","published":1,"updated":"2025-09-22T15:21:52.472Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95620005hg0fy0hzp1pte","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>本期教程将小白式手把手教大家将红米2刷入PostmarketOS</p>\n<h1 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h1><ul>\n<li>红米2（1g或者2g版都行，2a不支持刷入Linux）</li>\n<li>数据线</li>\n<li>正常使用的电脑（建议系统版本windows10以上）</li>\n<li>灵巧的手和脑子</li>\n</ul>\n<h1 id=\"合并分区\"><a href=\"#合并分区\" class=\"headerlink\" title=\"合并分区\"></a>合并分区</h1><p>已升级安卓5.1的增强版机型可以跳过此步骤，非增强版或未升级安卓5.1的增强版请继续往下</p>\n<h2 id=\"下载附件\"><a href=\"#下载附件\" class=\"headerlink\" title=\"下载附件\"></a>下载附件</h2><p>请按照以下机型下载线刷包</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt86047-stable-V9.2.3.0.LHJCNEK/#china-fastboot\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">线刷包</div>\n            <div class=\"tag-link-sitename\">红米2移动版/2a</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt88047-stable-V9.2.5.0.LHJMIEK/#global-fastboot\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">线刷包</div>\n            <div class=\"tag-link-sitename\">红米2联通/电信版</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://miuiver.com/miflash/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">Miflash</div>\n            <div class=\"tag-link-sitename\">Miflash刷机工具</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h2 id=\"更新最新版系统合并分区\"><a href=\"#更新最新版系统合并分区\" class=\"headerlink\" title=\"更新最新版系统合并分区\"></a>更新最新版系统合并分区</h2><p>红米2官方系统安卓5.1版本往上会自动合并分区，仅需使用miflash线刷更新系统即可</p>\n<p>首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png\"><br>解压下载好的miflash工具，打开点击左上角的driver选项，点击安装，显示完成后关闭<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194247.png\"><br>解压线刷包，miflash中点击选择，选择刚解压的线刷包文件夹<br>点击加载设备，让工具识别到设备，识别到了点击刷机等待进度条跑完。如未识别到设备请检测驱动是否安装。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194312.png\"><br>进度条跑完后手机会自动重启，此时即更新完成</p>\n<h1 id=\"刷入PostmarketOS-Linux\"><a href=\"#刷入PostmarketOS-Linux\" class=\"headerlink\" title=\"刷入PostmarketOS Linux\"></a>刷入PostmarketOS Linux</h1><h2 id=\"下载附件-1\"><a href=\"#下载附件-1\" class=\"headerlink\" title=\"下载附件\"></a>下载附件</h2><p>请下载以下刷机包和附件</p>\n<p>红米2全系PostmarketOS下载：<a href=\"https://images.postmarketos.org/bpo/edge/xiaomi-wt88047/phosh\">https://images.postmarketos.org/bpo/edge/xiaomi-wt88047/phosh</a><br>ADB，recovery，lk2nd等文件的下载地址：<a href=\"https://www.123pan.com/s/mIXlVv-I7PB.html\">https://www.123pan.com/s/mIXlVv-I7PB.html</a> 提取码:sumi</p>\n<h2 id=\"开始刷入PostmarketOS\"><a href=\"#开始刷入PostmarketOS\" class=\"headerlink\" title=\"开始刷入PostmarketOS\"></a>开始刷入PostmarketOS</h2><p>首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png\"></p>\n<p>解压adb工具，打开cmd，cd到adb目录<br>刷入fastboot device检测设备<br>出现<code>xxxxxxxx  fastboot</code>即成功识别设备</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194328.png\"></p>\n<p>输入<code>fastboot flash recovery “刚下载的rec.img的文件地址”</code>以刷入Recovery</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194045.png\"></p>\n<p>之后手机长按电源键+音量上键进入工程模式，选择recovery模式进入</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210211.png\"></p>\n<p>进入rec后点击settings，更改成简体中文<br>之后选择清除-高级清除，选择data、system、cache然后滑动清除进行格式化</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194108.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194140.png\"></p>\n<p>之后选择格式化Data，输入yes清除，清除后按返回回到主界面</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194151.png\"></p>\n<p>选择重启-Bootloader模式进入线刷模式</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194203.png\"></p>\n<p>打开cmd，cd到adb目录<br>输入<code>fastboot flash boot “刚下载的lk2nd.img的文件地址”</code>以刷入引导文件</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194003.png\"></p>\n<p>输入后fastboot reboot回车进入lk2nd</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210821.png\"></p>\n<p>输入以下命令刷入内核和rootfs</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fastboot flash boot “刚下载的boot.img的文件地址”</span><br><span class=\"line\">fastboot flash userdata “刚下载的rootfs.img的文件地址”</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210752.png\"></p>\n<p>刷入后输入fastboot reboot回车或者单击手机电源键即可进入PostmarketOS系统啦！</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>系统默认密码为：147147<br>由于postmarketOS基于alpine而并非常见发行版，软件源生态匮乏，建议使用flatpak安装部分软件</p>\n<h2 id=\"部分截图\"><a href=\"#部分截图\" class=\"headerlink\" title=\"部分截图\"></a>部分截图</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2290.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2289.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2275.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2274.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2291.jpg\"></p>\n<h2 id=\"视频版\"><a href=\"#视频版\" class=\"headerlink\" title=\"视频版\"></a>视频版</h2><iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=785369943&bvid=BV1E14y1m7xg&cid=1177972746&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\"> </iframe>","cover_type":"img","excerpt":"","more":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>本期教程将小白式手把手教大家将红米2刷入PostmarketOS</p>\n<h1 id=\"前期准备\"><a href=\"#前期准备\" class=\"headerlink\" title=\"前期准备\"></a>前期准备</h1><ul>\n<li>红米2（1g或者2g版都行，2a不支持刷入Linux）</li>\n<li>数据线</li>\n<li>正常使用的电脑（建议系统版本windows10以上）</li>\n<li>灵巧的手和脑子</li>\n</ul>\n<h1 id=\"合并分区\"><a href=\"#合并分区\" class=\"headerlink\" title=\"合并分区\"></a>合并分区</h1><p>已升级安卓5.1的增强版机型可以跳过此步骤，非增强版或未升级安卓5.1的增强版请继续往下</p>\n<h2 id=\"下载附件\"><a href=\"#下载附件\" class=\"headerlink\" title=\"下载附件\"></a>下载附件</h2><p>请按照以下机型下载线刷包</p>\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt86047-stable-V9.2.3.0.LHJCNEK/#china-fastboot\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">线刷包</div>\n            <div class=\"tag-link-sitename\">红米2移动版/2a</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://xiaomirom.com/download/redmi-2-redmi-2-pro-wt88047-stable-V9.2.5.0.LHJMIEK/#global-fastboot\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">线刷包</div>\n            <div class=\"tag-link-sitename\">红米2联通/电信版</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<div calss=\"anzhiyu-tag-link\"><a class=\"tag-Link\" target=\"_blank\" href=\"https://miuiver.com/miflash/\">\n    <div class=\"tag-link-tips\">引用站外地址</div>\n    <div class=\"tag-link-bottom\">\n        <div class=\"tag-link-left\" style>\n          <i class=\"anzhiyufont anzhiyu-icon-link\" style></i>\n        </div>\n        <div class=\"tag-link-right\">\n            <div class=\"tag-link-title\">Miflash</div>\n            <div class=\"tag-link-sitename\">Miflash刷机工具</div>\n        </div>\n        <i class=\"anzhiyufont anzhiyu-icon-angle-right\"></i>\n    </div>\n    </a></div>\n\n<h2 id=\"更新最新版系统合并分区\"><a href=\"#更新最新版系统合并分区\" class=\"headerlink\" title=\"更新最新版系统合并分区\"></a>更新最新版系统合并分区</h2><p>红米2官方系统安卓5.1版本往上会自动合并分区，仅需使用miflash线刷更新系统即可</p>\n<p>首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png\"><br>解压下载好的miflash工具，打开点击左上角的driver选项，点击安装，显示完成后关闭<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194247.png\"><br>解压线刷包，miflash中点击选择，选择刚解压的线刷包文件夹<br>点击加载设备，让工具识别到设备，识别到了点击刷机等待进度条跑完。如未识别到设备请检测驱动是否安装。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194312.png\"><br>进度条跑完后手机会自动重启，此时即更新完成</p>\n<h1 id=\"刷入PostmarketOS-Linux\"><a href=\"#刷入PostmarketOS-Linux\" class=\"headerlink\" title=\"刷入PostmarketOS Linux\"></a>刷入PostmarketOS Linux</h1><h2 id=\"下载附件-1\"><a href=\"#下载附件-1\" class=\"headerlink\" title=\"下载附件\"></a>下载附件</h2><p>请下载以下刷机包和附件</p>\n<p>红米2全系PostmarketOS下载：<a href=\"https://images.postmarketos.org/bpo/edge/xiaomi-wt88047/phosh\">https://images.postmarketos.org/bpo/edge/xiaomi-wt88047/phosh</a><br>ADB，recovery，lk2nd等文件的下载地址：<a href=\"https://www.123pan.com/s/mIXlVv-I7PB.html\">https://www.123pan.com/s/mIXlVv-I7PB.html</a> 提取码:sumi</p>\n<h2 id=\"开始刷入PostmarketOS\"><a href=\"#开始刷入PostmarketOS\" class=\"headerlink\" title=\"开始刷入PostmarketOS\"></a>开始刷入PostmarketOS</h2><p>首先长按电源键+音量下键将红米2进入Fastboot，并且使用数据线与电脑连接</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194026.png\"></p>\n<p>解压adb工具，打开cmd，cd到adb目录<br>刷入fastboot device检测设备<br>出现<code>xxxxxxxx  fastboot</code>即成功识别设备</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194328.png\"></p>\n<p>输入<code>fastboot flash recovery “刚下载的rec.img的文件地址”</code>以刷入Recovery</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194045.png\"></p>\n<p>之后手机长按电源键+音量上键进入工程模式，选择recovery模式进入</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210211.png\"></p>\n<p>进入rec后点击settings，更改成简体中文<br>之后选择清除-高级清除，选择data、system、cache然后滑动清除进行格式化</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194108.png\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194140.png\"></p>\n<p>之后选择格式化Data，输入yes清除，清除后按返回回到主界面</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194151.png\"></p>\n<p>选择重启-Bootloader模式进入线刷模式</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194203.png\"></p>\n<p>打开cmd，cd到adb目录<br>输入<code>fastboot flash boot “刚下载的lk2nd.img的文件地址”</code>以刷入引导文件</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20194003.png\"></p>\n<p>输入后fastboot reboot回车进入lk2nd</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210821.png\"></p>\n<p>输入以下命令刷入内核和rootfs</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fastboot flash boot “刚下载的boot.img的文件地址”</span><br><span class=\"line\">fastboot flash userdata “刚下载的rootfs.img的文件地址”</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202025-08-19%20210752.png\"></p>\n<p>刷入后输入fastboot reboot回车或者单击手机电源键即可进入PostmarketOS系统啦！</p>\n<h2 id=\"Tips\"><a href=\"#Tips\" class=\"headerlink\" title=\"Tips\"></a>Tips</h2><p>系统默认密码为：147147<br>由于postmarketOS基于alpine而并非常见发行版，软件源生态匮乏，建议使用flatpak安装部分软件</p>\n<h2 id=\"部分截图\"><a href=\"#部分截图\" class=\"headerlink\" title=\"部分截图\"></a>部分截图</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2290.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2289.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2275.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2274.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/IMG_2291.jpg\"></p>\n<h2 id=\"视频版\"><a href=\"#视频版\" class=\"headerlink\" title=\"视频版\"></a>视频版</h2><iframe class=\"bilibili\" src=\"//player.bilibili.com/player.html?isOutside=true&aid=785369943&bvid=BV1E14y1m7xg&cid=1177972746&p=1&autoplay=0\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts\"> </iframe>"},{"title":"Hello World","summary":"酥米小机器人来啦，这篇文章介绍了Hexo静态博客生成工具的基本用法和初始配置，包含创建新文章运行本地服务器生成静态资源及部署到远程平台等核心功能，通过简单命令即可快速搭建个人博客网站，涵盖从内容编写到最终发布的完整流程，适合新手了解如何使用Hexo进行博客开发和管理，同时提供了常见操作的简要说明帮助用户上手，内容清晰易懂涵盖主要应用场景。","date":"2020-06-02T05:24:13.000Z","_content":"\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n测试","source":"_posts/测试/hello-world.md","raw":"---\ntitle: Hello World\ntags: 测试\ncategories:\n  - 杂项类\nsummary: >-\n  酥米小机器人来啦，这篇文章介绍了Hexo静态博客生成工具的基本用法和初始配置，包含创建新文章运行本地服务器生成静态资源及部署到远程平台等核心功能，通过简单命令即可快速搭建个人博客网站，涵盖从内容编写到最终发布的完整流程，适合新手了解如何使用Hexo进行博客开发和管理，同时提供了常见操作的简要说明帮助用户上手，内容清晰易懂涵盖主要应用场景。\ndate: 2020-06-02 13:24:13\n---\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n\n测试","slug":"测试/hello-world","published":1,"updated":"2025-10-09T18:04:44.720Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95624005mg0fye6vx0w1s","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<p>测试</p>\n","cover":"/img/default_cover.jpg","cover_type":"img","excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n<p>测试</p>\n"},{"title":"南沙万顷沙游记：大湾区中的闪耀明珠","description":"酥米和朋友跑去南沙万顷沙大湾区体育中心围观深中通道南沙段","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-12.jpg","summary":"酥米小机器人来啦，这篇文章主要记录作者两次游览南沙万顷沙镇的经历，重点聚焦大湾区体育中心与深中通道的壮丽景观。首次因施工路况不佳体验较差，二次通过优化交通路线抵达，发现新建灵新大道视野开阔，南沙港快速立交桥壮观如木棉花绽放，体育中心现代设计与湾区发展愿景相呼应，同时感慨祖国快速进步带来的自豪感。","date":"2025-10-03T09:50:00.000Z","_content":"\n# 前提\n\n上半年其实就有想要去一趟南沙十九涌（其实是想看深中通道）的想法了，但是当时只是去那边兜了两圈，也没有到处去看看，况且当时旁边在修地铁，路也没有修好，路坑坑洼洼的，坐公交进去要了我半条命。\n\n（是的，这是第二次去南沙区万顷沙镇啦/doge）\n\n这是上一次的图片😀：\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-9.jpg)\n\n\n# 旅程启动！\n\n终于在年底国庆凑出了时间，那不得狠狠去一波看看深中通道（刚好在万顷沙尖尖的体育馆也在年中建好了），于是我约上了一位朋友，一齐前往大湾区体育中心，一窥深中通道的真容（是的上次去十九涌没看到深中通道我哭死😭）。\n\n从佛山出发，需要一共3小时的车程，原计划是进入广州市区（沥滘转乘**3号线**换乘**18号线**）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-4.jpg)\n但是我并不想在国庆期间进入广州（因为今天正好碰巧琶洲在搞**CICF漫展**，三号线会被**挤爆**的🌚🌚），所以我们从祖庙搭乘**广佛线**，在魁奇路转乘**佛山2号线**到广州南站搭乘**22号线**，在番禺广场转乘湾区最速地铁🚝**18号线**\n\n（真的能跑到*160km*诶😍）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-7.jpg)\n\n经过将近一小时20分的车程，我们到达了地铁横沥站（其实很快了，毕竟将近50km的距离，如果是从广州南站转**7号线**去大学城坐**4号线**去南沙需要2小时起步😅，而且还摇，谁坐谁无语）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-5.jpg)\n\n之后我们需要转坐**南沙G1**公交车前往大湾区体育中心总站，这个过程又需要一个半小时啦~\n\n不过这次的乘车体验比上次好了好多好多哇，上次因为地铁在施工，路也没修好，一路上又颠簸带摇晃，摇的我都不舒服了，不过这次过来，新垦那边已经把路修个七七八八了，只剩下地铁的部分还在修路。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-8.jpg)\n\n车行在刚重建好的灵新大道上，视野格外开阔。南沙港快速的立交桥尤其壮观，灰白色的桥体架在连片绿地间，像一片翠绿平原上骤然绽开的花，线条利落又透着生机。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-1.jpg)\n\n\n从新垦出发后，约莫五十分钟车程，我们便到了大湾区体育中心站。刚推开车门，一股滚烫的热气就直扑过来——秋老虎的威力仍在，晒得路面都泛着微光，却丝毫不减抵达目的地的期待。\n\n\n# 终到\n\n我本以为这么偏僻的地方会人烟稀少，实则完全相反，坐公交的一路上也有许多与我们同行的游客，互相谈论着体育中心的景色，大家都期待着美景如画的体育中心。我转眼望去：\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-6.jpg)\n\n眼前的大湾区体育中心，以其独特的流线型外观惊艳目光——仿若一朵在阳光下舒展的巨形“木棉花”，金属质感的“花瓣”纹理细腻、弧度优雅，现代工艺与艺术美感交织，既透着建筑的厚重，又盈满灵动的活力，似在无声诉说湾区对体育激情的热忱追求。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-11.jpg)\n\n大湾区体育中心和深中通道一齐，共同织就一幅活力奔涌、前景璀璨的湾区画卷，让人沉醉于这片土地的创新与繁荣之中。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-2.jpg)\n\n此刻我站在大湾区的三角中心，吹着温凉的海风，看着屹立在海面上的深中通道。感叹着大湾区和祖国快速发展，心中自豪万分……\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-10.jpg)","source":"_posts/酥米的碎碎念/南沙游记.md","raw":"---\ntitle: 南沙万顷沙游记：大湾区中的闪耀明珠\ndescription: 酥米和朋友跑去南沙万顷沙大湾区体育中心围观深中通道南沙段\ntags: 长篇碎碎念\ncategories: 个人记录类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-12.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章主要记录作者两次游览南沙万顷沙镇的经历，重点聚焦大湾区体育中心与深中通道的壮丽景观。首次因施工路况不佳体验较差，二次通过优化交通路线抵达，发现新建灵新大道视野开阔，南沙港快速立交桥壮观如木棉花绽放，体育中心现代设计与湾区发展愿景相呼应，同时感慨祖国快速进步带来的自豪感。\ndate: 2025-10-03 17:50:00\n---\n\n# 前提\n\n上半年其实就有想要去一趟南沙十九涌（其实是想看深中通道）的想法了，但是当时只是去那边兜了两圈，也没有到处去看看，况且当时旁边在修地铁，路也没有修好，路坑坑洼洼的，坐公交进去要了我半条命。\n\n（是的，这是第二次去南沙区万顷沙镇啦/doge）\n\n这是上一次的图片😀：\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-9.jpg)\n\n\n# 旅程启动！\n\n终于在年底国庆凑出了时间，那不得狠狠去一波看看深中通道（刚好在万顷沙尖尖的体育馆也在年中建好了），于是我约上了一位朋友，一齐前往大湾区体育中心，一窥深中通道的真容（是的上次去十九涌没看到深中通道我哭死😭）。\n\n从佛山出发，需要一共3小时的车程，原计划是进入广州市区（沥滘转乘**3号线**换乘**18号线**）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-4.jpg)\n但是我并不想在国庆期间进入广州（因为今天正好碰巧琶洲在搞**CICF漫展**，三号线会被**挤爆**的🌚🌚），所以我们从祖庙搭乘**广佛线**，在魁奇路转乘**佛山2号线**到广州南站搭乘**22号线**，在番禺广场转乘湾区最速地铁🚝**18号线**\n\n（真的能跑到*160km*诶😍）\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-7.jpg)\n\n经过将近一小时20分的车程，我们到达了地铁横沥站（其实很快了，毕竟将近50km的距离，如果是从广州南站转**7号线**去大学城坐**4号线**去南沙需要2小时起步😅，而且还摇，谁坐谁无语）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-5.jpg)\n\n之后我们需要转坐**南沙G1**公交车前往大湾区体育中心总站，这个过程又需要一个半小时啦~\n\n不过这次的乘车体验比上次好了好多好多哇，上次因为地铁在施工，路也没修好，一路上又颠簸带摇晃，摇的我都不舒服了，不过这次过来，新垦那边已经把路修个七七八八了，只剩下地铁的部分还在修路。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-8.jpg)\n\n车行在刚重建好的灵新大道上，视野格外开阔。南沙港快速的立交桥尤其壮观，灰白色的桥体架在连片绿地间，像一片翠绿平原上骤然绽开的花，线条利落又透着生机。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-1.jpg)\n\n\n从新垦出发后，约莫五十分钟车程，我们便到了大湾区体育中心站。刚推开车门，一股滚烫的热气就直扑过来——秋老虎的威力仍在，晒得路面都泛着微光，却丝毫不减抵达目的地的期待。\n\n\n# 终到\n\n我本以为这么偏僻的地方会人烟稀少，实则完全相反，坐公交的一路上也有许多与我们同行的游客，互相谈论着体育中心的景色，大家都期待着美景如画的体育中心。我转眼望去：\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-6.jpg)\n\n眼前的大湾区体育中心，以其独特的流线型外观惊艳目光——仿若一朵在阳光下舒展的巨形“木棉花”，金属质感的“花瓣”纹理细腻、弧度优雅，现代工艺与艺术美感交织，既透着建筑的厚重，又盈满灵动的活力，似在无声诉说湾区对体育激情的热忱追求。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-11.jpg)\n\n大湾区体育中心和深中通道一齐，共同织就一幅活力奔涌、前景璀璨的湾区画卷，让人沉醉于这片土地的创新与繁荣之中。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-2.jpg)\n\n此刻我站在大湾区的三角中心，吹着温凉的海风，看着屹立在海面上的深中通道。感叹着大湾区和祖国快速发展，心中自豪万分……\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-10.jpg)","slug":"酥米的碎碎念/南沙游记","published":1,"updated":"2025-10-03T10:20:47.347Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95626005og0fyem9kdfoj","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>上半年其实就有想要去一趟南沙十九涌（其实是想看深中通道）的想法了，但是当时只是去那边兜了两圈，也没有到处去看看，况且当时旁边在修地铁，路也没有修好，路坑坑洼洼的，坐公交进去要了我半条命。</p>\n<p>（是的，这是第二次去南沙区万顷沙镇啦&#x2F;doge）</p>\n<p>这是上一次的图片😀：<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-9.jpg\"></p>\n<h1 id=\"旅程启动！\"><a href=\"#旅程启动！\" class=\"headerlink\" title=\"旅程启动！\"></a>旅程启动！</h1><p>终于在年底国庆凑出了时间，那不得狠狠去一波看看深中通道（刚好在万顷沙尖尖的体育馆也在年中建好了），于是我约上了一位朋友，一齐前往大湾区体育中心，一窥深中通道的真容（是的上次去十九涌没看到深中通道我哭死😭）。</p>\n<p>从佛山出发，需要一共3小时的车程，原计划是进入广州市区（沥滘转乘<strong>3号线</strong>换乘<strong>18号线</strong>）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-4.jpg\"><br>但是我并不想在国庆期间进入广州（因为今天正好碰巧琶洲在搞<strong>CICF漫展</strong>，三号线会被<strong>挤爆</strong>的🌚🌚），所以我们从祖庙搭乘<strong>广佛线</strong>，在魁奇路转乘<strong>佛山2号线</strong>到广州南站搭乘<strong>22号线</strong>，在番禺广场转乘湾区最速地铁🚝<strong>18号线</strong></p>\n<p>（真的能跑到<em>160km</em>诶😍）<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-7.jpg\"></p>\n<p>经过将近一小时20分的车程，我们到达了地铁横沥站（其实很快了，毕竟将近50km的距离，如果是从广州南站转<strong>7号线</strong>去大学城坐<strong>4号线</strong>去南沙需要2小时起步😅，而且还摇，谁坐谁无语）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-5.jpg\"></p>\n<p>之后我们需要转坐<strong>南沙G1</strong>公交车前往大湾区体育中心总站，这个过程又需要一个半小时啦~</p>\n<p>不过这次的乘车体验比上次好了好多好多哇，上次因为地铁在施工，路也没修好，一路上又颠簸带摇晃，摇的我都不舒服了，不过这次过来，新垦那边已经把路修个七七八八了，只剩下地铁的部分还在修路。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-8.jpg\"></p>\n<p>车行在刚重建好的灵新大道上，视野格外开阔。南沙港快速的立交桥尤其壮观，灰白色的桥体架在连片绿地间，像一片翠绿平原上骤然绽开的花，线条利落又透着生机。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-1.jpg\"></p>\n<p>从新垦出发后，约莫五十分钟车程，我们便到了大湾区体育中心站。刚推开车门，一股滚烫的热气就直扑过来——秋老虎的威力仍在，晒得路面都泛着微光，却丝毫不减抵达目的地的期待。</p>\n<h1 id=\"终到\"><a href=\"#终到\" class=\"headerlink\" title=\"终到\"></a>终到</h1><p>我本以为这么偏僻的地方会人烟稀少，实则完全相反，坐公交的一路上也有许多与我们同行的游客，互相谈论着体育中心的景色，大家都期待着美景如画的体育中心。我转眼望去：</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-6.jpg\"></p>\n<p>眼前的大湾区体育中心，以其独特的流线型外观惊艳目光——仿若一朵在阳光下舒展的巨形“木棉花”，金属质感的“花瓣”纹理细腻、弧度优雅，现代工艺与艺术美感交织，既透着建筑的厚重，又盈满灵动的活力，似在无声诉说湾区对体育激情的热忱追求。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-11.jpg\"></p>\n<p>大湾区体育中心和深中通道一齐，共同织就一幅活力奔涌、前景璀璨的湾区画卷，让人沉醉于这片土地的创新与繁荣之中。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-2.jpg\"></p>\n<p>此刻我站在大湾区的三角中心，吹着温凉的海风，看着屹立在海面上的深中通道。感叹着大湾区和祖国快速发展，心中自豪万分……</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-10.jpg\"></p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>上半年其实就有想要去一趟南沙十九涌（其实是想看深中通道）的想法了，但是当时只是去那边兜了两圈，也没有到处去看看，况且当时旁边在修地铁，路也没有修好，路坑坑洼洼的，坐公交进去要了我半条命。</p>\n<p>（是的，这是第二次去南沙区万顷沙镇啦&#x2F;doge）</p>\n<p>这是上一次的图片😀：<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-9.jpg\"></p>\n<h1 id=\"旅程启动！\"><a href=\"#旅程启动！\" class=\"headerlink\" title=\"旅程启动！\"></a>旅程启动！</h1><p>终于在年底国庆凑出了时间，那不得狠狠去一波看看深中通道（刚好在万顷沙尖尖的体育馆也在年中建好了），于是我约上了一位朋友，一齐前往大湾区体育中心，一窥深中通道的真容（是的上次去十九涌没看到深中通道我哭死😭）。</p>\n<p>从佛山出发，需要一共3小时的车程，原计划是进入广州市区（沥滘转乘<strong>3号线</strong>换乘<strong>18号线</strong>）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-4.jpg\"><br>但是我并不想在国庆期间进入广州（因为今天正好碰巧琶洲在搞<strong>CICF漫展</strong>，三号线会被<strong>挤爆</strong>的🌚🌚），所以我们从祖庙搭乘<strong>广佛线</strong>，在魁奇路转乘<strong>佛山2号线</strong>到广州南站搭乘<strong>22号线</strong>，在番禺广场转乘湾区最速地铁🚝<strong>18号线</strong></p>\n<p>（真的能跑到<em>160km</em>诶😍）<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-7.jpg\"></p>\n<p>经过将近一小时20分的车程，我们到达了地铁横沥站（其实很快了，毕竟将近50km的距离，如果是从广州南站转<strong>7号线</strong>去大学城坐<strong>4号线</strong>去南沙需要2小时起步😅，而且还摇，谁坐谁无语）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-5.jpg\"></p>\n<p>之后我们需要转坐<strong>南沙G1</strong>公交车前往大湾区体育中心总站，这个过程又需要一个半小时啦~</p>\n<p>不过这次的乘车体验比上次好了好多好多哇，上次因为地铁在施工，路也没修好，一路上又颠簸带摇晃，摇的我都不舒服了，不过这次过来，新垦那边已经把路修个七七八八了，只剩下地铁的部分还在修路。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-8.jpg\"></p>\n<p>车行在刚重建好的灵新大道上，视野格外开阔。南沙港快速的立交桥尤其壮观，灰白色的桥体架在连片绿地间，像一片翠绿平原上骤然绽开的花，线条利落又透着生机。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-1.jpg\"></p>\n<p>从新垦出发后，约莫五十分钟车程，我们便到了大湾区体育中心站。刚推开车门，一股滚烫的热气就直扑过来——秋老虎的威力仍在，晒得路面都泛着微光，却丝毫不减抵达目的地的期待。</p>\n<h1 id=\"终到\"><a href=\"#终到\" class=\"headerlink\" title=\"终到\"></a>终到</h1><p>我本以为这么偏僻的地方会人烟稀少，实则完全相反，坐公交的一路上也有许多与我们同行的游客，互相谈论着体育中心的景色，大家都期待着美景如画的体育中心。我转眼望去：</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-6.jpg\"></p>\n<p>眼前的大湾区体育中心，以其独特的流线型外观惊艳目光——仿若一朵在阳光下舒展的巨形“木棉花”，金属质感的“花瓣”纹理细腻、弧度优雅，现代工艺与艺术美感交织，既透着建筑的厚重，又盈满灵动的活力，似在无声诉说湾区对体育激情的热忱追求。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-11.jpg\"></p>\n<p>大湾区体育中心和深中通道一齐，共同织就一幅活力奔涌、前景璀璨的湾区画卷，让人沉醉于这片土地的创新与繁荣之中。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-2.jpg\"></p>\n<p>此刻我站在大湾区的三角中心，吹着温凉的海风，看着屹立在海面上的深中通道。感叹着大湾区和祖国快速发展，心中自豪万分……</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/ns-10.jpg\"></p>\n"},{"title":"番禺市桥游记：老城区的辉煌，从未落幕","description":"酥米的番禺市桥游记","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-9.jpg","summary":"酥米小机器人来啦，这篇文章讲述了作者第二次探访番禺市桥老城区的经历，通过桥兴大道与大北路的街景、钻汇广场的热闹氛围以及番禺宾馆的历史底蕴，展现老城区新旧交融的独特风貌，强调其持续发展的活力与传统韵味并存的城市魅力，最后以个人骑行体验和未来秋假南海九江海寿岛之旅预告收尾","date":"2025-10-08T06:20:00.000Z","_content":"\n# 前提\n\n其实这也是酥米第二次去市桥啦🌚~ 我骑着电动车，驶入这片土地，开始了一场探寻之旅，想看看这座承载着岁月记忆的市桥老城区，是否如一些人所说，辉煌已不再。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-6.jpg)\n\n在禺山市场后面充电，这里的充电桩有单次充电，而且太阳晒不到😂，离各个市桥著名的地方都不远，骑车推荐来这充电。\n\n# 在旅途中\n\n## 繁华与古韵交织的街景\n\n阳光透过澄澈的蓝天，洒在桥兴大道和大北路的街道上，给这座老城区镀上了一层温暖的光晕。\n\n走在市桥的主干道桥兴大道与大北路Y字口的天桥上，目光所及，是新旧建筑交织的独特画面。一侧是现代化的高楼大厦，玻璃幕墙在阳光下反射出耀眼的光芒，彰显着城市发展的蓬勃力量。像那矗立着的写字楼，外立面光洁如新，进出的人流行色匆匆，透着都市的快节奏。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-1.jpg)\n\n而另一侧，是带着岁月痕迹的老建筑。墙体有些斑驳，却有着别样的韵味。骑楼式的结构，仿佛在静静诉说着过往的商业繁华。沿街的商铺里，既有“百果园”这样连锁的新鲜水果店，色彩缤纷的水果整齐摆放，散发着诱人的香气；也有当地老字号的小店，卖着传统的小吃，那氤氲的热气里，满是熟悉的老味道。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-4.jpg)\n\n街道上车水马龙，秩序井然。轿车、电动车穿梭往来，却并不显得拥挤。路旁的绿化带里，树木郁郁葱葱，尤其是那盛放的三角梅，一簇簇、一丛丛，紫的、粉的，热烈地绽放在天桥上、街角旁，像是给城市披上了绚丽的花衣，为略显沉稳的老城区增添了几分活泼与烂漫。站在那座被三角梅簇拥的天桥上，俯瞰下方的车水马龙和周围的建筑，我能感受到一种时光的交融，新与旧在这里和谐共生，并非一方取代另一方，而是共同构成市桥独特的城市风貌。\n\n## 钻汇广场里的热闹烟火气\n\n走进钻汇广场，内部的景象更是让我感受到市桥的活力。色彩斑斓的彩色玻璃窗，有着欧式建筑的浪漫风情，阳光透过玻璃，在地面投下梦幻的光斑。\n\n广场内店铺林立，“诺蒂娜”等品牌店装修精致，吸引着年轻的消费者驻足挑选。而一些售卖本地特色小商品的摊位前，更是人头攒动。摊主热情地招呼着，介绍着那些充满巧思的小物件。孩子们被可爱的玩偶吸引，拉着家长的手不肯离去；年轻人则在潮流饰品店前，精心挑选着搭配衣物的配饰。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-8.jpg)\n\n耳边是此起彼伏的交谈声、欢笑声，还有店铺里传来的轻柔音乐，交织成一首充满烟火气的城市乐章。这里没有老城区的暮气，反而充满了生机与活力，是人们休闲、社交、消费的好去处，见证着市桥商业的持续繁荣。\n\n## 番禺老牌宾馆的岁月故事\n\n“番禺宾馆”几个醒目的大字，在阳光下格外耀眼。这座老牌宾馆，坐落在市桥中轴大北路旁边。作为市桥的老牌宾馆，它承载了太多人的记忆。那具有特色的建筑外观，虽历经岁月，却依然端庄大气。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-3.jpg)\n\n想象着过去，这里曾是市桥乃至番禺的重要接待场所，见证了无数的迎来送往，见证了城市发展的重要时刻。如今，它依然在运营，以一种沉稳的姿态，继续为往来的人们提供服务。或许，它的设施不再是最新潮的，但那份历史的厚重感，那份属于老城区的独特韵味，是新建的豪华酒店所无法替代的。它就像一位老者，默默守护着市桥，讲述着那些关于辉煌过往的故事，也见证着当下的平稳与发展。 \n\n## 老城区的辉煌，是持续的生长\n\n在市桥漫步，我看到的不是老城区辉煌的消逝，而是一种持续的生长与蜕变。它没有因循守旧，而是在保留自身历史文化底蕴的同时，积极拥抱现代化的发展。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-2.jpg)\n\n新的商业体不断涌现，为经济发展注入新的活力；老的建筑与街区，经过修缮与维护，依然散发着独特的魅力，吸引着人们去探寻、去感受。这里的人们，在快节奏的现代生活与慢时光的历史韵味中，找到了属于自己的平衡。\n\n# 真的落幕了吗\n\n市桥的辉煌，不是过去时，而是进行时。它就像一棵枝繁叶茂的大树，根系深植于历史的土壤，枝叶却在时代的风中，不断向着天空伸展，绽放出新的生机。那些关于老城区辉煌不再的说法，在我亲身感受过它的活力与韵味后，显得如此片面。市桥，这座老城区，正以它独有的方式，续写着属于自己的辉煌篇章。\n\n离开市桥时，夕阳的余晖温柔地洒在街道上，给一切都染上了一层金色。我知道，我会再次来到这里，因为这座老城区的故事，还在继续，它的辉煌，从未落幕。\n\n# 酥米的一点小小碎碎念\n\n这应该是10月份最后仅剩的游记了（大概吧😀）。最近暂时不会写游记了，本人并不是很擅长写长文章，目前写出来的文章都或多或少的使用了AI的润色，感觉自己要灵感枯竭了（其实是国庆去太多地方了）不知道写什么好，而且本人的写作水平也支撑不起写那么长的游记（望各位读者见谅啦）。下一次的游记得留到秋假的南海九江海寿岛之旅啦～敬请期待哦！\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-7.jpg)\n\n来回居然骑了106km，虽然从佛山骑到番禺人都麻了，但是过程还是很快乐滴~\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-5.jpg)\n\n还有好多国庆作业没写，呜呜呜明天就要上学了，希望今天能肝完吧😭😭😭🌚","source":"_posts/酥米的碎碎念/番禺市桥游记.md","raw":"---\ntitle: 番禺市桥游记：老城区的辉煌，从未落幕\ndescription: 酥米的番禺市桥游记\ntags: 长篇碎碎念\ncategories: 个人记录类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-9.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章讲述了作者第二次探访番禺市桥老城区的经历，通过桥兴大道与大北路的街景、钻汇广场的热闹氛围以及番禺宾馆的历史底蕴，展现老城区新旧交融的独特风貌，强调其持续发展的活力与传统韵味并存的城市魅力，最后以个人骑行体验和未来秋假南海九江海寿岛之旅预告收尾\ndate: 2025-10-08 14:20:00\n---\n\n# 前提\n\n其实这也是酥米第二次去市桥啦🌚~ 我骑着电动车，驶入这片土地，开始了一场探寻之旅，想看看这座承载着岁月记忆的市桥老城区，是否如一些人所说，辉煌已不再。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-6.jpg)\n\n在禺山市场后面充电，这里的充电桩有单次充电，而且太阳晒不到😂，离各个市桥著名的地方都不远，骑车推荐来这充电。\n\n# 在旅途中\n\n## 繁华与古韵交织的街景\n\n阳光透过澄澈的蓝天，洒在桥兴大道和大北路的街道上，给这座老城区镀上了一层温暖的光晕。\n\n走在市桥的主干道桥兴大道与大北路Y字口的天桥上，目光所及，是新旧建筑交织的独特画面。一侧是现代化的高楼大厦，玻璃幕墙在阳光下反射出耀眼的光芒，彰显着城市发展的蓬勃力量。像那矗立着的写字楼，外立面光洁如新，进出的人流行色匆匆，透着都市的快节奏。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-1.jpg)\n\n而另一侧，是带着岁月痕迹的老建筑。墙体有些斑驳，却有着别样的韵味。骑楼式的结构，仿佛在静静诉说着过往的商业繁华。沿街的商铺里，既有“百果园”这样连锁的新鲜水果店，色彩缤纷的水果整齐摆放，散发着诱人的香气；也有当地老字号的小店，卖着传统的小吃，那氤氲的热气里，满是熟悉的老味道。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-4.jpg)\n\n街道上车水马龙，秩序井然。轿车、电动车穿梭往来，却并不显得拥挤。路旁的绿化带里，树木郁郁葱葱，尤其是那盛放的三角梅，一簇簇、一丛丛，紫的、粉的，热烈地绽放在天桥上、街角旁，像是给城市披上了绚丽的花衣，为略显沉稳的老城区增添了几分活泼与烂漫。站在那座被三角梅簇拥的天桥上，俯瞰下方的车水马龙和周围的建筑，我能感受到一种时光的交融，新与旧在这里和谐共生，并非一方取代另一方，而是共同构成市桥独特的城市风貌。\n\n## 钻汇广场里的热闹烟火气\n\n走进钻汇广场，内部的景象更是让我感受到市桥的活力。色彩斑斓的彩色玻璃窗，有着欧式建筑的浪漫风情，阳光透过玻璃，在地面投下梦幻的光斑。\n\n广场内店铺林立，“诺蒂娜”等品牌店装修精致，吸引着年轻的消费者驻足挑选。而一些售卖本地特色小商品的摊位前，更是人头攒动。摊主热情地招呼着，介绍着那些充满巧思的小物件。孩子们被可爱的玩偶吸引，拉着家长的手不肯离去；年轻人则在潮流饰品店前，精心挑选着搭配衣物的配饰。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-8.jpg)\n\n耳边是此起彼伏的交谈声、欢笑声，还有店铺里传来的轻柔音乐，交织成一首充满烟火气的城市乐章。这里没有老城区的暮气，反而充满了生机与活力，是人们休闲、社交、消费的好去处，见证着市桥商业的持续繁荣。\n\n## 番禺老牌宾馆的岁月故事\n\n“番禺宾馆”几个醒目的大字，在阳光下格外耀眼。这座老牌宾馆，坐落在市桥中轴大北路旁边。作为市桥的老牌宾馆，它承载了太多人的记忆。那具有特色的建筑外观，虽历经岁月，却依然端庄大气。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-3.jpg)\n\n想象着过去，这里曾是市桥乃至番禺的重要接待场所，见证了无数的迎来送往，见证了城市发展的重要时刻。如今，它依然在运营，以一种沉稳的姿态，继续为往来的人们提供服务。或许，它的设施不再是最新潮的，但那份历史的厚重感，那份属于老城区的独特韵味，是新建的豪华酒店所无法替代的。它就像一位老者，默默守护着市桥，讲述着那些关于辉煌过往的故事，也见证着当下的平稳与发展。 \n\n## 老城区的辉煌，是持续的生长\n\n在市桥漫步，我看到的不是老城区辉煌的消逝，而是一种持续的生长与蜕变。它没有因循守旧，而是在保留自身历史文化底蕴的同时，积极拥抱现代化的发展。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-2.jpg)\n\n新的商业体不断涌现，为经济发展注入新的活力；老的建筑与街区，经过修缮与维护，依然散发着独特的魅力，吸引着人们去探寻、去感受。这里的人们，在快节奏的现代生活与慢时光的历史韵味中，找到了属于自己的平衡。\n\n# 真的落幕了吗\n\n市桥的辉煌，不是过去时，而是进行时。它就像一棵枝繁叶茂的大树，根系深植于历史的土壤，枝叶却在时代的风中，不断向着天空伸展，绽放出新的生机。那些关于老城区辉煌不再的说法，在我亲身感受过它的活力与韵味后，显得如此片面。市桥，这座老城区，正以它独有的方式，续写着属于自己的辉煌篇章。\n\n离开市桥时，夕阳的余晖温柔地洒在街道上，给一切都染上了一层金色。我知道，我会再次来到这里，因为这座老城区的故事，还在继续，它的辉煌，从未落幕。\n\n# 酥米的一点小小碎碎念\n\n这应该是10月份最后仅剩的游记了（大概吧😀）。最近暂时不会写游记了，本人并不是很擅长写长文章，目前写出来的文章都或多或少的使用了AI的润色，感觉自己要灵感枯竭了（其实是国庆去太多地方了）不知道写什么好，而且本人的写作水平也支撑不起写那么长的游记（望各位读者见谅啦）。下一次的游记得留到秋假的南海九江海寿岛之旅啦～敬请期待哦！\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-7.jpg)\n\n来回居然骑了106km，虽然从佛山骑到番禺人都麻了，但是过程还是很快乐滴~\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-5.jpg)\n\n还有好多国庆作业没写，呜呜呜明天就要上学了，希望今天能肝完吧😭😭😭🌚","slug":"酥米的碎碎念/番禺市桥游记","published":1,"updated":"2025-10-08T06:20:18.038Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95628005tg0fy1fat6jla","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>其实这也是酥米第二次去市桥啦🌚~ 我骑着电动车，驶入这片土地，开始了一场探寻之旅，想看看这座承载着岁月记忆的市桥老城区，是否如一些人所说，辉煌已不再。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-6.jpg\"></p>\n<p>在禺山市场后面充电，这里的充电桩有单次充电，而且太阳晒不到😂，离各个市桥著名的地方都不远，骑车推荐来这充电。</p>\n<h1 id=\"在旅途中\"><a href=\"#在旅途中\" class=\"headerlink\" title=\"在旅途中\"></a>在旅途中</h1><h2 id=\"繁华与古韵交织的街景\"><a href=\"#繁华与古韵交织的街景\" class=\"headerlink\" title=\"繁华与古韵交织的街景\"></a>繁华与古韵交织的街景</h2><p>阳光透过澄澈的蓝天，洒在桥兴大道和大北路的街道上，给这座老城区镀上了一层温暖的光晕。</p>\n<p>走在市桥的主干道桥兴大道与大北路Y字口的天桥上，目光所及，是新旧建筑交织的独特画面。一侧是现代化的高楼大厦，玻璃幕墙在阳光下反射出耀眼的光芒，彰显着城市发展的蓬勃力量。像那矗立着的写字楼，外立面光洁如新，进出的人流行色匆匆，透着都市的快节奏。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-1.jpg\"></p>\n<p>而另一侧，是带着岁月痕迹的老建筑。墙体有些斑驳，却有着别样的韵味。骑楼式的结构，仿佛在静静诉说着过往的商业繁华。沿街的商铺里，既有“百果园”这样连锁的新鲜水果店，色彩缤纷的水果整齐摆放，散发着诱人的香气；也有当地老字号的小店，卖着传统的小吃，那氤氲的热气里，满是熟悉的老味道。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-4.jpg\"></p>\n<p>街道上车水马龙，秩序井然。轿车、电动车穿梭往来，却并不显得拥挤。路旁的绿化带里，树木郁郁葱葱，尤其是那盛放的三角梅，一簇簇、一丛丛，紫的、粉的，热烈地绽放在天桥上、街角旁，像是给城市披上了绚丽的花衣，为略显沉稳的老城区增添了几分活泼与烂漫。站在那座被三角梅簇拥的天桥上，俯瞰下方的车水马龙和周围的建筑，我能感受到一种时光的交融，新与旧在这里和谐共生，并非一方取代另一方，而是共同构成市桥独特的城市风貌。</p>\n<h2 id=\"钻汇广场里的热闹烟火气\"><a href=\"#钻汇广场里的热闹烟火气\" class=\"headerlink\" title=\"钻汇广场里的热闹烟火气\"></a>钻汇广场里的热闹烟火气</h2><p>走进钻汇广场，内部的景象更是让我感受到市桥的活力。色彩斑斓的彩色玻璃窗，有着欧式建筑的浪漫风情，阳光透过玻璃，在地面投下梦幻的光斑。</p>\n<p>广场内店铺林立，“诺蒂娜”等品牌店装修精致，吸引着年轻的消费者驻足挑选。而一些售卖本地特色小商品的摊位前，更是人头攒动。摊主热情地招呼着，介绍着那些充满巧思的小物件。孩子们被可爱的玩偶吸引，拉着家长的手不肯离去；年轻人则在潮流饰品店前，精心挑选着搭配衣物的配饰。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-8.jpg\"></p>\n<p>耳边是此起彼伏的交谈声、欢笑声，还有店铺里传来的轻柔音乐，交织成一首充满烟火气的城市乐章。这里没有老城区的暮气，反而充满了生机与活力，是人们休闲、社交、消费的好去处，见证着市桥商业的持续繁荣。</p>\n<h2 id=\"番禺老牌宾馆的岁月故事\"><a href=\"#番禺老牌宾馆的岁月故事\" class=\"headerlink\" title=\"番禺老牌宾馆的岁月故事\"></a>番禺老牌宾馆的岁月故事</h2><p>“番禺宾馆”几个醒目的大字，在阳光下格外耀眼。这座老牌宾馆，坐落在市桥中轴大北路旁边。作为市桥的老牌宾馆，它承载了太多人的记忆。那具有特色的建筑外观，虽历经岁月，却依然端庄大气。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-3.jpg\"></p>\n<p>想象着过去，这里曾是市桥乃至番禺的重要接待场所，见证了无数的迎来送往，见证了城市发展的重要时刻。如今，它依然在运营，以一种沉稳的姿态，继续为往来的人们提供服务。或许，它的设施不再是最新潮的，但那份历史的厚重感，那份属于老城区的独特韵味，是新建的豪华酒店所无法替代的。它就像一位老者，默默守护着市桥，讲述着那些关于辉煌过往的故事，也见证着当下的平稳与发展。 </p>\n<h2 id=\"老城区的辉煌，是持续的生长\"><a href=\"#老城区的辉煌，是持续的生长\" class=\"headerlink\" title=\"老城区的辉煌，是持续的生长\"></a>老城区的辉煌，是持续的生长</h2><p>在市桥漫步，我看到的不是老城区辉煌的消逝，而是一种持续的生长与蜕变。它没有因循守旧，而是在保留自身历史文化底蕴的同时，积极拥抱现代化的发展。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-2.jpg\"></p>\n<p>新的商业体不断涌现，为经济发展注入新的活力；老的建筑与街区，经过修缮与维护，依然散发着独特的魅力，吸引着人们去探寻、去感受。这里的人们，在快节奏的现代生活与慢时光的历史韵味中，找到了属于自己的平衡。</p>\n<h1 id=\"真的落幕了吗\"><a href=\"#真的落幕了吗\" class=\"headerlink\" title=\"真的落幕了吗\"></a>真的落幕了吗</h1><p>市桥的辉煌，不是过去时，而是进行时。它就像一棵枝繁叶茂的大树，根系深植于历史的土壤，枝叶却在时代的风中，不断向着天空伸展，绽放出新的生机。那些关于老城区辉煌不再的说法，在我亲身感受过它的活力与韵味后，显得如此片面。市桥，这座老城区，正以它独有的方式，续写着属于自己的辉煌篇章。</p>\n<p>离开市桥时，夕阳的余晖温柔地洒在街道上，给一切都染上了一层金色。我知道，我会再次来到这里，因为这座老城区的故事，还在继续，它的辉煌，从未落幕。</p>\n<h1 id=\"酥米的一点小小碎碎念\"><a href=\"#酥米的一点小小碎碎念\" class=\"headerlink\" title=\"酥米的一点小小碎碎念\"></a>酥米的一点小小碎碎念</h1><p>这应该是10月份最后仅剩的游记了（大概吧😀）。最近暂时不会写游记了，本人并不是很擅长写长文章，目前写出来的文章都或多或少的使用了AI的润色，感觉自己要灵感枯竭了（其实是国庆去太多地方了）不知道写什么好，而且本人的写作水平也支撑不起写那么长的游记（望各位读者见谅啦）。下一次的游记得留到秋假的南海九江海寿岛之旅啦～敬请期待哦！</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-7.jpg\"></p>\n<p>来回居然骑了106km，虽然从佛山骑到番禺人都麻了，但是过程还是很快乐滴~</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-5.jpg\"></p>\n<p>还有好多国庆作业没写，呜呜呜明天就要上学了，希望今天能肝完吧😭😭😭🌚</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><p>其实这也是酥米第二次去市桥啦🌚~ 我骑着电动车，驶入这片土地，开始了一场探寻之旅，想看看这座承载着岁月记忆的市桥老城区，是否如一些人所说，辉煌已不再。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-6.jpg\"></p>\n<p>在禺山市场后面充电，这里的充电桩有单次充电，而且太阳晒不到😂，离各个市桥著名的地方都不远，骑车推荐来这充电。</p>\n<h1 id=\"在旅途中\"><a href=\"#在旅途中\" class=\"headerlink\" title=\"在旅途中\"></a>在旅途中</h1><h2 id=\"繁华与古韵交织的街景\"><a href=\"#繁华与古韵交织的街景\" class=\"headerlink\" title=\"繁华与古韵交织的街景\"></a>繁华与古韵交织的街景</h2><p>阳光透过澄澈的蓝天，洒在桥兴大道和大北路的街道上，给这座老城区镀上了一层温暖的光晕。</p>\n<p>走在市桥的主干道桥兴大道与大北路Y字口的天桥上，目光所及，是新旧建筑交织的独特画面。一侧是现代化的高楼大厦，玻璃幕墙在阳光下反射出耀眼的光芒，彰显着城市发展的蓬勃力量。像那矗立着的写字楼，外立面光洁如新，进出的人流行色匆匆，透着都市的快节奏。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-1.jpg\"></p>\n<p>而另一侧，是带着岁月痕迹的老建筑。墙体有些斑驳，却有着别样的韵味。骑楼式的结构，仿佛在静静诉说着过往的商业繁华。沿街的商铺里，既有“百果园”这样连锁的新鲜水果店，色彩缤纷的水果整齐摆放，散发着诱人的香气；也有当地老字号的小店，卖着传统的小吃，那氤氲的热气里，满是熟悉的老味道。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-4.jpg\"></p>\n<p>街道上车水马龙，秩序井然。轿车、电动车穿梭往来，却并不显得拥挤。路旁的绿化带里，树木郁郁葱葱，尤其是那盛放的三角梅，一簇簇、一丛丛，紫的、粉的，热烈地绽放在天桥上、街角旁，像是给城市披上了绚丽的花衣，为略显沉稳的老城区增添了几分活泼与烂漫。站在那座被三角梅簇拥的天桥上，俯瞰下方的车水马龙和周围的建筑，我能感受到一种时光的交融，新与旧在这里和谐共生，并非一方取代另一方，而是共同构成市桥独特的城市风貌。</p>\n<h2 id=\"钻汇广场里的热闹烟火气\"><a href=\"#钻汇广场里的热闹烟火气\" class=\"headerlink\" title=\"钻汇广场里的热闹烟火气\"></a>钻汇广场里的热闹烟火气</h2><p>走进钻汇广场，内部的景象更是让我感受到市桥的活力。色彩斑斓的彩色玻璃窗，有着欧式建筑的浪漫风情，阳光透过玻璃，在地面投下梦幻的光斑。</p>\n<p>广场内店铺林立，“诺蒂娜”等品牌店装修精致，吸引着年轻的消费者驻足挑选。而一些售卖本地特色小商品的摊位前，更是人头攒动。摊主热情地招呼着，介绍着那些充满巧思的小物件。孩子们被可爱的玩偶吸引，拉着家长的手不肯离去；年轻人则在潮流饰品店前，精心挑选着搭配衣物的配饰。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-8.jpg\"></p>\n<p>耳边是此起彼伏的交谈声、欢笑声，还有店铺里传来的轻柔音乐，交织成一首充满烟火气的城市乐章。这里没有老城区的暮气，反而充满了生机与活力，是人们休闲、社交、消费的好去处，见证着市桥商业的持续繁荣。</p>\n<h2 id=\"番禺老牌宾馆的岁月故事\"><a href=\"#番禺老牌宾馆的岁月故事\" class=\"headerlink\" title=\"番禺老牌宾馆的岁月故事\"></a>番禺老牌宾馆的岁月故事</h2><p>“番禺宾馆”几个醒目的大字，在阳光下格外耀眼。这座老牌宾馆，坐落在市桥中轴大北路旁边。作为市桥的老牌宾馆，它承载了太多人的记忆。那具有特色的建筑外观，虽历经岁月，却依然端庄大气。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-3.jpg\"></p>\n<p>想象着过去，这里曾是市桥乃至番禺的重要接待场所，见证了无数的迎来送往，见证了城市发展的重要时刻。如今，它依然在运营，以一种沉稳的姿态，继续为往来的人们提供服务。或许，它的设施不再是最新潮的，但那份历史的厚重感，那份属于老城区的独特韵味，是新建的豪华酒店所无法替代的。它就像一位老者，默默守护着市桥，讲述着那些关于辉煌过往的故事，也见证着当下的平稳与发展。 </p>\n<h2 id=\"老城区的辉煌，是持续的生长\"><a href=\"#老城区的辉煌，是持续的生长\" class=\"headerlink\" title=\"老城区的辉煌，是持续的生长\"></a>老城区的辉煌，是持续的生长</h2><p>在市桥漫步，我看到的不是老城区辉煌的消逝，而是一种持续的生长与蜕变。它没有因循守旧，而是在保留自身历史文化底蕴的同时，积极拥抱现代化的发展。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-2.jpg\"></p>\n<p>新的商业体不断涌现，为经济发展注入新的活力；老的建筑与街区，经过修缮与维护，依然散发着独特的魅力，吸引着人们去探寻、去感受。这里的人们，在快节奏的现代生活与慢时光的历史韵味中，找到了属于自己的平衡。</p>\n<h1 id=\"真的落幕了吗\"><a href=\"#真的落幕了吗\" class=\"headerlink\" title=\"真的落幕了吗\"></a>真的落幕了吗</h1><p>市桥的辉煌，不是过去时，而是进行时。它就像一棵枝繁叶茂的大树，根系深植于历史的土壤，枝叶却在时代的风中，不断向着天空伸展，绽放出新的生机。那些关于老城区辉煌不再的说法，在我亲身感受过它的活力与韵味后，显得如此片面。市桥，这座老城区，正以它独有的方式，续写着属于自己的辉煌篇章。</p>\n<p>离开市桥时，夕阳的余晖温柔地洒在街道上，给一切都染上了一层金色。我知道，我会再次来到这里，因为这座老城区的故事，还在继续，它的辉煌，从未落幕。</p>\n<h1 id=\"酥米的一点小小碎碎念\"><a href=\"#酥米的一点小小碎碎念\" class=\"headerlink\" title=\"酥米的一点小小碎碎念\"></a>酥米的一点小小碎碎念</h1><p>这应该是10月份最后仅剩的游记了（大概吧😀）。最近暂时不会写游记了，本人并不是很擅长写长文章，目前写出来的文章都或多或少的使用了AI的润色，感觉自己要灵感枯竭了（其实是国庆去太多地方了）不知道写什么好，而且本人的写作水平也支撑不起写那么长的游记（望各位读者见谅啦）。下一次的游记得留到秋假的南海九江海寿岛之旅啦～敬请期待哦！</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-7.jpg\"></p>\n<p>来回居然骑了106km，虽然从佛山骑到番禺人都麻了，但是过程还是很快乐滴~</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/pysq-5.jpg\"></p>\n<p>还有好多国庆作业没写，呜呜呜明天就要上学了，希望今天能肝完吧😭😭😭🌚</p>\n"},{"title":"酥米的碎碎念（1）","description":"酥米关于竞赛队的碎碎念","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_2024112209204501f28acb3e02c128.jpg","summary":"酥米小机器人来啦，这篇文章讲述酥米因性格原因加入竞赛队后感到不适，无法集中精力学习网络内容，产生退队念头。然而老师宣布竞赛日期延后且改为三人一队参与，原计划受挫。同时期中考试语文英语尚可但数学成绩暴跌，三科总分仅210分，意识到必须改变现状否则影响3+证书考试。现陷入纠结，是继续等待市赛还是退队回教室学习，亦或寻找其他出路。","date":"2024-11-22T01:18:32.000Z","_content":"\n### 前提\n唉 ……最近好纠结啊，自从去年加入竞赛队以来，由于我的性格原因（不太喜欢一直呆在一个地方），感觉哪哪都不舒服，学习竞赛内容时也不太得劲，老是集中不到精力，因为我是在网搭竞赛队嘛，而且我是负责网络部分的，每当我看到满当的市赛题题目，会产生一种恐惧感，甚至之前我自己都没意识到这样的感觉，久而久之，想退队的感觉也越来越强烈，我不再把全部身心投入到竞赛，而是带了一种摆烂性质的态度在学习内容。\n\n直到10月底，老师确定了具体的竞赛日期，是12.7-12.27左右竞赛，并且竞赛改革了，是三位同学一队去参加嘛（我被分到了二队），然后三个同学分工合作设计方案并且把方案实操出来。我本想和两位队友一起努力努力，市赛拿个三等奖啥的，然后我自己申请退队，回到教室学习。\n\n### 意外之外\n没想到，才过了一周不到，老师就告诉我们，我们这个项目没有开市赛，而是得等明年的省赛，于是我原来的打算也破裂了。而且最近考了期中考试，我的三科语文英语还好，但是数学已经低的不能再低了，三科总分450，我加起来才210分左右，退步很明显，我意识到我不能再这么下去了，下一年3+证书考试如果考不好真的连公办大专都没得上了。\n![成绩图](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173224034086565091be367247aa6.png \"成绩图\")\n\n唉！我现在真的好纠结，是等明年的市赛，才是抽身退队回教室学习？或者说还有什么别的办法吗？","source":"_posts/酥米的碎碎念/酥米的碎碎念1.md","raw":"---\ntitle: 酥米的碎碎念（1）\ndescription: 酥米关于竞赛队的碎碎念\ntags: 长篇碎碎念\ncategories: 个人记录类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/_2024112209204501f28acb3e02c128.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章讲述酥米因性格原因加入竞赛队后感到不适，无法集中精力学习网络内容，产生退队念头。然而老师宣布竞赛日期延后且改为三人一队参与，原计划受挫。同时期中考试语文英语尚可但数学成绩暴跌，三科总分仅210分，意识到必须改变现状否则影响3+证书考试。现陷入纠结，是继续等待市赛还是退队回教室学习，亦或寻找其他出路。\ndate: 2024-11-22 09:18:32\n---\n\n### 前提\n唉 ……最近好纠结啊，自从去年加入竞赛队以来，由于我的性格原因（不太喜欢一直呆在一个地方），感觉哪哪都不舒服，学习竞赛内容时也不太得劲，老是集中不到精力，因为我是在网搭竞赛队嘛，而且我是负责网络部分的，每当我看到满当的市赛题题目，会产生一种恐惧感，甚至之前我自己都没意识到这样的感觉，久而久之，想退队的感觉也越来越强烈，我不再把全部身心投入到竞赛，而是带了一种摆烂性质的态度在学习内容。\n\n直到10月底，老师确定了具体的竞赛日期，是12.7-12.27左右竞赛，并且竞赛改革了，是三位同学一队去参加嘛（我被分到了二队），然后三个同学分工合作设计方案并且把方案实操出来。我本想和两位队友一起努力努力，市赛拿个三等奖啥的，然后我自己申请退队，回到教室学习。\n\n### 意外之外\n没想到，才过了一周不到，老师就告诉我们，我们这个项目没有开市赛，而是得等明年的省赛，于是我原来的打算也破裂了。而且最近考了期中考试，我的三科语文英语还好，但是数学已经低的不能再低了，三科总分450，我加起来才210分左右，退步很明显，我意识到我不能再这么下去了，下一年3+证书考试如果考不好真的连公办大专都没得上了。\n![成绩图](https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173224034086565091be367247aa6.png \"成绩图\")\n\n唉！我现在真的好纠结，是等明年的市赛，才是抽身退队回教室学习？或者说还有什么别的办法吗？","slug":"酥米的碎碎念/酥米的碎碎念1","published":1,"updated":"2025-09-21T10:36:04.720Z","comments":1,"layout":"post","photos":[],"_id":"cmgu95629005vg0fy17v5got7","content":"<h3 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h3><p>唉 ……最近好纠结啊，自从去年加入竞赛队以来，由于我的性格原因（不太喜欢一直呆在一个地方），感觉哪哪都不舒服，学习竞赛内容时也不太得劲，老是集中不到精力，因为我是在网搭竞赛队嘛，而且我是负责网络部分的，每当我看到满当的市赛题题目，会产生一种恐惧感，甚至之前我自己都没意识到这样的感觉，久而久之，想退队的感觉也越来越强烈，我不再把全部身心投入到竞赛，而是带了一种摆烂性质的态度在学习内容。</p>\n<p>直到10月底，老师确定了具体的竞赛日期，是12.7-12.27左右竞赛，并且竞赛改革了，是三位同学一队去参加嘛（我被分到了二队），然后三个同学分工合作设计方案并且把方案实操出来。我本想和两位队友一起努力努力，市赛拿个三等奖啥的，然后我自己申请退队，回到教室学习。</p>\n<h3 id=\"意外之外\"><a href=\"#意外之外\" class=\"headerlink\" title=\"意外之外\"></a>意外之外</h3><p>没想到，才过了一周不到，老师就告诉我们，我们这个项目没有开市赛，而是得等明年的省赛，于是我原来的打算也破裂了。而且最近考了期中考试，我的三科语文英语还好，但是数学已经低的不能再低了，三科总分450，我加起来才210分左右，退步很明显，我意识到我不能再这么下去了，下一年3+证书考试如果考不好真的连公办大专都没得上了。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173224034086565091be367247aa6.png\" alt=\"成绩图\" title=\"成绩图\"></p>\n<p>唉！我现在真的好纠结，是等明年的市赛，才是抽身退队回教室学习？或者说还有什么别的办法吗？</p>\n","cover_type":"img","excerpt":"","more":"<h3 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h3><p>唉 ……最近好纠结啊，自从去年加入竞赛队以来，由于我的性格原因（不太喜欢一直呆在一个地方），感觉哪哪都不舒服，学习竞赛内容时也不太得劲，老是集中不到精力，因为我是在网搭竞赛队嘛，而且我是负责网络部分的，每当我看到满当的市赛题题目，会产生一种恐惧感，甚至之前我自己都没意识到这样的感觉，久而久之，想退队的感觉也越来越强烈，我不再把全部身心投入到竞赛，而是带了一种摆烂性质的态度在学习内容。</p>\n<p>直到10月底，老师确定了具体的竞赛日期，是12.7-12.27左右竞赛，并且竞赛改革了，是三位同学一队去参加嘛（我被分到了二队），然后三个同学分工合作设计方案并且把方案实操出来。我本想和两位队友一起努力努力，市赛拿个三等奖啥的，然后我自己申请退队，回到教室学习。</p>\n<h3 id=\"意外之外\"><a href=\"#意外之外\" class=\"headerlink\" title=\"意外之外\"></a>意外之外</h3><p>没想到，才过了一周不到，老师就告诉我们，我们这个项目没有开市赛，而是得等明年的省赛，于是我原来的打算也破裂了。而且最近考了期中考试，我的三科语文英语还好，但是数学已经低的不能再低了，三科总分450，我加起来才210分左右，退步很明显，我意识到我不能再这么下去了，下一年3+证书考试如果考不好真的连公办大专都没得上了。<br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/173224034086565091be367247aa6.png\" alt=\"成绩图\" title=\"成绩图\"></p>\n<p>唉！我现在真的好纠结，是等明年的市赛，才是抽身退队回教室学习？或者说还有什么别的办法吗？</p>\n"},{"title":"酥米的碎碎念（2）","description":"酥米关于台风桦加沙","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-1.jpg","summary":"酥米小机器人来啦，这篇文章主要讲述台风“桦加沙”即将登陆广东影响情况，该台风风力达超17级，24号将在阳江至珠海登陆，严重程度超过“山竹”，全省启动I级戒备，珠三角实行“五停”措施，佛山自23号21点起地铁高铁大巴停运部分桥梁关闭，作者身处佛山禅城区提醒广东沿海居民注意台风安全防范洪涝山体滑坡风险非必要勿外出并特别警示珠海江门惠州深圳阳江等地居民加强警惕。","date":"2025-09-23T14:18:32.000Z","_content":"\n### 前提\n就在前天，“桦加沙”来势汹汹的闯进了我国海域，24号将于广东省阳江市-珠海市登陆。本次台风尤为严重，风力达超17级；距离上一次超强台风还是“山竹”。全广东省地级市也开启了I级戒备，珠三角大部分城市也实行了“五停”。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-1.jpg)\n\n\n### 台风将来之际\n酥米在佛山市禅城区。从今天起也开始停课停工，我也在22号下午收到了班主任在群里发的停课通知，说实话当时还挺震惊的，因为很久没有遇见能让学校停课的台风了（上一次是山竹）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-6.jpg)\n\n今天小区门口物业也一直在播注意台风安全的广播，可想而知这次台风的严重程度。23日整天佛山并没有太大的影响，只有在晚上下了一场雨。不过我看到新闻珠海已经海水上涨淹掉一些地方了（海边的小伙伴一定要注意安全哦！）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-5.jpg)\n\n佛山市也已然进入戒备状态，23号21点起佛山地铁停运，高铁也停运了，甚至是大巴也跟着发说明停运了。高明和三水区部分桥梁也停止人/汽车通行。同时停工停课也在进行中。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-4.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-2.jpg)\n\n### 个人的小希望\n希望各位在和我一起在广东的小伙伴，能顺利的度过这次“桦加沙”的”摧残“，平平安安的上学上班。\n\n{% note danger flat %}广东靠海的小伙伴一定要注意安全哦！！！{% endnote %}\n\n也要提醒小伙伴们（尤其是珠海、江门、惠州、深圳、阳江一带的小伙伴！），台风期间非必要切勿随便出门，在外面如果遇到台风需到安全的建筑物下躲避。因为台风可能会导致下雨，也要注意洪涝和山体滑坡的风险哦~","source":"_posts/酥米的碎碎念/酥米的碎碎念2.md","raw":"---\ntitle: 酥米的碎碎念（2）\ndescription: 酥米关于台风桦加沙\ntags: 长篇碎碎念\ncategories: 个人记录类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-1.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章主要讲述台风“桦加沙”即将登陆广东影响情况，该台风风力达超17级，24号将在阳江至珠海登陆，严重程度超过“山竹”，全省启动I级戒备，珠三角实行“五停”措施，佛山自23号21点起地铁高铁大巴停运部分桥梁关闭，作者身处佛山禅城区提醒广东沿海居民注意台风安全防范洪涝山体滑坡风险非必要勿外出并特别警示珠海江门惠州深圳阳江等地居民加强警惕。\ndate: 2025-09-23 22:18:32\n---\n\n### 前提\n就在前天，“桦加沙”来势汹汹的闯进了我国海域，24号将于广东省阳江市-珠海市登陆。本次台风尤为严重，风力达超17级；距离上一次超强台风还是“山竹”。全广东省地级市也开启了I级戒备，珠三角大部分城市也实行了“五停”。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-1.jpg)\n\n\n### 台风将来之际\n酥米在佛山市禅城区。从今天起也开始停课停工，我也在22号下午收到了班主任在群里发的停课通知，说实话当时还挺震惊的，因为很久没有遇见能让学校停课的台风了（上一次是山竹）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-6.jpg)\n\n今天小区门口物业也一直在播注意台风安全的广播，可想而知这次台风的严重程度。23日整天佛山并没有太大的影响，只有在晚上下了一场雨。不过我看到新闻珠海已经海水上涨淹掉一些地方了（海边的小伙伴一定要注意安全哦！）。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-5.jpg)\n\n佛山市也已然进入戒备状态，23号21点起佛山地铁停运，高铁也停运了，甚至是大巴也跟着发说明停运了。高明和三水区部分桥梁也停止人/汽车通行。同时停工停课也在进行中。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-4.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-3.jpg)\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-2.jpg)\n\n### 个人的小希望\n希望各位在和我一起在广东的小伙伴，能顺利的度过这次“桦加沙”的”摧残“，平平安安的上学上班。\n\n{% note danger flat %}广东靠海的小伙伴一定要注意安全哦！！！{% endnote %}\n\n也要提醒小伙伴们（尤其是珠海、江门、惠州、深圳、阳江一带的小伙伴！），台风期间非必要切勿随便出门，在外面如果遇到台风需到安全的建筑物下躲避。因为台风可能会导致下雨，也要注意洪涝和山体滑坡的风险哦~","slug":"酥米的碎碎念/酥米的碎碎念2","published":1,"updated":"2025-09-23T19:48:29.478Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9563e0091g0fy0e61195m","content":"<h3 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h3><p>就在前天，“桦加沙”来势汹汹的闯进了我国海域，24号将于广东省阳江市-珠海市登陆。本次台风尤为严重，风力达超17级；距离上一次超强台风还是“山竹”。全广东省地级市也开启了I级戒备，珠三角大部分城市也实行了“五停”。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-1.jpg\"></p>\n<h3 id=\"台风将来之际\"><a href=\"#台风将来之际\" class=\"headerlink\" title=\"台风将来之际\"></a>台风将来之际</h3><p>酥米在佛山市禅城区。从今天起也开始停课停工，我也在22号下午收到了班主任在群里发的停课通知，说实话当时还挺震惊的，因为很久没有遇见能让学校停课的台风了（上一次是山竹）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-6.jpg\"></p>\n<p>今天小区门口物业也一直在播注意台风安全的广播，可想而知这次台风的严重程度。23日整天佛山并没有太大的影响，只有在晚上下了一场雨。不过我看到新闻珠海已经海水上涨淹掉一些地方了（海边的小伙伴一定要注意安全哦！）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-5.jpg\"></p>\n<p>佛山市也已然进入戒备状态，23号21点起佛山地铁停运，高铁也停运了，甚至是大巴也跟着发说明停运了。高明和三水区部分桥梁也停止人&#x2F;汽车通行。同时停工停课也在进行中。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-4.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-2.jpg\"></p>\n<h3 id=\"个人的小希望\"><a href=\"#个人的小希望\" class=\"headerlink\" title=\"个人的小希望\"></a>个人的小希望</h3><p>希望各位在和我一起在广东的小伙伴，能顺利的度过这次“桦加沙”的”摧残“，平平安安的上学上班。</p>\n<div class=\"note danger flat\"><p>广东靠海的小伙伴一定要注意安全哦！！！</p>\n</div>\n\n<p>也要提醒小伙伴们（尤其是珠海、江门、惠州、深圳、阳江一带的小伙伴！），台风期间非必要切勿随便出门，在外面如果遇到台风需到安全的建筑物下躲避。因为台风可能会导致下雨，也要注意洪涝和山体滑坡的风险哦~</p>\n","cover_type":"img","excerpt":"","more":"<h3 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h3><p>就在前天，“桦加沙”来势汹汹的闯进了我国海域，24号将于广东省阳江市-珠海市登陆。本次台风尤为严重，风力达超17级；距离上一次超强台风还是“山竹”。全广东省地级市也开启了I级戒备，珠三角大部分城市也实行了“五停”。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-1.jpg\"></p>\n<h3 id=\"台风将来之际\"><a href=\"#台风将来之际\" class=\"headerlink\" title=\"台风将来之际\"></a>台风将来之际</h3><p>酥米在佛山市禅城区。从今天起也开始停课停工，我也在22号下午收到了班主任在群里发的停课通知，说实话当时还挺震惊的，因为很久没有遇见能让学校停课的台风了（上一次是山竹）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-6.jpg\"></p>\n<p>今天小区门口物业也一直在播注意台风安全的广播，可想而知这次台风的严重程度。23日整天佛山并没有太大的影响，只有在晚上下了一场雨。不过我看到新闻珠海已经海水上涨淹掉一些地方了（海边的小伙伴一定要注意安全哦！）。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-5.jpg\"></p>\n<p>佛山市也已然进入戒备状态，23号21点起佛山地铁停运，高铁也停运了，甚至是大巴也跟着发说明停运了。高明和三水区部分桥梁也停止人&#x2F;汽车通行。同时停工停课也在进行中。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-4.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-3.jpg\"><br><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/talk2-2.jpg\"></p>\n<h3 id=\"个人的小希望\"><a href=\"#个人的小希望\" class=\"headerlink\" title=\"个人的小希望\"></a>个人的小希望</h3><p>希望各位在和我一起在广东的小伙伴，能顺利的度过这次“桦加沙”的”摧残“，平平安安的上学上班。</p>\n<div class=\"note danger flat\"><p>广东靠海的小伙伴一定要注意安全哦！！！</p>\n</div>\n\n<p>也要提醒小伙伴们（尤其是珠海、江门、惠州、深圳、阳江一带的小伙伴！），台风期间非必要切勿随便出门，在外面如果遇到台风需到安全的建筑物下躲避。因为台风可能会导致下雨，也要注意洪涝和山体滑坡的风险哦~</p>\n"},{"title":"顺德容桂游记：交响于渔人码头河边的复古与潮流","description":"酥米的顺德容桂渔人码头之旅","cover":"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-12.jpg","summary":"酥米小机器人来啦，这篇文章记录了作者中秋节前后前往顺德容桂渔人码头的游记，分享了当地复古商业街与潮流业态融合的独特魅力，包括江畔红墙上的“I ❤️ SD”涂鸦、灯塔与现代高楼的对比、艺术雕塑与麦当劳等店铺的碰撞，以及充满烟火气的市井生活场景，展现了新旧元素交织下的城市活力与人文气息。","date":"2025-10-05T16:10:00.000Z","_content":"\n# 前提\n\n{% note orange 'anzhiyufont anzhiyu-icon-bullhorn' flat %}截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀{% endnote %}\n\n其实国庆节当天我就已经去了，选择现在发其实是本来想等南沙游记发出之后一起发，不过最终还是没有如愿（没写完😭），经过几天润色，今天终于是憋出来了哈哈。\n\n\n\n# 出发的动机\n\n其实一开始我并没有去容桂的想法，因为太远了，而且缺少轨道交通（容桂没有通地铁真的遗憾，佛山11号线也不知道要几年规划了）。不过国庆第一天在家里太无聊了，萌生了出去玩的想法，又突然记起来有那么个地方，于是自然而然去了。\n\n# 出发！\n\n于是我带上随身的包，飞奔出门，《赶》往目的地😉。因为容桂没有通地铁，并且考虑假期地铁高峰期，我直接乘搭公交车前往大良（顺德客运站），再转车前往容桂街道。我先乘搭佛236（九江方向）前往乐从公交中心，之后走去三乐路路口公交站乘坐341线前往顺德客运站。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-5.jpg)\n\n乐从城区边上（佛山大道南）\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-6.jpg)\n\n这里是三乐路和顺德快速路入口。\n\n当我慢慢走向路口公交站的时候，一台公交车缓缓开出路。是的，这台车就是我要坐的341公交车，也顾不上那么多了，我直接飞奔起步，抢着最后一步跑去公交车站上了车（差点没赶上）。\n当我气喘吁吁刷卡的时候，诶！怎么没反应，司机的声音突然出现：“你要去哪里啊？”喘的我差点忘了这辆公交是分段计费了😅，直接报上顺德客运站，需要四块钱，不过广佛通有公交优惠（是3.6块，南海禅城区的公交都打8折，4块车票仅需2.8，但是其他三个区只打九折，所以就要3.6啦）\n\n# 旅途之中\n\n顺德的快巴就是不一样，车辆在顺德快速路狂飙，遇到没有人的站直接飞。速度估计得有40-60km/h了（吐槽一句，禅城南海的公交一个比一个慢，比如桂城-禅城去佛山西站的G5公交车，需要一个小时才能摇完15km的路程🌚🌚）。途径经过北滘镇和伦教街道，还要跨过顺德水道，当车辆走过顺德立交桥的时候，就宣布进入了顺德大良（顺德中心城区啦），经过大约1小时15分钟的路程，我到达了顺德客运站\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-7.jpg)\n\n之后，我要乘坐顺德318路公交车，前往容桂街道信德上城（渔人码头南）公交站\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-8.jpg)\n\n约莫10分钟，车辆从客运站开出，我也顺利的坐上了公交车，途径顺峰山和大良派出所，跨过德胜河和容奇大桥后，到达了容桂街道。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-9.jpg)\n\n40分钟后，我到达了渔人码头南站，一下车，我只望见许多的旅客往北闸大街走去（那里是渔人码头的入口），于是我跟随人流往里面走去\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-10.jpg)\n\n里面人潮涌动，虽没有很拥挤，但也比较多人。空气里混杂着烟火气的气息（是烧烤！🤤），我继续往前走，里面有一个广场\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-11.jpg)\n\n里面是复古风的商业街，不过想吐槽一句（本来想买杯瑞幸的，里面挤满了人，我怕等到回去了都没拿到饮料，遂作罢🤔）。从商业街穿出去，就能望到渔人码头的真实面貌\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-4.jpg)\n\n河边，醒目的红色“I ❤️ SD”前，游人或驻足拍照，或凭栏眺望河面。河水悠悠，对岸的建筑在绿意掩映中若隐若现，一棵绿树旁，有人正以江景为幕，定格此刻的悠闲。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-2.jpg)\n\n不远处，蓝白相间的灯塔矗立河边，像一位沉默的守护者。它与背后的现代高楼群形成奇妙对比，蓝天流云之下，江水、灯塔、楼宇共同勾勒出一幅动静相宜的画卷。江畔的小店外，有人在露台上闲坐，将这江景与人文交融的景致尽收眼底。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-3.jpg)\n\n转角处，一栋建筑化身艺术画布：墙面上，猫咪、兔子的涂鸦灵动俏皮，屋顶上，大白与少年的巨型雕塑童趣满满，下方的麦当劳黄色M标识格外醒目，“渔人码头”的招牌诉说着这里的前世今生。新旧元素碰撞，让建筑成了网红打卡的吸睛点，往来人群涌动，或在店前驻足，或在巷间穿梭，烟火气十足。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-1.jpg)\n\n再看那栋写着“顺德渔”的建筑，墙面的大字苍劲有力，屋顶的星巴克、各类商铺的招牌琳琅满目，肯德基、台球俱乐部、烤肉店……潮流业态与复古建筑碰撞出别样活力。楼下，人群熙攘，电动车停放整齐，补水站的蓝色帐篷为游人送上一丝清凉，处处是热闹的生活气息。\n\n岁月痕迹与新时代的潮流创意交织，江风裹挟着艺术、美食与人文的气息，让每一步慢步中都成了一场复古与潮流的惊喜碰撞，这便是容桂渔人码头独有的魅力。","source":"_posts/酥米的碎碎念/顺德容桂游记.md","raw":"---\ntitle: 顺德容桂游记：交响于渔人码头河边的复古与潮流\ndescription: 酥米的顺德容桂渔人码头之旅\ntags: 长篇碎碎念\ncategories: 个人记录类\ncover: >-\n  https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-12.jpg\nsummary: >-\n  酥米小机器人来啦，这篇文章记录了作者中秋节前后前往顺德容桂渔人码头的游记，分享了当地复古商业街与潮流业态融合的独特魅力，包括江畔红墙上的“I ❤️\n  SD”涂鸦、灯塔与现代高楼的对比、艺术雕塑与麦当劳等店铺的碰撞，以及充满烟火气的市井生活场景，展现了新旧元素交织下的城市活力与人文气息。\ndate: 2025-10-06 00:10:00\n---\n\n# 前提\n\n{% note orange 'anzhiyufont anzhiyu-icon-bullhorn' flat %}截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀{% endnote %}\n\n其实国庆节当天我就已经去了，选择现在发其实是本来想等南沙游记发出之后一起发，不过最终还是没有如愿（没写完😭），经过几天润色，今天终于是憋出来了哈哈。\n\n\n\n# 出发的动机\n\n其实一开始我并没有去容桂的想法，因为太远了，而且缺少轨道交通（容桂没有通地铁真的遗憾，佛山11号线也不知道要几年规划了）。不过国庆第一天在家里太无聊了，萌生了出去玩的想法，又突然记起来有那么个地方，于是自然而然去了。\n\n# 出发！\n\n于是我带上随身的包，飞奔出门，《赶》往目的地😉。因为容桂没有通地铁，并且考虑假期地铁高峰期，我直接乘搭公交车前往大良（顺德客运站），再转车前往容桂街道。我先乘搭佛236（九江方向）前往乐从公交中心，之后走去三乐路路口公交站乘坐341线前往顺德客运站。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-5.jpg)\n\n乐从城区边上（佛山大道南）\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-6.jpg)\n\n这里是三乐路和顺德快速路入口。\n\n当我慢慢走向路口公交站的时候，一台公交车缓缓开出路。是的，这台车就是我要坐的341公交车，也顾不上那么多了，我直接飞奔起步，抢着最后一步跑去公交车站上了车（差点没赶上）。\n当我气喘吁吁刷卡的时候，诶！怎么没反应，司机的声音突然出现：“你要去哪里啊？”喘的我差点忘了这辆公交是分段计费了😅，直接报上顺德客运站，需要四块钱，不过广佛通有公交优惠（是3.6块，南海禅城区的公交都打8折，4块车票仅需2.8，但是其他三个区只打九折，所以就要3.6啦）\n\n# 旅途之中\n\n顺德的快巴就是不一样，车辆在顺德快速路狂飙，遇到没有人的站直接飞。速度估计得有40-60km/h了（吐槽一句，禅城南海的公交一个比一个慢，比如桂城-禅城去佛山西站的G5公交车，需要一个小时才能摇完15km的路程🌚🌚）。途径经过北滘镇和伦教街道，还要跨过顺德水道，当车辆走过顺德立交桥的时候，就宣布进入了顺德大良（顺德中心城区啦），经过大约1小时15分钟的路程，我到达了顺德客运站\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-7.jpg)\n\n之后，我要乘坐顺德318路公交车，前往容桂街道信德上城（渔人码头南）公交站\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-8.jpg)\n\n约莫10分钟，车辆从客运站开出，我也顺利的坐上了公交车，途径顺峰山和大良派出所，跨过德胜河和容奇大桥后，到达了容桂街道。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-9.jpg)\n\n40分钟后，我到达了渔人码头南站，一下车，我只望见许多的旅客往北闸大街走去（那里是渔人码头的入口），于是我跟随人流往里面走去\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-10.jpg)\n\n里面人潮涌动，虽没有很拥挤，但也比较多人。空气里混杂着烟火气的气息（是烧烤！🤤），我继续往前走，里面有一个广场\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-11.jpg)\n\n里面是复古风的商业街，不过想吐槽一句（本来想买杯瑞幸的，里面挤满了人，我怕等到回去了都没拿到饮料，遂作罢🤔）。从商业街穿出去，就能望到渔人码头的真实面貌\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-4.jpg)\n\n河边，醒目的红色“I ❤️ SD”前，游人或驻足拍照，或凭栏眺望河面。河水悠悠，对岸的建筑在绿意掩映中若隐若现，一棵绿树旁，有人正以江景为幕，定格此刻的悠闲。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-2.jpg)\n\n不远处，蓝白相间的灯塔矗立河边，像一位沉默的守护者。它与背后的现代高楼群形成奇妙对比，蓝天流云之下，江水、灯塔、楼宇共同勾勒出一幅动静相宜的画卷。江畔的小店外，有人在露台上闲坐，将这江景与人文交融的景致尽收眼底。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-3.jpg)\n\n转角处，一栋建筑化身艺术画布：墙面上，猫咪、兔子的涂鸦灵动俏皮，屋顶上，大白与少年的巨型雕塑童趣满满，下方的麦当劳黄色M标识格外醒目，“渔人码头”的招牌诉说着这里的前世今生。新旧元素碰撞，让建筑成了网红打卡的吸睛点，往来人群涌动，或在店前驻足，或在巷间穿梭，烟火气十足。\n\n![](https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-1.jpg)\n\n再看那栋写着“顺德渔”的建筑，墙面的大字苍劲有力，屋顶的星巴克、各类商铺的招牌琳琅满目，肯德基、台球俱乐部、烤肉店……潮流业态与复古建筑碰撞出别样活力。楼下，人群熙攘，电动车停放整齐，补水站的蓝色帐篷为游人送上一丝清凉，处处是热闹的生活气息。\n\n岁月痕迹与新时代的潮流创意交织，江风裹挟着艺术、美食与人文的气息，让每一步慢步中都成了一场复古与潮流的惊喜碰撞，这便是容桂渔人码头独有的魅力。","slug":"酥米的碎碎念/顺德容桂游记","published":1,"updated":"2025-10-05T17:09:15.611Z","comments":1,"layout":"post","photos":[],"_id":"cmgu9563f0092g0fyd4ib3lzr","content":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><div class=\"note orange anzhiyufont anzhiyu-icon-bullhorn flat\"><p>截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀</p>\n</div>\n\n<p>其实国庆节当天我就已经去了，选择现在发其实是本来想等南沙游记发出之后一起发，不过最终还是没有如愿（没写完😭），经过几天润色，今天终于是憋出来了哈哈。</p>\n<h1 id=\"出发的动机\"><a href=\"#出发的动机\" class=\"headerlink\" title=\"出发的动机\"></a>出发的动机</h1><p>其实一开始我并没有去容桂的想法，因为太远了，而且缺少轨道交通（容桂没有通地铁真的遗憾，佛山11号线也不知道要几年规划了）。不过国庆第一天在家里太无聊了，萌生了出去玩的想法，又突然记起来有那么个地方，于是自然而然去了。</p>\n<h1 id=\"出发！\"><a href=\"#出发！\" class=\"headerlink\" title=\"出发！\"></a>出发！</h1><p>于是我带上随身的包，飞奔出门，《赶》往目的地😉。因为容桂没有通地铁，并且考虑假期地铁高峰期，我直接乘搭公交车前往大良（顺德客运站），再转车前往容桂街道。我先乘搭佛236（九江方向）前往乐从公交中心，之后走去三乐路路口公交站乘坐341线前往顺德客运站。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-5.jpg\"></p>\n<p>乐从城区边上（佛山大道南）</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-6.jpg\"></p>\n<p>这里是三乐路和顺德快速路入口。</p>\n<p>当我慢慢走向路口公交站的时候，一台公交车缓缓开出路。是的，这台车就是我要坐的341公交车，也顾不上那么多了，我直接飞奔起步，抢着最后一步跑去公交车站上了车（差点没赶上）。<br>当我气喘吁吁刷卡的时候，诶！怎么没反应，司机的声音突然出现：“你要去哪里啊？”喘的我差点忘了这辆公交是分段计费了😅，直接报上顺德客运站，需要四块钱，不过广佛通有公交优惠（是3.6块，南海禅城区的公交都打8折，4块车票仅需2.8，但是其他三个区只打九折，所以就要3.6啦）</p>\n<h1 id=\"旅途之中\"><a href=\"#旅途之中\" class=\"headerlink\" title=\"旅途之中\"></a>旅途之中</h1><p>顺德的快巴就是不一样，车辆在顺德快速路狂飙，遇到没有人的站直接飞。速度估计得有40-60km&#x2F;h了（吐槽一句，禅城南海的公交一个比一个慢，比如桂城-禅城去佛山西站的G5公交车，需要一个小时才能摇完15km的路程🌚🌚）。途径经过北滘镇和伦教街道，还要跨过顺德水道，当车辆走过顺德立交桥的时候，就宣布进入了顺德大良（顺德中心城区啦），经过大约1小时15分钟的路程，我到达了顺德客运站</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-7.jpg\"></p>\n<p>之后，我要乘坐顺德318路公交车，前往容桂街道信德上城（渔人码头南）公交站</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-8.jpg\"></p>\n<p>约莫10分钟，车辆从客运站开出，我也顺利的坐上了公交车，途径顺峰山和大良派出所，跨过德胜河和容奇大桥后，到达了容桂街道。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-9.jpg\"></p>\n<p>40分钟后，我到达了渔人码头南站，一下车，我只望见许多的旅客往北闸大街走去（那里是渔人码头的入口），于是我跟随人流往里面走去</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-10.jpg\"></p>\n<p>里面人潮涌动，虽没有很拥挤，但也比较多人。空气里混杂着烟火气的气息（是烧烤！🤤），我继续往前走，里面有一个广场</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-11.jpg\"></p>\n<p>里面是复古风的商业街，不过想吐槽一句（本来想买杯瑞幸的，里面挤满了人，我怕等到回去了都没拿到饮料，遂作罢🤔）。从商业街穿出去，就能望到渔人码头的真实面貌</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-4.jpg\"></p>\n<p>河边，醒目的红色“I ❤️ SD”前，游人或驻足拍照，或凭栏眺望河面。河水悠悠，对岸的建筑在绿意掩映中若隐若现，一棵绿树旁，有人正以江景为幕，定格此刻的悠闲。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-2.jpg\"></p>\n<p>不远处，蓝白相间的灯塔矗立河边，像一位沉默的守护者。它与背后的现代高楼群形成奇妙对比，蓝天流云之下，江水、灯塔、楼宇共同勾勒出一幅动静相宜的画卷。江畔的小店外，有人在露台上闲坐，将这江景与人文交融的景致尽收眼底。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-3.jpg\"></p>\n<p>转角处，一栋建筑化身艺术画布：墙面上，猫咪、兔子的涂鸦灵动俏皮，屋顶上，大白与少年的巨型雕塑童趣满满，下方的麦当劳黄色M标识格外醒目，“渔人码头”的招牌诉说着这里的前世今生。新旧元素碰撞，让建筑成了网红打卡的吸睛点，往来人群涌动，或在店前驻足，或在巷间穿梭，烟火气十足。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-1.jpg\"></p>\n<p>再看那栋写着“顺德渔”的建筑，墙面的大字苍劲有力，屋顶的星巴克、各类商铺的招牌琳琅满目，肯德基、台球俱乐部、烤肉店……潮流业态与复古建筑碰撞出别样活力。楼下，人群熙攘，电动车停放整齐，补水站的蓝色帐篷为游人送上一丝清凉，处处是热闹的生活气息。</p>\n<p>岁月痕迹与新时代的潮流创意交织，江风裹挟着艺术、美食与人文的气息，让每一步慢步中都成了一场复古与潮流的惊喜碰撞，这便是容桂渔人码头独有的魅力。</p>\n","cover_type":"img","excerpt":"","more":"<h1 id=\"前提\"><a href=\"#前提\" class=\"headerlink\" title=\"前提\"></a>前提</h1><div class=\"note orange anzhiyufont anzhiyu-icon-bullhorn flat\"><p>截稿前刚好到10月6日中秋节🌙，酥米祝各位中秋节快乐吖！😀</p>\n</div>\n\n<p>其实国庆节当天我就已经去了，选择现在发其实是本来想等南沙游记发出之后一起发，不过最终还是没有如愿（没写完😭），经过几天润色，今天终于是憋出来了哈哈。</p>\n<h1 id=\"出发的动机\"><a href=\"#出发的动机\" class=\"headerlink\" title=\"出发的动机\"></a>出发的动机</h1><p>其实一开始我并没有去容桂的想法，因为太远了，而且缺少轨道交通（容桂没有通地铁真的遗憾，佛山11号线也不知道要几年规划了）。不过国庆第一天在家里太无聊了，萌生了出去玩的想法，又突然记起来有那么个地方，于是自然而然去了。</p>\n<h1 id=\"出发！\"><a href=\"#出发！\" class=\"headerlink\" title=\"出发！\"></a>出发！</h1><p>于是我带上随身的包，飞奔出门，《赶》往目的地😉。因为容桂没有通地铁，并且考虑假期地铁高峰期，我直接乘搭公交车前往大良（顺德客运站），再转车前往容桂街道。我先乘搭佛236（九江方向）前往乐从公交中心，之后走去三乐路路口公交站乘坐341线前往顺德客运站。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-5.jpg\"></p>\n<p>乐从城区边上（佛山大道南）</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-6.jpg\"></p>\n<p>这里是三乐路和顺德快速路入口。</p>\n<p>当我慢慢走向路口公交站的时候，一台公交车缓缓开出路。是的，这台车就是我要坐的341公交车，也顾不上那么多了，我直接飞奔起步，抢着最后一步跑去公交车站上了车（差点没赶上）。<br>当我气喘吁吁刷卡的时候，诶！怎么没反应，司机的声音突然出现：“你要去哪里啊？”喘的我差点忘了这辆公交是分段计费了😅，直接报上顺德客运站，需要四块钱，不过广佛通有公交优惠（是3.6块，南海禅城区的公交都打8折，4块车票仅需2.8，但是其他三个区只打九折，所以就要3.6啦）</p>\n<h1 id=\"旅途之中\"><a href=\"#旅途之中\" class=\"headerlink\" title=\"旅途之中\"></a>旅途之中</h1><p>顺德的快巴就是不一样，车辆在顺德快速路狂飙，遇到没有人的站直接飞。速度估计得有40-60km&#x2F;h了（吐槽一句，禅城南海的公交一个比一个慢，比如桂城-禅城去佛山西站的G5公交车，需要一个小时才能摇完15km的路程🌚🌚）。途径经过北滘镇和伦教街道，还要跨过顺德水道，当车辆走过顺德立交桥的时候，就宣布进入了顺德大良（顺德中心城区啦），经过大约1小时15分钟的路程，我到达了顺德客运站</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-7.jpg\"></p>\n<p>之后，我要乘坐顺德318路公交车，前往容桂街道信德上城（渔人码头南）公交站</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-8.jpg\"></p>\n<p>约莫10分钟，车辆从客运站开出，我也顺利的坐上了公交车，途径顺峰山和大良派出所，跨过德胜河和容奇大桥后，到达了容桂街道。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-9.jpg\"></p>\n<p>40分钟后，我到达了渔人码头南站，一下车，我只望见许多的旅客往北闸大街走去（那里是渔人码头的入口），于是我跟随人流往里面走去</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-10.jpg\"></p>\n<p>里面人潮涌动，虽没有很拥挤，但也比较多人。空气里混杂着烟火气的气息（是烧烤！🤤），我继续往前走，里面有一个广场</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-11.jpg\"></p>\n<p>里面是复古风的商业街，不过想吐槽一句（本来想买杯瑞幸的，里面挤满了人，我怕等到回去了都没拿到饮料，遂作罢🤔）。从商业街穿出去，就能望到渔人码头的真实面貌</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-4.jpg\"></p>\n<p>河边，醒目的红色“I ❤️ SD”前，游人或驻足拍照，或凭栏眺望河面。河水悠悠，对岸的建筑在绿意掩映中若隐若现，一棵绿树旁，有人正以江景为幕，定格此刻的悠闲。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-2.jpg\"></p>\n<p>不远处，蓝白相间的灯塔矗立河边，像一位沉默的守护者。它与背后的现代高楼群形成奇妙对比，蓝天流云之下，江水、灯塔、楼宇共同勾勒出一幅动静相宜的画卷。江畔的小店外，有人在露台上闲坐，将这江景与人文交融的景致尽收眼底。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-3.jpg\"></p>\n<p>转角处，一栋建筑化身艺术画布：墙面上，猫咪、兔子的涂鸦灵动俏皮，屋顶上，大白与少年的巨型雕塑童趣满满，下方的麦当劳黄色M标识格外醒目，“渔人码头”的招牌诉说着这里的前世今生。新旧元素碰撞，让建筑成了网红打卡的吸睛点，往来人群涌动，或在店前驻足，或在巷间穿梭，烟火气十足。</p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed@main/top/huang233893/imgs/blog/sdrg-1.jpg\"></p>\n<p>再看那栋写着“顺德渔”的建筑，墙面的大字苍劲有力，屋顶的星巴克、各类商铺的招牌琳琅满目，肯德基、台球俱乐部、烤肉店……潮流业态与复古建筑碰撞出别样活力。楼下，人群熙攘，电动车停放整齐，补水站的蓝色帐篷为游人送上一丝清凉，处处是热闹的生活气息。</p>\n<p>岁月痕迹与新时代的潮流创意交织，江风裹挟着艺术、美食与人文的气息，让每一步慢步中都成了一场复古与潮流的惊喜碰撞，这便是容桂渔人码头独有的魅力。</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cmgu955yz0009g0fy2sfh7bqu","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955z8000ig0fyd9f68m91"},{"post_id":"cmgu955ym0001g0fyh6sq5fcb","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zc000og0fyc4hx9906"},{"post_id":"cmgu955z1000bg0fybwnm01lp","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zf000sg0fy7iydh681"},{"post_id":"cmgu955z5000fg0fy8jamepqa","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zj000xg0fygn6jfjle"},{"post_id":"cmgu955yq0003g0fy2g663o0c","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zl0011g0fyhweg3lrr"},{"post_id":"cmgu955z8000hg0fy05ye57d6","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zo0016g0fy27ef0v2u"},{"post_id":"cmgu955zb000ng0fyaieu8ylf","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zr001ag0fy2w29e46q"},{"post_id":"cmgu955yw0007g0fyb1qic0zz","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zt001fg0fy8yf91zrl"},{"post_id":"cmgu955ze000rg0fygrdm1g8g","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zv001jg0fy7ct01f4o"},{"post_id":"cmgu955zi000wg0fyce7ve54v","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu955zy001og0fydfv8fqtm"},{"post_id":"cmgu955zk0010g0fyanf7b7ho","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu95600001sg0fyhsj0fopo"},{"post_id":"cmgu955zn0015g0fyb1ica6if","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu95602001xg0fy3cmnaos0"},{"post_id":"cmgu955zq0019g0fyd10n8hmq","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu956030021g0fy9qkf3u45"},{"post_id":"cmgu955zs001eg0fy8zn4fo96","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu956050026g0fy3yfdgbc4"},{"post_id":"cmgu955zu001ig0fy4n3p9ttg","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu95607002ag0fy6ljzbm6e"},{"post_id":"cmgu955zx001ng0fy9f8teqwd","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560a002fg0fygell3wwe"},{"post_id":"cmgu955zz001rg0fy4r7wbm6t","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560c002jg0fy1tfj7dru"},{"post_id":"cmgu95601001wg0fyfcqt4m71","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560e002og0fy8el03vqu"},{"post_id":"cmgu956030020g0fy04x0edfb","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560f002sg0fy00msd7yf"},{"post_id":"cmgu956050025g0fy6sq97pv0","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560h002xg0fy3s8i7p4v"},{"post_id":"cmgu956060029g0fy6uz3aqsp","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560j0031g0fyf13ycq9d"},{"post_id":"cmgu95609002eg0fya9ze7zjh","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560l0037g0fygijn1pm6"},{"post_id":"cmgu9560b002ig0fy2di52hfc","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560o003bg0fyb0u6awm2"},{"post_id":"cmgu9560d002ng0fy5pz6dyca","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560q003hg0fy9s3pcvm5"},{"post_id":"cmgu9560e002rg0fybsa32jq0","category_id":"cmgu955yt0004g0fy76g1fb8h","_id":"cmgu9560t003lg0fy52cpc0ou"},{"post_id":"cmgu9560m003ag0fy9wn409cl","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9560w003rg0fyhxckbcfk"},{"post_id":"cmgu9560g002wg0fy6i5w1z8r","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9560y003vg0fyb3o426rp"},{"post_id":"cmgu9560p003fg0fyh6kx33sf","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu956160040g0fy4opo6c20"},{"post_id":"cmgu9560s003kg0fy21gsf8k8","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu956170044g0fya96b8ygn"},{"post_id":"cmgu9560i0030g0fy611o6axw","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9561a0048g0fycjll0cls"},{"post_id":"cmgu9560v003pg0fy7ums1hyj","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9561d004dg0fy7mmv0pmv"},{"post_id":"cmgu9560x003ug0fycmkg8l7n","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9561h004ig0fyet8ef748"},{"post_id":"cmgu9560l0036g0fy5hycfwud","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9561j004ng0fy37js09s8"},{"post_id":"cmgu95610003zg0fye36sed6j","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9561l004sg0fygfniaqyk"},{"post_id":"cmgu956170043g0fy12b008vf","category_id":"cmgu9560k0033g0fy8zp31jyq","_id":"cmgu9561n004xg0fyafiweymi"},{"post_id":"cmgu956190047g0fy7z0n6434","category_id":"cmgu9561e004eg0fy8ybk8xun","_id":"cmgu9561p0051g0fy988n4ptr"},{"post_id":"cmgu9561f004hg0fyap2h3xww","category_id":"cmgu9561l004rg0fyd93s407n","_id":"cmgu95623005kg0fy7xya5we4"},{"post_id":"cmgu9561i004mg0fy2ju12pio","category_id":"cmgu9561l004rg0fyd93s407n","_id":"cmgu95627005pg0fybsn41eyb"},{"post_id":"cmgu9561k004qg0fy4adq0tqc","category_id":"cmgu95623005jg0fy8ub3bo6k","_id":"cmgu9562b005xg0fy93fe6pql"},{"post_id":"cmgu9561m004wg0fyanmpa6ep","category_id":"cmgu95623005jg0fy8ub3bo6k","_id":"cmgu9562c0061g0fyat9texf4"},{"post_id":"cmgu9561c004cg0fyfl9s3b49","category_id":"cmgu9561l004rg0fyd93s407n","_id":"cmgu9562k0068g0fy13xnbcyc"},{"post_id":"cmgu9561c004cg0fyfl9s3b49","category_id":"cmgu9562a005wg0fygu7zfmdg","_id":"cmgu9562l006ag0fyfr380vhm"},{"post_id":"cmgu9561o0050g0fye7znapgz","category_id":"cmgu95623005jg0fy8ub3bo6k","_id":"cmgu9562n006eg0fy5wgvh8yk"},{"post_id":"cmgu9561r0056g0fy5291fqbw","category_id":"cmgu95623005jg0fy8ub3bo6k","_id":"cmgu9562o006jg0fy5rlp2sc5"},{"post_id":"cmgu9561s0059g0fygvubgaxt","category_id":"cmgu95623005jg0fy8ub3bo6k","_id":"cmgu9562p006og0fyggvucjzq"},{"post_id":"cmgu9561y005eg0fyhfm6355w","category_id":"cmgu95623005jg0fy8ub3bo6k","_id":"cmgu9562q006tg0fy94k0dk3p"},{"post_id":"cmgu95620005hg0fy0hzp1pte","category_id":"cmgu9561l004rg0fyd93s407n","_id":"cmgu9562r006xg0fy39zg4plq"},{"post_id":"cmgu95620005hg0fy0hzp1pte","category_id":"cmgu9562a005wg0fygu7zfmdg","_id":"cmgu9562s0070g0fyfv9r74tu"},{"post_id":"cmgu95624005mg0fye6vx0w1s","category_id":"cmgu9562q006sg0fy7hku5aay","_id":"cmgu9562s0074g0fy3nb05eti"},{"post_id":"cmgu95626005og0fyem9kdfoj","category_id":"cmgu9562r006zg0fy7urubpdv","_id":"cmgu9562u007ag0fy6otmg667"},{"post_id":"cmgu95628005tg0fy1fat6jla","category_id":"cmgu9562r006zg0fy7urubpdv","_id":"cmgu9562w007eg0fy2gdc8as6"},{"post_id":"cmgu95629005vg0fy17v5got7","category_id":"cmgu9562r006zg0fy7urubpdv","_id":"cmgu9562x007ig0fyaojr9bgr"},{"post_id":"cmgu9563e0091g0fy0e61195m","category_id":"cmgu9562r006zg0fy7urubpdv","_id":"cmgu9563i0095g0fyajyyhc09"},{"post_id":"cmgu9563f0092g0fyd4ib3lzr","category_id":"cmgu9562r006zg0fy7urubpdv","_id":"cmgu9563i0096g0fye1sw06at"}],"PostTag":[{"post_id":"cmgu955z5000fg0fy8jamepqa","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu955za000lg0fy475gb7fs"},{"post_id":"cmgu955z5000fg0fy8jamepqa","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu955zd000pg0fy9wohapxc"},{"post_id":"cmgu955ym0001g0fyh6sq5fcb","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu955zh000ug0fy4o174ks6"},{"post_id":"cmgu955ym0001g0fyh6sq5fcb","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu955zk000yg0fy5tzlax9g"},{"post_id":"cmgu955z8000hg0fy05ye57d6","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu955zm0013g0fy86k3e5is"},{"post_id":"cmgu955z8000hg0fy05ye57d6","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu955zp0017g0fydhs23w0w"},{"post_id":"cmgu955zb000ng0fyaieu8ylf","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu955zr001cg0fy5uvwbazn"},{"post_id":"cmgu955zb000ng0fyaieu8ylf","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu955zu001gg0fy41kd3an8"},{"post_id":"cmgu955ze000rg0fygrdm1g8g","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu955zw001lg0fyg2cm4wpe"},{"post_id":"cmgu955ze000rg0fygrdm1g8g","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu955zy001pg0fygudb2icx"},{"post_id":"cmgu955yq0003g0fy2g663o0c","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu95601001ug0fyghz6hmfc"},{"post_id":"cmgu955yq0003g0fy2g663o0c","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu95602001yg0fy1dnq8h2z"},{"post_id":"cmgu955zk0010g0fyanf7b7ho","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu956040023g0fy209z8198"},{"post_id":"cmgu955zk0010g0fyanf7b7ho","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu956050027g0fyeqbl1q0y"},{"post_id":"cmgu955zn0015g0fyb1ica6if","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu95608002cg0fy4zgo5wbf"},{"post_id":"cmgu955zn0015g0fyb1ica6if","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu9560a002gg0fy03qcb4yl"},{"post_id":"cmgu955zq0019g0fyd10n8hmq","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9560c002lg0fybh5ud1ls"},{"post_id":"cmgu955zq0019g0fyd10n8hmq","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu9560e002pg0fyd3xm8s8m"},{"post_id":"cmgu955zs001eg0fy8zn4fo96","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9560f002ug0fyflsthydm"},{"post_id":"cmgu955zs001eg0fy8zn4fo96","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu9560i002yg0fygx407c66"},{"post_id":"cmgu955yw0007g0fyb1qic0zz","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9560k0034g0fyfplw05rf"},{"post_id":"cmgu955yw0007g0fyb1qic0zz","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu9560m0038g0fy9wnb3ofe"},{"post_id":"cmgu955yz0009g0fy2sfh7bqu","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9560o003dg0fybtqqcmfl"},{"post_id":"cmgu955yz0009g0fy2sfh7bqu","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu9560r003ig0fy95ixa7zl"},{"post_id":"cmgu955z1000bg0fybwnm01lp","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9560u003ng0fy2xjy0zpr"},{"post_id":"cmgu955z1000bg0fybwnm01lp","tag_id":"cmgu955z3000dg0fyc9w2e9x4","_id":"cmgu9560w003sg0fy9lfo6kcv"},{"post_id":"cmgu956050025g0fy6sq97pv0","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9560y003wg0fy9x0s3to9"},{"post_id":"cmgu956050025g0fy6sq97pv0","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu956160041g0fy9ala4mt1"},{"post_id":"cmgu955zi000wg0fyce7ve54v","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu956180045g0fyafjm7lu9"},{"post_id":"cmgu955zi000wg0fyce7ve54v","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9561c004ag0fyaw2rbsbh"},{"post_id":"cmgu956060029g0fy6uz3aqsp","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9561e004fg0fybtahftpx"},{"post_id":"cmgu956060029g0fy6uz3aqsp","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9561h004kg0fyb9jeabgk"},{"post_id":"cmgu95609002eg0fya9ze7zjh","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9561k004og0fy0pesbwqk"},{"post_id":"cmgu95609002eg0fya9ze7zjh","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9561m004ug0fyai0w747v"},{"post_id":"cmgu955zu001ig0fy4n3p9ttg","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9561o004yg0fyd9vhd7p9"},{"post_id":"cmgu955zu001ig0fy4n3p9ttg","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9561q0054g0fycf3obk5n"},{"post_id":"cmgu9560b002ig0fy2di52hfc","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9561r0057g0fy284ca7fa"},{"post_id":"cmgu9560b002ig0fy2di52hfc","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9561x005cg0fy2v9j5ch6"},{"post_id":"cmgu9560d002ng0fy5pz6dyca","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu95620005fg0fyhykddpy1"},{"post_id":"cmgu9560d002ng0fy5pz6dyca","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu95624005lg0fy9yl38f74"},{"post_id":"cmgu955zx001ng0fy9f8teqwd","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu95626005ng0fyg2ny51up"},{"post_id":"cmgu955zx001ng0fy9f8teqwd","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu95628005sg0fy4slx75zn"},{"post_id":"cmgu9560e002rg0fybsa32jq0","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu95629005ug0fygyrobmhv"},{"post_id":"cmgu9560e002rg0fybsa32jq0","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9562b005zg0fy88poc40i"},{"post_id":"cmgu955zz001rg0fy4r7wbm6t","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9562c0060g0fye4slfkkz"},{"post_id":"cmgu955zz001rg0fy4r7wbm6t","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9562c0064g0fyfhkph9uw"},{"post_id":"cmgu95601001wg0fyfcqt4m71","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9562i0065g0fye6j1acut"},{"post_id":"cmgu95601001wg0fyfcqt4m71","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9562k0069g0fy52uhf72k"},{"post_id":"cmgu956030020g0fy04x0edfb","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9562l006bg0fycdvdf05s"},{"post_id":"cmgu956030020g0fy04x0edfb","tag_id":"cmgu956040022g0fya6p021zj","_id":"cmgu9562n006fg0fy7cst62ec"},{"post_id":"cmgu9560g002wg0fy6i5w1z8r","tag_id":"cmgu9560u003mg0fydbs61hsy","_id":"cmgu9562n006gg0fy7q0cbc1c"},{"post_id":"cmgu9560g002wg0fy6i5w1z8r","tag_id":"cmgu9560z003xg0fy8er5hkf5","_id":"cmgu9562o006kg0fyd9ojem5p"},{"post_id":"cmgu9560i0030g0fy611o6axw","tag_id":"cmgu9560u003mg0fydbs61hsy","_id":"cmgu9562o006lg0fyakc60rww"},{"post_id":"cmgu9560i0030g0fy611o6axw","tag_id":"cmgu9560z003xg0fy8er5hkf5","_id":"cmgu9562p006pg0fy4nez13ze"},{"post_id":"cmgu9560l0036g0fy5hycfwud","tag_id":"cmgu9560u003mg0fydbs61hsy","_id":"cmgu9562q006qg0fy3m0r0svf"},{"post_id":"cmgu9560l0036g0fy5hycfwud","tag_id":"cmgu9560z003xg0fy8er5hkf5","_id":"cmgu9562q006ug0fy94k0ey03"},{"post_id":"cmgu9561y005eg0fyhfm6355w","tag_id":"cmgu955yv0005g0fybo48hf7m","_id":"cmgu9562r006vg0fy0mvj9k12"},{"post_id":"cmgu9560m003ag0fy9wn409cl","tag_id":"cmgu9560u003mg0fydbs61hsy","_id":"cmgu9562r006yg0fyclnxef68"},{"post_id":"cmgu9560m003ag0fy9wn409cl","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu9562s0071g0fy7pc6fh25"},{"post_id":"cmgu9560p003fg0fyh6kx33sf","tag_id":"cmgu95627005qg0fyak11e925","_id":"cmgu9562s0073g0fy1il09zoq"},{"post_id":"cmgu9560p003fg0fyh6kx33sf","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu9562t0076g0fydlb4fa4d"},{"post_id":"cmgu9560s003kg0fy21gsf8k8","tag_id":"cmgu95627005qg0fyak11e925","_id":"cmgu9562u0078g0fy2z4mgpqw"},{"post_id":"cmgu9560s003kg0fy21gsf8k8","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu9562u007bg0fya2sl8691"},{"post_id":"cmgu9560v003pg0fy7ums1hyj","tag_id":"cmgu95627005qg0fyak11e925","_id":"cmgu9562v007cg0fy023hhbwd"},{"post_id":"cmgu9560v003pg0fy7ums1hyj","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu9562w007fg0fy2ax05tox"},{"post_id":"cmgu9560x003ug0fycmkg8l7n","tag_id":"cmgu95627005qg0fyak11e925","_id":"cmgu9562w007gg0fydd6x92jy"},{"post_id":"cmgu9560x003ug0fycmkg8l7n","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu9562x007jg0fy7hwn4o6k"},{"post_id":"cmgu95610003zg0fye36sed6j","tag_id":"cmgu95627005qg0fyak11e925","_id":"cmgu9562x007kg0fyecb374fz"},{"post_id":"cmgu95610003zg0fye36sed6j","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu9562y007mg0fyaqn56nqt"},{"post_id":"cmgu956170043g0fy12b008vf","tag_id":"cmgu9562t0077g0fy29eldrd7","_id":"cmgu9562y007ng0fy3ketb5vw"},{"post_id":"cmgu956170043g0fy12b008vf","tag_id":"cmgu9560z003xg0fy8er5hkf5","_id":"cmgu9562y007pg0fyfai36pjh"},{"post_id":"cmgu956190047g0fy7z0n6434","tag_id":"cmgu9562v007dg0fy244iakxq","_id":"cmgu9562z007qg0fyeq20bfew"},{"post_id":"cmgu9561c004cg0fyfl9s3b49","tag_id":"cmgu9562w007hg0fyhtfv52me","_id":"cmgu9562z007sg0fybvsogitd"},{"post_id":"cmgu9561c004cg0fyfl9s3b49","tag_id":"cmgu9562x007lg0fy2gha556x","_id":"cmgu95630007tg0fy932wab01"},{"post_id":"cmgu9561f004hg0fyap2h3xww","tag_id":"cmgu9562w007hg0fyhtfv52me","_id":"cmgu95630007vg0fyh8ud35fi"},{"post_id":"cmgu9561f004hg0fyap2h3xww","tag_id":"cmgu9562x007lg0fy2gha556x","_id":"cmgu95630007wg0fya8iu983f"},{"post_id":"cmgu9561i004mg0fy2ju12pio","tag_id":"cmgu9562w007hg0fyhtfv52me","_id":"cmgu956320080g0fycl3v5cwp"},{"post_id":"cmgu9561i004mg0fy2ju12pio","tag_id":"cmgu9562x007lg0fy2gha556x","_id":"cmgu956320081g0fybeh45jcx"},{"post_id":"cmgu9561i004mg0fy2ju12pio","tag_id":"cmgu9560u003mg0fydbs61hsy","_id":"cmgu956320083g0fy7yda5e97"},{"post_id":"cmgu9561i004mg0fy2ju12pio","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu956320084g0fy2r1u8ts5"},{"post_id":"cmgu9561k004qg0fy4adq0tqc","tag_id":"cmgu9562v007dg0fy244iakxq","_id":"cmgu956330086g0fy3rid9uj5"},{"post_id":"cmgu9561k004qg0fy4adq0tqc","tag_id":"cmgu956320082g0fyexuv3prx","_id":"cmgu956330087g0fy83a43mfu"},{"post_id":"cmgu9561m004wg0fyanmpa6ep","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu95633008ag0fy054fallk"},{"post_id":"cmgu9561m004wg0fyanmpa6ep","tag_id":"cmgu956330088g0fy0schaxke","_id":"cmgu95634008bg0fy8o1oa4ey"},{"post_id":"cmgu9561o0050g0fye7znapgz","tag_id":"cmgu9562v007dg0fy244iakxq","_id":"cmgu95634008eg0fyhzq023ff"},{"post_id":"cmgu9561o0050g0fye7znapgz","tag_id":"cmgu956320082g0fyexuv3prx","_id":"cmgu95634008fg0fy9shl118w"},{"post_id":"cmgu9561r0056g0fy5291fqbw","tag_id":"cmgu9562v007dg0fy244iakxq","_id":"cmgu95635008ig0fygteohmnx"},{"post_id":"cmgu9561r0056g0fy5291fqbw","tag_id":"cmgu956320082g0fyexuv3prx","_id":"cmgu95635008jg0fy0wtudr9s"},{"post_id":"cmgu9561s0059g0fygvubgaxt","tag_id":"cmgu9562v007dg0fy244iakxq","_id":"cmgu95636008mg0fycyzm9d4e"},{"post_id":"cmgu9561s0059g0fygvubgaxt","tag_id":"cmgu956320082g0fyexuv3prx","_id":"cmgu95636008ng0fy0eh04hnq"},{"post_id":"cmgu95620005hg0fy0hzp1pte","tag_id":"cmgu95622005ig0fy7sct2gvq","_id":"cmgu95638008rg0fyhin03web"},{"post_id":"cmgu95620005hg0fy0hzp1pte","tag_id":"cmgu9562w007hg0fyhtfv52me","_id":"cmgu95638008sg0fyek3p6my2"},{"post_id":"cmgu95620005hg0fy0hzp1pte","tag_id":"cmgu956320082g0fyexuv3prx","_id":"cmgu95639008ug0fy4s6z1zry"},{"post_id":"cmgu95624005mg0fye6vx0w1s","tag_id":"cmgu95638008qg0fy41kx4um3","_id":"cmgu95639008vg0fycnti92m5"},{"post_id":"cmgu95626005og0fyem9kdfoj","tag_id":"cmgu95639008tg0fygqfthj4u","_id":"cmgu9563a008xg0fycpr6h64k"},{"post_id":"cmgu95628005tg0fy1fat6jla","tag_id":"cmgu95639008tg0fygqfthj4u","_id":"cmgu9563a008zg0fy6es1euuz"},{"post_id":"cmgu95629005vg0fy17v5got7","tag_id":"cmgu95639008tg0fygqfthj4u","_id":"cmgu9563a0090g0fy67z2ceur"},{"post_id":"cmgu9563e0091g0fy0e61195m","tag_id":"cmgu95639008tg0fygqfthj4u","_id":"cmgu9563h0093g0fyffxj2dzp"},{"post_id":"cmgu9563f0092g0fyd4ib3lzr","tag_id":"cmgu95639008tg0fygqfthj4u","_id":"cmgu9563i0094g0fy4ttt4eph"}],"Tag":[{"name":"网络","_id":"cmgu955yv0005g0fybo48hf7m"},{"name":"CCNA","_id":"cmgu955z3000dg0fyc9w2e9x4"},{"name":"CCNP","_id":"cmgu956040022g0fya6p021zj"},{"name":"Linux","_id":"cmgu9560u003mg0fydbs61hsy"},{"name":"指令","_id":"cmgu9560z003xg0fy8er5hkf5"},{"name":"系统","_id":"cmgu95622005ig0fy7sct2gvq"},{"name":"Windows","_id":"cmgu95627005qg0fyak11e925"},{"name":"ensp","_id":"cmgu9562t0077g0fy29eldrd7"},{"name":"博客","_id":"cmgu9562v007dg0fy244iakxq"},{"name":"刷机","_id":"cmgu9562w007hg0fyhtfv52me"},{"name":"玩机","_id":"cmgu9562x007lg0fy2gha556x"},{"name":"教程","_id":"cmgu956320082g0fyexuv3prx"},{"name":"苹果","_id":"cmgu956330088g0fy0schaxke"},{"name":"测试","_id":"cmgu95638008qg0fy41kx4um3"},{"name":"长篇碎碎念","_id":"cmgu95639008tg0fygqfthj4u"}]}}